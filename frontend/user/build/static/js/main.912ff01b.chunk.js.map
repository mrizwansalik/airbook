{"version":3,"sources":["_metronic/_assets/js/wizard.js","_metronic/ducks/i18n.js","_metronic/layout/LayoutConfig.js","app/crud/api.js","_metronic/layout/MenuConfig.js","_metronic/ducks/builder.js","_metronic/utils/utils.js","_metronic/layout/LayoutContext.js","app/crud/auth.crud.js","_metronic/__mocks__/userTableMock.js","_metronic/layout/LayoutInitializer.js","_metronic/i18n/I18nProvider.js","_metronic/materialUIThemeProvider/ThemeProvider.js","_metronic/index.js","app/router/RouterHelpers.js","app/store/ducks/auth.duck.js","app/store/rootDuck.js","app/store/store.js","app/pages/home/Builder.js","app/partials/content/CustomDropdowns/PortletHeaderDropdown.js","app/charts/MyLeads.js","app/pages/home/Dashboard.js","app/pages/home/docs/QuickStartDocs.js","app/pages/home/docs/DeploymentDocs.js","app/pages/home/docs/OverviewDocs.js","app/pages/home/docs/I18nDocs.js","app/pages/home/docs/MockBackendDocs.js","app/pages/home/docs/CreateAPageDocs.js","app/pages/home/docs/UseADemo.js","app/pages/home/docs/DocsPage.js","app/partials/content/CustomHeader.js","app/library/media.js","app/pages/assets/aircraft/Create.js","app/helpers/listing.js","app/pages/assets/aircraft/Detail.js","app/pages/assets/aircraft/Edit.js","_metronic/layout/assets/layout-svg-icons/SortNum1.svg","app/pages/assets/PlanModal.js","app/pages/assets/aircraft/List.js","app/pages/assets/apu/List.js","app/pages/assets/apu/Edit.js","app/pages/assets/apu/Create.js","app/pages/assets/apu/Detail.js","app/pages/contacts/List.js","app/pages/contacts/Create.js","app/pages/contacts/Edit.js","app/pages/contacts/Detail.js","app/pages/connection/List.js","app/pages/favourite/List.js","app/pages/company/Edit.js","app/pages/assets/engine/List.js","app/pages/assets/engine/Edit.js","app/pages/assets/engine/Create.js","app/pages/assets/engine/Detail.js","app/pages/lead/List.js","app/pages/lead/Detail.js","app/pages/assets/parts/List.js","app/pages/assets/parts/Edit.js","app/pages/assets/parts/Create.js","app/pages/assets/parts/Detail.js","app/pages/assets/wanted/Create.js","app/pages/assets/wanted/Detail.js","app/pages/assets/wanted/Edit.js","app/pages/assets/wanted/List.js","app/pages/invoice/List.js","app/pages/invoice/Detail.js","app/pages/security/Account.js","app/pages/security/UserUpdatePassword.js","app/partials/content/CustomDropdowns/HeaderDropdownToggle.js","_metronic/layout/assets/layout-svg-icons/CartNum3.svg","app/pages/cart/cart.js","app/pages/home/HomePage.js","app/pages/errors/ErrorPage6.js","app/pages/errors/ErrorsPage.js","app/pages/auth/Logout.js","app/partials/layout/SearchResult.js","_metronic/layout/assets/layout-svg-icons/Search.svg","app/partials/layout/SearchDropdown.js","_metronic/layout/assets/layout-svg-icons/Compiling.svg","app/partials/layout/UserNotifications.js","app/partials/layout/MyCart.js","_metronic/layout/assets/layout-svg-icons/Equalizer.svg","_metronic/layout/assets/layout-svg-icons/Euro.svg","_metronic/layout/assets/layout-svg-icons/Mail-attachment.svg","_metronic/layout/assets/layout-svg-icons/BoxNum2.svg","_metronic/layout/assets/layout-svg-icons/Group.svg","app/partials/layout/QuickActionsPanel.js","app/partials/layout/LanguageSelector.js","_metronic/layout/header/QuickPanelToggle.js","app/partials/layout/UserProfile.js","_metronic/layout/header/Topbar.js","_metronic/layout/header/HMenu/HMenuItemInner.js","_metronic/layout/header/HMenu/HMenuColumn.js","_metronic/layout/header/HMenu/HMenuItem.js","_metronic/layout/header/HMenu/HMenu.js","app/partials/layout/AnimateLoading.js","_metronic/layout/header/Header.js","_metronic/layout/assets/layout-svg-icons/File-plus.svg","_metronic/layout/sub-header/components/QuickActions.js","_metronic/layout/sub-header/SubHeader.js","_metronic/layout/header/HeaderMobile.js","_metronic/layout/brand/Brand.js","_metronic/layout/aside/MenuSection.js","_metronic/layout/aside/MenuItemSeparator.js","_metronic/layout/aside/MenuItemText.js","_metronic/layout/aside/MenuSubmenu.js","_metronic/layout/aside/MenuItem.js","_metronic/layout/aside/MenuList.js","_metronic/layout/aside/Menu.js","_metronic/layout/aside/AsideLeft.js","_metronic/layout/footer/Footer.js","app/partials/layout/ScrollTop.js","app/partials/layout/StickyToolbar.js","_metronic/layout/HTMLClassService.js","_metronic/layout/KtContent.js","app/partials/layout/QuickPanel.js","_metronic/layout/Layout.js","app/pages/auth/Login.js","app/pages/auth/Registration.js","app/pages/auth/ForgotPassword.js","app/pages/auth/ResetPassword.js","app/router/Routes.js","index.js","App.js","app/partials/content/Portlet.js","_metronic/_assets/js/offcanvas.js","app/partials/content/Notice.js","_metronic/_assets/js/menu.js","_metronic/_assets/js/util.js","_metronic/_assets/js/header.js","_metronic/_assets/js/toggle.js","_metronic/_assets/js/scrolltop.js","app/partials/content/CodeExample.js"],"names":["KTWizard","elementId","options","the","this","element","KTUtil","get","defaultOptions","startStep","clickableSteps","Plugin","construct","data","has","init","build","set","events","deepExtend","steps","findAll","btnSubmit","find","btnNext","btnPrev","btnLast","btnFirst","currentStep","stopped","totalSteps","length","goTo","updateUI","addEvent","e","preventDefault","getNextStep","getPrevStep","getFirstStep","getLastStep","on","index","number","eventHandle","callback","parseInt","eventTrigger","stop","start","isLastStep","isFirstStep","isBetweenStep","stepType","attr","i","len","stepsInfo","removeAttr","stepsContent","name","nested","event","one","handler","call","fired","push","setDefaults","goNext","goPrev","goLast","goFirst","getStep","apply","module","exports","actionTypes","initialState","lang","reducer","persistReducer","storage","key","state","action","type","payload","actions","setLanguage","initLayoutConfig","demo","colors","brand","light","dark","primary","success","info","warning","danger","base","label","shape","loader","toolbar","display","header","self","width","skin","layout","fixed","desktop","mobile","menu","arrow","toggle","submenu","accordion","subheader","layouts","style","content","aside","minimize","default","footer","dropdown","LayoutConfig","JSON","parse","stringify","API_URL","process","MEDIA_URL","LOCAL_STORAGE","NO_IMAGE","headers","getToken","token","localStorage","getItem","undefined","authToken","replace","setLocalStorageItem","value","setItem","getLocalStorageItem","list","endpoint","params","config","axios","then","response","results","extra_data","count","next","previous","patch","post","del","delete","RELIGIONS","CONTACT_METHODS","GENDERS","TITLES","STATUSES","AIRCRAFT_STATUSES","AIRCRAFT_COMPLIANCE","AIRCRAFT_OFFER","ENGINE_STATUSES","ENGINE_OFFER","UNIT_MEASURES","ASSETS","AIRCRAFT_TERMS","ENGINE_TERMS","PART_TERMS","COMMERCIAL_EXTRA_FIELDS","AIRCRAFT_EXTRA_FIELDS","ENGINE_EXTRA_FIELDS","ENGINE_COMMERCIAL_EXTRA_FIELDS","APU_EXTRA_FIELDS","APU_COMMERCIAL_EXTRA_FIELDS","PARTS_EXTRA_FIELDS","sleep","ms","Promise","resolve","setTimeout","loadOptions","search","prevOptions","modelsLoaded","a","async","searchLower","toLowerCase","filteredOptions","filter","includes","hasMore","slicedOptions","slice","items","title","root","alignment","icon","parent_title","bullet","page","USER_URL","translate","SetMenuConfig","SetLayoutConfigs","SetLayoutConfigsWithPageRefresh","SetHtmlClassService","selectors","getClasses","store","htmlClassServiceObjects","builder","path","toString","getAttributes","getConfig","layoutConfig","objectPath","getLogo","logo","menuAsideLeftSkin","logoObject","logos","Object","keys","getStickyLogo","menuConfig","MenuConfig","blacklist","setMenuConfig","setLayoutConfigs","setLayoutConfigsWithPageRefresh","setHtmlClassService","removeCSSClass","ele","cls","reg","RegExp","className","toAbsoluteUrl","pathname","removeStorage","console","log","getStorage","now","Date","expiresIn","Math","abs","LayoutContext","State","createContext","Dispatch","findPageConfig","currentPage","breadcrumbs","Array","isArray","item","pageConfig","reverse","breadcrumb","description","splashScreen","refs","nextState","id","nextRefs","LayoutContextProvider","history","children","useReducer","location","dispatch","useEffect","listen","splashScreenRefs","splashScreenVisible","useMemo","document","getElementById","classList","remove","add","timeout","clearTimeout","Provider","LayoutContextConsumer","Consumer","LayoutSplashScreen","visible","useContext","random","LayoutInitializer","htmlClassService","useDispatch","builderState","useSelector","allMessages","de","en","es","fr","ja","zh","I18nProvider","locale","i18n","messages","theme","createMuiTheme","typography","fontFamily","join","palette","contrastThreshold","main","secondary","contrastText","error","props","MuiButtonBase","disableRipple","MuiPopover","elevation","ThemeProvider","metronic","saveLastLocation","lastLocation","localStorateLocations","utils","_useLocations","indexOf","acceptLocation","expires","schedule","forgotLastLocation","getLastLocation","_userLocations","pop","saga","initialAuthState","user","searchItem","whitelist","routerHelpers","cookie","login","register","logout","requestUser","fulfillUser","takeLatest","loginSaga","put","registerSaga","userRequested","rootSaga","rootReducer","combineReducers","auth","all","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleware","createStore","applyMiddleware","persistor","persistStore","run","Builder","activeTab","useState","tab","setTab","shallowEqual","loadingPreview","setLoadingPreview","paddingRight","loadingButtonPreviewStyle","setLoadingButtonPreviewStyle","loadingReset","setLoadingReset","loadingButtonResetStyle","setLoadingButtonResetStyle","updateLayoutConfig","_config","reload","initialValues","merge","Notice","onSubmit","values","onReset","handleReset","handleSubmit","handleChange","handleBlur","Portlet","Tabs","component","onChange","_","nextTab","Tab","Switch","onBlur","checked","FormHelperText","onClick","clsx","disableCopy","language","code","PortletHeaderDropdownToggle","React","forwardRef","ref","data-toggle","aria-haspopup","aria-expanded","Component","MyLeadsChart","canvasRef","useRef","brandColor","dangerColor","successColor","primaryColor","labels","datasets","aircraftLeads","engineLeads","apuLeads","wantedLeads","backgroundColor","cutoutPercentage","responsive","maintainAspectRatio","legend","position","align","fontSize","text","animation","animateScale","animateRotate","tooltips","enabled","intersect","mode","bodySpacing","yPadding","xPadding","caretPadding","displayColors","titleFontColor","cornerRadius","footerSpacing","titleSpacing","chart","Chart","current","destroy","height","Dashboard","rows","setRowsData","aircrafts","setAircrafts","engines","setEngines","apus","setApus","wanteds","setWanteds","setCount","chart1","color","border","chart2","chart3","chart4","fluid","flexDirection","aircraftActive","aircraftInactive","engineActive","engineInactive","apuActive","apuInactive","wantedActive","wantedInactive","fluidHeight","Button","href","variant","Table","map","val","aircraft_slug","target","split","msn","isactivestatus","views","engine_slug","esn","apu_slug","wanted_slug","is_active","QuickStartDocs","monoBlue","rel","DeploymentDocs","OverviewDocs","I18nDocs","MockBackendDocs","CreateAPageDocs","UseADemo","DocsPage","CustomBlock","isCopySucceed","setIsCopySucceed","dedent","Tooltip","placement","open","onClose","copy","highlightStyle","CustomHead","jsCode","beforeCodeTitle","isCodeVisible","variantIcon","CheckCircleIcon","WarningIcon","ErrorIcon","InfoIcon","useStylesSnackbarContent","makeStyles","green","amber","iconVariant","opacity","marginRight","spacing","message","alignItems","SnackbarContentWrapper","classes","other","Icon","SnackbarContent","aria-describedby","IconButton","aria-label","Close","MediaLibrary","onImageLoaded","image","imageRef","onCropComplete","crop","makeClientCrop","onCropChange","percentCrop","setState","selected_media_tab","showLibrary","selected_sort_col","selected_sort_type","galleryModal","user_media","airbook_media","loading","meta_name","cropModal","cropImageUrl","cropImageName","unit","aspect","showMessage","messageType","modal","getMedia","makeGallery","media_type","mediable_type","mediableId","isAnyImageSelected","selected_images","selected_img_names","original_file_name","searchFor","fileName","imageDummy","Image","onload","thumbnail","onerror","src","thumbnailWidth","thumbnailHeight","customOverlay","onImageClick","isSelected","filters","ordering","images","insertSelectedImages","isAnySelected","media","selected_img_ids","ids","insertImages","Grid","xs","click","getCroppedImg","croppedImageUrl","canvas","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","x","y","toDataURL","gallery","file","upload_type","onImageUpload","catch","Modal","size","show","onHide","aria-labelledby","Header","closeButton","Title","Body","Navbar","bg","marginBottom","Container","defaultActiveKey","Form","Row","Col","sm","Nav","Item","Link","eventKey","Content","Pane","Group","as","Control","required","placeholder","send","source","onSuccess","onError","status","xl","md","enableImageSelection","onSelectImage","selectImage","enableLightbox","rowHeight","Label","searchMedia","deletePhotos","cancelSelection","padding","sorting","isUserSelectedImages","uploadCroppedImage","ruleOfThirds","maxWidth","onComplete","crossorigin","crossOrigin","alt","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","defaultMaterialTheme","MuiInput","disableUnderline","MuiTextField","MuiInputBase","inputProps","fontWeight","lineHeight","backgroundClip","borderRadius","transition","boxSizing","addMoreSelect","overrides","MuiOutlinedInput","borderColor","inputSelect","Create","wizardRef","createRef","handleAirFrameChange","airFrameOnly","fileChangedHandler","aircraft","files","previewFile","URL","createObjectURL","size_c","toFixed","selectedFile","reader","FileReader","readAsDataURL","onloadend","result","clearForm","reset","handleModalClose","modalDisplay","medialibraryAsset","validated","yom","moment","format","is_featured","is_featured_aircraft","category","manufacturer","engine_manufacturer","countries","model","engine_type","engine_model","contacts","companies","configuration","users","selected_primary_contact","contact","first_name","last_name","selected_category","selected_type","selected_engine_type","selected_manufacturer","selected_engine_manufacturer","selected_current_location","selected_model","selected_engine_model","selected_owner","selected_current_operator","selected_previous_operator","selected_manager","selected_seller","selected_configuration","selected_user","selected_status","selected_compliance","selected_offer_for","attachments","initialFiles","modalType","commercialExtraFields","selectedExtraFields","aircraftExtraFields","selectedExtraFieldsAircraft","fields","errorsf","loadModels","confirm","bind","models","opt","row","AbUsers","AbCategories","AbContacts","AbConfigurations","AbManufacturers","AbCountries","AbCompanies","availability","last_c_check","currentTarget","stopPropagation","handleValidation","sendError","errors","formIsValid","numbers_only_keys","tsn","csn","alpha_numeric_keys","match","dropdowns","primary_contact","current_location","owner","duplicating_dropdowns","dropdown_keys","selected","duplicated_el","splice","selectedIndex","key_to_update","categories__id","AbTypes","manufacturer_id","AbModels","type_0","tags","body","FormData","append","url","dataType","attachment","xhr","entity_type","selected_registration_country","data-ktwizard-state","data-ktwizard-type","xmlns","xmlnsXlink","viewBox","version","stroke","strokeWidth","fill","fillRule","d","cx","cy","r","noValidate","column","lg","isClearable","escapeClearsValue","selectChange","handleModalShow","defaultValue","DateFnsUtils","DatePicker","minDate","seating_first_class","seating_business","seating_economy","removeExtraFieldAircraft","mtow","mlgw","animateYearScrolling","registration_number","FormControl","fullWidth","Select","native","selectMoreFieldsAircraft","disabled","data-label","Divider","FormControlLabel","control","Checkbox","price","terms","disablePast","removeExtraField","selectMoreFields","FormGroup","margin","removeImage","onClickThumbnail","inputContent","accept","styles","dropzone","minHeight","inputLabel","getUploadParams","onChangeStatus","onAttachmentUpload","maxSizeBytes","to","centered","charAt","toUpperCase","Footer","CreatePage","showError","fieldName","withRouter","setPageNum","el","view","DataTable","page_no","setExtraData","getPageNum","lastPath","Detail","aircraft_id","txt_weight","showModal","created_at","updated_at","is_published","getAircraft","divStyle","Intl","DateTimeFormat","setAircraftTitle","container","seller","manager","previous_operator","current_operator","date","months","dd","getDate","mm","getMonth","yyyy","getFullYear","substr","getDateWithFormat","compliance","registration_country","offer_for","likes","Carousel","DetailPage","aircraftName","aircraft_title","aircraft_url","class","textTransform","Edit","air","loadSelectedImages","loadInitialFields","renderExtraFields","checkDataFormat","aircraft_data","static_dropdowns","state_endpoints","newStates","user_id","AbManufacturers__aircraft","AbTypes__engine","AbModels__engine","setDynamicDropdowns","File","existing","aircraftExtra","commercialExtra","mediable_id","EditPage","_extends","assign","arguments","prototype","hasOwnProperty","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","rx","_ref","svgRef","ForwardRef","PlanModal","plan","countData","getPlanDetails","featured","modal_display","setPlanModalDisplay","boxShadow","marginTop","handleSelectPlan","QuickActionsDropdownToggle","useToolbarStyles","paddingLeft","highlight","lighten","spacer","flex","EnhancedTableToolbar","exportSpinner","setExpSpin","csvData","setCsvData","numSelected","setSelected","setSelectedMany","setTemp","Toolbar","Typography","newArr","updateTable","handleDelAll","aria-hidden","Dropdown","drop","alignRight","Toggle","Menu","records","related_models","system_fields","responseData","v","field","filename","useStyles","paper","table","minWidth","tableWrapper","overflowX","close","$","require","ajax","ActionsDropdownToggle","EnhancedTable","setModalDisplay","userIndex","setUser","setAction","temp","isSelectedMany","setOpen","setMessage","setMessageType","credits","setCredit","setTable","useHistory","_statuses","act","fn","dataTable","isDataTable","prevRows","columnDefs","targets","orderable","searchable","td","cellData","rowData","col","ReactDOM","render","handleClick","idx","sel","cell","alignLeft","details","renderer","Responsive","listHiddenNodes","serverSide","displayStart","method","json","forEach","parseRowData","dom","lengthMenu","pageLength","pagingType","recordsTotal","recordsFiltered","order","loadDatatable","handleCloseSnackbar","reason","Paper","onKeyUp","draw","data-data","n","is_active_by_user","statusType","new_credits","new_credit","credit","bVisible","aTargets","createdCell","apuName","Authorization","dataFilter","apu_id","apu","apuExtraFields","selectedExtraFieldsApu","getApu","apu_data","hours","getHours","minutes","getMinutes","apuExtra","serial_number","part_number","cycle_remaining","thrust_rating","lsv_description","selectMoreFieldsAPU","lease_terms","exchange_terms","removeExtraFieldCommercial","selectMoreFieldsCommercial","handleFileRemove","setApuTitle","apu_title","apu_url","contactSlug","cursor","companySlug","company","company__name","job_title","rowsData","job_titles","departments","states","cities","selected_gender","selected_job_title","selected_department","selected_company","selected_country","selected_state","selected_city","selected_religion","selected_preferred_contact_method","selected_title","AbDepartments","AbTitles","birthday","department","country","city","religion","gender","preferred_contact_method","country_id","state_id","debounceTimeout","address","business_phone","mobile_phone","skype","linkedin","is_primary","is_public","htmlFor","CloudUpload","marginLeft","data-dz-name","data-dz-size","data-dz-errormessage","data-dz-remove","buttons","name_c","contact_id","getContact","contact_data","getDropdownsListing","setSelectfile","filename_pieces","setTitle","maxHeight","setMainTitle","conected_user","conected_user__contact__first_name","view_name","view_slug","favName","JsonArray","favouritable_id","favouritable","favouritable_name","favouritable_type","handleSendRequest","enquiry_type","request_message","email","userProp","phone","company_id","getCompany","specialities","rfq_email","aog_email","showSpinner","engineName","engine_id","engine","engineExtraFields","selectedExtraFieldsCommercial","getEngine","engine_data","engineExtra","engineState","tso","setEngineTitle","engine_title","engine_url","leadName","creator","leadable","leadable_type","List","ListItem","ListItemText","lead_status","lead_id","lead","getLead","inputId","cssClass","cssInputClass","onFileLoaded","importData","partName","condition","part_id","part","conditions","releases","selected_location","selected_release","selected_unit_measure","selected_condition","partsExtraFields","selectedExtraFieldsParts","getPart","part_data","unit_measure","AbReleases","AbConditions","release","partsExtra","partState","alternate_part_number","quantity","setPartTitle","username","part_title","part_url","wanted","selected_type_0","selected_terms","comments","wanted_id","getWanted","setWantedTitle","wanted_by","wantedName","wanted_title","wanted_url","wanted_data","wantedSlug","transaction_id","transaction_amount","invoice","prevProps","stateData","customer_name","trans_date","customer_email","unit_price","invoice_id","getInvoice","print","getUser","withStyles","showSnackbar","snackMessage","HeaderDropdownToggle","displayName","Cart","setQuantity","op","products","cart_val","pricing","calculateTotal","total","product","showDropdown","message_type","dropdownOpen","contains","prevState","bgImage","useSVG","iconType","alignContent","backgroundImage","env","client","sandbox","production","currency","err","payment","new_products","new_product","propsData","onCancel","GoogleMaterialPage","lazy","ReactBootstrapPage","HomePage","fallback","exact","from","routeProps","AircraftAssetsDetail","ApuAssetsDetail","ContactsList","ContactsCreate","ContactsEdit","ContactsView","EngineAssetsDetail","PartAssetsDetail","LeadDetail","WantedAssetsDetail","Account","UserUpdatePassword","ErrorPage6","ErrorsPage","Logout","hasAuthToken","connect","Boolean","SearchResult","Fragment","iconImage","iconClassName","perfectScrollbarOptions","wheelSpeed","wheelPropagation","fakeData","MyCart","nextProps","points","languages","flag","LanguageSelector","currentLanguage","UserProfile","showHi","showAvatar","showBadge","pic","Topbar","HMenuItemInner","parentItem","itemCssClassWithBullet","badge","HMenuColumn","currentUrl","heading","child","HMenuItem","getItemAttrSubmenuToggle","isMenuItemIsActive","isMenuRootItemIsActive","_subItem","columns","_column","getItemCssClasses","isActive","menuType","customClass","getItemMenuSubmenuClass","rootArrowEnabled","data-ktmenu-submenu-toggle","data-ktmenu-submenu-mode","data-ktmenu-dropdown-toggle-class","offcanvasOptions","overlay","baseClass","closeBy","toggleBy","HMenu","offCanvasCommonRef","ktMenuCommonRef","initOffCanvas","KTOffcanvas","initKTMenu","menuOptions","tablet","slideSpeed","expandAll","menuDesktopMode","getAttribute","KTMenu","headerSelfSkin","disabledAsideSelfDisplay","ktMenuClasses","ulClasses","getHeaderLogo","AnimateLoading","routeChanged","animate","animateTimeout","stopAnimate","animateInterval","stopAnimateTimeout","Progress","headerCommonRef","KTHeader","menuHeaderDisplay","headerAttributes","headerClasses","QuickActions","OverlayTrigger","data-placement","data-original-title","SubHeader","dt","subheaderCssClasses","subheaderContainerCssClasses","subheaderMobileToggle","today","shortMonths","HeaderMobile","toggleButtonRef","headerMobileCssClasses","KTToggle","toggleOptions","asideDisplay","headerMobileAttributes","REACT_GUEST_URL","targetState","togglerState","Brand","brandClasses","MenuSection","section","MenuItemSeparator","MenuItemText","whiteSpace","defaultMessage","MenuSubmenu","separator","MenuItem","asideLeftLIRef","isDropdown","submenuToggle","mouseEnter","setAttribute","mouseLeave","removeAttribute","subItem","onMouseEnter","onMouseLeave","MenuList","AsideLeft","asideMenuRef","outsideTm","insideTm","isInResponsiveRange","kUtilIsResponsiveRange","initMenu","setupMenuOptions","scroll","asideClassesFromConfig","asideMenuAttr","data-ktmenu-vertical","disableAsideSelfDisplay","headerLogo","asideOffCanvasRef","menuCanvasOptions","footerClasses","footerContainerClasses","ScrollTop","scrollTopCommonRef","KTScrolltop","offset","speed","StickyToolbar","HtmlClassService","header_container","header_mobile","header_menu","aside_menu","subheader_container","content_container","footer_container","attributes","initLayout","initLoader","initHeader","initSubheader","initContent","initAside","initFooter","_selfBodyClass","additionalHeaderCssClass","asideSubmenuDHoverTimeout","contentContainerClasses","useRouteMatch","cssClassesState","setCssClassesState","fullClasses","startAnimation","timeOutId","QuickPanel","selectedTab","_tabName","onSelect","HTMLClassService","selfLayout","subheaderDisplay","setConfig","scrollTo","contentCssClasses","injectIntl","intl","setLoading","loadingButtonStyle","setLoadingButtonStyle","disableLoading","password","validate","test","formatMessage","setStatus","setSubmitting","touched","isSubmitting","autoComplete","role","TextField","helperText","fullname","acceptTerms","confirmPassword","accessToken","ForgotPassword","isRequested","setAlertType","password_link","resetPasword","Routes","useLastLocation","urls","isAuthorized","userLastLocation","LogoutPage","interceptors","request","use","getState","reject","basename","Suspense","PortletHeaderTitle","PortletHeaderToolbar","PortletHeader","sticky","labelRef","top","setTop","windowHeight","setWindowHeight","handleResize","innerWidth","addEventListener","removeEventListener","headerElement","querySelector","subheaderElement","headerMobileElement","nextMarginTop","getComputedStyle","offsetHeight","isFragment","PortletBody","fit","PortletFooter","classBase","classShown","classOverlay","hasClass","hide","isShown","togglerClass","addClass","insertAfter","removeClass","args","iconRef","textRef","iconWrapperRef","rememberPosition","autoScroll","autoScrollSpeed","eventHandlers","pauseDropdownHoverTime","uid","getUniqueID","update","resetSubmenuProps","handleSubmenuAccordion","getSubmenuMode","isConditionalSubmenuDropdown","handleSubmenuDrodownHoverEnter","handleSubmenuDrodownHoverExit","handleSubmenuDropdownClick","handleSubmenuDropdownTabClick","handleLinkClick","scrollInit","off","scrollDestroy","mobileNativeScroll","windowScroll","resetHeightOnDestroy","handleWindowResize","scrollUpdate","scrollTop","hasAttr","isset","hasClasses","submenus","css","resumeDropdownHover","showSubmenuDropdown","time","hideSubmenuDropdown","closest","hideSubmenuDropdowns","handleSubmenuDropdownClose","shown","querySelectorAll","query","li","subnav","closables","el_","submenu_","slideUp","slideDown","scrollToItem","classAlso","j","cnt","createSubmenuDropdownClickDropoff","zIndex","dropoff","appendChild","pauseDropdownHover","getTime","resetActiveItem","parents","i_","len_","setActiveItem","getBreadcrumbs","link","innerHTML","submenuLink","getPageTitle","removeEvent","scrollReInit","hideDropdown","hideDropdowns","addResizeHandler","parentNode","Element","matches","msMatchesSelector","webkitMatchesSelector","s","ancestor","documentElement","parentElement","elem","removeChild","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","timeToCall","max","Document","DocumentFragment","defineProperty","configurable","enumerable","writable","argArr","docFrag","createDocumentFragment","argItem","isNode","Node","createTextNode","String","insertBefore","firstChild","KTUtilElementDataStore","KTUtilElementDataStoreID","KTUtilDelegatedEventHandlers","resizeHandlers","breakpoints","_windowResizeHandler","_runResizeHandlers","removeResizeHandler","runResizeHandlers","resize","Event","dispatchEvent","evt","createEvent","initUIEvent","getURLParam","paramName","substring","unescape","isMobileDevice","getViewPort","getBreakpoint","isDesktopDevice","breakpoint","prefix","floor","obj","stone","Error","shift","getHighestZindex","isNaN","hasFixedPositionedParent","milliseconds","getRandomInt","min","isAngularVersion","Zone","out","extend","nodeType","getElementsByTagName","getElementsByClassName","getByID","getByTag","getByClass","classesArr","trim","classNames","triggerCustomEvent","eventName","CustomEvent","detail","initCustomEvent","triggerEvent","node","doc","ownerDocument","eventClass","bubbles","initEvent","synthetic","fireEvent","createEventObject","elm","c","string","eventTriggered","dataset","triggered","parent","referenceNode","nextSibling","selector","matchesSelector","mozMatchesSelector","oMatchesSelector","childNodes","l","p","f","tagName","customDataTag","outerWidth","parseFloat","offsetWidth","rect","win","getClientRects","getBoundingClientRect","defaultView","pageYOffset","left","pageXOffset","duration","easing","done","easings","linear","t","b","rAF","change","performance","loop","timestamp","actualCss","prop","cache","HTMLElement","cssText","actualHeight","actualWidth","getScroll","browserSupportsBoxModel","styleProp","getPropertyValue","currentStyle","str","letter","oldLeft","oldRsLeft","runtimeStyle","pixelLeft","slide","dir","recalcMaxHeight","calcHeight","calcPaddingTop","calcPaddingBottom","paddingTop","paddingBottom","overflow","eventId","callee","hash","charCodeAt","animateClass","animationName","animations","OAnimation","MozAnimation","WebkitAnimation","msAnimation","transitionEnd","transitions","OTransition","MozTransition","WebkitTransition","msTransition","animationEnd","animateDelay","animateDuration","targetPos","scrollPos","ready","attachEvent","readyState","isEmpty","numberString","nStr","x1","x2","rgx","detectIE","ua","navigator","userAgent","msie","rv","edge","isRTL","ps","Function","disableForMobile","desktopNativeScroll","PerfectScrollbar","swipeEasing","minScrollbarLength","maxScrollbarLength","suppressScrollX","Cookies","pos","scrollUpdateAll","scrollers","setHTML","html","getHTML","getDocumentHeight","scrollHeight","clientHeight","getScrollTop","scrollingElement","classic","lastScrollTop","eventTriggerState","st","toggleOn","toggleOff","toggleClass","handle","CodeBlock","CodeExample","setIsCodeVisible","wasVisible"],"mappings":"iGAAA,uBAIIA,EAAW,SAASC,EAAWC,GAE/B,IAAIC,EAAMC,KAINC,EAAUC,IAAOC,IAAIN,GACdK,IAAOC,IAAI,QAEtB,GAAKF,EAAL,CAKA,IAAIG,EAAiB,CACjBC,UAAW,EACXC,gBAAgB,GAOhBC,EAAS,CAKTC,UAAW,SAASV,GAahB,OAZII,IAAOO,KAAKR,GAASS,IAAI,UACzBX,EAAMG,IAAOO,KAAKR,GAASE,IAAI,WAG/BI,EAAOI,KAAKb,GAGZS,EAAOK,QAEPV,IAAOO,KAAKR,GAASY,IAAI,SAAUd,IAGhCA,GAMXY,KAAM,SAASb,GACXC,EAAIE,QAAUA,EACdF,EAAIe,OAAS,GAGbf,EAAID,QAAUI,IAAOa,WAAW,GAAIX,EAAgBN,GAGpDC,EAAIiB,MAAQd,IAAOe,QAAQhB,EAAS,+BAEpCF,EAAImB,UAAYhB,IAAOiB,KAAKlB,EAAS,wCACrCF,EAAIqB,QAAUlB,IAAOiB,KAAKlB,EAAS,sCACnCF,EAAIsB,QAAUnB,IAAOiB,KAAKlB,EAAS,sCACnCF,EAAIuB,QAAUpB,IAAOiB,KAAKlB,EAAS,sCACnCF,EAAIwB,SAAWrB,IAAOiB,KAAKlB,EAAS,uCAGpCF,EAAIe,OAAS,GACbf,EAAIyB,YAAc,EAClBzB,EAAI0B,SAAU,EACd1B,EAAI2B,WAAa3B,EAAIiB,MAAMW,OAGvB5B,EAAID,QAAQO,UAAY,GACxBE,EAAOqB,KAAK7B,EAAID,QAAQO,WAI5BE,EAAOsB,YAMXjB,MAAO,WAEHV,IAAO4B,SAAS/B,EAAIqB,QAAS,SAAS,SAASW,GAC3CA,EAAEC,iBACFzB,EAAOqB,KAAKrB,EAAO0B,eAAe,MAItC/B,IAAO4B,SAAS/B,EAAIsB,QAAS,SAAS,SAASU,GAC3CA,EAAEC,iBACFzB,EAAOqB,KAAKrB,EAAO2B,eAAe,MAItChC,IAAO4B,SAAS/B,EAAIwB,SAAU,SAAS,SAASQ,GAC5CA,EAAEC,iBACFzB,EAAOqB,KAAKrB,EAAO4B,gBAAgB,MAIvCjC,IAAO4B,SAAS/B,EAAIuB,QAAS,SAAS,SAASS,GAC3CA,EAAEC,iBACFzB,EAAOqB,KAAKrB,EAAO6B,eAAe,OAGH,IAA/BrC,EAAID,QAAQQ,gBACZJ,IAAOmC,GAAGpC,EAAS,8BAA+B,SAAS,WACvD,IAAIqC,EAAQpC,IAAOoC,MAAMtC,MAAQ,EAC7BsC,IAAUvC,EAAIyB,aACdjB,EAAOqB,KAAKU,GAAO,OASnCV,KAAM,SAASW,EAAQC,GAEnB,KAAID,IAAWxC,EAAIyB,aAAee,EAASxC,EAAI2B,YAAca,EAAS,GAAtE,CAYA,IAAIE,EAWJ,GAjBIF,EADAA,EACSG,SAASH,GAEThC,EAAO0B,eAMA,IAAhBO,IAEIC,EADAF,EAASxC,EAAIyB,YACFjB,EAAOoC,aAAa,cAEpBpC,EAAOoC,aAAa,gBAKnB,IAAhB5C,EAAI0B,QAgCR,OA1BiB,IAAbgB,KAEoB,IAAhBD,GACAjC,EAAOoC,aAAa,gBAIxB5C,EAAIyB,YAAce,EAElBhC,EAAOsB,YAGa,IAAhBW,GACAjC,EAAOoC,aAAa,YAKR,IAAhBH,IACID,EAASxC,EAAIM,UACbE,EAAOoC,aAAa,aAEpBpC,EAAOoC,aAAa,cAIrB5C,EA/BHA,EAAI0B,SAAU,IAqCtBmB,KAAM,WACF7C,EAAI0B,SAAU,GAMlBoB,MAAO,WACH9C,EAAI0B,SAAU,GAMlBqB,WAAY,WACR,OAAO/C,EAAIyB,cAAgBzB,EAAI2B,YAMnCqB,YAAa,WACT,OAA2B,IAApBhD,EAAIyB,aAMfwB,cAAe,WACX,OAA+B,IAAxBzC,EAAOuC,eAAmD,IAAzBvC,EAAOwC,eAMnDlB,SAAU,WACN,IAAIoB,EAAW,GACXX,EAAQvC,EAAIyB,YAAc,EAG1ByB,EADA1C,EAAOuC,aACI,OACJvC,EAAOwC,cACH,QAEA,UAGf7C,IAAOgD,KAAKnD,EAAIE,QAAS,sBAAuBgD,GAGhD,IAAIjC,EAAQd,IAAOe,QAAQlB,EAAIE,QAAS,+BAExC,GAAIe,GAASA,EAAMW,OAAS,EACxB,IAAK,IAAIwB,EAAI,EAAGC,EAAMpC,EAAMW,OAAQwB,EAAIC,EAAKD,IACrCA,GAAKb,EACLpC,IAAOgD,KAAKlC,EAAMmC,GAAI,sBAAuB,WAEzCA,EAAIb,EACJpC,IAAOgD,KAAKlC,EAAMmC,GAAI,sBAAuB,QAE7CjD,IAAOgD,KAAKlC,EAAMmC,GAAI,sBAAuB,WAO7D,IAAIE,EAAYnD,IAAOe,QAAQlB,EAAIE,QAAS,oCAC5C,GAAIoD,GAAYA,EAAU1B,OAAS,EAC/B,IAASwB,EAAI,EAAGC,EAAMC,EAAU1B,OAAQwB,EAAIC,EAAKD,IACzCA,GAAKb,EACLpC,IAAOgD,KAAKG,EAAUF,GAAI,sBAAuB,WAEjDjD,IAAOoD,WAAWD,EAAUF,GAAI,uBAM5C,IAAII,EAAerD,IAAOe,QAAQlB,EAAIE,QAAS,uCAC/C,GAAIsD,GAAeA,EAAa5B,OAAS,EACrC,IAASwB,EAAI,EAAGC,EAAMG,EAAa5B,OAAQwB,EAAIC,EAAKD,IAC5CA,GAAKb,EACLpC,IAAOgD,KAAKK,EAAaJ,GAAI,sBAAuB,WAEpDjD,IAAOoD,WAAWC,EAAaJ,GAAI,wBASnDlB,YAAa,WACT,OAAIlC,EAAI2B,YAAe3B,EAAIyB,YAAc,EAC9BzB,EAAIyB,YAAc,EAElBzB,EAAI2B,YAOnBQ,YAAa,WACT,OAAKnC,EAAIyB,YAAc,GAAM,EAClBzB,EAAIyB,YAAc,EAElB,GAOfmB,aAAc,SAASa,EAAMC,GAEzB,IAAK,IAAIN,EAAI,EAAGA,EAAIpD,EAAIe,OAAOa,OAAQwB,IAAK,CACxC,IAAIO,EAAQ3D,EAAIe,OAAOqC,GACvB,GAAIO,EAAMF,MAAQA,EAAM,CACpB,GAAiB,GAAbE,EAAMC,IAMN,OAAOD,EAAME,QAAQC,KAAK7D,KAAMD,GALhC,GAAmB,GAAf2D,EAAMI,MAEN,OADA/D,EAAIe,OAAOqC,GAAGW,OAAQ,EACfJ,EAAME,QAAQC,KAAK7D,KAAMD,MASpD+B,SAAU,SAAS0B,EAAMI,EAASD,GAQ9B,OAPA5D,EAAIe,OAAOiD,KAAK,CACZP,KAAMA,EACNI,QAASA,EACTD,IAAKA,EACLG,OAAO,IAGJ/D,IAuGf,OA3FAA,EAAIiE,YAAc,SAASlE,GACvBM,EAAiBN,GAMrBC,EAAIkE,OAAS,SAASzB,GAClB,OAAOjC,EAAOqB,KAAKrB,EAAO0B,cAAeO,IAM7CzC,EAAImE,OAAS,SAAS1B,GAClB,OAAOjC,EAAOqB,KAAKrB,EAAO2B,cAAcM,IAM5CzC,EAAIoE,OAAS,SAAS3B,GAClB,OAAOjC,EAAOqB,KAAKrB,EAAO6B,cAAeI,IAM7CzC,EAAIqE,QAAU,SAAS5B,GACnB,OAAOjC,EAAOqB,KAAKrB,EAAO4B,eAAgBK,IAM9CzC,EAAI6B,KAAO,SAASW,EAAQC,GACxB,OAAOjC,EAAOqB,KAAKW,EAAQC,IAM/BzC,EAAI6C,KAAO,WACP,OAAOrC,EAAOqC,QAMlB7C,EAAI8C,MAAQ,WACR,OAAOtC,EAAOsC,SAMlB9C,EAAIsE,QAAU,WACV,OAAOtE,EAAIyB,aAMfzB,EAAI+C,WAAa,WACb,OAAOvC,EAAOuC,cAMlB/C,EAAIgD,YAAc,WACd,OAAOxC,EAAOwC,eAMlBhD,EAAIsC,GAAK,SAASmB,EAAMI,GACpB,OAAOrD,EAAOuB,SAAS0B,EAAMI,IAMjC7D,EAAI4D,IAAM,SAASH,EAAMI,GACrB,OAAOrD,EAAOuB,SAAS0B,EAAMI,GAAS,IAI1CrD,EAAOC,UAAU8D,MAAMvE,EAAK,CAACD,IAEtBC,IAIoD,qBAAnBwE,EAAOC,UAC/CD,EAAOC,QAAU5E,GAGNA,Q,2uBCnbT6E,EACS,oBAGTC,EAAe,CACnBC,KAAM,MAGKC,EAAUC,YACrB,CAAEC,YAASC,IAAK,SAChB,WAAmC,IAAlCC,EAAiC,uDAAzBN,EAAcO,EAAW,uCAChC,OAAQA,EAAOC,MACb,KAAKT,EACH,OAAO,eAAKO,EAAZ,CAAmBL,KAAMM,EAAOE,QAAQR,OAE1C,QACE,OAAOK,MAKFI,EAAU,CACrBC,YAAa,SAAAV,GAAI,MAAK,CAAEO,KAAMT,EAAyBU,QAAS,CAAER,W,iBCzBvDW,EAAmB,CAC9BC,KAAM,QAENC,OAAQ,CACNR,MAAO,CACLS,MAAO,UACPC,MAAO,UACPC,KAAM,UAENC,QAAS,UACTC,QAAS,UACTC,KAAM,UACNC,QAAS,UACTC,OAAQ,WAEVC,KAAM,CACJC,MAAO,CAAC,UAAW,UAAW,UAAW,WACzCC,MAAO,CAAC,UAAW,UAAW,UAAW,aAG7CC,OAAQ,CACNlB,KAAM,IAGRmB,QAAS,CACPC,SAAS,GAEXC,OAAQ,CACNC,KAAM,CACJC,MAAO,QACPC,KAAM,QACNC,OAAQ,WACRC,MAAO,CACLC,SAAS,EACTC,QAAQ,IAGZC,KAAM,CACJP,KAAM,CACJF,SAAS,EACT,cAAc,EACd,aAAc,OACdK,OAAQ,OAEVE,QAAS,CACPG,OAAO,EACPC,OAAQ,QACRC,QAAS,CACPR,KAAM,QACNM,OAAO,IAGXF,OAAQ,CACNI,QAAS,CACPR,KAAM,OACNS,WAAW,MAKnBC,UAAW,CACTd,SAAS,EACTM,OAAO,EACPD,OAAQ,cACRF,MAAO,QACPY,QAAS,CACP,eAAgB,eAChB,eAAgB,eAChB,eAAgB,eAChB,eAAgB,gBAElBC,MAAO,QAGTC,QAAS,CACPd,MAAO,SAEThB,MAAO,CACLe,KAAM,CACJE,KAAM,SAGVc,MAAO,CACLhB,KAAM,CACJF,SAAS,EACTM,OAAO,EACPa,SAAU,CACRR,QAAQ,EACRS,SAAS,IAGbC,OAAQ,CACNnB,KAAM,CACJF,SAAS,IAGbS,KAAM,CACJ,cAAc,EACda,SAAU,OACVV,QAAS,CACPC,WAAW,EACXS,SAAU,CACRZ,MAAO,QACP,gBAAiB,QAKzBW,OAAQ,CACNnB,KAAM,CACJC,MAAO,WAMEoB,EADIC,KAAKC,MAAMD,KAAKE,UAAU1C,I,iBC/GhC2C,EAAUC,iCACVC,EAAYD,kDACZE,EAAgB,qBAChBC,EAAW,6BAEXC,EAAU,CACrB,eAAgB,mBAChB,cAAiB,SAASC,KAwErB,SAASA,IACf,IAAIC,EAAQ,KACZ,GAAiD,MAA9CC,aAAaC,QAAQ,sBAEvB,QAAYC,IADZH,EAAQV,KAAKC,MAAMU,aAAaC,QAAQ,uBAAuBE,WAE1DJ,EAAQA,EAAMK,QAAQ,SAAU,SAEpCL,EAAQ,KAEV,OAAOA,EAWD,SAASM,EAAoB/D,EAAKgE,GACxC,IAAItI,EAAO,GACkC,MAA1CgI,aAAaC,QAAQ,oBACvBjI,EAAOqH,KAAKC,MAAMU,aAAaC,QAAQ,oBACxCjI,EAAKsE,GAAOgE,EACZN,aAAaO,QAAQ,iBAAkBlB,KAAKE,UAAUvH,IAGhD,SAASwI,EAAoBlE,GACnC,GAA6C,MAA1C0D,aAAaC,QAAQ,kBAEvB,OADWZ,KAAKC,MAAMU,aAAaC,QAAQ,mBAC/B3D,GAyCP,SAASmE,EAAKC,GAAsB,IAAZC,EAAW,uDAAJ,GACjCC,EAAS,CACXf,QAASA,EACTc,OAAQA,GAEV,OAAOE,IAAMnJ,IAAI8H,EAAQkB,EAAUE,GAAQE,MAAK,SAAAC,GAU/C,YAT4Bb,GAAzBa,EAAS/I,KAAKgJ,UAEhBD,EAASE,WAAa,CACrBC,MAAQH,EAAS/I,KAAKkJ,MACtBC,KAAOJ,EAAS/I,KAAKmJ,KACrBC,SAAWL,EAAS/I,KAAKoJ,UAE1BL,EAAS/I,KAAO+I,EAAS/I,KAAKgJ,SAExBD,KAIF,SAASM,EAAMX,EAAU1I,GAC/B,IAAI4I,EAAS,CACXf,QAASA,GAEX,OAAOgB,IAAMQ,MAAM7B,EAAQkB,EAAU1I,EAAM4I,GAGrC,SAASU,EAAKZ,EAAU1I,GAC9B,IAAI4I,EAAS,CACXf,QAASA,GAEX,OAAOgB,IAAMS,KAAK9B,EAAQkB,EAAU1I,EAAM4I,GAGpC,SAASW,EAAIb,GAAoB,IAAV1I,EAAS,uDAAJ,GAC9B4I,EAAS,CACXf,QAASA,EACT7H,KAAMA,GAER,OAAO6I,IAAMW,OAAOhC,EAAQkB,EAAUE,GAEhC,IAgBMa,EAAY,CACxB,CAAChE,MAAM,QAAS6C,MAAM,SACtB,CAAC7C,MAAM,UAAW6C,MAAM,WACxB,CAAC7C,MAAM,eAAgB6C,MAAM,gBAC7B,CAAC7C,MAAM,WAAY6C,MAAM,YACzB,CAAC7C,MAAM,WAAY6C,MAAM,YACzB,CAAC7C,MAAM,UAAW6C,MAAM,WACxB,CAAC7C,MAAM,eAAgB6C,MAAM,gBAC7B,CAAC7C,MAAM,SAAU6C,MAAM,UACvB,CAAC7C,MAAM,SAAU6C,MAAM,UACvB,CAAC7C,MAAM,QAAS6C,MAAM,UAgBVoB,EAAkB,CAC9B,CAACjE,MAAM,QAAS6C,MAAM,SACtB,CAAC7C,MAAM,QAAS6C,MAAM,SACtB,CAAC7C,MAAM,OAAQ6C,MAAM,SAGTqB,EAAU,CACtB,CAAClE,MAAM,OAAQ6C,MAAM,QACrB,CAAC7C,MAAM,SAAU6C,MAAM,WAGXsB,EAAS,CACrB,CAACnE,MAAM,KAAM6C,MAAM,MACnB,CAAC7C,MAAM,MAAO6C,MAAM,OACpB,CAAC7C,MAAM,KAAM6C,MAAM,OAGPuB,EAAW,CACvB,CAACpE,MAAM,mBAAoB6C,MAAM,oBACjC,CAAC7C,MAAM,WAAY6C,MAAM,YACzB,CAAC7C,MAAM,SAAU6C,MAAM,UACvB,CAAC7C,MAAM,WAAY6C,MAAM,aAQbwB,EAAoB,CAChC,CAACrE,MAAM,cAAe6C,MAAM,eAC5B,CAAC7C,MAAM,UAAW6C,MAAM,WACxB,CAAC7C,MAAM,UAAW6C,MAAM,WACxB,CAAC7C,MAAM,gBAAiB6C,MAAM,kBAGlByB,EAAsB,CAClC,CAACtE,MAAM,OAAQ6C,MAAM,QACrB,CAAC7C,MAAM,MAAO6C,MAAM,OACpB,CAAC7C,MAAM,MAAO6C,MAAM,QAGR0B,EAAiB,CAC7B,CAACvE,MAAM,OAAQ6C,MAAM,QACrB,CAAC7C,MAAM,OAAQ6C,MAAM,QACrB,CAAC7C,MAAM,YAAa6C,MAAM,aAC1B,CAAC7C,MAAM,YAAa6C,MAAM,aAC1B,CAAC7C,MAAM,iBAAkB6C,MAAM,kBAC/B,CAAC7C,MAAM,WAAY6C,MAAM,YACzB,CAAC7C,MAAM,UAAW6C,MAAM,YAGZ2B,EAAkB,CAC9B,CAACxE,MAAM,MAAO6C,MAAM,OACpB,CAAC7C,MAAM,aAAc6C,MAAM,cAC3B,CAAC7C,MAAM,aAAc6C,MAAM,cAC3B,CAAC7C,MAAM,cAAe6C,MAAM,eAC5B,CAAC7C,MAAM,WAAY6C,MAAM,YACzB,CAAC7C,MAAM,cAAe6C,MAAM,eAC5B,CAAC7C,MAAM,UAAW6C,MAAM,WACxB,CAAC7C,MAAM,kBAAmB6C,MAAM,mBAChC,CAAC7C,MAAM,YAAa6C,MAAM,cAGd4B,EAAe,CAC3B,CAACzE,MAAM,OAAQ6C,MAAM,QACrB,CAAC7C,MAAM,QAAS6C,MAAM,SACtB,CAAC7C,MAAM,iBAAkB6C,MAAM,kBAC/B,CAAC7C,MAAM,WAAY6C,MAAM,aAGb6B,EAAgB,CAC5B,CAAC1E,MAAM,KAAM6C,MAAM,MACnB,CAAC7C,MAAM,KAAM6C,MAAM,MACnB,CAAC7C,MAAM,MAAO6C,MAAM,OACpB,CAAC7C,MAAM,KAAM6C,MAAM,MACnB,CAAC7C,MAAM,KAAM6C,MAAM,MACnB,CAAC7C,MAAM,OAAQ6C,MAAM,QACrB,CAAC7C,MAAM,OAAQ6C,MAAM,QACrB,CAAC7C,MAAM,QAAS6C,MAAM,SACtB,CAAC7C,MAAM,SAAU6C,MAAM,WAGX8B,EAAS,CACrB,CAAC3E,MAAM,WAAY6C,MAAM,YACzB,CAAC7C,MAAM,SAAU6C,MAAM,UACvB,CAAC7C,MAAM,MAAO6C,MAAM,OACpB,CAAC7C,MAAM,QAAS6C,MAAM,UAGV+B,EAAiB,CAC7B,CAAC5E,MAAM,OAAQ6C,MAAM,QACrB,CAAC7C,MAAM,YAAa6C,MAAM,aAC1B,CAAC7C,MAAM,UAAW6C,MAAM,WACxB,CAAC7C,MAAM,iBAAkB6C,MAAM,kBAC/B,CAAC7C,MAAM,oBAAqB6C,MAAM,sBAGtBgC,EAAe,CAC3B,CAAC7E,MAAM,oBAAqB6C,MAAM,qBAClC,CAAC7C,MAAM,QAAS6C,MAAM,SACtB,CAAC7C,MAAM,iBAAkB6C,MAAM,kBAC/B,CAAC7C,MAAM,WAAY6C,MAAM,YACzB,CAAC7C,MAAM,WAAY6C,MAAM,aAGbiC,EAAa,CACzB,CAAC9E,MAAM,OAAQ6C,MAAM,QACrB,CAAC7C,MAAM,WAAY6C,MAAM,aAGbkC,EACT,CACI,CAAC/E,MAAO,QAAS6C,MAAO,SACxB,CAAC7C,MAAO,SAAU6C,MAAO,UACzB,CAAC7C,MAAO,UAAW6C,MAAO,WAC1B,CAAC7C,MAAO,mBAAoB6C,MAAO,oBACnC,CAAC7C,MAAO,oBAAqB6C,MAAO,sBAG/BmC,EACT,CACI,CAAChF,MAAO,aAAc6C,MAAO,cAC7B,CAAC7C,MAAO,MAAO6C,MAAO,OACtB,CAAC7C,MAAO,MAAO6C,MAAO,OACtB,CAAC7C,MAAO,UAAW6C,MAAO,QAC1B,CAAC7C,MAAO,UAAW6C,MAAO,QAC1B,CAAC7C,MAAO,eAAgB6C,MAAO,gBAC/B,CAAC7C,MAAO,sBAAuB6C,MAAO,uBACtC,CAAC7C,MAAO,uBAAwB6C,MAAO,yBAGlCoC,GACT,CACI,CAACjF,MAAO,MAAO6C,MAAO,OACtB,CAAC7C,MAAO,gBAAiB6C,MAAO,iBAChC,CAAC7C,MAAO,kBAAmB6C,MAAO,oBAG7BqC,GACT,CACI,CAAClF,MAAO,QAAS6C,MAAO,SACxB,CAAC7C,MAAO,SAAU6C,MAAO,WAGpBsC,GACT,CACI,CAACnF,MAAO,gBAAiB6C,MAAO,iBAChC,CAAC7C,MAAO,kBAAmB6C,MAAO,oBAG7BuC,GACT,CACI,CAACpF,MAAO,QAAS6C,MAAO,SACxB,CAAC7C,MAAO,SAAU6C,MAAO,WAGpBwC,GACT,CACI,CAACrF,MAAO,UAAW6C,MAAO,WAC1B,CAAC7C,MAAO,eAAgB6C,MAAO,gBAC/B,CAAC7C,MAAO,QAAS6C,MAAO,SACxB,CAAC7C,MAAO,WAAY6C,MAAO,YAC3B,CAAC7C,MAAO,QAAS6C,MAAO,SACxB,CAAC7C,MAAO,SAAU6C,MAAO,UACzB,CAAC7C,MAAO,kBAAmB6C,MAAO,oBAa7ByC,GAAQ,SAAAC,GAAE,OACrB,IAAIC,SAAQ,SAAAC,GACVC,YAAW,WACTD,MACCF,OAaA,IAAMI,GAAc,SAAOC,EAAQC,EAAajM,EAASkM,GAArC,qBAAAC,EAAAC,OAAA,kEAAAD,EAAA,MAGnBT,GAAM,MAHa,WAIhBQ,EAJgB,8BAOrBF,GAGKK,EAAcL,EAAOM,cAE5BC,EAAkBvM,EAAQwM,QAAO,qBAAGpG,MAC3BkG,cAAcG,SAASJ,OAL/BE,EAAkBvM,EAShB0M,EAAUH,EAAgB1K,OAASoK,EAAYpK,OAAS,GACxD8K,EAAgBJ,EAAgBK,MACpCX,EAAYpK,OACZoK,EAAYpK,OAAS,IApBG,kBAuBnB,CACL7B,QAAS2M,EACTD,YAzBwB,sCC9aZ,IACbjG,OAAQ,CACNC,KAAM,GACNmG,MAAO,CACL,CACEC,MAAO,YACPC,MAAM,EACNC,UAAW,OACX7F,OAAQ,QACR,eAAgB,gBAChB8F,KAAM,+BACN7F,QAAS,CACP,CACE0F,MAAO,WACPI,aAAc,YACdH,MAAM,EACNI,OAAQ,MACRC,KAAMC,8BAER,CACEP,MAAO,UACPI,aAAc,YACdH,MAAM,EACNI,OAAQ,MACRC,KAAMC,4BAER,CACEP,MAAO,MACPI,aAAc,YACdH,MAAM,EACNI,OAAQ,MACRC,KAAMC,yBAER,CACEP,MAAO,QACPI,aAAc,YACdH,MAAM,EACNI,OAAQ,MACRC,KAAMC,0BAER,CACEP,MAAO,SACPI,aAAc,YACdH,MAAM,EACNI,OAAQ,MACRC,KAAMC,gCAMhB3F,MAAO,CACLhB,KAAM,GACNmG,MAAO,CACL,CACEC,MAAO,YACPC,MAAM,EACNE,KAAM,kCACNG,KAAMC,iBACNC,UAAW,iBACXH,OAAQ,OAEV,CACEL,MAAO,SACPC,MAAM,EACNI,OAAQ,MACRF,KAAM,qBACN7F,QAAS,CACP,CACE0F,MAAO,WACPI,aAAc,SACdH,MAAM,EACNI,OAAQ,MACRC,KAAMC,uBAER,CACEP,MAAO,UACPI,aAAc,SACdH,MAAM,EACNI,OAAQ,MACRC,KAAMC,qBAER,CACEP,MAAO,MACPI,aAAc,SACdH,MAAM,EACNI,OAAQ,MACRC,KAAMC,kBAER,CACEP,MAAO,QACPI,aAAc,SACdH,MAAM,EACNI,OAAQ,MACRC,KAAMC,mBAER,CACEP,MAAO,SACPI,aAAc,SACdH,MAAM,EACNI,OAAQ,MACRC,KAAMC,uBAIZ,CACEP,MAAO,QACPC,MAAM,EACNI,OAAQ,MACRF,KAAM,mBACNG,KAAMC,aAER,CACEP,MAAO,cACPC,MAAM,EACNI,OAAQ,MACRF,KAAM,sBACNG,KAAMC,mBAER,CACEP,MAAO,aACPC,MAAM,EACNI,OAAQ,MACRF,KAAM,iBACNG,KAAMC,kBAER,CACEP,MAAO,WACPC,MAAM,EACNE,KAAM,kBACNG,KAAMC,iBAER,CACEP,MAAO,WACPC,MAAM,EACNE,KAAM,iBACNG,KAAMC,iBAQR,CACEP,MAAO,aACPC,MAAM,EACNI,OAAQ,MACRF,KAAM,qBACNG,KAAMC,qBAER,CACEP,MAAO,OACPC,MAAM,EACNnG,KAAM,QACNqG,KAAM,4BACNG,KAAMC,gBCvJD1I,GAAc,CACzB4I,cAAe,0BACfC,iBAAkB,6BAClBC,gCACE,+CACFC,oBAAqB,kCAGVC,GAAY,CACvBC,WAAY,SAACC,EAAOvE,GAAY,IACtBwE,EAA4BD,EAAME,QAAlCD,wBAER,OAAOA,EACHA,EAAwBF,WAAWtE,EAAO0E,KAAM1E,EAAO2E,UACvD,IAENC,cAAe,SAACL,EAAOvE,GACrB,GAAIA,EAAO0E,KAAM,KAEPF,EAA4BD,EAAME,QAAlCD,wBAER,OAAOA,EACHA,EAAwBI,cAAc5E,EAAO0E,MAC7C,GAGN,MAAO,IAETG,UAAW,SAACjJ,EAAO8I,GAAU,IACnBI,EAAiBlJ,EAAM6I,QAAvBK,aAER,OAAIJ,EAEKK,IAAWhO,IAAI+N,EAAcJ,GAG/B,IAGTM,QAAS,YAAoC,IAIvCC,EAJiBH,EAAqB,EAAhCL,QAAWK,aACfI,EAAoBH,IAAWhO,IAAI+N,EAAc,mBAEjDK,EAAaJ,IAAWhO,IAAI+N,EAAc,aAUhD,GAR0B,kBAAfK,IACTF,EAAOE,GAGiB,kBAAfA,IACTF,EAAOF,IAAWhO,IAAIoO,EAAYD,EAAoB,KAGpC,qBAATD,EACT,IACE,IAAMG,EAAQL,IAAWhO,U,GAAS+N,aAAc,aAChDG,EAAOG,EAAMC,OAAOC,KAAKF,GAAO,IAChC,MAAOzM,IAEX,OAAOsM,GAGTM,cAAe,SAAAhB,GAAU,IACfO,EAAiBP,EAAME,QAAvBK,aACJG,EAAOF,IAAWhO,IAAI+N,EAAc,oBAIxC,MAHoB,qBAATG,IACTA,EAAOZ,GAAUW,QAAQT,IAEpBU,EAAO,KAIZ3J,GAAe,CACnBkK,WAAYC,GACZX,aAAcrG,EACd+F,6BAAyBjF,GAGd/D,GAAUC,YACrB,CACEC,YACAC,IAAK,cACL+J,UAAW,CAAC,6BAEd,WAA8C,IAA7C9J,EAA4C,uDAApCN,GAAoC,yCAApBQ,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC7B,OAAQD,GACN,KAAKT,GAAY4I,cACf,OAAO,eAAKrI,EAAZ,CAAmB4J,WAAYzJ,IAEjC,KAAKV,GAAY6I,iBAGjB,KAAK7I,GAAY8I,gCACf,OAAO,eAAKvI,EAAZ,CAAmBkJ,aAAc/I,IAEnC,KAAKV,GAAY+I,oBACf,OAAO,eAAKxI,EAAZ,CAAmB4I,wBAAyBzI,IAE9C,QACE,OAAOH,MAKFI,GAAU,CACrB2J,cAAe,SAAA5J,GAAO,MAAK,CAAEA,UAASD,KAAMT,GAAY4I,gBAExD2B,iBAAkB,SAAA7J,GAAO,MAAK,CAC5BA,UACAD,KAAMT,GAAY6I,mBAGpB2B,gCAAiC,SAAA9J,GAAO,MAAK,CAC3CA,UACAD,KAAMT,GAAY8I,kCAGpB2B,oBAAqB,SAAA/J,GAAO,MAAK,CAC/BA,UACAD,KAAMT,GAAY+I,uBC7Hf,SAAS2B,GAAeC,EAAKC,GAClC,IAAMC,EAAM,IAAIC,OAAO,UAAYF,EAAM,WACzCD,EAAII,UAAYJ,EAAII,UAAU3G,QAAQyG,EAAK,KAOtC,IAAMG,GAAgB,SAAAC,GAAQ,MAA6B,UAAUA,GA0BrE,SAASC,GAAc5K,GAC5B,IACE0D,aAAaO,QAAQjE,EAAK,IAC1B0D,aAAaO,QAAQjE,EAAM,aAAc,IACzC,MAAOhD,GAOP,OANA6N,QAAQC,IACN,sCACE9K,EACA,wBACA+C,KAAKE,UAAUjG,KAEZ,EAET,OAAO,EAUF,SAAS+N,GAAW/K,GACzB,IAAMgL,EAAMC,KAAKD,MAEbE,EAAYxH,aAAaC,QAAQ3D,EAAM,cAM3C,QALkB4D,IAAdsH,GAAyC,OAAdA,IAC7BA,EAAY,IAGdA,EAAYC,KAAKC,IAAIF,IACLF,EAGd,OADAJ,GAAc5K,GACP,KAEP,IAEE,OADc0D,aAAaC,QAAQ3D,GAEnC,MAAOhD,GAOP,OANA6N,QAAQC,IACN,kCACE9K,EACA,wBACA+C,KAAKE,UAAUjG,IAEZ,M,wCCnEPqO,GAAgB,CAIpBC,MAAOC,wBAAc,MAKrBC,SAAUD,wBAAc,OAMpB7L,GAKE,OALFA,GAUW,gBAVXA,GAegB,qBAfhBA,GAgBgB,qBAQtB,SAAS+L,GAAeC,EAAa9D,EAAO+D,GAE1C,GAAK/D,GAAUgE,MAAMC,QAAQjE,GAA7B,CAFuD,2BAMvD,YAAmBA,EAAnB,+CAA0B,CAAC,IAAhBkE,EAAe,QAExB,GAAIJ,IAAgBI,EAAK3D,OAAS2D,EAAK3J,QACrC,OAAO2J,EAIT,GAAIA,EAAK3J,QAAS,CAChB,IAAM4J,EAAaN,GAAeC,EAAaI,EAAK3J,QAASwJ,GAC7D,GAAII,EAEF,OADAJ,EAAY3M,KAAK8M,GACVC,IAjB0C,oFA0BzD,SAASnQ,GAAT,GAAyC,IAAzB+O,EAAwB,EAAxBA,SAAUd,EAAc,EAAdA,WAClB6B,EAAcf,EAAShD,MAAM,GAC/BgE,EAAc,GACZI,EACFN,GAAeC,EAAa7B,EAAWpH,MAAMmF,MAAO+D,IACpDF,GAAeC,EAAa7B,EAAWrI,OAAOoG,MAAO+D,GAEzDA,EAAYK,UACZ,IAAM/L,EAAQ,CAAEoC,UAAW,CAAEwF,MAAO,GAAIoE,WAAY,GAAIC,YAAa,IAAMC,aAAc,CAAEC,KAAM,KAOjG,OANIL,IACFJ,EAAY3M,KAAK+M,GACjB9L,EAAMoC,UAAUwF,MAAQkE,EAAWlE,MACnC5H,EAAMoC,UAAU4J,WAAaN,GAGxB1L,EAGT,SAASJ,GAAQI,EAAjB,GAA4C,IAAlBE,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAC9B,GAAID,IAAST,GAAkB,CAC7B,IAAM2M,EAAYzQ,GAAKwE,GAGvB,OAAO,eAAKH,EAAZ,CAAmBoC,UAAWgK,EAAUhK,YAG1C,GAAIlC,IAAST,GACX,OAAO,eAAKO,EAAZ,CAAmBoC,UAAWjC,IAGhC,GAAID,IAAST,GACX,OAAO,eACFO,EADL,CAEEkM,aAAa,eACRlM,EAAMkM,aADC,CAEVC,KAAK,eAAMnM,EAAMkM,aAAaC,KAA1B,gBAAiChM,EAAQkM,IAAK,QAKxD,GAAInM,IAAST,GAAgC,CAAC,IAAD,EACCO,EAAMkM,aAAaC,KADpB,EAClChM,EAAQkM,GAAcC,GADY,oCAG3C,OAAO,eACFtM,EADL,CAEEkM,aAAa,eAAMlM,EAAMkM,aAAb,CAA2BC,KAAMG,MAIjD,OAAOtM,EAMF,SAASuM,GAAT,GAAmE,IAAlCC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,SAAU7C,EAAc,EAAdA,WAAc,EAC7C8C,qBACtB9M,GACA,CAAEgK,aAAYc,SAAU8B,EAAQG,SAASjC,UAEzC/O,IALmE,oBAChEqE,EADgE,KACzD4M,EADyD,KASvEC,qBACI,kBACIL,EAAQM,QAAO,YAAmB,IAAhBpC,EAAe,EAAfA,SAChBkC,EAAS,CACP1M,KAAMT,GACNU,QAAS,CAAEuK,WAAUd,qBAW7B,CAAC4C,EAAS5C,IAzByD,IA4BzDmD,EAAqB/M,EAAMkM,aAAjCC,KACFa,EAAsBC,mBACxB,kBAAMxD,OAAOC,KAAKqD,GAAkBpQ,OAAS,IAC7C,CAACoQ,IAwBL,OArBAF,qBAAU,WACR,IAAMX,EAAegB,SAASC,eAAe,iBAE7C,GAAIH,EAGF,OAFAd,EAAakB,UAAUC,OAAO,UAEvB,WACLnB,EAAakB,UAAUE,IAAI,WAI/B,IAAMC,EAAU3G,YAAW,WACzBsF,EAAakB,UAAUE,IAAI,YAC1B,KAEH,OAAO,WACLE,aAAaD,MAEd,CAACP,IAIA,kBAAC5B,GAAcC,MAAMoC,SAArB,CAA8B1J,MAAO/D,GACnC,kBAACoL,GAAcG,SAASkC,SAAxB,CAAiC1J,MAAO6I,GACrCH,IAmBJ,IAAMiB,GAAwBtC,GAAcC,MAAMsC,SAuClD,SAASC,GAAT,GAAkD,IAAD,IAAnBC,eAAmB,SAChDjB,EAAWkB,qBAAW1C,GAAcG,UAgB1C,OAdAsB,qBAAU,WACR,GAAKgB,EAAL,CAIA,IAAMxB,EAAKnB,KAAK6C,SAIhB,OAFAnB,EAAS,CAAE1M,KAAMT,GAAgCU,QAAS,CAAEkM,QAErD,WACLO,EAAS,CAAE1M,KAAMT,GAAgCU,QAAS,CAAEkM,YAE7D,CAACwB,EAASjB,IAEN,K,WC1QI3J,GAAUC,iCCSduH,GAAc,2BA0BdA,GAAc,0BA0BdA,GAAc,4B,aCtDR,SAASuD,GAAT,GAK+B,IAJFvB,EAIC,EAJDA,SACA7C,EAGC,EAHDA,WACAV,EAEC,EAFDA,aACA+E,EACC,EADDA,iBAEpCrB,EAAWsB,eACXC,EAAeC,cAAY,qBAAGvF,WAgBpC,OAdAgE,qBAAU,WACRD,EAAS/D,GAAgBkB,cAAcH,MACtC,CAACgD,EAAUhD,IAEdiD,qBAAU,WACJ3D,EAAa3I,OAAS4N,EAAajF,aAAa3I,MAClDqM,EAAS/D,GAAgBmB,iBAAiBd,MAE3C,CAAC0D,EAAUuB,EAAcjF,IAE5B2D,qBAAU,WACRD,EAAS/D,GAAgBqB,oBAAoB+D,MAC5C,CAACrB,EAAUqB,IAEPA,IAAqBE,EAAavF,wBAErC,oCAAG6D,GAGH,kBAACmB,GAAD,M,eCnBAS,I,iDAAc,CAClBC,G,OACAC,G,OACAC,G,OACAC,G,OACAC,G,OACAC,G,SAGa,SAASC,GAAT,GAAqC,IAAbnC,EAAY,EAAZA,SAC/BoC,EAAST,cAAY,qBAAGU,KAAgBnP,QACxCoP,EAAWV,GAAYQ,GAE7B,OACI,kBAAC,KAAD,CAAcA,OAAQA,EAAQE,SAAUA,GACrCtC,G,yBC7BHuC,GAAQC,aAIZ,CAEEC,WAAY,CACVC,WAAY,CAAC,WAAWC,KAAK,MAG/BC,QAAS,CACPC,kBAAmB,EACnB1O,QAAS,CAEP2O,KAAM,WAIRC,UAAW,CAETD,KAAM,UAENE,aAAc,WAEhBC,MAAO,CAELH,KAAM,YASVI,MAAO,CAELC,cAAe,CAEbC,eAAe,GAIjBC,WAAY,CACVC,UAAW,MAMJ,SAASC,GAAcL,GAAQ,IACpClD,EAAakD,EAAblD,SAER,OAAO,kBAAC,KAAD,CAAkBuC,MAAOA,IAAQvC,GCtCnC,IAAMwD,GAAW,CAAEnB,OAAMjG,W,6BCDzB,SAASqH,GAAiBC,GAC/B,IAAMC,EAAwBC,GAjBI,sBAkB9BC,EAAgBF,EAChBtN,KAAKC,MAAMqN,GACX,IAlBN,SAAwBD,GACtB,SACEA,IACAA,EAAazF,UACa,UAA1ByF,EAAazF,WAC8B,IAA3CyF,EAAazF,SAAS6F,QAAQ,SACJ,iBAA1BJ,EAAazF,WAcX8F,CAAeL,KACjBG,EAAcvR,KAAKoR,EAAazF,URqE7B,SAAoB3K,EAAKgE,EAAO0M,QACrB9M,IAAZ8M,GAAqC,OAAZA,IAC3BA,EAAU,OAGZ,IACMC,EADM1F,KAAKD,MACgB,IAAV0F,EACvB,IACEhN,aAAaO,QAAQjE,EAAKgE,GAC1BN,aAAaO,QAAQjE,EAAM,aAAc2Q,GACzC,MAAO3T,GAOP,OANA6N,QAAQC,IACN,kCACE9K,EACA,sBACA+C,KAAKE,UAAUjG,KAEZ,GQrFPsT,CAxBgC,qBA0B9BvN,KAAKE,UAAUsN,GACf,MAKC,SAASK,KACdN,GAjCkC,sBAoC7B,SAASO,KACd,IAAMR,EAAwBC,GArCI,sBAsClC,IAAKD,EACH,MAAO,IAGT,IAAMS,EAAiB/N,KAAKC,MAAMqN,GAElC,OADeS,EAAelU,OAAS,EAAIkU,EAAeC,MAAQ,Q,gBCqBnDC,IA3DJtR,GACJ,iBADIA,GAEH,kBAFGA,GAGD,oBAHCA,GAII,wBAJJA,GAKC,uBAGRuR,GAAmB,CACvBpN,UAAY,KACZqN,KAAM,KACNC,WAAW,MAGAtR,GAAUC,YACnB,CAAEC,YAASC,IAAK,aAAcoR,UAAW,CAAC,OAAQ,eAClD,WAAuC,IAAtCnR,EAAqC,uDAA7BgR,GAAkB/Q,EAAW,uCACpC,OAAQA,EAAOC,MACb,KAAKT,GAAoB,IACfmE,EAAc3D,EAAOE,QAArByD,UAER,MAAO,CAAEA,YAAWqN,UAAMtN,GAG5B,KAAKlE,GAAuB,IAClBmE,EAAc3D,EAAOE,QAArByD,UAER,MAAO,CAAEA,YAAWqN,UAAMtN,GAG5B,KAAKlE,GAGH,OAFA2R,KACAlE,SAASmE,OAAT,4DACOL,GAGT,KAAKvR,GAAyB,IACpBwR,EAAShR,EAAOE,QAAhB8Q,KAER,OAAO,eAAKjR,EAAZ,CAAmBiR,SAGrB,QACE,OAAOjR,MAKJI,GAAU,CACrBkR,MAAO,SAAA1N,GAAS,MAAK,CAAE1D,KAAMT,GAAmBU,QAAS,CAAEyD,eAC3D2N,SAAU,SAAA3N,GAAS,MAAK,CACtB1D,KAAMT,GACNU,QAAS,CAAEyD,eAEb4N,OAAQ,iBAAO,CAAEtR,KAAMT,KACvBgS,YAAa,SAAAR,GAAI,MAAK,CAAE/Q,KAAMT,GAA2BU,QAAS,CAAE8Q,UACpES,YAAa,SAAAT,GAAI,MAAK,CAAE/Q,KAAMT,GAAwBU,QAAS,CAAE8Q,WAG5D,SAAUF,KAAV,iEACL,OADK,SACCY,aAAWlS,GAAD,UAAoB,SAAUmS,IAAV,iEAClC,OADkC,SAC5BC,aAAIzR,GAAQqR,eADgB,oCAAUG,OADzC,OAKL,OALK,SAKCD,aAAWlS,GAAD,UAAuB,SAAUqS,IAAV,iEACrC,OADqC,SAC/BD,aAAIzR,GAAQqR,eADmB,oCAAUK,OAL5C,OASL,OATK,SASCH,aAAWlS,GAAD,UAA4B,SAAUsS,IAAV,yEACnB,OADmB,SP9CrCzN,IAAMnJ,IAAI8H,GAnBG,aOiEwB,OAG1C,OAH0C,SAC5BgO,EAD4B,EAClCxV,KADkC,SAGpCoW,aAAIzR,GAAQsR,YAAYT,IAHY,oCAAUc,OATjD,wC,gBCtDUC,IANJC,GAAcC,aAAgB,CACzCC,KAAMA,GACNrD,KAAMmB,GAASnB,KAAKlP,QACpBiJ,QAASoH,GAASpH,QAAQjJ,UAGrB,SAAUoS,KAAV,iEACL,OADK,SACCI,aAAI,CAACD,OADN,wCCNP,IAAME,GAAmBC,OAAOC,sCAAwCC,KAElEC,GAAiBC,eACjB/J,GAAQgK,aACVV,GACAI,GAAiBO,aAAgBH,MAOxBI,GAAYC,YAAanK,IAEtC8J,GAAeM,IAAIf,IAEJrJ,U,wICJA,SAASqK,KACtB,IAAMC,EAAYxP,aAAaC,QAFA,oBACC,EAEVwP,mBAASD,GAAaA,EAAY,GAFxB,oBAEzBE,EAFyB,KAEpBC,EAFoB,KAG1BxG,EAAWsB,eACThF,EAAiBkF,cACvB,kBAAkB,CAAElF,aAApB,EAAGL,QAAuCK,gBAC1CmK,MAFMnK,aAJwB,EAQYgK,oBAAS,GARrB,oBAQzBI,EARyB,KAQTC,EARS,OASkCL,mBAAS,CACzEM,aAAc,WAVgB,oBASzBC,EATyB,KASEC,EATF,OAYQR,oBAAS,GAZjB,oBAYzBS,EAZyB,KAYXC,EAZW,OAa8BV,mBAAS,CACrEM,aAAc,WAdgB,oBAazBK,EAbyB,KAaAC,EAbA,KAyB1BC,EAAqB,SAAAC,GACzBpH,EAASqD,GAASpH,QAAQzI,QAAQ4J,iBAAiBgK,IACnDpN,YAAW,WACT0L,OAAO3F,SAASsH,WACf,MAGCC,EAAgBjH,mBACpB,kBACEkH,iBAEEtR,EACAqG,KAEJ,CAACA,IAGH,OACE,oCACE,kBAACkL,GAAA,EAAD,CAAQrM,KAAK,oCAAb,sPAI+B,yCAJ/B,mCAQA,kBAAC,KAAD,CACEmM,cAAeA,EACfG,SAAU,SAAAC,GApCdf,GAAkB,GAClBG,EAA6B,CAAEF,aAAc,WAqCvCO,EAAmBO,IAErBC,QAAS,WApCbX,GAAgB,GAChBE,EAA2B,CAAEN,aAAc,WAqCrCO,EAAmBzT,MAGpB,gBAAGgU,EAAH,EAAGA,OAAQE,EAAX,EAAWA,YAAaC,EAAxB,EAAwBA,aAAcC,EAAtC,EAAsCA,aAAcC,EAApD,EAAoDA,WAApD,OACC,yBAAKnK,UAAU,gCACb,kBAACoK,GAAA,EAAD,KACE,kBAACA,GAAA,EAAD,CACEvT,QACE,kBAACuT,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,UAAU,MACVtK,UAAU,eACVzG,MAAOoP,EACP4B,SAAU,SAACC,EAAGC,GACZ7B,EAAO6B,GACPxR,aAAaO,QA5EJ,mBA4EsCiR,KAGjD,kBAACC,GAAA,EAAD,CAAKhU,MAAM,WACX,kBAACgU,GAAA,EAAD,CAAKhU,MAAM,cACX,kBAACgU,GAAA,EAAD,CAAKhU,MAAM,YACX,kBAACgU,GAAA,EAAD,CAAKhU,MAAM,UACX,kBAACgU,GAAA,EAAD,CAAKhU,MAAM,eAMV,IAARiS,GACC,kBAACyB,GAAA,EAAD,KACE,yBAAKpK,UAAU,6BACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,yBAGA,yBAAKA,UAAU,qBACb,kBAAC2K,GAAA,EAAD,CACEC,OAAQT,EACRI,SAAUL,EACVlW,KAAK,4BACL6W,QAASla,eAAImZ,EAAQ,+BAEvB,kBAACgB,GAAA,EAAD,8CAMJ,yBAAK9K,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,wBAGA,yBAAKA,UAAU,qBACb,kBAAC2K,GAAA,EAAD,CACEC,OAAQT,EACRI,SAAUL,EACVlW,KAAK,2BACL6W,QAASla,eAAImZ,EAAQ,8BAEvB,kBAACgB,GAAA,EAAD,8CAMJ,yBAAK9K,UAAU,oEAEf,yBAAKA,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,wBAGA,yBAAKA,UAAU,qBACb,kBAAC2K,GAAA,EAAD,CACEC,OAAQT,EACRI,SAAUL,EACVlW,KAAK,2BACL6W,QAASla,eAAImZ,EAAQ,8BAEvB,kBAACgB,GAAA,EAAD,8BAIJ,yBAAK9K,UAAU,oEAEf,yBAAKA,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,uBAGA,yBAAKA,UAAU,qBACb,kBAAC2K,GAAA,EAAD,CACEC,OAAQT,EACRI,SAAUL,EACVlW,KAAK,8BACL6W,QAASla,eAAImZ,EAAQ,iCAEvB,kBAACgB,GAAA,EAAD,iDAUH,IAARnC,GACC,kBAACyB,GAAA,EAAD,KACE,yBAAKpK,UAAU,6BACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,sBAGA,yBAAKA,UAAU,qBACb,kBAAC2K,GAAA,EAAD,CACEC,OAAQT,EACRI,SAAUL,EACVlW,KAAK,oBACL6W,QAASla,eAAImZ,EAAQ,uBAEvB,kBAACgB,GAAA,EAAD,mCAMJ,yBAAK9K,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,oBAGA,yBAAKA,UAAU,qBACb,kBAAC2K,GAAA,EAAD,CACEC,OAAQT,EACRI,SAAUL,EACVlW,KAAK,kBACL6W,QAASla,eAAImZ,EAAQ,qBAEvB,kBAACgB,GAAA,EAAD,gDAC2C,IACzC,uCAFF,uBAOJ,yBAAK9K,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,UAGA,yBAAKA,UAAU,qBACb,4BACEA,UAAU,eACVhM,KAAK,kBACL4W,OAAQT,EACR5Q,MAAO5I,eAAImZ,EAAQ,mBACnBS,SAAUL,GAEV,4BAAQ3Q,MAAM,SAAd,SACA,4BAAQA,MAAM,SAAd,UAEF,kBAACuR,GAAA,EAAD,mCAMJ,yBAAK9K,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,oBAGA,yBAAKA,UAAU,qBACb,4BACEA,UAAU,eACVhM,KAAK,kBACL4W,OAAQT,EACR5Q,MAAO5I,eAAImZ,EAAQ,mBACnBS,SAAUL,GAEV,4BAAQ3Q,MAAM,eAAd,eACA,4BAAQA,MAAM,SAAd,UAEF,kBAACuR,GAAA,EAAD,oCA+BH,IAARnC,GACC,kBAACyB,GAAA,EAAD,KACE,yBAAKpK,UAAU,6BACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,UAGA,yBAAKA,UAAU,qBACb,4BACEA,UAAU,eACVhM,KAAK,gBACL4W,OAAQT,EACR5Q,MAAO5I,eAAImZ,EAAQ,iBACnBS,SAAUL,GAEV,4BAAQ3Q,MAAM,SAAd,SACA,4BAAQA,MAAM,SAAd,UAEF,kBAACuR,GAAA,EAAD,sCAUH,IAARnC,GACC,kBAACyB,GAAA,EAAD,KACE,yBAAKpK,UAAU,6BACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,UAGA,yBAAKA,UAAU,qBACb,kBAAC2K,GAAA,EAAD,CACEC,OAAQT,EACRI,SAAUL,EACVlW,KAAK,mBACL6W,QAASla,eAAImZ,EAAQ,sBAEvB,kBAACgB,GAAA,EAAD,iCAMJ,yBAAK9K,UAAU,kBACb,2BAAOA,UAAU,gCAAjB,mBAGA,yBAAKA,UAAU,qBACZ,IACD,4BACEA,UAAU,eACVhM,KAAK,sBACL4W,OAAQT,EACR5Q,MAAO5I,eACLmZ,EACA,uBACAvL,WACFgM,SAAUL,GAEV,4BAAQ3Q,MAAM,QAAd,YACA,4BAAQA,MAAM,SAAd,cAEF,kBAACuR,GAAA,EAAD,mDAC8C,IAC5C,4CAFF,sBAWH,IAARnC,GACC,kBAACyB,GAAA,EAAD,KACE,yBAAKpK,UAAU,6BACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,iBAGA,yBAAKA,UAAU,qBACb,kBAAC2K,GAAA,EAAD,CACEC,OAAQT,EACRI,SAAUL,EACVlW,KAAK,oBACL6W,QAASla,eAAImZ,EAAQ,uBAGvB,kBAACgB,GAAA,EAAD,2BAIJ,yBAAK9K,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,UAGA,yBAAKA,UAAU,qBACb,4BACEA,UAAU,eACVhM,KAAK,oBACL4W,OAAQT,EACR5Q,MAAO5I,eAAImZ,EAAQ,qBACnBS,SAAUL,GAEV,4BAAQ3Q,MAAM,SAAd,SACA,4BAAQA,MAAM,SAAd,UAEF,kBAACuR,GAAA,EAAD,sCAUZ,kBAACV,GAAA,EAAD,KACE,yBAAKpK,UAAU,6BACb,4BACEtK,KAAK,SACLqV,QAASd,EACTnS,MAAOmR,EACPjJ,UAAS,4DAAuDgL,aAC9D,CACE,gEAAiElC,MAIrE,uBAAG9I,UAAU,cAVf,YAWU,IACV,4BACEtK,KAAK,SACLqV,QAASf,EACTlS,MAAOuR,EACPrJ,UAAS,8DAAyDgL,aAChE,CACE,+DAAgE7B,MAIpE,uBAAGnJ,UAAU,kBAVf,aAgBN,kBAACoK,GAAA,EAAD,KACE,kBAACA,GAAA,EAAD,CACEhN,MACE,uDACmB,IACjB,kEACmC,IACjC,kFAMR,kBAACgN,GAAA,EAAD,KACE,kBAAC,KAAD,CACEa,YAAY,OACZC,SAAS,OACTC,KAAM7S,KAAKE,UAAUsR,EAAQ,KAAM,Y,oEC1c/CsB,GAA8BC,IAAMC,YAAW,SAACnG,EAAOoG,GACzD,OACE,4BACIA,IAAKA,EACP1J,GAAG,+BACHnM,KAAK,SACLqV,QAAS,SAAAxY,GACPA,EAAEC,iBACF2S,EAAM4F,QAAQxY,IAEhByN,UAAU,4CACVwL,cAAY,WACZC,gBAAc,OACdC,gBAAc,SAEd,uBAAG1L,UAAU,wBAM8BqL,IAAMM,U,iDCpB1C,SAASC,GAAT,GAA+B,IAAR3a,EAAO,EAAPA,KAC9B4a,EAAYC,mBADyB,EAEqBlI,cAC9D,SAAApO,GAAK,MAAK,CACRuW,WAAYtG,GAASpH,QAAQJ,UAAUQ,UACrCjJ,EACA,sBAEFwW,YAAavG,GAASpH,QAAQJ,UAAUQ,UACtCjJ,EACA,uBAEFyW,aAAcxG,GAASpH,QAAQJ,UAAUQ,UACvCjJ,EACA,wBAEF0W,aAAczG,GAASpH,QAAQJ,UAAUQ,UACvCjJ,EACA,4BAhBEuW,EAFmC,EAEnCA,WAAYC,EAFuB,EAEvBA,YAAaC,EAFU,EAEVA,aAAcC,EAFJ,EAEIA,aAwF/C,OAnEA7J,qBAAU,WACR,IAAMxI,EAAS,CACbnE,KAAM,WACNzE,KAAM,CACJkb,OAAQ,CACN,YACA,UACA,MACA,UAEFC,SAAU,CACR,CACEnb,KAAMA,EAAO,CAACA,EAAKob,cAAepb,EAAKqb,YAAarb,EAAKsb,SAAUtb,EAAKub,aAAe,GACvFC,gBAAiB,CACbR,EACAD,EACAD,EACAG,MAKV5b,QAAS,CACPoc,iBAAkB,GAClBC,YAAY,EACZC,qBAAqB,EACrBC,OAAQ,CACJ/V,SAAS,EACTgW,SAAU,MACVC,MAAO,OACPZ,OAAO,CACHa,SAAU,KAGlB5P,MAAO,CACHtG,SAAS,EACTmW,KAAM,aAEVC,UAAW,CACPC,cAAc,EACdC,eAAe,GAEnBC,SAAU,CACNC,SAAS,EACTC,WAAW,EACXC,KAAM,UACNC,YAAa,EACbC,SAAU,GACVC,SAAU,GACVC,aAAc,EACdC,eAAe,EACfpB,gBAAiBV,EACjB+B,eAAgB,UAChBC,aAAc,EACdC,cAAe,EACfC,aAAc,KAKhBC,EAAQ,IAAIC,SAAMtC,EAAUuC,QAASvU,GAE3C,OAAO,WACLqU,EAAMG,aAEP,CAACpd,EAAM8a,EAAYC,EAAaC,EAAcC,IAG/C,yBAAKlM,UAAU,iDAMb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,6BAA6BlI,MAAO,CAACwW,OAAQ,UAC1D,yBAAKtO,UAAU,0BACf,4BAAQuL,IAAKM,EAAWhK,GAAG,wBAG7B,yBAAK7B,UAAU,4BACT,yBAAKA,UAAU,2BACX,0BAAMA,UAAU,0CAChB,0BAAMA,UAAU,0BAA0B/O,EAAOA,EAAKob,cAAgB,EAAtE,cAEJ,yBAAKrM,UAAU,2BACX,0BAAMA,UAAU,yCAChB,0BAAMA,UAAU,0BAA0B/O,EAAOA,EAAKqb,YAAc,EAApE,YAEJ,yBAAKtM,UAAU,2BACX,0BAAMA,UAAU,wCAChB,0BAAMA,UAAU,0BAA0B/O,EAAOA,EAAKsb,SAAW,EAAjE,SAEJ,yBAAKvM,UAAU,2BACX,0BAAMA,UAAU,0CAChB,0BAAMA,UAAU,0BAA0B/O,EAAOA,EAAKub,YAAc,EAApE,cClGH,SAAS+B,KAAa,IAAD,EACJlD,IAAM3C,SAAS,IADX,oBACzB8F,EADyB,KACnBC,EADmB,OAEEpD,IAAM3C,SAAS,IAFjB,oBAEzBgG,EAFyB,KAEdC,EAFc,OAGFtD,IAAM3C,SAAS,IAHb,oBAGzBkG,EAHyB,KAGhBC,EAHgB,OAIRxD,IAAM3C,SAAS,IAJP,oBAIzBoG,EAJyB,KAInBC,EAJmB,OAKF1D,IAAM3C,SAAS,IALb,oBAKzBsG,EALyB,KAKhBC,EALgB,OAMN5D,IAAM3C,SAAS,GANT,oBAMzBvO,EANyB,KAMlB+U,EANkB,OAO8BtL,cAC9D,SAAApO,GAAK,MAAK,CACRuW,WAAYtG,GAASpH,QAAQJ,UAAUQ,UACrCjJ,EACA,sBAEFwW,YAAavG,GAASpH,QAAQJ,UAAUQ,UACtCjJ,EACA,uBAEFyW,aAAcxG,GAASpH,QAAQJ,UAAUQ,UACvCjJ,EACA,wBAEF0W,aAAczG,GAASpH,QAAQJ,UAAUQ,UACvCjJ,EACA,4BAhBEuW,EAP0B,EAO1BA,WAAYC,EAPc,EAOdA,YAAaC,EAPC,EAODA,aAAcC,EAPb,EAOaA,aAqB1BzJ,mBACnB,iBAAO,CACL0M,OAAQ,CACNle,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,IAC1Cme,MAAOrD,EACPsD,OAAQ,GAGVC,OAAQ,CACNre,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC3Cme,MAAOpD,EACPqD,OAAQ,GAGVE,OAAQ,CACNte,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC3Cme,MAAOnD,EACPoD,OAAQ,GAGVG,OAAQ,CACNve,KAAM,CAAC,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC1Cme,MAAOlD,EACPmD,OAAQ,MAGZ,CAACtD,EAAYC,EAAaE,EAAcD,IAkD1C,OA7Ce,IAAV9R,IAYFT,EAAK,iBADO,IACmBK,MAAK,SAAUC,GAC7CyU,EAAYzU,EAAS/I,SAMtByI,EAAK,YADO,CAACvC,OAAQ,cACK4C,MAAK,SAAUC,GACxC2U,EAAa3U,EAAS/I,SAMvByI,EAAK,UADO,CAACvC,OAAQ,cACG4C,MAAK,SAAUC,GACtC6U,EAAW7U,EAAS/I,SAMrByI,EAAK,OADO,CAACvC,OAAQ,cACA4C,MAAK,SAAUC,GACnC+U,EAAQ/U,EAAS/I,SAMlByI,EAAK,UADO,CAACvC,OAAQ,cACG4C,MAAK,SAAUC,GACtCiV,EAAWjV,EAAS/I,SAnCpBie,EAAS/U,EAAM,IAwCjB,oCACE,yBAAK6F,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,gCACb,kBAACoK,GAAA,EAAD,CAASpK,UAAU,iEACjB,kBAACoK,GAAA,EAAD,CACEhN,MAAM,WACNvG,QACE,kBAACuT,GAAA,EAAD,QAIJ,kBAACA,GAAA,EAAD,CAAaqF,OAAO,GAClB,yBAAKzP,UAAU,cAAclI,MAAO,CAAC4X,cAAc,QACjD,yBAAK1P,UAAU,uBAAuBlI,MAAO,CAACb,MAAM,QAClD,0BAAM+I,UAAU,uBAAuBwO,EAAKmB,gBAC5C,0BAAM3P,UAAU,qBAAhB,WAEF,yBAAKA,UAAU,kCAAkClI,MAAO,CAACb,MAAM,QAC7D,0BAAM+I,UAAU,uBAAuBwO,EAAKoB,kBAC5C,0BAAM5P,UAAU,qBAAhB,gBAMR,yBAAKA,UAAU,gBAEf,kBAACoK,GAAA,EAAD,CAASpK,UAAU,iEACjB,kBAACoK,GAAA,EAAD,CACEhN,MAAM,SACNvG,QACE,kBAACuT,GAAA,EAAD,QAIJ,kBAACA,GAAA,EAAD,CAAaqF,OAAO,GAClB,yBAAKzP,UAAU,cAAclI,MAAO,CAAC4X,cAAc,QACjD,yBAAK1P,UAAU,uBAAuBlI,MAAO,CAACb,MAAM,QAClD,0BAAM+I,UAAU,uBAAuBwO,EAAKqB,cAC5C,0BAAM7P,UAAU,qBAAhB,WAEF,yBAAKA,UAAU,kCAAkClI,MAAO,CAACb,MAAM,QAC7D,0BAAM+I,UAAU,uBAAuBwO,EAAKsB,gBAC5C,0BAAM9P,UAAU,qBAAhB,iBAOV,yBAAKA,UAAU,gCACb,kBAACoK,GAAA,EAAD,CAASpK,UAAU,iEACjB,kBAACoK,GAAA,EAAD,CACEhN,MAAM,MACNvG,QACE,kBAACuT,GAAA,EAAD,QAIJ,kBAACA,GAAA,EAAD,CAAaqF,OAAO,GAClB,yBAAKzP,UAAU,cAAclI,MAAO,CAAC4X,cAAc,QACjD,yBAAK1P,UAAU,uBAAuBlI,MAAO,CAACb,MAAM,QAClD,0BAAM+I,UAAU,uBAAuBwO,EAAKuB,WAC5C,0BAAM/P,UAAU,qBAAhB,WAEF,yBAAKA,UAAU,kCAAkClI,MAAO,CAACb,MAAM,QAC7D,0BAAM+I,UAAU,uBAAuBwO,EAAKwB,aAC5C,0BAAMhQ,UAAU,qBAAhB,gBAMR,yBAAKA,UAAU,gBAEf,kBAACoK,GAAA,EAAD,CAASpK,UAAU,iEACjB,kBAACoK,GAAA,EAAD,CACEhN,MAAM,SACNvG,QACE,kBAACuT,GAAA,EAAD,QAIJ,kBAACA,GAAA,EAAD,CAAaqF,OAAO,GAClB,yBAAKzP,UAAU,cAAclI,MAAO,CAAC4X,cAAc,QACjD,yBAAK1P,UAAU,uBAAuBlI,MAAO,CAACb,MAAM,QAClD,0BAAM+I,UAAU,uBAAuBwO,EAAKyB,cAC5C,0BAAMjQ,UAAU,qBAAhB,WAEF,yBAAKA,UAAU,kCAAkClI,MAAO,CAACb,MAAM,QAC7D,0BAAM+I,UAAU,uBAAuBwO,EAAK0B,gBAC5C,0BAAMlQ,UAAU,qBAAhB,mBASd,yBAAKA,UAAU,YACb,kBAACoK,GAAA,EAAD,CAAS+F,aAAa,GACpB,kBAAC/F,GAAA,EAAD,CACEhN,MAAM,QACNvG,QACE,kBAACuT,GAAA,EAAD,QAKJ,kBAACA,GAAA,EAAD,KACE,kBAACwB,GAAD,CAAc3a,KAAMud,EAAI,gBAM9B,yBAAKxO,UAAU,OACX,yBAAKA,UAAU,YACX,kBAACoK,GAAA,EAAD,CAAS+F,aAAa,GAClB,kBAAC/F,GAAA,EAAD,CACEhN,MAAM,kBACNvG,QACE,kBAACuT,GAAA,EAAD,KACI,kBAACgG,GAAA,EAAD,CAAQC,KAAM,uBAAgCC,QAAQ,mBAAtD,qBAIR,kBAAClG,GAAA,EAAD,KACI,kBAACmG,GAAA,EAAD,CAAO5D,YAAU,GACf,+BACE,4BACE,qCACA,mCACA,sCACA,uCAGJ,+BACC+B,EAAU8B,KAAI,SAACC,EAAK9c,GACjB8c,EAAIrT,MAAQqT,EAAIrT,MAAM/D,QAAQ,KAAK,KACnC,IAAMrF,EAAOyc,EAAIrT,MACXsT,EAAgBD,EAAI5O,GAAG,IAAI7N,EAAKqF,QAAQ,OAAQ,KAAKuD,cAC3D,OACI,4BACI,4BAAI,uBAAG+T,OAAO,SAASN,KAAM,aAAeK,EAAgB,KAAMD,EAAIrT,MAAQqT,EAAIrT,MAAMwT,MAAM,OAAO,GAAK,SAC1G,4BAAKH,EAAII,IAAMJ,EAAII,IAAM,QACzB,4BAAKJ,EAAIK,eAAiBL,EAAIK,eAAiB,QAC/C,4BAAKL,EAAIM,gBAUnC,yBAAK/Q,UAAU,YACX,kBAACoK,GAAA,EAAD,CAAS+F,aAAa,GAClB,kBAAC/F,GAAA,EAAD,CACEhN,MAAM,iBACNvG,QACE,kBAACuT,GAAA,EAAD,KACI,kBAACgG,GAAA,EAAD,CAAQC,KAAM,qBAA8BC,QAAQ,mBAApD,oBAIR,kBAAClG,GAAA,EAAD,KACI,kBAACmG,GAAA,EAAD,CAAO5D,YAAU,GACf,+BACE,4BACE,qCACA,mCACA,sCACA,uCAGJ,+BACCiC,EAAQ4B,KAAI,SAACC,EAAK9c,GACf8c,EAAIrT,MAAQqT,EAAIrT,MAAM/D,QAAQ,KAAK,KACnC,IAAMrF,EAAOyc,EAAIrT,MACX4T,EAAcP,EAAI5O,GAAG,IAAI7N,EAAKqF,QAAQ,OAAQ,KAAKuD,cACzD,OACI,4BACI,4BAAI,uBAAG+T,OAAO,SAASN,KAAM,WAAaW,EAAc,KAAMP,EAAIrT,MAAQqT,EAAIrT,MAAQ,SACtF,4BAAKqT,EAAIQ,IAAMR,EAAIQ,IAAM,QACzB,4BAAKR,EAAIK,eAAiBL,EAAIK,eAAiB,QAC/C,4BAAKL,EAAIM,iBAYvC,yBAAK/Q,UAAU,OACX,yBAAKA,UAAU,YACX,kBAACoK,GAAA,EAAD,CAAS+F,aAAa,GAClB,kBAAC/F,GAAA,EAAD,CACEhN,MAAM,eACNvG,QACE,kBAACuT,GAAA,EAAD,KACI,kBAACgG,GAAA,EAAD,CAAQC,KAAM,kBAA2BC,QAAQ,mBAAjD,kBAIR,kBAAClG,GAAA,EAAD,KACI,kBAACmG,GAAA,EAAD,CAAO5D,YAAU,GACf,+BACE,4BACE,qCACA,mCACA,sCACA,uCAGJ,+BACCmC,EAAK0B,KAAI,SAACC,EAAK9c,GACZ8c,EAAIrT,MAAQqT,EAAIrT,MAAM/D,QAAQ,KAAK,KACnC,IAAMrF,EAAOyc,EAAIrT,MACX8T,EAAWT,EAAI5O,GAAG,IAAI7N,EAAKqF,QAAQ,OAAQ,KAAKuD,cAEtD,OACI,4BACI,4BAAI,uBAAG+T,OAAO,SAASN,KAAM,QAAUa,EAAW,KAAMT,EAAIrT,MAAQqT,EAAIrT,MAAQ,SAChF,4BAAKqT,EAAIQ,IAAMR,EAAIQ,IAAM,QACzB,4BAAKR,EAAIK,eAAiBL,EAAIK,eAAiB,QAC/C,4BAAKL,EAAIM,gBAUnC,yBAAK/Q,UAAU,YACX,kBAACoK,GAAA,EAAD,CAAS+F,aAAa,GAClB,kBAAC/F,GAAA,EAAD,CACEhN,MAAM,gBACNvG,QACE,kBAACuT,GAAA,EAAD,KACI,kBAACgG,GAAA,EAAD,CAAQC,KAAM,qBAA8BC,QAAQ,mBAApD,mBAIR,kBAAClG,GAAA,EAAD,KACI,kBAACmG,GAAA,EAAD,CAAO5D,YAAU,GACf,+BACE,4BACE,qCACA,sCACA,uCAGJ,+BACCqC,EAAQwB,KAAI,SAACC,EAAK9c,GACb8c,EAAIrT,MAAQqT,EAAIrT,MAAM/D,QAAQ,KAAK,KACnC,IAAMrF,EAAOyc,EAAIrT,MACX+T,EAAcV,EAAI5O,GAAG,IAAI7N,EAAKqF,QAAQ,OAAQ,KAAKuD,cAC3D,OACI,4BACI,4BAAI,uBAAG+T,OAAO,SAASN,KAAM,WAAac,EAAc,KAAMV,EAAIrT,MAAQqT,EAAIrT,MAAQ,SACtF,4BAAKqT,EAAIW,UAAY,SAAW,eAChC,4BAAKX,EAAIM,kB,0BCzYhC,SAASM,KACtB,OACE,kBAACjH,GAAA,EAAD,KACE,kBAACA,GAAA,EAAD,CAAehN,MAAM,gBACrB,kBAACgN,GAAA,EAAD,KACE,4BACE,4BACE,oDACA,kBAAC,KAAD,CAAmBc,SAAS,OAAOpT,MAAOwZ,MAA1C,iBAEF,4BACE,8CACA,6BACA,kBAAC,KAAD,CAAmBpG,SAAS,OAAOpT,MAAOwZ,MAA1C,gBAGF,4BACE,yDACA,6BACA,kBAAC,KAAD,CAAmBpG,SAAS,OAAOpT,MAAOwZ,MAA1C,+BAIJ,iIAEiC,IAC/B,uBACEX,OAAO,SACPY,IAAI,sBACJlB,KAAK,oEAHP,yBAHF,OCtBO,SAASmB,KACtB,OACE,kBAACpH,GAAA,EAAD,KACE,kBAACA,GAAA,EAAD,CAAehN,MAAM,eACrB,kBAACgN,GAAA,EAAD,KACE,4BACE,4BACE,iDACqB,yCADrB,YACmD,IACjD,8CAFF,KAKA,kBAAC,KAAD,CACEc,SAAS,OACTC,KAAI,uUAWR,4BACE,yCACA,kBAAC,KAAD,CAAmBD,SAAS,OAAOpT,MAAOwZ,MAA1C,gBAGJ,gIAEiC,IAC/B,uBAAGjB,KAAK,+DAAR,yBAHF,OCjCO,SAASoB,KACtB,OACE,kBAACrH,GAAA,EAAD,KACE,kBAACA,GAAA,EAAD,CAAehN,MAAM,aACrB,kBAACgN,GAAA,EAAD,KACE,+SAMA,mRAOA,wBAAIvI,GAAG,mBAAP,mBAEA,2BAAO7B,UAAU,SACf,+BACE,4BACE,oCACA,6CAGJ,+BACE,4BACE,gCACG,0CAEH,6DACgC,4CADhC,kBAKF,4BACE,gCACG,0CAEH,4FACgE,IAC9D,4CAFF,cAKF,4BACE,gCACG,iDAEH,mCACM,8CADN,uEAEmC,+CAFnC,iBAGU,8CAHV,MAMF,4BACE,gCACG,2CAEH,sFACqD,IACnD,yCAFF,sBAEgD,IAC9C,wCAHF,QAGgC,0CAHhC,gCAIyB,IACvB,uBAAGqQ,KAAK,oFAAR,0BALF,MAWF,4BACE,gCACG,wCAEH,kJAKF,4BACE,oCACO,8CAEP,qHAKF,4BACE,oCACO,wCAEP,gDAEF,4BACE,wCACW,yCAEX,6CAEF,4BACE,wCACW,yCAEX,uCACU,8CADV,eACgD,IAC9C,4CAFF,eAKF,4BACE,wCACW,0CAEX,qDAEF,4BACE,wCACW,6CAEX,iEAEF,4BACE,wCACW,0CAEX,wCACW,uCADX,iCAC4D,IAC1D,uCAFF,MAKF,4BACE,wCACW,4CAEX,sEAEF,4BACE,0CACA,0HAKF,4BACE,0CACA,uCACU,+CADV,qBACuD,IACrD,4CAFF,MAKF,4BACE,4CACA,qMCxJC,SAASqB,KACtB,OACE,kBAACtH,GAAA,EAAD,KACE,kBAACA,GAAA,EAAD,CAAehN,MAAM,gCACrB,kBAACgN,GAAA,EAAD,KACE,wBAAIvI,GAAG,YAAP,YACA,0CACc,4CADd,4CAEW,IACT,uBAAGwO,KAAK,8EAAR,iBAEK,IALP,MAMM,IACJ,uBAAGA,KAAK,+DAAR,YAPF,KAaA,wBAAIxO,GAAG,6BAAP,6BACA,2BACE,6FAC6D,IAC3D,wDAFF,+CAOF,4EAEA,4BACE,4BACE,qCACS,8EAGT,kBAAC,KAAD,CACEqJ,SAAS,OACTC,KAAI,8bAgBR,4BACE,kCACM,sEAGN,kBAAC,KAAD,CACED,SAAS,OACTC,KAAI,iRAUR,4BACE,kEACuC,IACrC,qEAGF,kBAAC,KAAD,CACED,SAAS,OACTC,KAAI,+sCAgCV,wBAAItJ,GAAG,cAAP,cAEA,+EACoD,IAClD,iDAFF,KAEgC,wDAFhC,wDAKA,uFAC4D,IAC1D,qEAFF,sEAMA,4BACE,kDACqB,sDADrB,IAEE,kBAAC,KAAD,CACEqJ,SAAS,OACTC,KAAI,8GAQR,4BACE,wDACA,kBAAC,KAAD,CACED,SAAS,MACTC,KAAI,uQAQN,4CACA,kBAAC,KAAD,CACED,SAAS,MACTC,KAAI,kUASH,IACH,oEACA,kBAAC,KAAD,CACED,SAAS,MACTC,KAAI,8WCrKH,SAASwG,KACtB,OACE,kBAACvH,GAAA,EAAD,KACE,kBAACA,GAAA,EAAD,CAAehN,MAAM,kBACrB,kBAACgN,GAAA,EAAD,KACE,wBAAIvI,GAAG,YAAP,YACA,qCACS,oDADT,mCACyE,IACvE,uCAFF,+CAIA,2DACgC,IAC9B,uBAAGwO,KAAK,kDAAR,kDAFF,KAOA,wBAAIxO,GAAG,sCAAP,sCAGA,4DACgC,8CADhC,KAIA,kBAAC,KAAD,CACEqJ,SAAS,OACTC,KAAI,+wBC1BC,SAASyG,KACtB,OACE,kBAACxH,GAAA,EAAD,KACE,kBAACA,GAAA,EAAD,CAAehN,MAAM,gCACrB,kBAACgN,GAAA,EAAD,KACE,6BACE,wBAAIvI,GAAG,+BAAP,+BACA,mIAIA,4BACE,4BACE,oDACwB,+DAGxB,kBAAC,KAAD,CACEqJ,SAAS,MACTC,KAAI,6NAUR,4BACE,qCACS,iEAET,kBAAC,KAAD,CACED,SAAS,OACTC,KAAI,0oCA4BR,4BACE,8CACmB,IACjB,4EAGF,kBAAC,KAAD,CACED,SAAS,OACTC,KAAI,wzBAwBV,+DC/FK,SAAS0G,KACtB,OACE,kBAACzH,GAAA,EAAD,KACE,kBAACA,GAAA,EAAD,CAAehN,MAAM,sBACrB,kBAACgN,GAAA,EAAD,KACE,sQAOA,yGAEM,iDAGN,mDACuB,8CADvB,6CAEmB,uCAFnB,+EAMA,kBAAC,KAAD,CACEc,SAAS,OACTC,KAAI,q6DCvBC,SAAS2G,KACtB,OACE,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAOxT,KAAK,oBAAoBgM,UAAW+G,KAC3C,kBAAC,KAAD,CAAO/S,KAAK,iBAAiBgM,UAAWmH,KACxC,kBAAC,KAAD,CAAOnT,KAAK,mBAAmBgM,UAAWkH,KAC1C,kBAAC,KAAD,CAAOlT,KAAK,aAAagM,UAAWoH,KACpC,kBAAC,KAAD,CAAOpT,KAAK,qBAAqBgM,UAAWqH,KAC5C,kBAAC,KAAD,CAAOrT,KAAK,sBAAsBgM,UAAWsH,KAC7C,kBAAC,KAAD,CAAOtT,KAAK,mBAAmBgM,UAAWuH,M,sFCHzC,SAASE,GAAT,GAAuD,IAAhC5G,EAA+B,EAA/BA,KAAMD,EAAyB,EAAzBA,SAAUD,EAAe,EAAfA,YAAe,EACjBvC,oBAAS,GADQ,oBACpDsJ,EADoD,KACrCC,EADqC,KAErDhQ,EAAWQ,mBAAQ,kBAAMyP,kBAAO/G,KAAO,CAACA,IAE9C,OACE,yBAAKnL,UAAU,qBACXiL,GACA,kBAACkH,GAAA,EAAD,CACE/U,MAAM,SACNgV,UAAU,OACVC,KAAML,EACNM,QAAS,WACPL,GAAiB,KAGnB,uBACE5B,KAAK,IACLrQ,UAAU,wBACV+K,QAAS,kBACPwH,KAAKpH,GAAMpR,MAAK,WACdkY,GAAiB,QAIrB,uBAAGjS,UAAU,iBAKnB,kBAAC,KAAD,CAAmBkL,SAAUA,EAAUpT,MAAO0a,MAC3CvQ,IAMM,SAASwQ,GAAT,GAA4D,IAAtCC,EAAqC,EAArCA,OAAQzQ,EAA6B,EAA7BA,SAAU0Q,EAAmB,EAAnBA,gBAAmB,EAC9BjK,oBAAS,GADqB,oBACjEkK,EADiE,UAGxE,OACE,kBAACxI,GAAA,EAAD,KACE,kBAACA,GAAA,EAAD,CACEhN,MAAOuV,EACP9b,QACE6b,IAIJ,kBAACtI,GAAA,EAAD,KACGsI,GAAUE,GACT,kBAACb,GAAD,CAAa7G,SAAS,aAAaC,KAAMuH,IAG1CzQ,GAAY,yBAAKjC,UAAU,uBAAuBiC,K,oVC9CrD4Q,GAAc,CAClBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MAGFC,GAA2BC,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAClE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,I,IAYWO,G,YAClB,WAAYlP,GAAQ,IAAD,+BACjB,8CAAMA,KA+ORmP,cAAgB,SAAAC,GACjB,EAAKC,SAAWD,GAjPI,EAoPnBE,eAAiB,SAAAC,GAClB,EAAKC,eAAeD,IArPA,EAwPnBE,aAAe,SAACF,EAAMG,GAGvB,EAAKC,SAAS,CAAEJ,UAxPd,EAAKlf,MAAQ,CACVuf,mBAAoB,EAAK5P,MAAM6P,YAAc,aAAa,kBAC1DC,kBAAkB,GAClBC,mBAAmB,GACnBC,cAAa,EACbC,WAAW,GACXC,cAAc,GAChBC,SAAS,EACPC,UAAU,GACbC,WAAW,EACXC,aAAc,KACdC,cAAe,KACfhB,KAAM,CACLiB,KAAM,KACN1e,MAAO,IACP2e,OAAQ,EAAI,GAEbC,aAAY,EACZC,YAAY,QACZpC,QAAQ,wCAGgB,IAArB,EAAKvO,MAAM4Q,QACb,EAAKC,SAAS,aACd,EAAKA,SAAS,WA3BG,E,oFAgCpBxlB,KAAKskB,SAAS,CAAEK,cAAc,IAC3B3kB,KAAK2U,MAAM6P,cACTxkB,KAAKgF,MAAM4f,WAAWjjB,OAGzB3B,KAAKylB,YAAYzlB,KAAKgF,MAAM4f,YAF3B5kB,KAAKwlB,SAAS,cAKbxlB,KAAKgF,MAAM6f,cAAcljB,OAG5B3B,KAAKylB,YAAYzlB,KAAKgF,MAAM6f,eAF5B7kB,KAAKwlB,SAAS,Y,+BAMPE,GAA0B,IAAD,OAAb5Z,EAAa,uDAAN,KACpBQ,EAAS,CAACqZ,cAAcD,EAAYE,WAAW5lB,KAAK2U,MAAMsB,MACjD,MAAVnK,IACDQ,EAAM,eAAOA,EAAP,GAAkBR,IAE1B5C,EAAK,SAAUoD,GAAQ/C,MACnB,SAACC,GACA,IAAIkc,EAAa,OACW,WAAzBpZ,EAAOqZ,gBACTD,EAAa,WAEZ,EAAKpB,SAAL,gBAAgBoB,EAAW,SAAY,EAAKD,YAAYjc,EAAS/I,QACtE,EAAKolB,0B,kCAICplB,GAAO,IAAD,OACbqlB,EAAkB9lB,KAAK2U,MAAMmR,gBAC7BC,EAAqB,GA6BzB,OA5BAD,EAAgB9F,KAAI,SAACC,EAAK9c,GACtB4iB,EAAmBhiB,KAAKkc,EAAI+F,uBAEhCvlB,EAAKuf,KAAI,SAACC,EAAK9c,GACd,IAAM8iB,EAAYhG,EAAInS,KAAK,IACrBoY,EAAWjG,EAAI+F,mBAAmBnd,QAAQod,EAAUhG,EAAInS,KAAK,WAC/DqY,EAAa,IAAIC,MACrB,IACCD,EAAWE,OAAS,WACnB5lB,EAAK0C,GAAGmjB,UAAYne,EAAU+d,GAE/BC,EAAWI,QAAU,WACpB9lB,EAAK0C,GAAGmjB,UAAYne,EAAU8X,EAAI+F,oBAEnCG,EAAWK,IAAMre,EAAU+d,EAC3B,MAAOnkB,IAGPtB,EAAK0C,GAAGqjB,IAAMre,EAAU8X,EAAI+F,mBAC5BvlB,EAAK0C,GAAGsjB,eAAiB,IACzBhmB,EAAK0C,GAAGujB,gBAAkB,IACV,WAAbzG,EAAInS,OACNrN,EAAK0C,GAAGwjB,cAAe,yBAAKnX,UAAU,oBAAoB+K,QAAS,kBAAM,EAAKqM,aAAa3G,KAApE,eACrB8F,EAAmBxQ,QAAQ9U,EAAK0C,GAAG6iB,qBAAuB,EAC3DvlB,EAAK0C,GAAG0jB,YAAa,EAErBpmB,EAAK0C,GAAG0jB,YAAa,KAElBpmB,I,oCAGe,IAAXwf,EAAU,uDAAN,KACD,OAARA,IACDA,EAAMjgB,KAAKgF,MAAM8G,QACnB,IAAI4Y,EAAqB1kB,KAAKgF,MAAM0f,mBAChCD,EAAoBzkB,KAAKgF,MAAMyf,kBAC/BiB,EAA+C,eAAlC1lB,KAAKgF,MAAMuf,mBAAsC,YAAc,SAC5EuC,EAAU,CAAChb,OAAOmU,GACG,KAAtBwE,IAECqC,EAAQC,SADgB,MAAvBrC,EACkBA,EAAmB3b,MAAM0b,EAAkB1b,MAE3C0b,EAAkB1b,OAEzC/I,KAAKwlB,SAASE,EAAYoB,K,kCAGlBxkB,EAAO4C,GACf,IAAI8hB,EAAShnB,KAAKgF,MAAME,EAAK,UAC7B8hB,EAAO1kB,GAAOukB,YAAcG,EAAO1kB,GAAOukB,WAC1C7mB,KAAKskB,SAAL,gBAAgBpf,EAAK,SAAU8hB,IAC/BhnB,KAAK6lB,qBACL7lB,KAAKinB,yB,2CAIL,IAAIC,GAAgB,EAChBF,EAAShnB,KAAKgF,MAAM4f,WACxBoC,EAAOhH,KAAI,SAACC,EAAK9c,IACO,IAAnB8c,EAAI4G,aACLK,GAAgB,OAGpBF,EAAShnB,KAAKgF,MAAM6f,eACb7E,KAAI,SAACC,EAAK9c,IACO,IAAnB8c,EAAI4G,aACLK,GAAgB,MAGpBlnB,KAAKskB,SAAS,CAAC4C,cAAcA,M,6CAI9B,IAAIA,GAAgB,EAOtB,OANgBlnB,KAAKgF,MAAM4f,WACjB5E,KAAI,SAACC,EAAK9c,IACO,IAAnB8c,EAAI4G,aACLK,GAAgB,MAGhBA,I,mCAGKhiB,GAAO,IAAD,OACXiiB,EAAQnnB,KAAKgF,MAAME,EAAK,UACxB4gB,EAAkB9lB,KAAK2U,MAAMmR,gBAC7BsB,EAAmB,GACnBrB,EAAqB,GACzBoB,EAAQA,EAAM7a,QAAO,SAAC2T,GACpB,OAAGA,EAAI4G,aACLO,EAAiBrjB,KAAKkc,EAAI5O,IAC1B0U,EAAmBhiB,KAAKkc,EAAI+F,qBACrB,MAGXF,EAAkBA,EAAgBxZ,QAAO,SAAC2T,GACxC,QAAG8F,EAAmBxQ,QAAQ0K,EAAI+F,qBAAuB,MAI3Dhc,EAAI,UAAUod,EAAiB,GAAG,IAAK,CAACC,IAAID,IAAmB7d,MAC3D,SAACC,GAAc,IAAD,EACX,EAAK8a,UAAL,oBAAgBpf,EAAK,SAAUiiB,GAA/B,gCAAoD,GAApD,IACG,EAAKxS,MAAM6P,aAClB,EAAK7P,MAAM2S,aAAaxB,Q,wCAK3B,IAAIC,EAAqB,GACzB/lB,KAAK2U,MAAMmR,gBAAgB9F,KAAI,SAACC,EAAK9c,GACjC4iB,EAAmBhiB,KAAKkc,EAAI+F,uBAEhC,IAAIpB,EAAa5kB,KAAKgF,MAAM4f,WAC5BA,EAAW5E,KAAI,SAACC,EAAK9c,GAChB4iB,EAAmBxQ,QAAQ0K,EAAI+F,qBAAuB,EACvDpB,EAAWzhB,GAAG0jB,YAAa,EAE3BjC,EAAWzhB,GAAG0jB,YAAa,KAG/B7mB,KAAKskB,SAAS,CAACM,WAAWA,EAAYD,cAAa,M,6CAInD,IAAIC,EAAa5kB,KAAKgF,MAAM4f,WACxBkB,EAAkB,GACtBlB,EAAW5E,KAAI,SAACjX,EAAOzG,GACrB,GAAGyG,EAAM8d,WAAY,CACnB,IAAI9C,EAAQ,GACZtV,OAAOC,KAAK3F,GAAOiX,KAAI,SAACC,EAAK9c,GAC3B4gB,EAAM9D,GAAOlX,EAAMkX,MAErB8D,EAAM4C,cAAe,kBAACY,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAG,kBAAC,KAAD,OACvCzD,EAAM8C,YAAa,EACnBf,EAAgB/hB,KAAKggB,OAIL/jB,KAAKgF,MAAM6f,cACjB7E,KAAI,SAACjX,EAAOzG,GACxB,GAAGyG,EAAM8d,WAAY,CACnB,IAAI9C,EAAQ,GACZtV,OAAOC,KAAK3F,GAAOiX,KAAI,SAACC,EAAK9c,GAC3B4gB,EAAM9D,GAAOlX,EAAMkX,MAErB8D,EAAM4C,cAAe,kBAACY,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAG,kBAAC,KAAD,OACvCzD,EAAM8C,YAAa,EACnBf,EAAgB/hB,KAAKggB,OAGzB/jB,KAAKskB,SAAS,CAACK,cAAa,IACzB3kB,KAAK2U,MAAM6P,aACbxkB,KAAK2U,MAAM2S,aAAaxB,K,mCAGhB/B,GACV,IAAMkC,EAAYlC,EAAMjW,KAAK,IACvBoY,EAAWnC,EAAMiC,mBAAmBnd,QAAQod,EAAU,IAC5DjmB,KAAKskB,SAAS,CAACU,WAAW,EAAMC,aAAc9c,EAAU4b,EAAMiC,mBAAoBd,cAAegB,M,oCAGtFnC,GACV/jB,KAAK2U,MAAM6P,aACVxkB,KAAKwlB,SAAS,aACdtT,SAASC,eAAe,+BAA+BsV,UAGvDvV,SAASC,eAAe,oCAAoCsV,QAC5DznB,KAAKwlB,SAAS,a,qCAmBItB,G,6EAClBlkB,KAAKgkB,UAAYE,EAAKzd,OAASyd,EAAKpG,Q,0CACR9d,KAAK0nB,cACpC1nB,KAAKgkB,SACLE,EACA,SAASlkB,KAAKgF,MAAMkgB,gB,OAHbyC,E,OAKN3nB,KAAKskB,SAAS,CAAEqD,oB,qFAIH5D,EAAOG,EAAMgC,GAC5B,IAAM0B,EAAS1V,SAAS2V,cAAc,UAChCC,EAAS/D,EAAMgE,aAAehE,EAAMtd,MACpCuhB,EAASjE,EAAMkE,cAAgBlE,EAAMjG,OAkBxC,OAjBH8J,EAAOnhB,MAAQyd,EAAKzd,MACpBmhB,EAAO9J,OAASoG,EAAKpG,OACT8J,EAAOM,WAAW,MAE1BC,UACFpE,EACAG,EAAKkE,EAAIN,EACT5D,EAAKmE,EAAIL,EACT9D,EAAKzd,MAAQqhB,EACb5D,EAAKpG,OAASkK,EACd,EACA,EACA9D,EAAKzd,MACLyd,EAAKpG,QAGa8J,EAAOU,UAAU,gB,2CAkBf,IAAD,QACnBtoB,KAAKskB,SAAS,CAACQ,SAAS,IACrB9kB,KAAKgF,MAAM2iB,kBAQN5d,EAAK,SAPD,CACVgb,UAAU/kB,KAAKgF,MAAM+f,UACvBwD,QAAUvoB,KAAK2U,MAAM6P,YAAc,OAAO,UAC1CvO,KAAKjW,KAAK2U,MAAMsB,KAChBuS,KAAM,aAAaxoB,KAAKgF,MAAMkgB,cAAc,IAAIllB,KAAKgF,MAAM2iB,gBAC3Dc,YAAa,SAEgBlf,MACjB,SAACC,GACG0I,SAASC,eAAe,oCAAoCsV,QAC5D,EAAKnD,SAAS,CAACM,WAAW,KAC1B,EAAK8D,cAAclf,GACnB,EAAK8a,SAAS,CAACQ,SAAS,EAAOE,WAAW,EAAOC,aAAc,KAAMC,cAAe,KAAMyC,gBAAiB,UAC5GgB,OAAM,SAAAjU,S,+BAMd,IAAD,SAC4H1U,KAAKgF,MAAhHuf,GADjB,EACAuB,gBADA,EACiBvB,oBAAoBE,EADrC,EACqCA,kBAAmBC,EADxD,EACwDA,mBAAoBR,EAD5E,EAC4EA,KAAMyD,EADlF,EACkFA,gBAAiB1C,EADnG,EACmGA,aAAcH,EADjH,EACiHA,QACzH,OACA,6BACE9kB,KAAK2U,MAAM4Q,MACH,kBAACqD,GAAA,EAAD,CACEC,KAAK,KACLC,KAAM9oB,KAAKgF,MAAM2f,aACjBoE,OAAQ,kBAAM,EAAKzE,SAAS,CAAEK,cAAc,KAC5CqE,kBAAgB,gCAEhB,kBAACJ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,CAAa9X,GAAG,gCAAhB,UAEF,kBAACuX,GAAA,EAAMQ,KAAP,KACI,kBAACC,GAAA,EAAD,CAAQC,GAAG,QAAQhiB,MAAO,CAACiiB,aAAa,IACtC,kBAAC,KAAIC,UAAL,CAAenY,GAAG,eAAeoY,iBAAkBlF,GACjD,kBAACmF,GAAA,EAAKC,IAAN,CAAUriB,MAAO,CAAChB,QAAQ,QAASG,MAAM,SACvC,kBAACmjB,GAAA,EAAD,CAAKC,GAAI,IACP,kBAACC,GAAA,EAAD,CAAKhK,QAAQ,SACX,kBAACgK,GAAA,EAAIC,KAAL,KACE,kBAACD,GAAA,EAAIE,KAAL,CAAUzP,QAAS,kBAAM,EAAK+J,SAAS,CAACC,mBAAmB,YAAY0F,SAAS,UAAhF,WAEAjqB,KAAK2U,MAAM6P,YACb,kBAACsF,GAAA,EAAIC,KAAL,KACE,kBAACD,GAAA,EAAIE,KAAL,CAAUzP,QAAS,kBAAM,EAAK+J,SAAS,CAACC,mBAAmB,gBAAgB0F,SAAS,cAApF,eACY,GACd,kBAACH,GAAA,EAAIC,KAAL,KACE,kBAACD,GAAA,EAAIE,KAAL,CAAUzP,QAAS,kBAAM,EAAK+J,SAAS,CAACC,mBAAmB,qBAAqB0F,SAAS,mBAAzF,qBAGJ,kBAAC,KAAIC,QAAL,KACE,kBAAC,KAAIC,KAAL,CAAUF,SAAS,UAChBjqB,KAAK2U,MAAM6P,YAYxB,GAXD,kBAACkF,GAAA,EAAKC,IAAN,KACG,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACb,kBAACkC,GAAA,EAAKY,QAAN,CACPC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,aACZzQ,SAAU,SAAChY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAUhjB,EAAEoe,OAAOpX,YAGzD,8BAGA/I,KAAK2U,MAAM6P,aAAwC,KAAzBxkB,KAAKgF,MAAM+f,UACzB,kBAAC,KAAD,CACI9f,OAAQgD,EAAQ,SAChBK,QAAS,CAAC,cAAiB,SAASC,KACpCkiB,UACqB9hB,IAApB3I,KAAK2U,MAAMsB,MAAyC,IAAnBjW,KAAK2U,MAAMsB,KAC5C,CAAC8O,UAAU/kB,KAAKgF,MAAM+f,UAAWwD,QAAUvoB,KAAK2U,MAAM6P,YAAc,OAAO,UAAWvO,KAAKjW,KAAK2U,MAAMsB,MAEtG,CAAC8O,UAAU/kB,KAAKgF,MAAM+f,UAAWwD,QAAUvoB,KAAK2U,MAAM6P,YAAc,OAAO,WAE5EkG,OAAQ,SAAAlhB,GAAQ,OAAIrB,EAAUqB,EAASwc,oBACvC2E,UAAW,SAAC5G,GAAD,OAAW,EAAK2E,cAAc3E,IACzCxJ,QAAS,SAACwJ,GAAD,OAAW,EAAK6C,aAAa7C,IACzC6G,QAAS,SAACC,EAAQrhB,EAAUua,GAC3BnU,QAAQC,IAAIgb,GACTA,EAAO9G,MAAMyE,KAAKK,KAAlB,IAAuC,GACzC,EAAKvE,SAAS,CACbpB,QAAQ,yCACRmC,aAAY,IAGb,EAAKf,SAAS,CAACe,aAAY,OAGxB,IAENrlB,KAAK2U,MAAM6P,YACb,kBAAC,KAAI2F,KAAL,CAAUF,SAAS,cACjB,kBAACP,GAAA,EAAKC,IAAN,KACE,kBAACC,GAAA,EAAD,CAAKkB,GAAI,EAAGC,GAAI,EAAGlB,GAAI,EAAGrC,GAAI,IAC5B,kBAAC,KAAD,CACEwD,sBAAsB,EAAMhE,OAAQhnB,KAAKgF,MAAM4f,WAC/CqG,cAAe,SAAClpB,GAAD,OAAK,EAAKmpB,YAAYnpB,EAAG,SAAUopB,gBAAgB,EAClEC,UAAW,OAGf,kBAACxB,GAAA,EAAD,CAAKkB,GAAI,EAAGC,GAAI,EAAGlB,GAAI,EAAGrC,GAAI,IAC5B,kBAACkC,GAAA,EAAKU,MAAN,KACE,kBAACV,GAAA,EAAK2B,MAAN,gBACE,kBAAC,KAAD,CACEtiB,MAAO0b,EACP1K,SAAU,SAACkG,GAAQ,EAAKqE,SAAS,CAACG,kBAAkBxE,IAAO,EAAKqL,eAChExrB,QAAS,CACP,CAAC,MAAQ,GAAG,MAAQ,IACpB,CAAC,MAAQ,OAAO,MAAQ,aACxB,CAAC,MAAQ,aAAa,MAAQ,kBAItC,kBAAC4pB,GAAA,EAAKU,MAAN,KACE,kBAACV,GAAA,EAAK2B,MAAN,gBACE,kBAAC,KAAD,CACEtiB,MAAO2b,EACP3K,SAAU,SAACkG,GAAS,EAAKqE,SAAS,CAACI,mBAAmBzE,IAAO,EAAKqL,eAClExrB,QAAS,CACP,CAAC,MAAQ,GAAG,MAAQ,IACpB,CAAC,MAAQ,YAAY,MAAQ,KAC7B,CAAC,MAAQ,aAAa,MAAQ,SAIrCE,KAAKgF,MAAMkiB,cACX,kBAACtH,GAAA,EAAD,CAAQpQ,UAAU,wBAAwB+K,QAAS,SAACxY,GAAD,OAAO,EAAKwpB,aAAa,UAA5E,gBAA6G,MAGxG,GACZ,kBAAC,KAAIpB,KAAL,CAAUF,SAAS,mBACjB,kBAACP,GAAA,EAAKC,IAAN,KACE,kBAACC,GAAA,EAAD,CAAKkB,GAAI,EAAGC,GAAI,EAAGlB,GAAI,EAAGrC,GAAI,IAC5B,kBAAC,KAAD,CACEwD,sBAAsB,EAAMhE,OAAQhnB,KAAKgF,MAAM6f,cAC/CoG,cAAe,SAAClpB,GAAD,OAAK,EAAKmpB,YAAYnpB,EAAG,YAAYopB,gBAAgB,EACpEC,UAAW,OAGf,kBAACxB,GAAA,EAAD,CAAKkB,GAAI,EAAGC,GAAI,EAAGlB,GAAI,EAAGrC,GAAI,IAC5B,kBAACkC,GAAA,EAAKU,MAAN,KACE,kBAACV,GAAA,EAAK2B,MAAN,gBACE,kBAAC,KAAD,CACEtiB,MAAO0b,EACP1K,SAAU,SAACkG,GAAQ,EAAKqE,SAAS,CAACG,kBAAkBxE,IAAO,EAAKqL,eAChExrB,QAAS,CACP,CAAC,MAAQ,GAAG,MAAQ,IACpB,CAAC,MAAQ,OAAO,MAAQ,aACxB,CAAC,MAAQ,aAAa,MAAQ,kBAItC,kBAAC4pB,GAAA,EAAKU,MAAN,KACE,kBAACV,GAAA,EAAK2B,MAAN,gBACE,kBAAC,KAAD,CACEtiB,MAAO2b,EACP3K,SAAU,SAACkG,GAAS,EAAKqE,SAAS,CAACI,mBAAmBzE,IAAO,EAAKqL,eAClExrB,QAAS,CACP,CAAC,MAAQ,GAAG,MAAQ,IACpB,CAAC,MAAQ,YAAY,MAAQ,KAC7B,CAAC,MAAQ,aAAa,MAAQ,SAIrCE,KAAKgF,MAAMkiB,gBAAkBlnB,KAAK2U,MAAM6P,YACxC,kBAAC5E,GAAA,EAAD,CAAQpQ,UAAU,wBAAwB+K,QAAS,SAACxY,GAAD,OAAO,EAAKwpB,aAAa,aAA5E,gBAAgH,MAI/F,WAAvBhH,EACC,kBAACmF,GAAA,EAAKC,IAAN,KACE,kBAACC,GAAA,EAAD,CAAKpC,GAAI,IACP,kBAAC5H,GAAA,EAAD,CAAQrF,QAAS,SAACxY,GAAD,OAAK,EAAKklB,wBAAwBzX,UAAU,0BAA7D,UADF,eAGE,kBAACoQ,GAAA,EAAD,CAAQrF,QAAS,kBAAI,EAAKiR,mBAAmBhc,UAAU,yBAAvD,YAGH,UAWjB,kBAAC6Z,GAAA,EAAD,CAAQ/hB,MAAO,CAACiiB,aAAa,EAAGkC,QAAQ,IACtC,kBAAC,KAAIjC,UAAL,CAAenY,GAAG,eAAeoY,iBAAkBlF,GACjD,kBAACmF,GAAA,EAAKC,IAAN,CAAUriB,MAAO,CAAChB,QAAQ,QAASG,MAAM,OAAQoY,OAAQ,oBAAqB4M,QAAS,QACrF,kBAAC7B,GAAA,EAAD,CAAKC,GAAI,IACP,kBAACC,GAAA,EAAD,CAAKhK,QAAQ,QAAQtQ,UAAU,iBAC7B,kBAACsa,GAAA,EAAIC,KAAL,KACE,kBAACD,GAAA,EAAIE,KAAL,CAAUzP,QAAS,kBAAM,EAAK+J,SAAS,CAACC,mBAAmB,YAAY0F,SAAS,UAAhF,WAEAjqB,KAAK2U,MAAM6P,YACb,kBAACsF,GAAA,EAAIC,KAAL,KACE,kBAACD,GAAA,EAAIE,KAAL,CAAUzP,QAAS,kBAAM,EAAK+J,SAAS,CAACC,mBAAmB,gBAAgB0F,SAAS,cAApF,eACY,GACd,kBAACH,GAAA,EAAIC,KAAL,KACE,kBAACD,GAAA,EAAIE,KAAL,CAAUzP,QAAS,kBAAM,EAAK+J,SAAS,CAACC,mBAAmB,qBAAqB0F,SAAS,mBAAzF,qBAGJ,kBAAC,KAAIC,QAAL,KACE,kBAAC,KAAIC,KAAL,CAAUF,SAAS,UAChBjqB,KAAK2U,MAAM6P,YAYrB,GAXJ,kBAACkF,GAAA,EAAKC,IAAN,KACM,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACb,kBAACkC,GAAA,EAAKY,QAAN,CACPC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,aACZzQ,SAAU,SAAChY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAUhjB,EAAEoe,OAAOpX,YAGzD,8BAGA/I,KAAK2U,MAAM6P,aAAwC,KAAzBxkB,KAAKgF,MAAM+f,UAC5B,kBAAC,KAAD,CAAK2G,SAAS,EACVzmB,OAAQgD,EAAQ,SAChBK,QAAS,CAAC,cAAiB,SAASC,KACpCkiB,UACqB9hB,IAApB3I,KAAK2U,MAAMsB,MACf,IAAnBjW,KAAK2U,MAAMsB,KAEV,CAAC8O,UAAU/kB,KAAKgF,MAAM+f,UAAWwD,QAAUvoB,KAAK2U,MAAM6P,YAAc,OAAO,UAAWvO,KAAKjW,KAAK2U,MAAMsB,MAEhF,CAAC8O,UAAU/kB,KAAKgF,MAAM+f,UAAWwD,QAAUvoB,KAAK2U,MAAM6P,YAAc,OAAO,WAE5EkG,OAAQ,SAAAlhB,GAAQ,OAAIrB,EAAUqB,EAASwc,oBACvC2E,UAAW,SAAC5G,GAAD,OAAW,EAAK2E,cAAc3E,IAC9DxJ,QAAS,SAACwJ,GAAD,OAAW,EAAK6C,aAAa7C,IACjB6G,QAAS,SAACC,EAAQrhB,EAAUua,GAC3BnU,QAAQC,IAAIgb,GACTA,EAAO9G,MAAMyE,KAAKK,KAAlB,IAAuC,GACzC,EAAKvE,SAAS,CACbpB,QAAQ,yCACRmC,aAAY,IAGb,EAAKf,SAAS,CAACe,aAAY,OAczB,IAERrlB,KAAK2U,MAAM6P,YACb,kBAAC,KAAI2F,KAAL,CAAUF,SAAS,cACjB,kBAACP,GAAA,EAAKC,IAAN,KACE,kBAACC,GAAA,EAAD,CAAKkB,GAAI,GAAIC,GAAI,GAAIlB,GAAI,GAAIrC,GAAI,IAC/B,kBAAC,KAAD,CACEwD,sBAAsB,EAAMhE,OAAQhnB,KAAKgF,MAAM4f,WAC/CqG,cAAe,SAAClpB,GAAD,OAAK,EAAKmpB,YAAYnpB,EAAG,SAChEopB,gBAAgB,EACQC,UAAW,SAIP,GACZ,kBAAC,KAAIjB,KAAL,CAAUF,SAAS,mBACjB,kBAACP,GAAA,EAAKC,IAAN,KACE,kBAACC,GAAA,EAAD,CAAKkB,GAAI,GAAIC,GAAI,GAAIlB,GAAI,GAAIrC,GAAI,IAC/B,kBAAC,KAAD,CACEwD,sBAAsB,EAAMhE,OAAQhnB,KAAKgF,MAAM6f,cAC/CoG,cAAe,SAAClpB,GAAD,OAAK,EAAKmpB,YAAYnpB,EAAG,YAAYopB,gBAAgB,EACpEC,UAAW,SAKX,eAAvB7G,GAAuCvkB,KAAKgF,MAAMkiB,gBAAiD,IAAhClnB,KAAK2rB,uBACnD,kBAACjC,GAAA,EAAKC,IAAN,CAAUna,UAAU,QACxC,6BACsB,kBAACoa,GAAA,EAAD,CAAKpC,GAAI,IAChC,kBAAC5H,GAAA,EAAD,CAAQpQ,UAAU,6BAA6B+K,QAAS,SAACxY,GAAD,OAAO,EAAKwpB,aAAa,UAAjF,kBAGsB,QAS5B,kBAAC3C,GAAA,EAAD,CACWC,KAAK,KACLC,KAAM9oB,KAAKgF,MAAMggB,UACjB+D,OAAQ,kBAAM,EAAKzE,SAAS,CAAEU,WAAW,KACzCgE,kBAAgB,gCAEhB,kBAACJ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACjC,kBAACtJ,GAAA,EAAD,CAAQrF,QAAS,SAACxY,GAAD,OAAK,EAAK6pB,sBAAsBpc,UAAS,iCAA4BgL,aACtE,CACE,gEAAiEsK,MAFnF,kBAMQ,kBAAC8D,GAAA,EAAMQ,KAAP,KACR,yBAAK5Z,UAAU,OACdyV,GACA,kBAAC,KAAD,CACDuB,IAAKvB,EACLf,KAAMA,EACN2H,cAAY,EACZC,SAAS,MACThI,cAAe9jB,KAAK8jB,cACpBiI,WAAY/rB,KAAKikB,eACjBlK,SAAU/Z,KAAKokB,aACf4H,YAAY,YACZxc,UAAU,UAGVmY,GACA,yBAAKnY,UAAU,SACZ,yBAAKyc,YAAY,YAAYC,IAAI,OAAO5kB,MAAO,CAAEwkB,SAAU,QAAUtF,IAAKmB,QAMhF,kBAACwE,GAAA,EAAD,CACOC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAM7hB,KAAKgF,MAAMqgB,YACjBkH,iBAAkB,IAClBzK,QAAS,kBAAM,EAAKwC,SAAS,CAACe,aAAY,MAE1C,kBAACjC,GAAD,CACEtB,QAAS,kBAAM,EAAKwC,SAAS,CAACe,aAAY,KAC1CvF,QAAS9f,KAAKgF,MAAMsgB,YACpBpC,QAASljB,KAAKgF,MAAMke,gB,GA9oBUrI,IAAMM,W,2JC/C1CqR,GAAuBvY,aAAe,CACxCU,MAAO,CACH8X,SAAU,CACNC,kBAAkB,GAEtBC,aAAc,CACVrlB,MAAO,CACHhB,QAAS,UAGjBsmB,aAAc,CACVtlB,MAAO,CACHhB,QAAS,SAEbomB,kBAAkB,EAClBG,WAAY,CACRvlB,MAAO,CACHhB,QAAS,QACTwX,OAAQ,6BACR2N,QAAS,eACTjP,SAAU,OACVsQ,WAAY,MACZC,WAAY,MACZnO,MAAO,UACP3C,gBAAiB,OACjB+Q,eAAgB,cAChBnO,OAAQ,oBACRoO,aAAc,MACdC,WAAY,+DACZC,UAAW,mBAOzBC,GAAgBnZ,aAAe,CACnCoZ,UAAW,CACPC,iBAAiB,CACbzgB,KAAM,CACJ,UAAW,CACT,oBAAoB,CACZ0gB,YAAa,wBAIzBC,YAAa,CACT/B,QAAS,OACTtX,WAAY,iCACZyK,MAAO,eAMf6O,G,YAIF,WAAY9Y,GAAQ,IAAD,+BACf,8CAAMA,KAHV+Y,UAAY7S,IAAM8S,YAEC,EAkInBC,qBAAuB,SAAClqB,GAChBA,EAAMyc,OAAO9F,QACb,EAAKiK,SAAS,CAACuJ,cAAc,IAE7B,EAAKvJ,SAAS,CAACuJ,cAAc,KAtIlB,EAqMnBC,mBAAqB,SAACpqB,GAClB,IAAIqqB,EAAW,EAAK/oB,MAAM+oB,SACtBvF,EAAO9kB,EAAMyc,OAAO6N,MAAM,GAI9B,GAHA,EAAK1J,SAAS,CACV2J,YAAaC,IAAIC,gBAAgB3F,UAEzB7f,GAAR6f,EAGA,GAFAA,EAAK4F,OAAS5F,EAAKK,KAAO,KAErBL,EAAK4F,OAAU,KAAO,EACvB5F,EAAK4F,QAAU5F,EAAK4F,OAAS,MAAMC,QAAQ,GAAK,MAChD7F,EAAK9T,MAAQ,yBACbqZ,EAASvF,KAAO,GAChB,EAAKlE,SAAS,CAACgK,aAAc9F,QAC1B,CACHA,EAAK9T,MAAQ,KACb8T,EAAK4F,OAAS5F,EAAK4F,OAAOC,QAAQ,GAAK,MACvC,IAAIE,EAAS,IAAIC,WACjBD,EAAOE,cAAcjG,GACrB+F,EAAOG,UAAY,WACfX,EAASvF,KAAO+F,EAAOI,OACvB,EAAKrK,SAAS,CAACgK,aAAc9F,EAAMuF,SAAUA,OA1N1C,EA8YnBa,UAAY,WACR1c,SAASC,eAAe,wBAAwB0c,SA/YjC,EAocnBC,iBAAmB,WACf,EAAKxK,SAAS,CAACyK,cAAc,KAnc7B,EAAKC,kBAAoBnU,IAAM8S,YAC/B,EAAK3oB,MAAQ,CACTiqB,WAAW,EACXlB,SAAU,CACNmB,IAAKC,KAAO,IAAInf,MAAQof,OAAO,QAC/BC,YAAa,EAAK1a,MAAMlU,KAAKiJ,WAAW4lB,qBAAuB,EAAK3a,MAAMlU,KAAKiJ,WAAW4lB,qBAAuB,EACjHrZ,KAAM,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAO,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAK,MAEjFid,aAAc,KACdiB,SAAU,GACVC,aAAc,GACdC,oBAAqB,GACrBC,UAAW,GACXxqB,KAAM,GACNyqB,MAAO,GACPC,YAAa,GACbC,aAAc,GACdC,SAAU,GACVC,UAAW,GACXC,cAAe,GACfC,MAAO,GACPC,yBAA0B,CACtB7e,GAAGsD,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQ9e,GACtCnL,MAAMyO,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQC,WAAW,IAAIzb,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQE,UAC3FtnB,OAAM,GAEVunB,kBAAmB,CAACvnB,MAAO,IAC3BwnB,cAAe,CAACxnB,MAAO,IACvBynB,qBAAsB,CAACznB,MAAO,IAC9B0nB,sBAAuB,CAAC1nB,MAAO,IAC/B2nB,6BAA8B,CAAC3nB,MAAO,IACtC4nB,0BAA2B,CAAC5nB,MAAO,IACnC6nB,eAAgB,CAAC7nB,MAAO,IACxB8nB,sBAAuB,CAAC9nB,MAAO,IAC/B+nB,eAAgB,CAAC/nB,MAAO,IACxBgoB,0BAA2B,CAAChoB,MAAO,IACnCioB,2BAA4B,CAACjoB,MAAO,IACpCkoB,iBAAkB,CAACloB,MAAO,IAC1BmoB,gBAAiB,CAACnoB,MAAO,IACzBooB,uBAAwB,CAACpoB,MAAO,IAChCqoB,cAAe,CAACroB,MAAO,EAAK4L,MAAMlU,KAAKiJ,WAAWuM,KAAO,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAK,MAC9FggB,gBAAiB,CAACtoB,MAAO,IACzBuoB,oBAAqB,CAACvoB,MAAO,IAC7BwoB,mBAAoB,CAACxoB,MAAO,IAC5BmmB,IAAKC,KAAO,IAAInf,MAAQof,OAAO,QAC/BtJ,gBAAiB,GACjB0L,YAAa,GACbC,aAAc,GACd1C,cAAc,EACd2C,UAAW,GACX7D,cAAc,EACd8D,sBAAuB1mB,EACvB2mB,oBAAqB,GACrBC,oBAAqB3mB,EACrB4mB,4BAA6B,GAC7BC,OAAQ,GACRC,QAAS,GACThmB,cAAa,GAIjB,EAAKimB,aACL,EAAKC,QAAQ,EAAKA,QAAQC,KAAb,iBAhEE,E,mFAoEf,IAAIvyB,KAASI,KAAK0tB,UAAU9P,W,mCAa5B7T,EAAK,WAAY,CAACqoB,OATL,CACT,QAAW,GACX,aAAgB,CAACltB,KAAM,YACvB,WAAc,GACd,iBAAoB,GACpB,gBAAmB,CAACA,KAAM,UAC1B,YAAe,GACf,YAAe,MAEgBqE,KAAK,SAAUC,GAAW,IAAD,WAC/C6oB,GAEL7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACb,eAARkvB,GAAgC,YAARA,IACxBC,EAAI9uB,KAAO8uB,EAAIlC,WAAa,IAAMkC,EAAIjC,WAE1C7mB,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,OAP1C,IAAK,IAAIghB,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,GAWTryB,KAAKskB,SAAS,CACV2L,MAAOzmB,EAAS/I,KAAK8xB,QACrBhD,SAAU/lB,EAAS/I,KAAK+xB,aACxB1C,SAAUtmB,EAAS/I,KAAKgyB,WACxBzC,cAAexmB,EAAS/I,KAAKiyB,iBAC7BjD,oBAAqBjmB,EAAS/I,KAAKkyB,gBACnCjD,UAAWlmB,EAAS/I,KAAKmyB,YACzB7C,UAAWvmB,EAAS/I,KAAKoyB,YACzB7mB,cAAa,KAEnBmmB,KAAKnyB,S,mCAGE0D,EAAOwB,GAChB,IAAI6oB,EAAW/tB,KAAKgF,MAAM+oB,SAC1B,GAAa,QAAT7oB,GAA2B,iBAATA,GAAoC,iBAATA,EAC7C,IAAIhC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,WACpB,GAAY,OAAR7D,EAAe,CAClBhC,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,OAAO,QAC/BpvB,KAAKskB,SAAS,CAAC4K,IAAKxrB,QACjB,CACCR,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,SACxBpvB,KAAKskB,SAAS,CACVwO,aAAwB,iBAAT5tB,EAA2BxB,EAAQ1D,KAAKgF,MAAM8tB,aAC7DC,aAAwB,iBAAT7tB,EAA2BxB,EAAQ1D,KAAKgF,MAAM+tB,eAGxD,cAAT7vB,IACA+c,EAAMvd,SAASud,IAEnB8N,EAAS7qB,GAAQ+c,EACjBjgB,KAAKskB,SAAS,CAACyJ,SAAUA,M,mCAUhBrqB,GAAQ,IAAD,OACHA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAC2K,WAAW,IACrBjvB,KAAKgF,MAAMspB,qBACLtuB,KAAKgF,MAAM+oB,SAASvF,KAC/B,IAAIuF,EAAW/tB,KAAKgF,MAAM+oB,SAC1BA,EAAS/G,OAAShnB,KAAKgF,MAAM8gB,gBAC7BiI,EAASyD,YAAcxxB,KAAKgF,MAAMwsB,YAC9BxxB,KAAKkzB,oBACLnpB,EAAK,YAAagkB,GAAUxkB,MACxB,SAACC,GACG,EAAK8a,SAAS,CAACyJ,SAAUvkB,EAAS/I,OAClC,EAAKkU,MAAMlU,KAAK+Q,QAAQzN,KAAK,2BAC9B4kB,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,yCAM5C,IAAIsxB,EAAS/xB,KAAKgF,MAAM+sB,OACpBqB,EAAS,GACTC,GAAc,EASdC,EAAoB7kB,OAAOC,KAPb,CACd6kB,IAAK,MACLC,IAAK,QAMLC,EAAqBhlB,OAAOC,KAJZ,CAChB2R,IAAK,QAKT,IAAK,IAAItb,KAAOuuB,EACkC,qBAAnCvB,EAAOuB,EAAkBvuB,KAA4D,KAAnCgtB,EAAOuB,EAAkBvuB,MAC7EgtB,EAAOuB,EAAkBvuB,IAAM2uB,MAAM,WACtCL,GAAc,EACdD,EAAOE,EAAkBvuB,IAAQ,CAAC,+BAK9C,IAAK,IAAIA,KAAO0uB,EACmC,qBAApC1B,EAAO0B,EAAmB1uB,KAA6D,KAApCgtB,EAAO0B,EAAmB1uB,MAC/EgtB,EAAO0B,EAAmB1uB,IAAM2uB,MAAM,gCACvCL,GAAc,EACdD,EAAOK,EAAmB1uB,IAAQ,CAAC,6CAQ/C,OAHA/E,KAAKskB,SAAS,CAAC0N,QAASoB,GAAS,WAC7BpzB,KAAK2U,MAAMwe,UAAUnzB,KAAKgF,MAAMgtB,UAClCG,KAAKnyB,OACAqzB,I,4CA8BY,IAAD,OACdM,EAAY,CACZpE,SAAU,WACVqE,gBAAiB,WACjB5D,cAAe,gBACfR,aAAc,eACdqE,iBAAkB,YAClBpE,oBAAqB,sBAGrBqE,MAAO,YACP7d,KAAM,SAGN8d,EAAwB,CACxBhE,UAAW,CAAC,mBAAoB,oBAAqB,UAAW,UAChEL,UAAW,CAAC,yBAKZsE,EAAgBvlB,OAAOC,KAAKilB,GArBd,WAsBT5uB,GACL,IAAIqE,EAAS,GAAID,EAAWwqB,EAAUK,EAAcjvB,IACzB,aAAvBivB,EAAcjvB,IACdqE,EAAOlE,KAAO,WACdkE,EAAOwX,UAAY,GACW,iBAAvBoT,EAAcjvB,IACrBqE,EAAOlE,KAAO,WACdkE,EAAOwX,UAAY,GACW,wBAAvBoT,EAAcjvB,KACrBoE,EAAW,eACXC,EAAOlE,KAAO,UAGlBgE,EAAKC,EAAUC,GAAQG,KAAK,SAAUC,GAAW,IAAD,EACxC/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,EAaZ,GAXsC,aAAlCkzB,EAAUK,EAAcjvB,IACxBtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKjC,WAAa,IAAM3vB,EAAK4xB,GAAKhC,UACjB,UAAlCsD,EAAUK,EAAcjvB,MAC7BtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKlC,QAAQC,WAAa,IAAM3vB,EAAK4xB,GAAKlC,QAAQE,WAE5E5vB,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,QAEmB1I,GAA3C3I,KAAKgF,MAAM+oB,SAASiG,EAAcjvB,KAAsBtE,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAM+oB,SAASiG,EAAcjvB,IAAMsM,KACjH4iB,EAAWxzB,EAAK4xB,SAEwC1pB,GAAxDorB,EAAsBJ,EAAUK,EAAcjvB,KAC9C,IAAK,IAAIzC,KAASyxB,EAAsBJ,EAAUK,EAAcjvB,KAAQ,CACpE,IAAImvB,EAAgBH,EAAsBJ,EAAUK,EAAcjvB,KAAOzC,QAC/BqG,GAAtC3I,KAAKgF,MAAM+oB,SAASmG,IAA+BzzB,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAM+oB,SAASmG,GAAe7iB,IACvGrR,KAAKskB,SAAL,gBAAgB,YAAc4P,EAAgBD,IAI9Dj0B,KAAKskB,UAAL,oBAAgBqP,EAAUK,EAAcjvB,IAAQtE,GAAhD,eAAuD,YAAcuzB,EAAcjvB,GAAOkvB,GAA1F,KAEF9B,KAAK,KAvCX,IAAK,IAAIptB,KAAOivB,EAAgB,EAAvBjvB,K,uCA2CIrB,EAAOqB,GACpB,IAAI4sB,EAAqB,aAAO3xB,KAAKgF,MAAM2sB,uBAC3CA,EAAsBwC,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GAC7Dp0B,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC3xB,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH4sB,oBAFqB,uBAAO5sB,EAAM4sB,qBAAb,CAAkC7sB,U,uCAOlDrB,EAAOqB,EAAKmB,GACzB,IAAIyrB,EAAqB,uBAAO3xB,KAAKgF,MAAM2sB,uBAAlB,CAAyC,CAACzrB,MAAOA,EAAO6C,MAAOhE,KACxF/E,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC,IAAIC,EAAsB5xB,KAAKgF,MAAM4sB,oBACrCA,EAAsBA,EAAoBtlB,QAAO,SAAC2T,EAAK9c,GACnD,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACsN,oBAAqBA,M,+CAGfluB,EAAOqB,GAC5B,IAAI8sB,EAAmB,aAAO7xB,KAAKgF,MAAM6sB,qBACzCA,EAAoBsC,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GAC3Dp0B,KAAKskB,SAAS,CAACuN,oBAAqBA,IACpC7xB,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH8sB,4BAF6B,uBAAO9sB,EAAM8sB,6BAAb,CAA0C/sB,U,+CAO1DrB,EAAOqB,EAAKmB,GACjC,IAAI2rB,EAAmB,uBAAO7xB,KAAKgF,MAAM6sB,qBAAlB,CAAuC,CAAC3rB,MAAOA,EAAO6C,MAAOhE,KACpF/E,KAAKskB,SAAS,CAACuN,oBAAqBA,IACpC,IAAIC,EAA8B9xB,KAAKgF,MAAM8sB,4BAC7CA,EAA8BA,EAA4BxlB,QAAO,SAAC2T,EAAK9c,GACnE,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACwN,4BAA6BA,M,mCAGnC/oB,EAAOhE,GAAM,IAAD,EACjBgpB,EAAW/tB,KAAKgF,MAAM+oB,SAI1B,GAHAA,EAAShpB,GAAOgE,GAASA,EAAMA,MAAQA,EAAMA,MAAQ,GACrD/I,KAAKskB,UAAL,oBAAgB,YAAcvf,EAAMgE,GAAgB,IAApD,0BAAkEglB,GAAlE,IAEI,CAAC,WAAY,eAAgB,OAAQ,sBAAuB,eAAexY,QAAQxQ,IAAQ,GAAKgE,EAAO,CACvG,IAAgCsrB,EAAgB,GAAIjC,EAAS,GACjD,aAARrtB,GACAqtB,EAAS,CACLO,gBAAiB,CAAC2B,eAAgBvrB,EAAMsI,GAAInM,KAAM,aAEtDmvB,EAAgB,gBACD,iBAARtvB,GACPqtB,EAAS,CACLmC,QAAS,CAACC,gBAAiBzrB,EAAMsI,GAAInM,KAAM,aAE/CmvB,EAAgB,QACD,SAARtvB,GACPqtB,EAAS,CACLqC,SAAU,CAACC,OAAQ3rB,EAAMsI,GAAInM,KAAM,aAEvCmvB,EAAgB,SACD,wBAARtvB,GACPqtB,EAAS,CACLmC,QAAS,CAACC,gBAAiBzrB,EAAMsI,GAAInM,KAAM,WAE/CmvB,EAAgB,eACD,gBAARtvB,IACPqtB,EAAS,CACLqC,SAAU,CAACC,OAAQ3rB,EAAMsI,GAAInM,KAAM,WAEvCmvB,EAAgB,gBAGpBtqB,EAAK,WAAY,CAACqoB,OAAQA,IAAS7oB,KAAK,SAAUC,GAAW,IAAD,OACpDyqB,EAAW,GADyC,WAE/C5B,GAF+C,MAGpD7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACzBqG,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,QAEQ1I,GAAtC,EAAK3D,MAAM+oB,SAASsG,IAA+B/B,EAAIjhB,KAAO,EAAKrM,MAAM+oB,SAASsG,GAAehjB,KACjG4iB,EAAW3B,MAEnB,EAAKhO,UAAL,oBACK+P,EAAgB7qB,EAAS/I,KAAK4xB,IADnC,eAC0C,YAAcgC,EAAgBJ,GADxE,KARJ,IAAK,IAAI5B,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,IAaXF,KAAKnyB,U,6BAIR0D,EAAOyU,GACVjG,SAASC,eAAe,qBAAuBgG,GAAKsP,U,kCAG5CnlB,GACR,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAkBA,EAAgBxZ,QAAO,SAAC2T,EAAK9c,GAC3C,OAAOb,IAAUa,KAErBnD,KAAKskB,SAAS,CAACwB,gBAAiBA,M,uCAOnBxjB,GACb,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAgB9F,KAAI,SAACC,EAAK9c,GAClBA,IAAMb,GACNwjB,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,EAChCf,EAAgB3iB,GAAGwxB,KAAO,CAAC,CAAC5rB,MAAO,WAAY6D,MAAO,eAEtDkZ,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,SACzBf,EAAgB3iB,GAAGwxB,SAGlC30B,KAAKskB,SAAS,CAACwB,gBAAiBA,M,sCAGpBrlB,GACZ,IAAMm0B,EAAO,IAAIC,SAQjB,OAPAD,EAAKE,OAAO,qBAAsBr0B,EAAK+nB,MACvCoM,EAAKE,OAAO,OAAQ90B,KAAKgF,MAAMosB,cAAcroB,OAC7C6rB,EAAKE,OAAO,kBAAmB,YAE3B,aAAcr0B,EAAK+nB,MACnBoM,EAAKE,OAAO,cAAer0B,EAAK+nB,KAAKnX,IAElC,CAAC0jB,IAAK9sB,EAAU,WAAY+sB,SAAU,OAAQJ,OAAMtsB,QAAS,CAAC,cAAiB,SAAWC,Q,yCAGlF9H,EAAMoqB,GACrB,GAAe,SAAXA,EAAmB,CACnB,IAAIoK,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACrCxJ,KAAKskB,SAAS,CAACkN,YAAY,GAAD,oBAAMxxB,KAAKgF,MAAMwsB,aAAjB,CAA8ByD,WACrD,GAAe,YAAXpK,GACJpqB,EAAKy0B,IAAI,CACR,IAAID,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACjCgoB,EAAcxxB,KAAKgF,MAAMwsB,YAAYllB,QAAO,SAAC2T,EAAK9c,GAClD,OAAO8c,EAAI5O,KAAO4jB,EAAW5jB,MAEjCrR,KAAKskB,SAAS,CAACkN,YAAaA,O,sCAKxB9tB,EAAOwB,GACnBlF,KAAKskB,SAAS,CACVyK,cAAc,EACd2C,UAAWxsB,M,gCAOT,IAAD,OACDzE,EAAK,CACT+uB,aAAatd,SAASC,eAAe,wBAAwBpJ,MAC7D7D,KAAKgN,SAASC,eAAe,iBAAiBpJ,MAC9C4mB,MAAMzd,SAASC,eAAe,kBAAkBpJ,MAChDosB,YAAYn1B,KAAKgF,MAAM0sB,UACvBzb,KAAKjW,KAAK2U,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,IAEZ,YAAtBrR,KAAKgF,MAAM0sB,YACVjxB,EAAK8uB,SAASrd,SAASC,eAAe,qBAAqBpJ,OAE/DgB,EAAK,cAAetJ,GAAM8I,MACtB,SAACC,GACG,EAAK8a,SAAS,CACVyK,cAAc,OAEnBpG,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,+BAGlC,IAAD,SASDT,KAAKgF,MAPL8tB,EAFC,EAEDA,aAAc/E,EAFb,EAEaA,SAAUgF,EAFvB,EAEuBA,aAActC,EAFrC,EAEqCA,sBAAuBjB,EAF5D,EAE4DA,aAC7Dc,EAHC,EAGDA,kBAAmBf,EAHlB,EAGkBA,SAAUoB,EAH5B,EAG4BA,0BAA2BjB,EAHvD,EAGuDA,UAAWa,EAHlE,EAGkEA,cAAerrB,EAHjF,EAGiFA,KAClFgrB,EAJC,EAIDA,yBAA0BJ,EAJzB,EAIyBA,SAAUH,EAJnC,EAImCA,MAAOC,EAJ1C,EAI0CA,YAAaC,EAJvD,EAIuDA,aAAce,EAJrE,EAIqEA,eAAgBwE,EAJrF,EAIqFA,8BACtFtE,EALC,EAKDA,eAA2CE,GAL1C,EAKeD,0BALf,EAK0CC,4BAA4BjB,EALtE,EAKsEA,UACvEmB,EANC,EAMDA,gBAAiBD,EANhB,EAMgBA,iBAAkBE,EANlC,EAMkCA,uBAAwBnB,EAN1D,EAM0DA,cAC3Da,EAPC,EAODA,sBAAuBL,EAPtB,EAOsBA,qBAAsBE,EAP5C,EAO4CA,6BAA8BU,EAP1E,EAO0EA,cACpEC,GARN,EAQDpB,MARC,EAQMoB,iBAAiBC,EARvB,EAQuBA,oBAAqBC,EAR5C,EAQ4CA,mBAAoBrC,EARhE,EAQgEA,IAAKuC,EARrE,EAQqEA,aAAchC,EARnF,EAQmFA,oBAAqBzjB,EARxG,EAQwGA,aAE7G,OACI,yBAAKwD,UAAU,cACX,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,0BACX,wBAAIA,UAAU,0BAAd,cAKR,yBAAKA,UAAU,0CACX,yBAAKuL,IAAK/a,KAAK0tB,UAAWle,UAAU,4CAA4C6B,GAAG,kBAC9EgkB,sBAAoB,cACrB,yBAAK7lB,UAAU,iBAEX,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,2BAEX,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,OACtDD,sBAAoB,WACrB,yBAAK7lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,wbACFF,KAAK,UAAUC,SAAS,UAAU/S,QAAQ,QAC9C,0BACIgT,EAAE,ulBACFF,KAAK,eAIrB,yBAAKrmB,UAAU,2BAAf,WAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,uQACFF,KAAK,UAAU9S,QAAQ,QAC3B,0BACIgT,EAAE,2eACFF,KAAK,eAIrB,yBAAKrmB,UAAU,2BAAf,cAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,gyBACFF,KAAK,UAAUC,SAAS,YAC5B,4BAAQD,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,KAAKC,GAAG,KAAKC,EAAE,SAInE,yBAAK1mB,UAAU,2BAAf,gBAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,yRACFF,KAAK,YACT,4BAAQA,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,OAAOC,GAAG,MAC1CC,EAAE,WAItB,yBAAK1mB,UAAU,2BAAf,iBASpB,yBAAKA,UAAU,4DAEX,kBAACka,GAAA,EAAD,CAAMla,UAAU,UAAU2mB,YAAU,EAAC9kB,GAAG,wBAClCgI,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KAEnC,yBAAKyN,UAAU,wBAAwB8lB,qBAAmB,eACrDD,sBAAoB,WACrB,yBAAK7lB,UAAU,6BAAf,cACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBAEX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,YAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOunB,EAAkBvnB,MAAMunB,EAAkB,YACjDX,MAAM,WACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,aACpCjC,QAASyvB,MAKrB,kBAAC7F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO0nB,EAAsB1nB,MAAM0nB,EAAsB,YACzDd,MAAM,eACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS0vB,MAKrB,kBAAC9F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,QAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwnB,EAAcxnB,MAAMwnB,EAAc,YACzCZ,MAAM,OACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,SACpCjC,QAASoF,MAKrB,kBAACwkB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,SAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO6nB,EAAe7nB,MAAM6nB,EAAe,YAC3CjB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAAS6vB,MAIrB,6BACI,kBAAC,QAAD,CAAMngB,UAAU,gDAAgDqQ,KAAK,IAAItF,QAAS,SAACxY,GAAD,OAAO,EAAK00B,gBAAgB10B,EAAG,cAC7G,uBAAGyN,UAAU,0BADjB,8DAQhB,yBAAKA,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,6BAAf,0BACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBAEX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,OAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLyqB,MAAM,WACNnsB,KAAK,MACLkzB,aAAc3I,EAAWA,EAAS1N,IAAM,GACxCjG,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,MAEnC,uBAAGyN,UAAU,cAAb,oCAGR,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,OAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACrhB,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CACIrW,MAAO,CAAC,QACRsW,QAAS,IAAI7mB,KAAK,QAClBxM,KAAK,MACLuF,MAAOmmB,EACPnV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,cAMxD,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,iBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOooB,EAAuBpoB,MAAMooB,EAAuB,YAC3DxB,MAAM,wBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,kBACpCjC,QAASkwB,MAIqB,GAAzChwB,KAAKgF,MAAMmsB,uBAAuBpoB,OAAmD,GAAzC/I,KAAKgF,MAAMmsB,uBAAuBpoB,OAAmD,GAAzC/I,KAAKgF,MAAMmsB,uBAAuBpoB,OAAmD,IAAzC/I,KAAKgF,MAAMmsB,uBAAuBpoB,MACvK,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACtBra,UAAU,2BADV,WAEI,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,IAAI7mB,UAAU,UACjC,kBAACka,GAAA,EAAKY,QAAN,CACAC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,WACNngB,UAAU,OACVhM,KAAK,sBACLkzB,aAAc3I,EAAWA,EAAS+I,oBAAsB,GACxD1c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAIW,GAAzC/B,KAAKgF,MAAMmsB,uBAAuBpoB,MAAW,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MAC9D,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,WAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,IAAI7mB,UAAU,UACzB,kBAACka,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,cACZmF,MAAM,WACNngB,UAAU,OACVhM,KAAK,sBACLkzB,aAAc3I,EAAWA,EAAS+I,oBAAsB,GACxD1c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,MAGnC,kBAAC2nB,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,eACZmF,MAAM,WACNngB,UAAU,OACVhM,KAAK,mBACLkzB,aAAc3I,EAAWA,EAASgJ,iBAAmB,GACrD3c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,MAGnC,kBAAC2nB,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,kBACZmF,MAAM,WACNngB,UAAU,OACVhM,KAAK,kBACLkzB,aAAc3I,EAAWA,EAASiJ,gBAAkB,GACpD5c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAG7B,GACd,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,UAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOsoB,EAAgBtoB,MAAMsoB,EAAgB,YAC7C1B,MAAM,WACNnsB,KAAK,SACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpCjC,QAASyK,MAIpBvK,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,eACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,cAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOuoB,EAAoBvoB,MAAMuoB,EAAoB,YACrD3B,MAAM,WACNnsB,KAAK,aACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,eACpCjC,QAAS0K,KAGjB,kBAACof,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,aAAc,gBACvE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,QACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,OAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,SACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,MACLkzB,aAAc3I,EAAWA,EAASwF,IAAM,GACxCnZ,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,MAAO,SAChE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,QACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,OAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,SACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,MACLkzB,aAAc3I,EAAWA,EAASyF,IAAM,GACxCpZ,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,MAAO,SAChE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,SACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,aAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,SACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,OACLkzB,aAAc3I,EAAWA,EAASmJ,KAAO,GACzC9c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,OAAQ,aACjE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,SACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,aAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,SACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,OACLkzB,aAAc3I,EAAWA,EAASoJ,KAAO,GACzC/c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,OAAQ,aACjE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,iBACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACrhB,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CACIrM,UAAQ,EACRsM,QAAS,IAAI7mB,KAAK,cAClBjH,MAAOgqB,EACP3D,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,iBACpCq1B,sBAAoB,OAKpC,kBAACxN,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,eAAgB,kBACzE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,wBACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,uBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,sBACLkzB,aAAc3I,EAAWA,EAASsJ,oBAAsB,GACxDjd,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,sBAAuB,yBAChF,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,yBACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,wBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOqsB,EACPzF,MAAM,uBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,yBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,uBAAwB,0BACjF,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM6sB,oBAAoBlwB,OAAO,GACvC,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAK21B,yBAAyB31B,EAAGA,EAAEoe,OAAOpX,SAE3D,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,oBACC33B,KAAKgF,MAAM6sB,oBAAoB7R,KAAI,SAAAnP,GAAI,OACpC,4BAAQ9H,MAAO8H,EAAK9H,MACZ6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,eAQ1D,yBAAKsJ,UAAU,gBACf,kBAACqoB,GAAA,EAAD,CAAS/X,QAAQ,WACjB,yBAAKtQ,UAAU,gBACf,kBAACka,GAAA,EAAKC,IAAN,KACI,kBAACmO,GAAA,EAAD,CACIC,QACI,kBAACC,GAAA,EAAD,CACIje,SAAU,SAAChY,GAAD,OAAO,EAAK6rB,qBAAqB7rB,IAC3CgH,MAAM,WACNsR,QAASra,KAAKgF,MAAM6oB,aACpBjP,MAAM,YAGd1Y,MAAM,oBAGZlG,KAAKgF,MAAM6oB,cACb,kBAACnE,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,4BACA,kBAAC,KAAD,CACItiB,MAAO2nB,EAA6B3nB,MAAM2nB,EAA6B,YACvEf,MAAM,sBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,wBACpCjC,QAAS2vB,KAGjB,kBAAC/F,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,oBACA,kBAAC,KAAD,CACItiB,MAAOynB,EAAqBznB,MAAMynB,EAAqB,YACvDb,MAAM,cACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,gBACpCjC,QAAS8vB,KAGjB,kBAAClG,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,qBACA,kBAAC,KAAD,CACItiB,MAAO8nB,EAAsB9nB,MAAM8nB,EAAsB,YACzDlB,MAAM,eACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS+vB,KAGjB,6BACI,kBAAC,QAAD,CAAMrgB,UAAU,gDAAgDqQ,KAAK,IAAItF,QAAS,SAACxY,GAAD,OAAO,EAAK00B,gBAAgB10B,EAAG,YAC7G,uBAAGyN,UAAU,0BADjB,8DAMR,yBAAKA,UAAU,gBACf,kBAACqoB,GAAA,EAAD,CAAS/X,QAAQ,WACjB,yBAAKtQ,UAAU,gBACf,kBAACka,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAACkC,GAAA,EAAK2B,MAAN,2BACA,kBAAC3B,GAAA,EAAKY,QAAN,CAAcD,GAAG,WAAWrM,KAAK,IACnBuM,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,cACLkzB,aAAc3I,EAAWA,EAAS9c,YAAc,GAChDmJ,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,WAQjE,yBAAKyN,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,6BAAf,mBACA,yBAAKA,UAAU,4CACX,yBAAKA,UAAU,sBAEX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,eAGA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwoB,EAAmBxoB,MAAMwoB,EAAmB,YACnD5B,MAAM,WACNnsB,KAAK,YACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,cACpCjC,QAAS2K,MAIiB,SAArCzK,KAAKgF,MAAM+oB,SAAX,WACD,kBAACrE,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,QACLkzB,aAAc3I,EAAWA,EAASkK,MAAQ,GAC1C7d,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAEjC,kBAAC2nB,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,0BAApC,SAI+B,cAArCxP,KAAKgF,MAAM+oB,SAAX,WACqC,cAArC/tB,KAAKgF,MAAM+oB,SAAX,WACqC,mBAArC/tB,KAAKgF,MAAM+oB,SAAX,WACqC,aAArC/tB,KAAKgF,MAAM+oB,SAAX,WACqC,SAArC/tB,KAAKgF,MAAM+oB,SAAX,WACqC,YAArC/tB,KAAKgF,MAAM+oB,SAAX,YAGJ,kBAACrE,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BAA2BxP,KAAKgF,MAAM+oB,SAAX,UADjD,UAEA,kBAACnE,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACID,GAAG,WAAWrM,KAAK,IACnB2R,MAAM,WACNnsB,KAAK,QACLkzB,aAAc3I,EAAWA,EAASmK,MAAQ,GAC1C9d,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAK3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,eAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACrhB,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CACIrM,UAAQ,EACR4N,aAAa,EACbpvB,MAAO+pB,EACP1D,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,iBACpCq1B,sBAAoB,QAMxC,kBAAC1N,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,oBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO4nB,EAA0B5nB,MAAM4nB,EAA0B,YACjEhB,MAAM,mBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,qBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,QAI9F,kBAAC0d,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,mBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmnB,EAAyBnnB,MAAMmnB,EAAyB,YAC/DP,MAAM,kBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,oBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa+jB,EAAU9jB,QAI5FhM,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,UACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,SAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO+nB,EAAe/nB,MAAM+nB,EAAe,YAC3CnB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,QAAS,WAC1D,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,WACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,UAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmoB,EAAgBnoB,MAAMmoB,EAAgB,YAC7CvB,MAAM,SACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,SAAU,YAC3D,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,YACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,WAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOkoB,EAAiBloB,MAAMkoB,EAAiB,YAC/CtB,MAAM,UACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,YACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,UAAW,aAC5D,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,sBACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,qBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOioB,EAA2BjoB,MAAMioB,EAA2B,YACnErB,MAAM,oBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,oBAAqB,sBACzD8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,uBACjD,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,qBACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,oBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACI1G,MAAM,mBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,qBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,mBAAoB,sBACrE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM2sB,sBAAsBhwB,OAAO,GACzC,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAKs2B,iBAAiBt2B,EAAGA,EAAEoe,OAAOpX,SAEnD,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,oBACC33B,KAAKgF,MAAM2sB,sBAAsB3R,KAAI,SAAAnP,GAAI,OACtC,4BAAQ9H,MAAO8H,EAAK9H,MACZ6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,kBAWtE,yBAAKsJ,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,4CACX,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,6BAAf,2BACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,uBAKX,kBAAC,GAAD,CAAc+V,OAAO,EAAOxK,IAAK/a,KAAKgvB,kBACxB/Y,KAAMmb,EAAcroB,MACpByb,YAAqC,KAAxB4M,EAAcroB,MAC3B+c,gBAAiB9lB,KAAKgF,MAAM8gB,gBAC5BwB,aAAc,SAACN,GAAD,OAAY,EAAK1C,SAAS,CAACwB,gBAAiBkB,OACxE,kBAAC0C,GAAA,EAAKC,IAAN,KACK3pB,KAAKgF,MAAM8gB,iBAAmB9lB,KAAKgF,MAAM8gB,gBAAgBnkB,OAAS,GACnE,kBAAC22B,GAAA,EAAD,CAAWjO,GAAIT,KAAKpC,GAAG,MACnB,yBAAKhY,UAAU,6BAAf,oBAGJ,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAAC,KAAD,CAAS2D,gBAAgB,EAAO9Z,GAAG,kBAAkB+Z,UAAW,IACvDmN,OAAQ,EACRvN,sBAAsB,EACtBC,cAAe,SAAClpB,GAAD,OAAO,EAAKy2B,YAAYz2B,IACvCilB,OAAQhnB,KAAKgF,MAAM8gB,gBACnB2S,iBAAkB,SAAC12B,GAAD,OAAO,EAAK02B,iBAAiB12B,UAKxE,kBAAC81B,GAAA,EAAD,MACA,yBAAKroB,UAAU,6BAAf,gBACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,sBACX,kBAAC,KAAD,CACIkpB,aAAa,kCACbC,OAAO,OACPC,OAAQ,CAACC,SAAU,CAACC,UAAW,IAAKC,WAAY,CAACvc,SAAS,OAAQ+b,OAAQ,QAC1ES,gBAAiB,SAACv4B,GAAD,OAAU,EAAKu4B,gBAAgBv4B,IAChDw4B,eAAgB,SAACx4B,EAAMoqB,GAAP,OAAkB,EAAKqO,mBAAmBz4B,EAAMoqB,IAChEsO,aAAe,QACf1H,aAAcA,SAQtC,yBAAKjiB,UAAU,oBACX,yBACIA,UAAU,qFACV,kBAAC,QAAD,CAAM4pB,GAAI,wBACN,uBAAG5pB,UAAU,0BADjB,WAKJ,yBACIA,UAAU,8EACV8lB,qBAAmB,eAFvB,YAKA,kBAAC1V,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,cACrDuK,UAAU,4EACV8lB,qBAAmB,iBAF3B,UAKA,yBACI9lB,UAAU,0EACV8lB,qBAAmB,eAFvB,kBAYpB,kBAAC1M,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAM+pB,aAAchG,OAAQ/oB,KAAK8uB,iBAAkBuK,UAAQ,GACzE,kBAACzQ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACrB,kBAACN,GAAA,EAAMO,MAAP,gBAAsBnpB,KAAKgF,MAAM0sB,UAAU4H,OAAO,GAAGC,cAAgBv5B,KAAKgF,MAAM0sB,UAAUhlB,MAAM,GAAhG,iBAEJ,kBAACkc,GAAA,EAAMQ,KAAP,KAC8B,aAAzBppB,KAAKgF,MAAM0sB,WACZ,kBAAChI,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,YAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,oBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAK9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,gBAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,uBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAI9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,QAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,gBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAI9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,SAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,iBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,cAKlE,kBAAC6f,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,YAAYvF,QAASva,KAAK8uB,kBAA1C,UAGA,kBAAClP,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAKkyB,SAAxC,iB,GA38CHrX,IAAMM,WAq9CrBse,G,YACF,WAAY9kB,GAAQ,IAAD,uBACf,8CAAMA,IACN,IAAIzP,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFf,OAGf,EAAKF,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,GACrC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALF,E,yEAQTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAEjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GACtC,IAAMw2B,EAAY50B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAC1D,OAAO,wBAAI3H,IAAKzC,EAAQa,GAAG,0BACvBmE,MAAO,CAAC,iBAAkB,eAAgBqyB,EAAU9wB,QAAQ,KAAM,MAD/D,MAC+E6L,UAMtG,kBAAC,GAAD,CAAQjU,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,iB,GA/BjCtY,IAAMM,WAsChBye,gBAAWH,I,kBC3lDnB,SAASI,GAAWC,EAAIC,EAAMplB,GACjC,IAAI7O,EAAOg0B,EAAGE,YAAY9sB,KAAKpH,OAC3B4D,EAAaiL,EAAMjL,gBACCf,IAArBe,EAAWqwB,GACZrwB,EAAWqwB,GAAME,QAAUn0B,EAAKoH,KAEhCxD,EAAWqwB,GAAQ,CAACE,QAAUn0B,EAAKoH,MACrCyH,EAAMulB,aAAaxwB,GAGhB,SAASywB,GAAWJ,EAAMplB,GAChC,IAAIzH,EAAO,EACV,QAAwBvE,IAArBgM,EAAMjL,WAA0B,CACjC,IAAI0wB,EAAWzlB,EAAMjL,WAAW0wB,cAChBzxB,IAAbyxB,GAA0BA,EAAS7kB,QAAQZ,EAAMhD,SAASjC,WAAa,IAAkC,GAA7B0qB,EAAS7kB,QAAQ,UAAgD,GAA/B6kB,EAAS7kB,QAAQ,gBAClG5M,IAA3BgM,EAAMjL,WAAWqwB,KAClB7sB,EAAwC,GAAjCyH,EAAMjL,WAAWqwB,GAAME,SAGrC,OAAO/sB,EAGD,ICXDmtB,G,YAEJ,WAAY1lB,GAAQ,IAAD,8BACjB,8CAAMA,KAC6BA,MAAMlU,KAAKizB,MAAMtqB,OAA5CkxB,EAFS,EAETA,YAAap1B,EAFJ,EAEIA,KAFJ,OAMjB,EAAKq1B,WAAa,CAACzN,WAAW,KAC9B,EAAK2J,gBAAkB,EAAKA,gBAAgBtE,KAArB,iBACvB,EAAKrD,iBAAmB,EAAKA,iBAAiBqD,KAAtB,iBACxB,EAAKD,QAAU,EAAKA,QAAQC,KAAb,iBACf,EAAKntB,MAAQ,CACXE,KAAOA,EACP6oB,SAAS,GACT9oB,OAAO,GACPu1B,WAAW,EACXC,WAAY,GACZC,WAAY,GACZ3W,MAAM,GACN4W,aAAc,IAGhB,EAAKC,YAAYN,GACjB,EAAKO,SAnBY,CACfpP,QAAU,QAJK,E,2EAyBP6O,GAAc,IAAD,OACvBpxB,EAAK,aAAaoxB,EAAY,KAAK/wB,MACjC,SAACC,GACG,EAAK8a,SAAS,CACVmW,YAAa,IAAIK,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKg6B,aACrEC,YAAa,IAAII,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKi6B,aACrE3W,MAAOva,EAAS/I,KAAK0mB,MAAQ3d,EAAS/I,KAAK0mB,MAAQ,OAEvD,EAAKxS,MAAMqmB,iBAAiBxxB,EAAS/I,KAAKmM,MAAO0tB,GACjD,EAAKhW,SAAS,CAACyJ,SAAWvkB,EAAS/I,Y,sCAI3BiD,EAAOuB,GACrB,IAAIgb,EAAMvc,EAAMyc,OAAOpX,MACR,WAAX9D,IACFgb,EAAMvd,SAASud,GACfjgB,KAAKskB,SAAS,CAACqW,aAAuB,IAAR1a,EAAY,EAAE,KAE9CjgB,KAAKskB,SAAS,CAACrf,OAAQA,IACvBjF,KAAKskB,SAAS,CAAEkW,WAAW,M,yCAI5Bx6B,KAAKskB,SAAS,CAAEkW,WAAW,M,gCAGjB,IAAD,OACiB,WAAtBx6B,KAAKgF,MAAMC,SACZjF,KAAKgF,MAAM+oB,SAAS4M,aAAe36B,KAAKgF,MAAM21B,aAC9C7wB,EAAM,aAAa9J,KAAKgF,MAAM+oB,SAAS1c,GAAG,IAAK,CAACspB,aAAc36B,KAAKgF,MAAM21B,eAAepxB,MACtF,SAACC,GACC,EAAK8a,SAAS,CAACyJ,SAAWvkB,EAAS/I,OACnC,EAAK6jB,SAAS,CAACkW,WAAY,OAC5B7R,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,MACpC,EAAK6jB,SAAS,CAACkW,WAAY,U,+BAKzB,IAAD,EACyBx6B,KAAKgF,MAAlB+oB,GADZ,EACCkB,UADD,EACYlB,UACnB,OACI,6BACE,kBAACxG,GAAA,EAAD,CAAM0T,WAAS,EAAChY,QAAS,GACnB,kBAACsE,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACrB,yBAAKvb,UAAU,sBAOL,yBAAKA,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,YACA,6BAAMue,EAASwB,SAAWxB,EAASwB,SAAS/rB,KAAO,UAEvD,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAMue,EAASyB,aAAezB,EAASyB,aAAahsB,KAAO,MAGnE,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,mBACA,6BAAMue,EAAS6F,gBAAkB7F,EAAS6F,gBAAgBxD,WAAa,IAAMrC,EAAS6F,gBAAgBvD,UAAY,UAEtH,yBAAK7gB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMue,EAAS+F,MAAQ/F,EAAS+F,MAAMtwB,KAAO,WAGrD,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,UACA,6BAAMue,EAASmN,OAASnN,EAASmN,OAAO13B,KAAO,UAEnD,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,WACA,6BAAMue,EAASoN,QAAUpN,EAASoN,QAAQ33B,KAAO,WAGzD,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,qBACA,6BAAMue,EAASqN,kBAAoBrN,EAASqN,kBAAkB53B,KAAO,UAEzE,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,oBACA,6BAAMue,EAASsN,iBAAmBtN,EAASsN,iBAAiB73B,KAAO,WAG3E,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAMue,EAAS+E,aDjHlB,WAA6B,IAA5BwI,EAA2B,uDAAtB,KAAMlM,EAAgB,uDAAT,KAC9CmM,EAAS,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO,MAAM,MAAM,MAAM,MAAM,OACrE,OAATD,IACDA,EAAO,IAAItrB,MAEb,IAAIwrB,EAAKF,EAAKG,UACVC,EAAKJ,EAAKK,WAAa,EAEvBC,EAAON,EAAKO,cAOhB,OANIL,EAAK,KACPA,EAAK,IAAMA,GAETE,EAAK,KACPA,EAAK,IAAMA,GAEC,eAAXtM,EACMwM,EAAK,IAAIF,EAAG,IAAIF,EACN,aAAXpM,EACCoM,EAAG,IAAIE,EAAG,IAAIE,EAAK7tB,WAAW+tB,QAAQ,GAC5B,iBAAX1M,EACCmM,EAAOG,EAAG,GAAG,IAAIF,EAAG,KAAKI,EAG3BJ,EAAK,IAAME,EAAK,IAAME,EC0FmCG,CAAkB,IAAI/rB,KAAK+d,EAAS+E,cAAe,gBAAkB,UAEvG,yBAAKtjB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,oBACA,6BAAMue,EAAS8F,iBAAmB9F,EAAS8F,iBAAiBrwB,KAAO,WAG3E,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMue,EAASiC,cAAgBjC,EAASiC,cAAcxsB,KAAO,UAEjE,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,WACA,4CACSue,EAASiJ,gBAAkBjJ,EAASiJ,gBAAkB,EAD/D,kBAESjJ,EAASgJ,iBAAmBhJ,EAASgJ,iBAAmB,EAFjE,eAGShJ,EAAS+I,oBAAsB/I,EAAS+I,oBAAsB,KAG/E,yBAAKtnB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,uBACA,6BAAMue,EAAS0B,oBAAsB1B,EAAS0B,oBAAoBjsB,KAAO,UAE7E,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,OACA,6BAAMue,EAASmB,IAAMnB,EAASmB,IAAM,WAG5C,6BAOA,yBAAK1f,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,QACA,6BAAMue,EAAS7oB,KAAO6oB,EAAS7oB,KAAK1B,KAAO,UAE/C,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMue,EAAS4B,MAAQ5B,EAAS4B,MAAMnsB,KAAO,WAGrD,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,kBACA,6BAAMue,EAASlD,OAASkD,EAASlD,OAAS,UAE9C,yBAAKrb,UAAU,mBACX,yBAAKA,UAAU,yBAAf,cACA,6BAAMue,EAASiO,WAAajO,EAASiO,WAAa,WAG1D,yBAAKxsB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAMue,EAASgF,cAAe,IAAI+H,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAK+d,EAASgF,eAAiB,UAEtG,yBAAKvjB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,OACA,6BAAMue,EAAS1N,IAAM0N,EAAS1N,IAAM,WAG5C,yBAAK7Q,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,OACA,6BAAMue,EAASwF,IAAMxF,EAASwF,IAAM,UAExC,yBAAK/jB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,OACA,6BAAMue,EAASyF,IAAMzF,EAASyF,IAAM,WAG5C,yBAAKhkB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,WACA,6BAAMue,EAASmJ,KAAOnJ,EAASmJ,KAAO,UAE1C,yBAAK1nB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,WACA,6BAAMue,EAASoJ,KAAOpJ,EAASoJ,KAAO,WAG9C,yBAAK3nB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,wBACA,6BAAMue,EAASkO,qBAAuBlO,EAASkO,qBAAqBz4B,KAAO,UAE/E,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,uBACA,6BAAMue,EAASsJ,oBAAsBtJ,EAASsJ,oBAAsB,WAG5E,yBAAK7nB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAMue,EAAS8B,aAAe9B,EAAS8B,aAAarsB,KAAO,UAE/D,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,eACA,6BAAMue,EAAS6B,YAAc7B,EAAS6B,YAAYpsB,KAAO,WAGjE,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,aACA,6BAAMue,EAASmO,UAAYnO,EAASmO,UAAY,UAEpD,yBAAK1sB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMue,EAASkK,MAAQlK,EAASkK,MAAM,OAAS,WAGvD,6BACA,yBAAKzoB,UAAU,YACX,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,yBAAf,sBACA,6BAAMue,EAAS9c,YAAc8c,EAAS9c,YAAc,WAG5D,6BACA,yBAAKzB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMue,EAASxN,MAAQwN,EAASxN,MAAQ,IAE5C,yBAAK/Q,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMue,EAASoO,MAAQpO,EAASoO,MAAQ,KAGhD,yBAAK3sB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,kBACA,6BAAMue,EAASsB,YAAc,MAAQ,OAEzC,yBAAK7f,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAEYue,EAASzN,eAAgBhW,EAAS0V,KAAI,SAACC,EAAK9c,GACxC,GAAI8c,EAAIlX,QAAUglB,EAASzN,eACvB,OAAOL,EAAIlX,SACd,SAMzB,yBAAKyG,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,oBACA,6BAAMue,EAAS4M,aAAe,MAAQ,OAE1C,yBAAKnrB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAMxP,KAAKgF,MAAMy1B,WAAaz6B,KAAKgF,MAAMy1B,WAAa,WAG9D,yBAAKjrB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMxP,KAAKgF,MAAM01B,WAAa16B,KAAKgF,MAAM01B,WAAa,aAK1E,kBAACnT,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACG,KAArB/qB,KAAKgF,MAAM+e,OAAgB/jB,KAAKgF,MAAM+e,MAAMpiB,OAAS,EAAI,kBAACy6B,GAAA,EAAD,KACjDp8B,KAAKgF,MAAM+e,OAAS/jB,KAAKgF,MAAM+e,MAAM/D,KAAI,SAAC+D,EAAOzhB,GAC9C,OAAO,kBAAC85B,GAAA,EAASrS,KAAV,CAAehlB,IAAKzC,GACvB,yBACIkN,UAAU,gBACVgX,IAAKre,EAAU4b,EAAMiC,0BAMpC,yBAAKxW,UAAU,gBAAgBgX,IAAKne,MAKnD,kBAACugB,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAMw1B,UAAWzR,OAAQ/oB,KAAK8uB,kBAC9C,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASva,KAAKkyB,SAAvC,OAGA,kBAACtS,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASva,KAAK8uB,kBAAvC,a,GAhUOjU,IAAMM,WA0UrBkhB,G,YACJ,WAAY1nB,GAAQ,IAAD,wBACjB,8CAAMA,KAcRqmB,iBAAmB,SAACpuB,EAAOyE,GACzB,IAAIirB,EAAe1vB,EAAMR,cAErBkwB,EADDA,EAAa/vB,SAAS,SACN+vB,EAAalc,MAAM,SAAS,GAAGvX,QAAQ,KAAK,KAE5CyzB,EAAazzB,QAAQ,KAAK,KAE7C,EAAKyb,SAAS,CAACiY,eAAeD,EAAcE,aAAcnrB,EAAG,IAAIzE,EAAMR,iBApBvE,IAAIlH,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFb,OAGjB,EAAKF,MAAQ,CAACouB,OAAO,GAAIsG,WAAU,EAAO6C,eAAe,YACzD,EAAKv3B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALA,E,yEAQTzd,GACLjG,OAAOC,KAAKgG,GAAO/S,QACpB3B,KAAKskB,SAAS,CAACoV,WAAU,IAE3B15B,KAAKskB,SAAS,CAAC8O,OAAO1e,M,+BAYd,IAAD,OACP,OACE,oCACA,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCAAmCzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAE7FjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACvC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAExC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAMa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA3D,MAAkEgI,UAK/E,yBAAKlF,UAAU,OACb,yBAAKA,UAAU,aACb,kBAACyS,GAAD,CACEE,gBAAiB,wBAAIsa,MAAM,yBAAyBn1B,MAAO,CAACo1B,cAAe,eAC3E,uBAAGvc,OAAO,SAASN,KAAM,aAAa7f,KAAKgF,MAAMw3B,cAAex8B,KAAKgF,MAAMu3B,iBAE3Era,OAAY,yBAAK1S,UAAU,4BAC3B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACf,kBAAC,QAAD,CAAM4pB,GAAI,uBAAgC5pB,UAAU,6BAC9C,uBAAGA,UAAU,0BADnB,QAIE,kBAAC,QAAD,CAC4B4pB,GAAI,wBAAkCp5B,KAAK2U,MAAM+e,MAAMtqB,OAAOkxB,YAAc,QAC5E9qB,UAAU,mBACV,uBAAGA,UAAU,eAHzC,aAWN,yBAAKA,UAAU,cACb,kBAAC,GAAD,CAAQ/O,KAAMT,KAAK2U,MAAOqmB,iBAAkB,SAACpuB,EAAOyE,GAAR,OAAc,EAAK2pB,iBAAiBpuB,EAAOyE,IAAK8hB,UAAWnzB,KAAKmzB,qB,GAhEnGtY,IAAMM,WA0EhBye,gBAAWyC,ICnXpB7P,I,QAAuBvY,aAAe,CACxCU,MAAO,CACH8X,SAAU,CACNC,kBAAkB,GAEtBC,aAAc,CACVrlB,MAAO,CACHhB,QAAS,UAGjBsmB,aAAc,CACVtlB,MAAO,CACHhB,QAAS,SAEbomB,kBAAkB,EAClBG,WAAY,CACRvlB,MAAO,CACHhB,QAAS,QACTwX,OAAQ,6BACR2N,QAAS,eACTjP,SAAU,OACVsQ,WAAY,MACZC,WAAY,MACZnO,MAAO,UACP3C,gBAAiB,OACjB+Q,eAAgB,cAChBnO,OAAQ,oBACRoO,aAAc,MACdC,WAAY,+DACZC,UAAW,oBAMzBC,GAAgBnZ,aAAe,CACnCoZ,UAAW,CACPC,iBAAiB,CACbzgB,KAAM,CACJ,UAAW,CACT,oBAAoB,CACZ0gB,YAAa,wBAIzBC,YAAa,CACT/B,QAAS,OACTtX,WAAY,iCACZyK,MAAO,eAKf+d,G,YAIF,WAAYhoB,GAAQ,IAAD,wBACf,8CAAMA,KAHV+Y,UAAY7S,IAAM8S,YAEC,EAqHnBC,qBAAuB,SAAClqB,GAChBA,EAAMyc,OAAO9F,QACb,EAAKiK,SAAS,CAACuJ,cAAc,IAE7B,EAAKvJ,SAAS,CAACuJ,cAAc,KAzHlB,EA0nBnBiB,iBAAmB,WACf,EAAKxK,SAAS,CAACyK,cAAc,KA3nBd,MAEa,EAAKpa,MAAMlU,KAAKizB,MAAMtqB,OAA3CkxB,EAFQ,EAERA,YAFQ,EAEKp1B,KAFL,OAGf,EAAK8pB,kBAAoBnU,IAAM8S,YAC/B,EAAK3oB,MAAQ,CACTiqB,WAAW,EACXlB,SAAU,GACVO,aAAc,KACdiB,SAAU,GACVC,aAAc,GACdE,UAAW,GACXI,SAAU,GACV5qB,KAAM,GACNyqB,MAAO,GACPC,YAAa,GACbC,aAAc,GACdJ,oBAAqB,GACrBM,UAAW,GACXC,cAAe,GACfC,MAAO,GACPnkB,OAAQ,GACRokB,yBAA0B,CACtB7e,GAAGsD,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQ9e,GACtCnL,MAAMyO,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQC,WAAW,IAAIzb,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQE,UAC3FtnB,OAAM,GAEVunB,kBAAmB,CAACvnB,MAAO,IAC3BwnB,cAAe,CAACxnB,MAAO,IACvBynB,qBAAsB,CAACznB,MAAO,IAC9B0nB,sBAAuB,CAAC1nB,MAAO,IAC/B2nB,6BAA8B,CAAC3nB,MAAO,IACtC4nB,0BAA2B,CAAC5nB,MAAO,IACnC6nB,eAAgB,CAAC7nB,MAAO,IACxB8nB,sBAAuB,CAAC9nB,MAAO,IAC/B+nB,eAAgB,CAAC/nB,MAAO,IACxBgoB,0BAA2B,CAAChoB,MAAO,IACnCioB,2BAA4B,CAACjoB,MAAO,IACpCkoB,iBAAkB,CAACloB,MAAO,IAC1BmoB,gBAAiB,CAACnoB,MAAO,IACzBooB,uBAAwB,CAACpoB,MAAO,IAChCqoB,cAAe,CAACroB,MAAO,EAAK4L,MAAMlU,KAAKiJ,WAAWuM,KAAO,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAK,MAC9FggB,gBAAiB,CAACtoB,MAAO,IACzBuoB,oBAAqB,CAACvoB,MAAO,IAC7BwoB,mBAAoB,CAACxoB,MAAO,IAC5BqsB,8BAA+B,CAACrsB,MAAO,IACvC+c,gBAAiB,GACjBoJ,IAAK,IAAIlf,KACTwhB,YAAa,GACbC,aAAc,GACd1C,cAAc,EACd2C,UAAW,GACX7D,cAAc,EACd8D,sBAAuB1mB,EACvB2mB,oBAAqB,GACrBC,oBAAqB3mB,EACrB4mB,4BAA6B,GAC7BC,OAAQ,GACRC,QAAS,GACThmB,cAAa,GAEjB,EAAK4uB,YAAYN,GACjB,EAAKpI,QAAQ,EAAKA,QAAQC,KAAb,iBA7DE,E,mFAiEf,IAAIvyB,KAASI,KAAK0tB,UAAU9P,W,kCAIpB0c,GAAc,IAAD,OACrBpxB,EAAK,aAAeoxB,EAAc,KAAK/wB,MACnC,SAACC,GACG,IAAIozB,GAAKpzB,EAAS/I,KAAKgvB,uBACnBjmB,EAAS/I,KAAKmvB,cACVpmB,EAAS/I,KAAKovB,cAElBiD,EAAetpB,EAAS/I,KAAKqyB,aACjC,EAAKxO,SAAS,CACVyJ,SAAUvkB,EAAS/I,KACnByuB,IAAKC,KAAO3lB,EAAS/I,KAAKyuB,IAAK,QAC/BrB,aAAa+O,EACb9J,aAAcA,EACdC,aAAavpB,EAAS/I,KAAKsyB,eAG/B,EAAKd,aAEL,EAAK4K,mBAAmBrzB,EAAS/I,KAAK0mB,OACtC,EAAK2V,oBACL,EAAKC,yB,mCAIJr5B,EAAOwB,GAChB,IAAI6oB,EAAW/tB,KAAKgF,MAAM+oB,SAC1B,GAAa,QAAT7oB,GAA2B,iBAATA,GAAoC,iBAATA,EAC7C,IAAIhC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,WACpB,GAAY,OAAR7D,EAAe,CAClBhC,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,OAAO,QAC/BpvB,KAAKskB,SAAS,CAAC4K,IAAKxrB,QACjB,CACCR,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,SACxBpvB,KAAKskB,SAAS,CACVwO,aAAwB,iBAAT5tB,EAA2BxB,EAAQ1D,KAAKgF,MAAM8tB,aAC7DC,aAAwB,iBAAT7tB,EAA2BxB,EAAQ1D,KAAKgF,MAAM+tB,eAGxD,cAAT7vB,IACA+c,EAAMvd,SAASud,IAEnB8N,EAAS7qB,GAAQ+c,EACjBjgB,KAAKskB,SAAS,CAACyJ,SAAUA,M,mCAShBrqB,GAAQ,IAAD,OACHA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAC2K,WAAW,IAC1BjvB,KAAKg9B,kBACAh9B,KAAKgF,MAAMspB,qBACLtuB,KAAKgF,MAAM+oB,SAASvF,KAC3BxoB,KAAKkzB,oBACLppB,EAAM,aAAe9J,KAAKgF,MAAM+oB,SAAS1c,GAAK,IAAKrR,KAAKgF,MAAM+oB,UAAUxkB,MACpE,SAACC,GACG,EAAK8a,SAAS,CAACyJ,SAAUvkB,EAAS/I,OAClC,EAAKkU,MAAMlU,KAAK+Q,QAAQzN,KAA0B,YAArB,EAAKiB,MAAMC,OAAuB,8BAA4C,2BAC5G0jB,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,yCAM5C,IAAIsxB,EAAS/xB,KAAKgF,MAAM+sB,OACpBqB,EAAS,GACTC,GAAc,EASdC,EAAoB7kB,OAAOC,KAPb,CACd6kB,IAAK,MACLC,IAAK,QAMLC,EAAqBhlB,OAAOC,KAJZ,CAChB2R,IAAK,QAKT,IAAK,IAAItb,KAAOuuB,EACkC,qBAAnCvB,EAAOuB,EAAkBvuB,KAA4D,KAAnCgtB,EAAOuB,EAAkBvuB,MAC7EgtB,EAAOuB,EAAkBvuB,IAAM2uB,MAAM,WACtCL,GAAc,EACdD,EAAOE,EAAkBvuB,IAAQ,CAAC,+BAK9C,IAAK,IAAIA,KAAO0uB,EACmC,qBAApC1B,EAAO0B,EAAmB1uB,KAA6D,KAApCgtB,EAAO0B,EAAmB1uB,MAC/EgtB,EAAO0B,EAAmB1uB,IAAM2uB,MAAM,kBACvCL,GAAc,EACdD,EAAOK,EAAmB1uB,IAAQ,CAAC,6CAQ/C,OAHA/E,KAAKskB,SAAS,CAAC0N,QAASoB,GAAS,WAC7BpzB,KAAK2U,MAAMwe,UAAUnzB,KAAKgF,MAAMgtB,UAClCG,KAAKnyB,OACAqzB,I,wCAGQ,IAAD,OACVtF,EAAW/tB,KAAKgF,MAAM+oB,SACP,CAAC,WAAY,kBAAmB,gBAAiB,eAAgB,mBAChF,OAAQ,QAAS,QAAS,OAAQ,mBAAoB,oBAAqB,UAAW,SAAU,sBAChG,uBAAwB,cAAe,gBAC9B/N,KAAI,SAACC,EAAK9c,GACnB4qB,EAAS9N,GAAO,EAAKjb,MAAM,YAAcib,GAAKlX,SAElDglB,EAAS/G,OAAShnB,KAAKgF,MAAM8gB,gBAC7BiI,EAASyD,YAAcxxB,KAAKgF,MAAMwsB,YAClCxxB,KAAKskB,SAAS,CAACyJ,SAAUA,M,mCAIzB,IAAIkP,EAAgBj9B,KAAKgF,MAAM+oB,SAI3BmP,EAAmB,CACnBrS,OAAQtgB,EACRyxB,WAAYxxB,EACZ0xB,UAAWzxB,GAGXupB,EAAgBvlB,OAAOC,KAAKwuB,GAChC,IAAK,IAAIn4B,KAAOivB,EACZ,IAAK,IAAI1xB,KAAS46B,EAAiBlJ,EAAcjvB,IAC7C,GAAIm4B,EAAiBlJ,EAAcjvB,IAAMzC,GAAOyG,QAAUk0B,EAAcjJ,EAAcjvB,IAAO,CACzF/E,KAAKskB,SAAL,gBAAgB,YAAc0P,EAAcjvB,GAAOm4B,EAAiBlJ,EAAcjvB,IAAMzC,KACxF,MAKZ,IAAI8vB,EAAS,CACT,QAAW,GACX,aAAgB,CAACltB,KAAM,YACvB,WAAc,GACd,iBAAoB,GACpB,gBAAmB,CAACA,KAAM,UAC1B,YAAe,GACf,YAAe,IAIfi4B,EAAkB,CAClB5K,QAAS,CAAC,QACVE,WAAY,CAAC,mBACbD,aAAc,CAAC,YACfE,iBAAkB,CAAC,iBACnBC,gBAAiB,CAAC,uBAClBC,YAAa,CAAC,mBAAoB,wBAClCC,YAAa,CAAC,QAAS,mBAAoB,oBAAqB,UAAW,WAGhD,OAA3BoK,EAAc1N,eAAmD5mB,IAA9Bs0B,EAAc1N,SAASle,KAC1D+gB,EAAM,0BAAgC,CAACltB,KAAM,WAAYovB,eAAgB2I,EAAc1N,SAASle,IAChG8rB,EAAe,0BAAgC,CAAC,iBAGlB,MAA9BF,EAAczN,mBAAyD7mB,GAAjCs0B,EAAczN,aAAane,KACjE+gB,EAAM,QAAc,CAACltB,KAAM,WAAYsvB,gBAAiByI,EAAczN,aAAane,IACnF8rB,EAAe,QAAc,CAAC,SAGR,MAAtBF,EAAc/3B,WAAyCyD,GAAzBs0B,EAAc/3B,KAAKmM,KACjD+gB,EAAM,SAAe,CAACltB,KAAM,WAAYwvB,OAAQuI,EAAc/3B,KAAKmM,IACnE8rB,EAAe,SAAe,CAAC,UAGM,MAArCF,EAAcxN,0BAAuE9mB,GAAxCs0B,EAAcxN,oBAAoBpe,KAC/E+gB,EAAM,gBAAsB,CAACltB,KAAM,SAAUsvB,gBAAiByI,EAAcxN,oBAAoBpe,IAChG8rB,EAAe,gBAAsB,CAAC,gBAGT,MAA7BF,EAAcrN,kBAAuDjnB,GAAhCs0B,EAAcrN,YAAYve,KAC/D+gB,EAAM,iBAAuB,CAACltB,KAAM,SAAUwvB,OAAQuI,EAAcrN,YAAYve,IAChF8rB,EAAe,iBAAuB,CAAC,iBAU3CpzB,EAAK,WAAY,CAACqoB,OAAQA,IAAS7oB,KAAK,SAAUC,GAC9C,IAAI4zB,EAAY,GADwC,WAE/C/K,GAEL7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACb,eAARkvB,GAAgC,YAARA,IACxBC,EAAI9uB,KAAO8uB,EAAIlC,WAAa,IAAMkC,EAAIjC,WAE9B,YAARgC,IACAC,EAAIjhB,GAAKihB,EAAI+K,SAGjB7zB,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,GAElC5C,OAAOC,KAAKyuB,GAAiBnd,KAAI,SAACjb,EAAK5B,GACnCg6B,EAAgBp4B,GAAKib,KAAI,SAAChb,EAAO1C,GACzB+vB,IAAQttB,GAAgC,OAAzBk4B,EAAcj4B,SAA+C2D,IAA5Bs0B,EAAcj4B,GAAOqM,IAAoB4rB,EAAcj4B,GAAOqM,KAAOihB,EAAIjhB,KACzH+rB,EAAU,YAAcp4B,GAASstB,GAEJ,MAA7B2K,EAAcrN,kBAAuDjnB,GAAhCs0B,EAAcrN,YAAYve,KAC/D+gB,EAAM,iBAAuB,CAACltB,KAAM,SAAUwvB,OAAQuI,EAAcrN,YAAYve,eAnBpG,IAAK,IAAIghB,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,GAyBT+K,EAAS,MAAY5zB,EAAS/I,KAAK8xB,QACnC6K,EAAS,SAAe5zB,EAAS/I,KAAK+xB,aACtC4K,EAAS,SAAe5zB,EAAS/I,KAAKgyB,WACtC2K,EAAS,cAAoB5zB,EAAS/I,KAAKiyB,iBAC3C0K,EAAS,oBAA0B5zB,EAAS/I,KAAKkyB,gBACjDyK,EAAS,UAAgB5zB,EAAS/I,KAAKmyB,YACvCwK,EAAS,UAAgB5zB,EAAS/I,KAAKoyB,YAER,OAA3BoK,EAAc1N,eAAmD5mB,IAA9Bs0B,EAAc1N,SAASle,KAC1D+rB,EAAS,aAAmB5zB,EAAS/I,KAAK68B,2BAEZ,MAA9BL,EAAczN,mBAAyD7mB,GAAjCs0B,EAAczN,aAAane,KACjE+rB,EAAS,KAAW5zB,EAAS/I,KAAK8zB,SAEZ,MAAtB0I,EAAc/3B,WAAyCyD,GAAzBs0B,EAAc/3B,KAAKmM,KACjD+rB,EAAS,MAAY5zB,EAAS/I,KAAKg0B,UAEE,MAArCwI,EAAcxN,0BAAuE9mB,GAAxCs0B,EAAcxN,oBAAoBpe,KAC/E+rB,EAAS,YAAkB5zB,EAAS/I,KAAK88B,iBAEZ,MAA7BN,EAAcrN,kBAAuDjnB,GAAhCs0B,EAAcrN,YAAYve,KAC/D+rB,EAAS,aAAmB5zB,EAAS/I,KAAK+8B,kBAE9CJ,EAAS,cAAmB,EAC5Bp9B,KAAKskB,SAAS8Y,IAChBjL,KAAKnyB,S,kCAGCsC,GACR,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAkBA,EAAgBxZ,QAAO,SAAC2T,EAAK9c,GAC3C,OAAOb,IAAUa,KAErBnD,KAAKskB,SAAS,CAACwB,gBAAiBA,M,4CAGb,IAAD,OACdmX,EAAgBj9B,KAAKgF,MAAM+oB,SAC3B4F,EAAY,CACZpE,SAAU,WACVqE,gBAAiB,WACjB5D,cAAe,gBACfR,aAAc,eACdqE,iBAAkB,YAClBpE,oBAAqB,sBAGrBqE,MAAO,YACPqH,QAAS,YACTllB,KAAM,SAGN8d,EAAwB,CACxBhE,UAAW,CAAC,mBAAoB,oBAAqB,UAAW,UAChEL,UAAW,CAAC,yBAMZwN,EAAmB,CACnBrS,OAAQtgB,EACRyxB,WAAYxxB,EACZ0xB,UAAWzxB,GAGXupB,EAAgBvlB,OAAOC,KAAKwuB,GAChC,IAAK,IAAIn4B,KAAOivB,EACZ,IAAK,IAAI1xB,KAAS46B,EAAiBlJ,EAAcjvB,IAC7C,GAAIm4B,EAAiBlJ,EAAcjvB,IAAMzC,GAAOyG,QAAUk0B,EAAcjJ,EAAcjvB,IAAO,CACzF/E,KAAKskB,SAAL,gBAAgB,YAAc0P,EAAcjvB,GAAOm4B,EAAiBlJ,EAAcjvB,IAAMzC,KACxF,MAKZ0xB,EAAgBvlB,OAAOC,KAAKilB,GAxCV,eAyCT5uB,GACL,IAAIqE,EAAS,GAAID,EAAWwqB,EAAUK,EAAcjvB,IACzB,iBAAvBivB,EAAcjvB,GACdqE,EAAOlE,KAAO,WACc,wBAAvB8uB,EAAcjvB,KACnBoE,EAAW,eACXC,EAAOlE,KAAO,UAElBgE,EAAKC,EAAUC,GAAQG,KAAK,SAAUC,GAAW,IAAD,EACxC/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,EAaZ,GAXsC,aAAlCkzB,EAAUK,EAAcjvB,IACxBtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKjC,WAAa,IAAM3vB,EAAK4xB,GAAKhC,UACjB,UAAlCsD,EAAUK,EAAcjvB,MAC7BtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKlC,QAAQC,WAAa,IAAM3vB,EAAK4xB,GAAKlC,QAAQE,WAE5E5vB,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,QAEa1I,GAArCs0B,EAAcjJ,EAAcjvB,KAAsBtE,EAAK4xB,GAAKhhB,KAAO4rB,EAAcjJ,EAAcjvB,IAAMsM,KACrG4iB,EAAWxzB,EAAK4xB,SAEwC1pB,GAAxDorB,EAAsBJ,EAAUK,EAAcjvB,KAC9C,IAAK,IAAIzC,KAASyxB,EAAsBJ,EAAUK,EAAcjvB,KAAQ,CACpE,IAAImvB,EAAgBH,EAAsBJ,EAAUK,EAAcjvB,KAAOzC,QACrCqG,GAAhCs0B,EAAc/I,IAA+BzzB,EAAK4xB,GAAKhhB,KAAO4rB,EAAc/I,GAAe7iB,IAC3FrR,KAAKskB,SAAL,gBAAgB,YAAc4P,EAAgBD,IAI9Dj0B,KAAKskB,UAAL,oBACKqP,EAAUK,EAAcjvB,IAAQtE,GADrC,eAEK,YAAcuzB,EAAcjvB,GAAOkvB,GAFxC,0BAGcgJ,GAHd,KAMF9K,KAAK,KAtCX,IAAK,IAAIptB,KAAOivB,EAAgB,EAAvBjvB,K,mCA0CAgE,EAAOhE,GAAM,IAAD,EACjBgpB,EAAW/tB,KAAKgF,MAAM+oB,SAC1BA,EAAShpB,GAAOgE,GAASA,EAAMA,MAAQA,EAAMA,MAAQ,GACrD/I,KAAKskB,UAAL,oBAAgB,YAAcvf,EAAMgE,GAAgB,IAApD,0BAAkEglB,GAAlE,IACA/tB,KAAKy9B,oBAAoB10B,GAASA,EAAMsI,GAAKtI,EAAMsI,GAAK,GAAItM,K,0CAG5CsM,EAAItM,GACpB,GAAI,CAAC,WAAY,eAAgB,OAAQ,sBAAuB,eAAewQ,QAAQxQ,IAAQ,GAAKsM,EAAI,CACpG,IAAgCgjB,EAAgB,GAAIjC,EAAS,GACjD,aAARrtB,IACAqtB,EAAS,CACLO,gBAAiB,CAAC2B,eAAgBjjB,EAAInM,KAAM,aAEhDmvB,EAAgB,gBACN,iBAARtvB,GACFqtB,EAAS,CACLmC,QAAS,CAACC,gBAAiBnjB,EAAInM,KAAM,aAEzCmvB,EAAgB,QACD,SAARtvB,GACPqtB,EAAS,CACLqC,SAAU,CAACC,OAAQrjB,EAAInM,KAAM,aAEjCmvB,EAAgB,SACD,wBAARtvB,GACPqtB,EAAS,CACLmC,QAAS,CAACC,gBAAiBnjB,EAAInM,KAAM,WAEzCmvB,EAAgB,eACD,gBAARtvB,IACPqtB,EAAS,CACLqC,SAAU,CAACC,OAAQrjB,EAAInM,KAAM,WAEjCmvB,EAAgB,gBAGpBtqB,EAAK,WAAY,CAACqoB,OAAQA,IAAS7oB,KAAK,SAAUC,GAAW,IAAD,OACpDyqB,EAAW,GADyC,WAE/C5B,GAF+C,MAGpD7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACzBqG,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,GAClC4iB,EAAW3B,KAEf,EAAKhO,UAAL,oBACK+P,EAAgB7qB,EAAS/I,KAAK4xB,IADnC,eAC0C,YAAcgC,EAAgBJ,GADxE,KANJ,IAAK,IAAI5B,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,IAUXF,KAAKnyB,U,iCAIJigB,EAAKlb,GACZ,IAAIgpB,EAAW/tB,KAAKgF,MAAM+oB,SAC1BA,EAAShpB,GAAOkb,EAChBjgB,KAAKskB,SAAS,CAACyJ,SAAUA,M,6BAGtBrqB,EAAOyU,GACVjG,SAASC,eAAe,qBAAuBgG,GAAKsP,U,yCAGrChnB,GACfA,EAAKuf,KAAI,SAACC,EAAK9c,GACX1C,EAAK0C,GAAGqjB,IAAMre,EAAY8X,EAAI+F,mBAC9BvlB,EAAK0C,GAAGmjB,UAAYne,EAAY8X,EAAI+F,mBACpCvlB,EAAK0C,GAAGsjB,eAAiB,IACzBhmB,EAAK0C,GAAGujB,gBAAkB,IACtBjmB,EAAK0C,GAAGksB,aACR5uB,EAAK0C,GAAG0jB,YAAa,EACrBpmB,EAAK0C,GAAGwxB,KAAO,CAAC,CAAC5rB,MAAO,WAAY6D,MAAO,cAE3CnM,EAAK0C,GAAG0jB,YAAa,EACzBpmB,EAAK0C,GAAGwjB,cAAgB,kBAACY,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAf,IAAmB,kBAAC,KAAD,MAAnB,QAE5BxnB,KAAKskB,SAAS,CAACwB,gBAAiBrlB,M,uCAGnB6B,GACb,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAgB9F,KAAI,SAACC,EAAK9c,GAClBA,IAAMb,GACNwjB,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,EAChCf,EAAgB3iB,GAAGwxB,KAAO,CAAC,CAAC5rB,MAAO,WAAY6D,MAAO,eAEtDkZ,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,SACzBf,EAAgB3iB,GAAGwxB,SAGlC30B,KAAKskB,SAAS,CAACwB,gBAAiBA,M,sCAGpBrlB,GACZ,IAAMm0B,EAAO,IAAIC,SAQjB,OAPAD,EAAKE,OAAO,qBAAsBr0B,EAAK+nB,MACvCoM,EAAKE,OAAO,OAAQ90B,KAAKgF,MAAMosB,cAAcroB,OAC7C6rB,EAAKE,OAAO,kBAAmB,YAE3B,aAAcr0B,EAAK+nB,MACnBoM,EAAKE,OAAO,cAAer0B,EAAK+nB,KAAKnX,IAElC,CAAC0jB,IAAK9sB,EAAU,WAAY+sB,SAAU,OAAQJ,OAAMtsB,QAAS,CAAC,cAAiB,SAAWC,Q,yCAGlF9H,EAAMoqB,GACrB,GAAe,SAAXA,EAAmB,CACnB,IAAIoK,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACrCxJ,KAAKskB,SAAS,CAACkN,YAAY,GAAD,oBAAMxxB,KAAKgF,MAAMwsB,aAAjB,CAA8ByD,WACrD,GAAe,YAAXpK,GACJpqB,EAAKy0B,IAAI,CACR,IAAID,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACjCgoB,EAAcxxB,KAAKgF,MAAMwsB,YAAYllB,QAAO,SAAC2T,EAAK9c,GAClD,OAAO8c,EAAI5O,KAAO4jB,EAAW5jB,MAEjCrR,KAAKskB,SAAS,CAACkN,YAAaA,O,0CAMpC,QAAwC7oB,IAApC3I,KAAKgF,MAAM+oB,SAASyD,YAA2B,CAC/C,IAAIC,EAAe,GACnBzxB,KAAKgF,MAAM+oB,SAASyD,YAAYxR,KAAI,SAACC,EAAK9c,GACtC,IAAIqlB,EAAO,IAAIkV,KAAK,CAAC,OAAQv1B,EAAY8X,EAAI+F,oBAC7CwC,EAAKnX,GAAK4O,EAAI5O,GACdmX,EAAKmV,UAAW,EAChBlM,EAAa1tB,KAAKykB,MAEtBxoB,KAAKskB,SAAS,CAACmN,aAAcA,O,0CAIhB,IAAD,OAGZmM,GADmB,aAAO59B,KAAKgF,MAAM6sB,qBACrB,IACpB3mB,EAAsB8U,KAAI,SAACC,EAAK9c,GACxB,EAAK6B,MAAM+oB,SAAS9N,EAAIlX,QACxB60B,EAAc75B,KAAK,GAAKkc,EAAIlX,UAGpC/I,KAAKskB,SAAS,CAACwN,4BAA6B8L,IAC5C59B,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH6sB,oBAFwB7sB,EAAM6sB,oBAAoBvlB,QAAO,SAAAuE,GAAI,OAAK+sB,EAAcrxB,SAASsE,EAAK9H,cAO7E,aAAO/I,KAAKgF,MAAM2sB,uBAA3C,IACIkM,EAAkB,GACtB5yB,EAAwB+U,KAAI,SAACC,EAAK9c,GAC1B,EAAK6B,MAAM+oB,SAAS9N,EAAIlX,QAAuD,qBAAtC,EAAK/D,MAAM+oB,SAAS9N,EAAIlX,OAAOsI,IACxEwsB,EAAgB95B,KAAK,GAAKkc,EAAIlX,UAGtC/I,KAAKskB,SAAS,CAACsN,oBAAqBiM,IACpC79B,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH2sB,sBAF0B3sB,EAAM2sB,sBAAsBrlB,QAAO,SAAAuE,GAAI,OAAKgtB,EAAgBtxB,SAASsE,EAAK9H,gB,uCAO/FrF,EAAOqB,GACpB,IAAI4sB,EAAqB,aAAO3xB,KAAKgF,MAAM2sB,uBAC3CA,EAAsBwC,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GAC7Dp0B,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC3xB,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH4sB,oBAFqB,uBAAO5sB,EAAM4sB,qBAAb,CAAkC7sB,U,uCAOlDrB,EAAOqB,EAAKmB,GACzB,IAAIyrB,EAAqB,uBAAO3xB,KAAKgF,MAAM2sB,uBAAlB,CAAyC,CAACzrB,MAAOA,EAAO6C,MAAOhE,KACxF/E,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC,IAAIC,EAAsB5xB,KAAKgF,MAAM4sB,oBACrCA,EAAsBA,EAAoBtlB,QAAO,SAAC2T,EAAK9c,GACnD,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACsN,oBAAqBA,M,+CAGfluB,EAAOqB,GAC5B,IAAI8sB,EAAmB,aAAO7xB,KAAKgF,MAAM6sB,qBACzCA,EAAoBsC,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GAC3Dp0B,KAAKskB,SAAS,CAACuN,oBAAqBA,IACpC7xB,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH8sB,4BAF6B,uBAAO9sB,EAAM8sB,6BAAb,CAA0C/sB,U,+CAO1DrB,EAAOqB,EAAKmB,GACjC,IAAI2rB,EAAmB,uBAAO7xB,KAAKgF,MAAM6sB,qBAAlB,CAAuC,CAAC3rB,MAAOA,EAAO6C,MAAOhE,KACpF/E,KAAKskB,SAAS,CAACuN,oBAAqBA,IACpC,IAAIC,EAA8B9xB,KAAKgF,MAAM8sB,4BAC7CA,EAA8BA,EAA4BxlB,QAAO,SAAC2T,EAAK9c,GACnE,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACwN,4BAA6BA,M,sCAGhCpuB,EAAOwB,GACnBlF,KAAKskB,SAAS,CACVyK,cAAc,EACd2C,UAAWxsB,M,gCAOT,IAAD,OACDzE,EAAK,CACL+uB,aAAatd,SAASC,eAAe,wBAAwBpJ,MAC7D7D,KAAKgN,SAASC,eAAe,iBAAiBpJ,MAC9C4mB,MAAMzd,SAASC,eAAe,kBAAkBpJ,MAChDosB,YAAYn1B,KAAKgF,MAAM0sB,UACvBzb,KAAKjW,KAAK2U,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,IAEhB,YAAtBrR,KAAKgF,MAAM0sB,YACVjxB,EAAK8uB,SAASrd,SAASC,eAAe,qBAAqBpJ,OAE/DgB,EAAK,cAAetJ,GAAM8I,MACtB,SAACC,GACG,EAAK8a,SAAS,CACVyK,cAAc,OAEnBpG,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,+BAGlC,IAAD,SAUDT,KAAKgF,MARL+tB,EAFC,EAEDA,aAAchF,EAFb,EAEaA,SAAU+E,EAFvB,EAEuBA,aAAcrC,EAFrC,EAEqCA,sBAAuBjB,EAF5D,EAE4DA,aAC7Dc,EAHC,EAGDA,kBAAmBf,EAHlB,EAGkBA,SAAUoB,EAH5B,EAG4BA,0BAA2BjB,EAHvD,EAGuDA,UAAWa,EAHlE,EAGkEA,cAAerrB,EAHjF,EAGiFA,KAClFgrB,EAJC,EAIDA,yBAA0BJ,EAJzB,EAIyBA,SAAUH,EAJnC,EAImCA,MAAOiB,EAJ1C,EAI0CA,eAAgBwE,EAJ1D,EAI0DA,8BAC3DtE,EALC,EAKDA,eAAgBC,EALf,EAKeA,0BAA2BC,EAL1C,EAK0CA,2BAA4BjB,EALtE,EAKsEA,UACvEmB,EANC,EAMDA,gBAAiBD,EANhB,EAMgBA,iBAAkBE,EANlC,EAMkCA,uBAAwBnB,EAN1D,EAM0DA,cAC3Da,EAPC,EAODA,sBAAuBL,EAPtB,EAOsBA,qBAAsBE,EAP5C,EAO4CA,6BAA8BU,EAP1E,EAO0EA,cACpEvD,GARN,EAQDoC,MARC,EAQMpC,cAAcwD,EARpB,EAQoBA,gBAAiBC,EARrC,EAQqCA,oBAAqBC,EAR1D,EAQ0DA,mBAAoBrC,EAR9E,EAQ8EA,IAAKuC,EARnF,EAQmFA,aACpFhC,EATC,EASDA,oBAAqBG,EATpB,EASoBA,YAAaC,EATjC,EASiCA,aAAc7jB,EAT/C,EAS+CA,aAEpD,OACI,yBAAKwD,UAAU,cACX,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,0BACX,wBAAIA,UAAU,0BAAd,cAKR,yBAAKA,UAAU,0CACX,yBAAKuL,IAAK/a,KAAK0tB,UAAWle,UAAU,4CAA4C6B,GAAG,kBAC9EgkB,sBAAoB,cACrB,yBAAK7lB,UAAU,iBAEX,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,2BAEX,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,OACtDD,sBAAoB,WACrB,yBAAK7lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,wbACFF,KAAK,UAAUC,SAAS,UAAU/S,QAAQ,QAC9C,0BACIgT,EAAE,ulBACFF,KAAK,eAIrB,yBAAKrmB,UAAU,2BAAf,WAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,uQACFF,KAAK,UAAU9S,QAAQ,QAC3B,0BACIgT,EAAE,2eACFF,KAAK,eAIrB,yBAAKrmB,UAAU,2BAAf,cAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,gyBACFF,KAAK,UAAUC,SAAS,YAC5B,4BAAQD,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,KAAKC,GAAG,KAAKC,EAAE,SAInE,yBAAK1mB,UAAU,2BAAf,gBAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,yRACFF,KAAK,YACT,4BAAQA,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,OAAOC,GAAG,MAC1CC,EAAE,WAItB,yBAAK1mB,UAAU,2BAAf,iBASpB,yBAAKA,UAAU,4DAEX,kBAACka,GAAA,EAAD,CAAMla,UAAU,UAAU2mB,YAAU,EAAC9kB,GAAG,wBAClCgI,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KAEnC,yBAAKyN,UAAU,wBAAwB8lB,qBAAmB,eACrDD,sBAAoB,WACrB,yBAAK7lB,UAAU,6BAAf,cACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBAEP,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,YAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOunB,EAAkBvnB,MAAMunB,EAAkB,YACjDX,MAAM,WACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,aACpCjC,QAASyvB,MAKrB,kBAAC7F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO0nB,EAAsB1nB,MAAM0nB,EAAsB,YACzDd,MAAM,eACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS0vB,MAKrB,kBAAC9F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,QAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwnB,EAAcxnB,MAAMwnB,EAAc,YACzCZ,MAAM,OACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,SACpCjC,QAASoF,MAKrB,kBAACwkB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,SAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO6nB,EAAe7nB,MAAM6nB,EAAe,YAC3CjB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAAS6vB,MAIzB,6BACI,kBAAC,QAAD,CAAMngB,UAAU,gDAAiDqQ,KAAK,IAAItF,QAAS,SAACxY,GAAD,OAAO,EAAK00B,gBAAgB10B,EAAG,cAC9G,uBAAGyN,UAAU,0BADjB,8DAQhB,yBAAKA,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,6BAAf,0BACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBAEX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,OAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLyqB,MAAM,WACNnsB,KAAK,MACLkzB,aAAc3I,EAAWA,EAAS1N,IAAM,GACxCjG,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,MAEnC,uBAAGyN,UAAU,cAAb,oCAGR,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,OAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACrhB,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CACIrW,MAAO,CAAC,QACRsW,QAAS,IAAI7mB,KAAK,QAClBxM,KAAK,MACLuF,MAAOmmB,EACPnV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,cAMxD,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,iBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOooB,EACPxB,MAAM,wBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,kBACpCjC,QAASkwB,MAIf,GAAzChwB,KAAKgF,MAAMmsB,uBAAuBpoB,OAAmD,GAAzC/I,KAAKgF,MAAMmsB,uBAAuBpoB,OAAmD,GAAzC/I,KAAKgF,MAAMmsB,uBAAuBpoB,OAAmD,IAAzC/I,KAAKgF,MAAMmsB,uBAAuBpoB,MACvK,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACtBra,UAAU,2BADV,WAEI,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,IAAI7mB,UAAU,UACjC,kBAACka,GAAA,EAAKY,QAAN,CACAC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,cACZmF,MAAM,WACNngB,UAAU,OACVhM,KAAK,sBACLkzB,aAAc3I,EAAWA,EAAS+I,oBAAsB,GACxD1c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAIO,GAAzC/B,KAAKgF,MAAMmsB,uBAAuBpoB,MAAW,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MAC1D,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACtBra,UAAU,2BADV,WAEI,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,IAAI7mB,UAAU,UACjC,kBAACka,GAAA,EAAKY,QAAN,CACAC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,cACZmF,MAAM,WACNngB,UAAU,OACVhM,KAAK,sBACLkzB,aAAc3I,EAAWA,EAAS+I,oBAAsB,GACxD1c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,MAG/B,kBAAC2nB,GAAA,EAAKY,QAAN,CACAC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,eACZmF,MAAM,WACNngB,UAAU,OACVhM,KAAK,mBACLkzB,aAAc3I,EAAWA,EAASgJ,iBAAmB,GACrD3c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,MAG/B,kBAAC2nB,GAAA,EAAKY,QAAN,CACAC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,kBACZmF,MAAM,WACNngB,UAAU,OACVhM,KAAK,kBACLkzB,aAAc3I,EAAWA,EAASiJ,gBAAkB,GACpD5c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAGjB,GACkB,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,UAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOsoB,EACP1B,MAAM,WACNnsB,KAAK,SACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpCjC,QAASyK,MAIpBvK,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,eACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,cAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOuoB,EAAoBvoB,MAAMuoB,EAAoB,YACrD3B,MAAM,WACNnsB,KAAK,aACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,eACpCjC,QAAS0K,KAGjB,kBAACof,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,aAAc,gBACvE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,QACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,OAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,SACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,MACLkzB,aAAc3I,EAAWA,EAASwF,IAAM,GACxCnZ,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,MAAO,SAChE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,QACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,OAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,SACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,MACLkzB,aAAc3I,EAAWA,EAASyF,IAAM,GACxCpZ,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,MAAO,SAChE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,SACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,WAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,SACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,OACLkzB,aAAc3I,EAAWA,EAASmJ,KAAO,GACzC9c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,OAAQ,aACjE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,SACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,WAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,SACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,OACLkzB,aAAc3I,EAAWA,EAASoJ,KAAO,GACzC/c,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,OAAQ,aACjE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,iBACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACrhB,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CACIrM,UAAQ,EACRsM,QAAS,IAAI7mB,KAAK,cAClBjH,MAAOgqB,GAA6B,KACpC3D,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,iBACpCq1B,sBAAoB,OAKpC,kBAACxN,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,eAAgB,kBACzE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,wBACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,uBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,sBACLkzB,aAAc3I,EAAWA,EAASsJ,oBAAsB,GACxDjd,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,sBAAuB,yBAChF,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM8sB,4BAA4BvlB,SAAS,yBACjD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,wBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOqsB,EAA8BrsB,MAAMqsB,EAA8B,YACzEzF,MAAM,uBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,yBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,uBAAwB,0BACjF,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM6sB,oBAAoBlwB,OAAO,GACvC,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACf,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAK21B,yBAAyB31B,EAAGA,EAAEoe,OAAOpX,SAE3D,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,oBACC33B,KAAKgF,MAAM6sB,oBAAoB7R,KAAI,SAAAnP,GAAI,OACpC,4BAAQ9H,MAAO8H,EAAK9H,MACpB6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,eAQ9C,yBAAKsJ,UAAU,gBACf,kBAACqoB,GAAA,EAAD,CAAS/X,QAAQ,WACjB,yBAAKtQ,UAAU,gBACf,kBAACka,GAAA,EAAKC,IAAN,KACI,kBAACmO,GAAA,EAAD,CACIC,QACI,kBAACC,GAAA,EAAD,CACIje,SAAU,SAAChY,GAAD,OAAO,EAAK6rB,qBAAqB7rB,IAC3CgH,MAAM,WACNsR,QAASwT,EACTjP,MAAM,YAGd1Y,MAAM,oBAGZlG,KAAKgF,MAAM6oB,cACb,kBAACnE,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,4BACA,kBAAC,KAAD,CACItiB,MAAO2nB,EAA6B3nB,MAAM2nB,EAA6B,YACvEf,MAAM,sBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,wBACpCjC,QAAS2vB,KAGjB,kBAAC/F,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,oBACA,kBAAC,KAAD,CACItiB,MAAOynB,EAAqBznB,MAAMynB,EAAqB,YACvDb,MAAM,cACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,gBACpCjC,QAAS8vB,KAGjB,kBAAClG,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,qBACA,kBAAC,KAAD,CACItiB,MAAO8nB,EAAsB9nB,MAAM8nB,EAAsB,YACzDlB,MAAM,eACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS+vB,KAGjB,6BACI,kBAAC,QAAD,CAAMrgB,UAAU,gDAAgDqQ,KAAK,IAAItF,QAAS,SAACxY,GAAD,OAAO,EAAK00B,gBAAgB10B,EAAG,YAC7G,uBAAGyN,UAAU,0BADjB,8DAMR,yBAAKA,UAAU,gBACf,kBAACqoB,GAAA,EAAD,CAAS/X,QAAQ,WACjB,yBAAKtQ,UAAU,gBACf,kBAACka,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAACkC,GAAA,EAAK2B,MAAN,2BACA,kBAAC3B,GAAA,EAAKY,QAAN,CAAcD,GAAG,WAAWrM,KAAK,IACnBuM,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,cACLkzB,aAAc3I,EAAWA,EAAS9c,YAAc,GAChDmJ,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,WAQjE,yBAAKyN,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,6BAAf,mBACA,yBAAKA,UAAU,4CACX,yBAAKA,UAAU,sBAEX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,eAGA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwoB,EACP5B,MAAM,WACNnsB,KAAK,YACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,cACpCjC,QAAS2K,MAIiB,SAArCzK,KAAKgF,MAAM+oB,SAAX,WACD,kBAACrE,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,WACNnsB,KAAK,QACLkzB,aAAc3I,EAAWA,EAASkK,MAAQ,GAC1C7d,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,SAMF,cAArC/B,KAAKgF,MAAM+oB,SAAX,WACqC,cAArC/tB,KAAKgF,MAAM+oB,SAAX,WACqC,mBAArC/tB,KAAKgF,MAAM+oB,SAAX,WACqC,aAArC/tB,KAAKgF,MAAM+oB,SAAX,WACqC,SAArC/tB,KAAKgF,MAAM+oB,SAAX,WACqC,YAArC/tB,KAAKgF,MAAM+oB,SAAX,YAGJ,kBAACrE,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BAA2BxP,KAAKgF,MAAM+oB,SAAX,UADjD,UAEA,kBAACnE,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACID,GAAG,WAAWrM,KAAK,IACnB2R,MAAM,WACNnsB,KAAK,QACLkzB,aAAc3I,EAAWA,EAASmK,MAAQ,GAC1C9d,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAK3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,eAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACrhB,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CACIrM,UAAQ,EACRxhB,MAAO+pB,EACP1D,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,iBACpCq1B,sBAAoB,QAMxC,kBAAC1N,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,oBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO4nB,EAA0B5nB,MAAM4nB,EAA0B,YACjEhB,MAAM,mBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,qBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,QAI9F,kBAAC0d,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,mBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmnB,EAAyBnnB,MAAMmnB,EAAyB,YAC/DP,MAAM,kBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,oBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa+jB,EAAU9jB,QAI5FhM,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,UACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,SAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO+nB,EAAe/nB,MAAM+nB,EAAe,YAC3CnB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,QAAS,WAC1D,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,WACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,UAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmoB,EAAgBnoB,MAAMmoB,EAAgB,YAC7CvB,MAAM,SACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,SAAU,YAC3D,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,YACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,WAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOkoB,EAAiBloB,MAAMkoB,EAAiB,YAC/CtB,MAAM,UACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,YACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,UAAW,aAC5D,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,sBACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,qBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOioB,EAA2BjoB,MAAMioB,EAA2B,YACnErB,MAAM,oBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,oBAAqB,sBACzD8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,uBACjD,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,qBACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,oBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOgoB,EAA0BhoB,MAAMgoB,EAA0B,YACjEpB,MAAM,mBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,qBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,mBAAoB,sBACrE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM2sB,sBAAsBhwB,OAAO,GACzC,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACf,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAKs2B,iBAAiBt2B,EAAGA,EAAEoe,OAAOpX,SAEnD,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,oBACC33B,KAAKgF,MAAM2sB,sBAAsB3R,KAAI,SAAAnP,GAAI,OACtC,4BAAQ9H,MAAO8H,EAAK9H,MACpB6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,kBAW1D,yBAAKsJ,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,4CACX,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,6BAAf,2BACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,uBAKX,kBAAC,GAAD,CAAc+V,OAAO,EAAOxK,IAAK/a,KAAKgvB,kBACxB/Y,KAAMmb,EAAcroB,MACpB4c,cAAe,WACfmY,YAAe/P,EAAS1c,GACxBmT,YAAqC,KAAxB4M,EAAcroB,MAC3B+c,gBAAiB9lB,KAAKgF,MAAM8gB,gBAC5BwB,aAAc,SAACN,GAAD,OAAY,EAAK1C,SAAS,CAACwB,gBAAiBkB,OACxE,kBAAC0C,GAAA,EAAKC,IAAN,KACK3pB,KAAKgF,MAAM8gB,iBAAmB9lB,KAAKgF,MAAM8gB,gBAAgBnkB,OAAS,GACnE,kBAAC22B,GAAA,EAAD,CAAWjO,GAAIT,KAAKpC,GAAG,MACnB,yBAAKhY,UAAU,6BAAf,oBAGJ,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAAC,KAAD,CAAS2D,gBAAgB,EAAO9Z,GAAG,kBAAkB+Z,UAAW,IACvDmN,OAAQ,EACRvN,sBAAsB,EACtBC,cAAe,SAAClpB,GAAD,OAAO,EAAKy2B,YAAYz2B,IACvCilB,OAAQhnB,KAAKgF,MAAM8gB,gBACnB2S,iBAAkB,SAAC12B,GAAD,OAAO,EAAK02B,iBAAiB12B,UAKxE,kBAAC81B,GAAA,EAAD,MACA,yBAAKroB,UAAU,6BAAf,gBACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,sBACX,kBAAC,KAAD,CACIkpB,aAAa,kCACbC,OAAO,OACPC,OAAQ,CAACC,SAAU,CAACC,UAAW,IAAKC,WAAY,CAACvc,SAAS,OAAQ+b,OAAQ,QAC1ES,gBAAiB,SAACv4B,GAAD,OAAU,EAAKu4B,gBAAgBv4B,IAChDw4B,eAAgB,SAACx4B,EAAMoqB,GAAP,OAAkB,EAAKqO,mBAAmBz4B,EAAMoqB,IAChEsO,aAAe,QACf1H,aAAcA,SAQtC,yBAAKjiB,UAAU,oBACX,yBACIA,UAAU,qFACV,kBAAC,QAAD,CAAM4pB,GAAI,wBACN,uBAAG5pB,UAAU,0BADjB,WAKJ,yBACIA,UAAU,8EACV8lB,qBAAmB,eAFvB,YAKA,kBAAC1V,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,UACrDuK,UAAU,4EACV8lB,qBAAmB,iBAF3B,UAKA,yBACI9lB,UAAU,0EACV8lB,qBAAmB,eAFvB,kBAYpB,kBAAC1M,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAM+pB,aAAchG,OAAQ/oB,KAAK8uB,iBAAkBuK,UAAQ,GACzE,kBAACzQ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACrB,kBAACN,GAAA,EAAMO,MAAP,gBAAsBnpB,KAAKgF,MAAM0sB,UAAU4H,OAAO,GAAGC,cAAgBv5B,KAAKgF,MAAM0sB,UAAUhlB,MAAM,GAAhG,iBAEJ,kBAACkc,GAAA,EAAMQ,KAAP,KAC8B,aAAzBppB,KAAKgF,MAAM0sB,WACZ,kBAAChI,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,YAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,oBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAK9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,eAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,uBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAI9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,QAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,gBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAI9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,SAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,iBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,cAKlE,kBAAC6f,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,YAAYvF,QAASva,KAAK8uB,kBAA1C,UAGA,kBAAClP,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAKkyB,SAAxC,iB,GAtoDLrX,IAAMM,WAipDnB4iB,G,YACF,WAAYppB,GAAQ,IAAD,uBACf,8CAAMA,IACN,IAAIzP,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFf,OAGf,EAAKF,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,GACrC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALF,E,yEAQTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAGjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GACtC,IAAMw2B,EAAY50B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAC1D,OAAO,wBAAI3H,IAAKzC,EAAQa,GAAG,0BACvBmE,MAAO,CAAC,iBAAkB,eAAgBqyB,EAAU9wB,QAAQ,KAAM,MAD/D,MAC+E6L,UAMtG,kBAAC,GAAD,CAAMjU,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,iB,GAhCjCtY,IAAMM,WAsCdye,gBAAWmE,I,iECxxD1B,SAASC,KAA2Q,OAA9PA,GAAWvvB,OAAOwvB,QAAU,SAAU9d,GAAU,IAAK,IAAIhd,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAAK,CAAE,IAAIunB,EAASwT,UAAU/6B,GAAI,IAAK,IAAI4B,KAAO2lB,EAAcjc,OAAO0vB,UAAUC,eAAev6B,KAAK6mB,EAAQ3lB,KAAQob,EAAOpb,GAAO2lB,EAAO3lB,IAAY,OAAOob,IAA2B7b,MAAMtE,KAAMk+B,WAEhT,SAASG,GAAyB3T,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAAkE3lB,EAAK5B,EAAnEgd,EAEzF,SAAuCuK,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAA2D3lB,EAAK5B,EAA5Dgd,EAAS,GAAQoe,EAAa9vB,OAAOC,KAAKgc,GAAqB,IAAKvnB,EAAI,EAAGA,EAAIo7B,EAAW58B,OAAQwB,IAAO4B,EAAMw5B,EAAWp7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,IAAaob,EAAOpb,GAAO2lB,EAAO3lB,IAAQ,OAAOob,EAFxMqe,CAA8B9T,EAAQ4T,GAAuB,GAAI7vB,OAAOgwB,sBAAuB,CAAE,IAAIC,EAAmBjwB,OAAOgwB,sBAAsB/T,GAAS,IAAKvnB,EAAI,EAAGA,EAAIu7B,EAAiB/8B,OAAQwB,IAAO4B,EAAM25B,EAAiBv7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,GAAkB0J,OAAO0vB,UAAUQ,qBAAqB96B,KAAK6mB,EAAQ3lB,KAAgBob,EAAOpb,GAAO2lB,EAAO3lB,IAAU,OAAOob,EAMne,IAAI,GAEJ,IAAM0H,cAAc,QAAS,KAAM,sCAE/B,GAEJ,IAAMA,cAAc,OAAQ,KAAM,wBAE9B,GAEJ,IAAMA,cAAc,OAAQ,MAExB,GAEJ,IAAMA,cAAc,IAAK,CACvBxW,GAAI,qCACJskB,OAAQ,OACRC,YAAa,EACbC,KAAM,OACNC,SAAU,WACT,IAAMjO,cAAc,OAAQ,CAC7BxW,GAAI,QACJ+W,EAAG,EACHC,EAAG,EACH5hB,MAAO,GACPqX,OAAQ,KACN,IAAM+J,cAAc,OAAQ,CAC9BxW,GAAI,cACJwkB,KAAM,UACNzN,EAAG,EACHC,EAAG,EACH5hB,MAAO,GACPqX,OAAQ,EACR8gB,GAAI,MACF,IAAM/W,cAAc,OAAQ,CAC9BkO,EAAG,2VACH1kB,GAAI,iBACJwkB,KAAM,UACN9S,QAAS,MAGP,GAAc,SAAqB8b,GACrC,IAAIC,EAASD,EAAKC,OACdlyB,EAAQiyB,EAAKjyB,MACb+H,EAAQ0pB,GAAyBQ,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMhX,cAAc,MAAOmW,GAAS,CACzCv3B,MAAO,OACPqX,OAAQ,OACR2X,QAAS,YACT1a,IAAK+jB,GACJnqB,QAAkBhM,IAAViE,EAAsB,GAAQA,EAAQ,IAAMib,cAAc,QAAS,KAAMjb,GAAS,KAAM,GAAO,GAAO,KAG/GmyB,GAAa,IAAMjkB,YAAW,SAAUnG,EAAOoG,GACjD,OAAO,IAAM8M,cAAc,GAAamW,GAAS,CAC/Cc,OAAQ/jB,GACPpG,OC7DgBqqB,ID+DN,I,YC9Db,WAAYrqB,GAAQ,IAAD,+BACjB,8CAAMA,KACD3P,MAAQ,CACXi6B,KAAK,KACLC,UAAU,GAGZ,EAAKC,iBAPY,E,gFAWjBj2B,EAAK,aAAc,CAAChE,KAAK,KAAKlF,KAAK2U,MAAMzP,KAAKo0B,OAAO,GAAGC,cAAgBv5B,KAAK2U,MAAMzP,KAAKwH,MAAM,GAAG,MAAMnD,KAAK,SAAUC,GACpHxJ,KAAKskB,SAAS,CAAC2a,KAAKz1B,EAAS/I,KAAKw+B,KAAMC,UAAU11B,EAAS/I,KAAKy+B,aAChE/M,KAAKnyB,S,uCAGQ0D,EAAO07B,GACtB,GAAIp/B,KAAKgF,MAAMi6B,MAAqB,IAAbG,EAElB,CACH,IAAI11B,EAAa1J,KAAK2U,MAAMlU,KAAKiJ,WACjCA,EAAW,eAAe1J,KAAK2U,MAAMzP,MAAQk6B,EAC7Cp/B,KAAK2U,MAAMlU,KAAKy5B,aAAaxwB,GAC7B1J,KAAK2U,MAAMlU,KAAK+Q,QAAQzN,KAAK,SAAiB/D,KAAK2U,MAAMzP,KAAK,sBAL9DlF,KAAK2U,MAAMlU,KAAK+Q,QAAQzN,KAAK,mB,+BASvB,IAAD,SACmB/D,KAAKgF,MAAxBk6B,EADA,EACAA,UAAWD,EADX,EACWA,KAClB,OACE,kBAACrW,GAAA,EAAD,CACIC,KAAK,KACLC,KAAM9oB,KAAK2U,MAAM0qB,cACjBtW,OAAQ,SAAChnB,GAAD,OAAO,EAAK4S,MAAM2qB,qBAAoB,IAC9CtW,kBAAgB,gCAEhB,kBAACJ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,CAAa3Z,UAAU,cAAc6B,GAAG,+BAA+B/J,MAAO,CAACb,MAAM,SAArF,UACUzG,KAAK2U,MAAMzP,KADrB,kBAIF,kBAAC0jB,GAAA,EAAMQ,KAAP,KACE,yBAAK5Z,UAAU,eAAelI,MAAO,CAACmkB,QAAQ,IAC5C,yBAAKjc,UAAU,uBACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,8BAA8BlI,MAAO,CAACi4B,UAAU,4BAC7D,yBAAK/vB,UAAU,wBAAwBlI,MAAO,CAACmkB,QAAQ,cACrD,wBAAIjc,UAAU,uBAAd,SACA,0BAAMA,UAAU,mDAAmDlI,MAAO,CAACk4B,UAAU,SAArF,QAAyG,6BACzG,0BAAMhwB,UAAU,6BACd,gCAEF,yBAAKA,UAAU,qBACb,4BAAQ+K,QAAS,SAACxY,GAAD,OAAO,EAAK09B,iBAAiB19B,EAAG,IAAImD,KAAK,SAASsK,UAAU,8CAA7E,aAIN,yBAAKA,UAAU,8BAA8BlI,MAAO,CAACi4B,UAAU,4BAC7D,yBAAK/vB,UAAU,wBAAwBlI,MAAO,CAACmkB,QAAQ,cACrD,wBAAIjc,UAAU,uBAAd,WACA,0BAAMA,UAAU,sBAAsBlI,MAAO,CAACk4B,UAAU,SACtD,0BAAMhwB,UAAU,gCAAhB,QAA0D,6BAC1D,0BAAMA,UAAU,sBAAsByvB,EAAOA,EAAKj/B,KAAK2U,MAAMzP,KAAK,UAAYg6B,EAAU,EAAxF,OAA+FD,EAAOA,EAAKj/B,KAAK2U,MAAMzP,KAAK,UAAU,EAArI,qBAA+J,6BAC/J,0BAAMsK,UAAU,sBAAhB,oBAA4D,6BAC5D,0BAAMA,UAAU,sBAAhB,qBAA6D,6BAC7D,0BAAMA,UAAU,sBAAhB,iCAAyE,6BACzE,0BAAMA,UAAU,sBAAhB,iCAAyE,8BAE3E,yBAAKA,UAAU,qBACb,4BAAQ+K,QAAS,SAACxY,GAAD,OAAO,EAAK09B,iBAAiB19B,EAAG,IAAImD,KAAK,SAASsK,UAAU,6CAA6CyvB,EAAO,SAAS,uB,GAtE3HpkB,IAAMM,Y,UCsBvCukB,GAA6B7kB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAChD,4BACIQ,IAAKA,EACLR,QAAS,SAAAxY,GACPA,EAAEC,iBACFuY,EAAQxY,IAEVyN,UAAU,8BANd,UASE,kBAAC,GAAD,CAAcA,UAAU,oCAIxB6S,GAAc,CAClBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MAGFC,GAA2BC,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAClE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,IAYV,IAAMqc,GAAmBhd,cAAW,SAAA3O,GAAK,MAAK,CAC5CnH,KAAM,CACJ+yB,YAAa5rB,EAAMiP,QAAQ,GAC3BzK,aAAcxE,EAAMiP,QAAQ,GAC5B3c,QAAS,SAEXu5B,UACyB,UAAvB7rB,EAAMK,QAAQnP,KACV,CACE0Z,MAAO5K,EAAMK,QAAQG,UAAUD,KAC/B0H,gBAAiB6jB,aAAQ9rB,EAAMK,QAAQG,UAAU9O,MAAO,MAE1D,CACEkZ,MAAO5K,EAAMK,QAAQoI,KAAK7W,QAC1BqW,gBAAiBjI,EAAMK,QAAQG,UAAU7O,MAEjDo6B,OAAQ,CACNC,KAAM,YAER56B,QAAS,CACPwZ,MAAO5K,EAAMK,QAAQoI,KAAKjI,WAE5B5H,MAAO,CACLozB,KAAM,gBAIJC,GAAuB,SAAAtrB,GAC3B,IAAM0O,EAAUsc,KACRO,EAA+JvrB,EAA/JurB,cAAeC,EAAgJxrB,EAAhJwrB,WAAYC,EAAoIzrB,EAApIyrB,QAASC,EAA2H1rB,EAA3H0rB,WAAiCC,GAA0F3rB,EAA/G2qB,oBAA+G3qB,EAA1F2rB,aAAmBrM,GAAuEtf,EAA7EzP,KAA6EyP,EAAvEsf,UAAUsM,EAA6D5rB,EAA7D4rB,YAAaC,EAAgD7rB,EAAhD6rB,gBAAiBviB,EAA+BtJ,EAA/BsJ,YAAaD,EAAkBrJ,EAAlBqJ,KAAMyiB,EAAY9rB,EAAZ8rB,QAyD3J,OACE,kBAACC,GAAA,EAAD,CACElxB,UAAWgL,aAAK6I,EAAQxW,KAAT,gBACZwW,EAAQwc,UAAYS,EAAc,KAGrC,yBAAK9wB,UAAU,yCACb,yBAAKA,UAAU,0BACb,0BAAMA,UAAU,yBACd,uBAAGA,UAAU,sCAEd8wB,EAAc,EACb,kBAACK,GAAA,EAAD,CAAY/hB,MAAM,UAAUkB,QAAQ,aACjCwgB,EADH,aAIA,wBAAI9wB,UAAU,0BAAd,oBAGJ,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACZ8wB,EAAc,EACb,kBAAC3e,GAAA,EAAD,CAAS/U,MAAM,UACb,kBAAC8W,GAAA,EAAD,CACEnJ,QAAS,SAACxY,GAAD,OA/E3B,SAAsB2B,GACpB,GAAGuwB,EAAStyB,OAAQ,CAClB,IAAIlB,EAAO,CAAC4mB,IAAI4M,GAChBjqB,EAAI,aAAaiqB,EAAS,GAAG,IAAKxzB,GAAM8I,MAAK,SAAUC,GAErD,IAAI,IAAIrG,KAAK6a,EACRiW,EAAS1e,QAAQyI,EAAK7a,GAAGkO,KAAO,UAC1B2M,EAAK7a,GAGhB8a,EAAYD,GACZiW,EAAStyB,OAAS,EAClB4+B,EAAYtM,GACZuM,GAAgB,GAGhB,IAAMI,EAAS,GACfA,EAAO78B,KAAK,GACZ08B,EAAQG,GAERC,SA2D4BC,IAChBnd,aAAW,UAEX,kBAAC,KAAD,QAIJ,yBAAKnU,UAAU,aACb,uBACE+K,QAASsmB,GACTrxB,UAAU,gEAEV,uBAAGA,UAAU,gBAAgBuxB,cAAY,SAJ3C,WAOA,kBAAC,QAAD,CACE3H,GAAI,8BACJ5pB,UAAU,2DAEV,uBAAGA,UAAU,eAJf,gBAOA,kBAACwxB,GAAA,EAAD,CAAUxxB,UAAU,kBAAkByxB,KAAK,OAAOC,YAAU,GAC1D,kBAACF,GAAA,EAASG,OAAV,CACE9W,GAAIqV,GACJruB,GAAG,4CAGL,kBAAC2vB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,0DACvB,wBAAIA,UAAU,UACZ,wBAAIA,UAAU,gBACZ,uBAAG+K,QAjF3B,WACM4lB,EAAW,IACXj3B,EAAK,YAAa,CAACm4B,QAAS,QAAQ93B,MAAK,SAAAC,GACrC,IAAI83B,EAAiB,CAAC,OAAQ,QAAS,eAAgB,WAAY,QAAS,uBACxE,mBAAoB,oBAAqB,UAAW,SACpD,mBAAoB,gBAAiB,cAAe,eAAgB,sBAAsB,QAG1FC,EAAgB,CAAC,MAAO,iBAAkB,QAAS,QAAQ,iBAAiB,gBAAiB,QAAS,aAAc,aAAc,aAAa,oBAAqB,cAAe,gBAEvLpB,EAAW,UACX,IAAIqB,EAAeh4B,EAAS/I,KAAKuf,KAAI,SAACyhB,EAAGt+B,GAOrC,OALAo+B,EAAcvhB,KAAI,SAAA0hB,GAAK,cAAWD,EAAEC,MACpCJ,EAAethB,KAAI,SAAC2P,GAChB8R,EAAE9R,GAAS8R,EAAE9R,GAAS8R,EAAE9R,GAAOnsB,KAAOi+B,EAAE9R,MAE5C8R,EAAE7N,gBAAkB6N,EAAE7N,gBAAkB6N,EAAE7N,gBAAgBxD,WAAa,IAAMqR,EAAE7N,gBAAgBvD,UAAYoR,EAAE7N,gBACtG6N,KAEXpB,EAAWmB,GACXtvB,SAASC,eAAe,oBAAoBsV,YA4DJjY,UAAU,gBAClC,uBAAGA,UAAU,mCACb,0BAAMA,UAAU,qBAAhB,UACA,yBACEA,UAAW,gBAAkB0wB,KAGjC,kBAAC,WAAD,CACEz/B,KAAM2/B,EACNuB,SAAS,gBACTnyB,UAAU,SACV6B,GAAG,mBACH8O,OAAO,sBAqB7ByhB,GAAYjf,cAAW,SAAA3O,GAAK,MAAK,CACrCnH,KAAM,CACJpG,MAAO,OACP+4B,UAAWxrB,EAAMiP,QAAQ,IAE3B4e,MAAO,CACLp7B,MAAO,OACP8iB,aAAcvV,EAAMiP,QAAQ,IAE9B6e,MAAO,CACLC,SAAU,KAEZC,aAAc,CACZC,UAAW,QAEbC,MAAO,CACLzW,QAASzX,EAAMiP,QAAQ,SAIrBkf,GAAIC,EAAQ,IAGlB,SAASvB,KACSsB,GAAE,aAAanI,YACvBqI,KAAKppB,OAAO,MAAM,GAJ5BkpB,GAAEnI,UAAYoI,EAAQ,KAgBtB,IAAME,GAAwBznB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAC3C,uBACEQ,IAAKA,EACLR,QAAS,SAAAxY,GACTA,EAAEC,iBACFuY,EAAQxY,IAERsP,GAAG,+BACH7B,UAAU,6CAET,IACD,uBAAGA,UAAU,yBAIJ,SAAS+yB,GAAc5tB,GACpC,IAAM0O,EAAUue,KAD2B,EAEjB/mB,IAAM3C,SAAS,OAFE,iCAGb2C,IAAM3C,SAAS,aAHF,iCAIX2C,IAAM3C,SAAS,KAJJ,oBAIpC+b,EAJoC,KAI1BsM,EAJ0B,OAKnB1lB,IAAM3C,SAAS,GALI,iCAMjB2C,IAAM3C,UAAS,IANE,iCAOL2C,IAAM3C,SAAS,KAPV,iCAQf2C,IAAM3C,SAAS,KARA,oBAQpC8F,EARoC,KAQ9BC,EAR8B,OASjBpD,IAAM3C,SAAS,GATE,iCAUX2C,IAAM3C,UAAS,IAVJ,oBAUpC4Q,EAVoC,KAU9B0Z,EAV8B,OAWd3nB,IAAM3C,SAAS,GAXD,oBAWpCuqB,EAXoC,KAWzBC,EAXyB,OAYf7nB,IAAM3C,SAAS,IAZA,oBAYpCjT,EAZoC,KAY5B09B,EAZ4B,OAanB9nB,IAAM3C,SAAS,IAbI,oBAapC0qB,EAboC,KAa9BnC,EAb8B,OAcD5lB,IAAM3C,UAAS,GAdd,oBAcpC2qB,EAdoC,KAcpBrC,EAdoB,OAenB3lB,IAAM3C,UAAS,GAfI,oBAepC2J,EAfoC,KAe9BihB,GAf8B,QAgBJjoB,IAAM3C,SAAS,CAAChS,MAAM,aAAc6C,MAAM,KAhBtC,sCAiBb8R,IAAM3C,SAAS,kCAjBF,sBAiBpCgL,GAjBoC,MAiB3B6f,GAjB2B,SAkBEloB,IAAM3C,UAAS,GAlBjB,sBAkBpCmnB,GAlBoC,MAkBrBC,GAlBqB,SAmBLzkB,IAAM3C,SAAS,WAnBV,sBAmBpCoN,GAnBoC,MAmBvB0d,GAnBuB,SAoBLnoB,IAAM3C,UAAS,GApBV,sCAqBb2C,IAAM3C,SAAS,KArBF,sBAqBpCkoB,GArBoC,MAqB3BC,GArB2B,SAsBPxlB,IAAM3C,SAAS,UAtBR,sBAsBpCgoB,GAtBoC,MAsBrBC,GAtBqB,SAuBdtlB,IAAM3C,SAASjP,EAAoB,YAvBrB,sBAuBpCg6B,GAvBoC,MAuB3BC,GAvB2B,SAyBjBroB,IAAM3C,UAAS,GAzBE,sBAyBpC4pB,GAzBoC,MAyB7BqB,GAzB6B,MA0BvC3xB,GAAU4xB,eACVl+B,GAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAC1Bm+B,GAAY,CAAC,CAACt6B,MAAM,GAAI7C,MAAM,eAyPlC,SAAS4oB,GAAiBprB,GACxB8+B,GAAgB,GAGlB,SAAS/L,GAAgB/yB,EAAOpB,EAAOghC,GACrCZ,EAAQpgC,GACRqgC,EAAUW,GACVd,GAAgB,GA/PlBl4B,EAAS0V,KAAI,SAACC,EAAK9c,GAAQkgC,GAAUt/B,KAAKkc,MAG1CpF,IAAMhJ,WAAU,WACTswB,GAAEoB,GAAGC,UAAUC,YAAa,eACftB,GAAE,aAAanI,YACrBnc,SAAQ,GACdslB,IAAS,GACTllB,EAAY,KAEhB,OAAO,WACHA,EAAY,IACCkkB,GAAE,aAAanI,YACrBnc,SAAQ,GACfslB,IAAS,MAEZ,IAEHtoB,IAAMhJ,WAAU,WACRiwB,IAASK,GAAEoB,GAAGC,UAAUC,YAAa,aAClC37B,KAAKE,UAAUgW,KAAUlW,KAAKE,UAAUsP,OAAOosB,YAC9CpsB,OAAOosB,SAAW1lB,IAGtBmlB,IAAS,GAMnB,WACE,IACIQ,EAAa,CACf,CAAE,UAAY,EAAO,SAAY,CAAC,IAClC,CACEC,QAAS,EACTn9B,MAAO,OACPo9B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GAGnDC,IAASC,OACT,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWod,EAAQ5yB,IAC5B0I,SAAU,SAAArW,GAAK,OA8JvB,SAAS2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,GAClC,IAAMlQ,EAAgBH,EAAS1e,QAAQlE,GAGjCkzB,EAAKtQ,GAEW,IAAnBG,EACCmQ,EAAIxgC,KAAKsN,GAETkzB,EAAIpQ,OAAOC,EAAe,GAE9BmM,EAAYgE,GACZ,IAAM3D,EAAM,aAAOgC,GACnBhC,EAAO78B,KAAK,GACZ08B,EAAQG,GAEMuB,GAAE,aAAanI,YACvBwK,KAAMT,GAAKK,OAAOD,IAASC,OAC3B,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWxV,GACpB0I,SAAU,SAAArW,GAAK,OAAI2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,IAC9CzX,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyX,MAE1DP,IArLiBM,CAAY3gC,EAAOugC,EAAQ5yB,GAAI0yB,EAAIzR,IACtDzF,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyF,MAE1DyR,KAIN,CACEH,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjD,IAAI5H,EAAe0H,EAAS53B,cAExBkwB,EADDA,EAAa/vB,SAAS,SACN+vB,EAAalc,MAAM,SAAS,GAAGvX,QAAQ,KAAK,KAE5CyzB,EAAazzB,QAAQ,KAAK,KAE/Cs7B,IAASC,OACT,uBAAG98B,MAAO,CAACo1B,cAAe,cAAe7c,KAAM,aAAaokB,EAAQ5yB,GAAG,IAAIirB,EAAcnc,OAAO,UAC/Fmc,GAEKyH,KAIV,CACEH,QAAS,EACTC,WAAW,EACX,YAAe,SAAUE,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACT,0BAAM7pB,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,gBAAgB9iB,UAAwB,IAAbw0B,EAAiB,6CAA6C,6CACvI,+BACA,2BACA9+B,KAAK,WAAWmV,QAAsB,IAAb2pB,EAAiB,iBAAiB,GAC3DxgC,KAAK,gCAED,iCAESugC,KAInB,CACEH,QAAS,EACTh3B,MAAO,OACPi3B,WAAW,EACX,YAAe,SAAUE,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACT,0BAAM7pB,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,WAAW9iB,UAAwB,IAAbw0B,EAAiB,6CAA6C,6CAClI,+BACA,2BACA9+B,KAAK,WAAWmV,QAAsB,IAAb2pB,EAAiB,iBAAiB,GAC3DxgC,KAAK,gCAED,iCAESugC,KAIjB,CACAH,QAAS,EACTE,YAAW,GAEX,CACIF,QAAS,EACTh3B,MAAO,UACPi3B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACT,kBAACpD,GAAA,EAAD,CAAUxxB,UAAU,yBAAyByxB,KAAK,OAAOwD,WAAS,GAClE,kBAACzD,GAAA,EAASG,OAAV,CAAiB9W,GAAIiY,KACjB,kBAACtB,GAAA,EAASI,KAAV,CAAgB5xB,UAAU,kEAC1B,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,kBAAM/I,GAAQzN,KAAK,wBAAkCkgC,EAAQ5yB,MACjE,uBAAG7B,UAAU,iBADjC,kBAGA,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,kBAAM/I,GAAQzN,KAAK,wBAAgCkgC,EAAQ5yB,GAAG,WAAW,uBAAG7B,UAAU,mBAA9G,iBACJ,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,YAAW,uBAAG9iB,UAAU,oBAA/E,aAGMu0B,MAKlB5B,GAAE,aAAanI,UAAU,CACvB7d,WAAY,CACVuoB,QAAS,CACPC,SAAUxC,GAAEoB,GAAGC,UAAUoB,WAAWD,SAASE,oBAGjDC,YAAW,EACXC,aAAe5K,GAAW,YAAaxlB,GACvC0tB,KAAM,CACJtN,IA5GM9sB,4DA6GN+8B,OAAQ,MACR18B,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,SAASR,KAAKC,MAAMU,aAAaC,QAAQN,IAAgBQ,UAAUC,QAAQ,SAAU,KACpJ,WAAc,SAASpI,GACrB,IAAIwkC,EAAOn9B,KAAKC,MAAMtH,GAClBwjC,EArMd,SAAsBA,GAMpB,OALMtzB,MAAMC,QAAQqzB,IAAYA,EAAQtiC,OAAS,GAC/CsiC,EAAQiB,SAAQ,SAASr0B,EAAMvO,GAC7B2hC,EAAQ3hC,GAAR,QAA4B2hC,EAAQ3hC,GAAR,SAA6B,MAGtD2hC,EA+LekB,CAAaF,EAAKxkC,MAGhC,OAFAwd,EAAYgmB,GACZgB,EAAKxkC,KAAOwjC,EACLn8B,KAAKE,UAAUi9B,KAKtBG,IAAI,2GAGJC,WAAY,CAAC,EAAG,GAAI,GAAI,IAE5BC,WAAY,GACZC,WAAY,UACZC,aAAcxnB,EAAKwnB,aACnBC,gBAAiBznB,EAAKynB,gBAEtB/qB,SAAU,CACR,WAAc,kBAIhBgrB,MAAO,CAAC,CAAC,EAAG,SACZ/B,WAAWA,IAEbxB,GAAE,aAAa9/B,GAAI,WAAW,WAC5Bw3B,GAAWsI,GAAE,aAAc,YAAaxtB,MAlJlCgxB,MAEL,CAAC3nB,IA+SNnD,IAAMhJ,WAAU,WACd/I,EAAoB,UAAWm6B,MAChC,CAACA,KAEF,IAAM2C,GAAsB,SAACliC,EAAOmiC,GAClC/C,IAAQ,IAGJjc,GAAa,SAAAxV,GAAE,OAA8B,IAA1B4iB,EAAS1e,QAAQlE,IAE1C,OAEE,yBAAK7B,UAAW6T,EAAQxW,MAEtB,kBAACi5B,GAAA,EAAD,CAAOt2B,UAAW6T,EAAQwe,OACxB,yBAAKryB,UAAW6T,EAAQ2e,cACxB,yBAAKxyB,UAAU,iCACX,kBAAC,GAAD,CAAsB6wB,WAAYA,GAAYD,QAASA,GAASF,cAAeA,GAAeC,WAAYA,GAAYM,QAASA,EAASxiB,YAAaA,EAAaD,KAAMA,EAAMwiB,gBAAiBA,EAAiBD,YAAaA,EAAajB,oBAAqBA,GAAqBrL,SAAUA,EAAUqM,YAAarM,EAAStyB,OAAQuD,KAAMA,KAC9U,yBAAKsK,UAAU,oBAEb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,uDACb,yBAAKA,UAAU,qCACb,2BAAOu2B,QAjH7B,SAAsBriC,GACNy+B,GAAE,aAAanI,YACvBluB,OAAQpI,EAAMyc,OAAOpX,OAAQi9B,QA+GgB9gC,KAAK,OAAOsK,UAAU,eAAegb,YAAY,YAAYnZ,GAAG,kBAC/F,0BAAM7B,UAAU,iDACd,8BAAM,uBAAGA,UAAU,yBAUjC,yBAAKA,UAAU,cACX,6BACE,2BAAOA,UAAU,kEAAkE6B,GAAI,YACnF,+BACA,4BACI,wBAAI40B,YAAU,YACV,kBAACjO,GAAA,EAAD,CACE3d,QAASwoB,EACT9oB,SAnM9B,SAA8BrW,GAE5B,GAAIA,EAAMyc,OAAO9F,QAAS,CACtB,IAAMkqB,EAAMtQ,EACOjW,EAAKgC,KAAI,SAAAkmB,GAAC,OAAIA,EAAE70B,MACtB6zB,SAAQ,SAAAzD,GACpB8C,EAAIxgC,KAAK09B,MAEZlB,EAAYgE,QAEVtQ,EAAStyB,OAAS,EAClB4+B,EAAYtM,GAGduM,GADCqC,GAKHhC,MAkL4BhU,WAAY,CACV,aAAc,uBAItB,wBAAIoZ,YAAU,MAAd,MACA,wBAAIA,YAAU,SAAd,YACA,wBAAIA,YAAU,OAAd,OACA,wBAAIA,YAAU,eAAd,WACA,wBAAIA,YAAU,qBAAd,QACA,wBAAIA,YAAU,kBAAd,UACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,WAAd,oBAWpB,kBAACrd,GAAA,EAAD,CAAOE,KAAMA,EAAMC,OAAQ+F,IACzB,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QA1IlC,SAAiB7W,GACf,GAAc,WAAXuB,EAAqB,CACtB,IAAIxE,EAAO,CAAC,kBAA2D,IAAtCud,EAAKykB,GAAW0D,kBAA0B,EAAE,GAE7Er8B,EAAM,aAAakU,EAAKykB,GAAWpxB,GAAG,IAAK5Q,GAAM8I,MAAK,SAAUC,GAC9DwU,EAAKykB,GAAaj5B,EAAS/I,KAC3Bwd,EAAYD,GACZwkB,GAAgB,GAChB3B,KACAiC,IAAQ,GACR,IAAIsD,EAAiD,IAApC58B,EAAS/I,KAAK0lC,kBAA0B,YAAc,cACvEnD,GACsC,IAApCx5B,EAAS/I,KAAK0lC,kBAA0B,UAAY,SAEtDpD,GAAW,uBAAuBqD,WAE/B,GAAc,gBAAXnhC,EAA0B,CAC9BxE,EAAO,CAAC4uB,YAA6C,IAAhCrR,EAAKykB,GAAWpT,YAAoB,EAAI,GAEjEtlB,EAAK,aAAaiU,EAAKykB,GAAWpxB,GAAG,YAAa5Q,GAAM8I,MAAK,SAAUC,GACrEwU,EAAKykB,GAAaj5B,EAAS/I,KAC3Bwd,EAAYD,GACZwkB,GAAgB,GAChB3B,KACAiC,IAAQ,GACR,IAAIuD,EAAc,GAAIC,EAAa,GACV,WAAtB98B,EAAS/I,KAAKyE,OACf+9B,GAAQjjB,KAAI,SAACumB,EAAQpjC,GACnBmjC,EAAa,GACb73B,OAAOC,KAAK63B,GAAQvmB,KAAI,SAAAjb,GACtBuhC,EAAWvhC,GAAOwhC,EAAOxhC,GAEP,YAAfwhC,EAAO/iC,MAA6B,YAAPuB,IACP,GAApBtE,EAAK4uB,YACNiX,EAAWvhC,IAAQ,EAEnBuhC,EAAWvhC,IAAQ,MAIzBshC,EAAYtiC,KAAKuiC,MAInBpD,GAAUmD,IAGZrD,GAAex5B,EAAS/I,KAAKyE,MAC7B69B,GAAWv5B,EAAS/I,KAAKyiB,gBAET,UAAVje,GACR+E,EAAI,aAAagU,EAAKykB,GAAWpxB,GAAG,KAAK9H,MAAK,SAAUC,GACtDwU,EAAKmW,OAAOsO,EAAU,GACtBxkB,EAAYD,GACZwkB,GAAgB,GAChB3B,KACAiC,IAAQ,GACRC,GAAW,oCAiFT,OAGA,kBAACnjB,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASuU,IAAlC,QAKJ,kBAAC,GAAD,CAAW5pB,KAAM,WAAYzE,KAAMkU,EAAO0qB,cAAeA,GAAeC,oBAAqBA,KAC7F,kBAACnT,GAAA,EAAD,CACIC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAMA,EACN0K,iBAAkB,KAClBzK,QAAS8jB,IAET,kBAAC,GAAD,CACE9jB,QAAS8jB,GACT9lB,QAASwF,GACTpC,QAASA,OCluBrB,IAAMwc,GAA6B7kB,IAAMC,YACvC,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OACE,4BACEQ,IAAKA,EACLR,QAAS,SAACxY,GACRA,EAAEC,iBACFuY,EAAQxY,IAEVyN,UAAU,8BANZ,UASE,kBAAC,GAAD,CAAcA,UAAU,oCAKxB6S,GAAc,CAClBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MAGFC,GAA2BC,cAAW,SAAC3O,GAAD,MAAY,CACtDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CACE3e,IAAI,QACJ4e,aAAW,QACX/E,MAAM,UACNrE,QAASuH,GAET,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,IAYV,IAAMqc,GAAmBhd,cAAW,SAAC3O,GAAD,MAAY,CAC9CnH,KAAM,CACJ+yB,YAAa5rB,EAAMiP,QAAQ,GAC3BzK,aAAcxE,EAAMiP,QAAQ,GAC5B3c,QAAS,SAEXu5B,UACyB,UAAvB7rB,EAAMK,QAAQnP,KACV,CACE0Z,MAAO5K,EAAMK,QAAQG,UAAUD,KAC/B0H,gBAAiB6jB,aAAQ9rB,EAAMK,QAAQG,UAAU9O,MAAO,MAE1D,CACEkZ,MAAO5K,EAAMK,QAAQoI,KAAK7W,QAC1BqW,gBAAiBjI,EAAMK,QAAQG,UAAU7O,MAEjDo6B,OAAQ,CACNC,KAAM,YAER56B,QAAS,CACPwZ,MAAO5K,EAAMK,QAAQoI,KAAKjI,WAE5B5H,MAAO,CACLozB,KAAM,gBAIJC,GAAuB,SAACtrB,GAC5B,IAAM0O,EAAUsc,KAEdO,EAaEvrB,EAbFurB,cACAC,EAYExrB,EAZFwrB,WACAC,EAWEzrB,EAXFyrB,QACAC,EAUE1rB,EAVF0rB,WAEAC,GAQE3rB,EATF2qB,oBASE3qB,EARF2rB,aACAp7B,EAOEyP,EAPFzP,KACA+uB,EAMEtf,EANFsf,SACAsM,EAKE5rB,EALF4rB,YACAC,EAIE7rB,EAJF6rB,gBACAviB,EAGEtJ,EAHFsJ,YACAD,EAEErJ,EAFFqJ,KACAyiB,EACE9rB,EADF8rB,QA6EF,OACE,kBAACC,GAAA,EAAD,CACElxB,UAAWgL,aAAK6I,EAAQxW,KAAT,gBACZwW,EAAQwc,UAAYS,EAAc,KAGrC,yBAAK9wB,UAAU,yCACb,yBAAKA,UAAU,0BACb,0BAAMA,UAAU,yBACd,uBAAGA,UAAU,sCAEd8wB,EAAc,EACb,kBAACK,GAAA,EAAD,CAAY/hB,MAAM,UAAUkB,QAAQ,aACjCwgB,EADH,aAIA,wBAAI9wB,UAAU,0BAAd,eAGJ,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACZ8wB,EAAc,EACb,kBAAC3e,GAAA,EAAD,CAAS/U,MAAM,UACb,kBAAC8W,GAAA,EAAD,CACEnJ,QAAS,SAACxY,GAAD,OAnG3B,SAAsB2B,GACpB,GAAIuwB,EAAStyB,OAAQ,CACnB,IAAIlB,EAAO,CAAE4mB,IAAK4M,GAClBjqB,EAAI,QAAUiqB,EAAS,GAAK,IAAKxzB,GAAM8I,MAAK,SAASC,GAEnD,IAAK,IAAIrG,KAAK6a,EACRiW,EAAS1e,QAAQyI,EAAK7a,GAAGkO,KAAO,UAC3B2M,EAAK7a,GAGhB8a,EAAYD,GACZiW,EAAStyB,OAAS,EAClB4+B,EAAYtM,GACZuM,GAAgB,GAGhB,IAAMI,EAAS,GACfA,EAAO78B,KAAK,GACZ08B,EAAQG,GAERC,GAAY37B,OA+EgB47B,IAChBnd,aAAW,UAEX,kBAAC,KAAD,QAIJ,yBAAKnU,UAAU,aACb,uBACE+K,QAASsmB,GACTrxB,UAAU,gEAEV,uBAAGA,UAAU,gBAAgBuxB,cAAY,SAJ3C,WAOA,kBAAC,QAAD,CACE3H,GAAI,yBACJ5pB,UAAU,2DAEV,uBAAGA,UAAU,eAJf,WAOA,kBAACwxB,GAAA,EAAD,CAAUxxB,UAAU,kBAAkByxB,KAAK,OAAOC,YAAU,GAC1D,kBAACF,GAAA,EAASG,OAAV,CACE9W,GAAIqV,GACJruB,GAAG,4CAGL,kBAAC2vB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,0DACvB,wBAAIA,UAAU,UACZ,wBAAIA,UAAU,gBACZ,uBAAG+K,QAzG3B,WACE4lB,EAAW,IACXj3B,EAAK,OAAQ,CAAEm4B,QAAS,QAAS93B,MAAK,SAACC,GACrC,IAAI83B,EAAiB,CACnB,OACA,QACA,eACA,WACA,QACA,SACA,mBACA,QAGEC,EAAgB,CAClB,MACA,iBACA,QACA,QACA,iBACA,QACA,aACA,aACA,aACA,oBACA,cACA,gBAGFpB,EAAW,UACX,IAAIqB,EAAeh4B,EAAS/I,KAAKuf,KAAI,SAACyhB,EAAGt+B,GASvC,OARAo+B,EAAcvhB,KAAI,SAAC0hB,GAAD,cAAkBD,EAAEC,MAEtCJ,EAAethB,KAAI,SAAC2P,GAClB8R,EAAE9R,GAAS8R,EAAE9R,GAAS8R,EAAE9R,GAAOnsB,KAAOi+B,EAAE9R,MAE1C8R,EAAE7N,gBAAkB6N,EAAE7N,gBAClB6N,EAAE7N,gBAAgBxD,WAAa,IAAMqR,EAAE7N,gBAAgBvD,UACvDoR,EAAE7N,gBACC6N,KAETpB,EAAWmB,GACXtvB,SAASC,eAAe,eAAesV,YA+DOjY,UAAU,gBAClC,uBAAGA,UAAU,mCACb,0BAAMA,UAAU,qBAAhB,UACA,yBACEA,UAAW,gBAAkB0wB,KAGjC,kBAAC,WAAD,CACEz/B,KAAM2/B,EACNuB,SAAS,UACTnyB,UAAU,SACV6B,GAAG,cACH8O,OAAO,sBAqB7ByhB,GAAYjf,cAAW,SAAC3O,GAAD,MAAY,CACvCnH,KAAM,CACJpG,MAAO,OACP+4B,UAAWxrB,EAAMiP,QAAQ,IAE3B4e,MAAO,CACLp7B,MAAO,OACP8iB,aAAcvV,EAAMiP,QAAQ,IAE9B6e,MAAO,CACLC,SAAU,KAEZC,aAAc,CACZC,UAAW,QAEbC,MAAO,CACLzW,QAASzX,EAAMiP,QAAQ,SAIrBkf,GAAIC,EAAQ,IAGlB,SAASvB,GAAY37B,GACLi9B,GAAE,QAAQnI,YAClBqI,KAAKppB,OAAO,MAAM,GAJ1BkpB,GAAEnI,UAAYoI,EAAQ,KAgBtB,IAAME,GAAwBznB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAC7C,uBACEQ,IAAKA,EACLR,QAAS,SAACxY,GACRA,EAAEC,iBACFuY,EAAQxY,IAEVsP,GAAG,+BACH7B,UAAU,6CAET,IACD,uBAAGA,UAAU,yBAIF,SAAS+yB,GAAc5tB,GACpC,IAAM0O,EAAUue,KAD2B,EAEjB/mB,IAAM3C,SAAS,OAFE,iCAGb2C,IAAM3C,SAAS,aAHF,iCAIX2C,IAAM3C,SAAS,KAJJ,oBAIpC+b,EAJoC,KAI1BsM,EAJ0B,OAKnB1lB,IAAM3C,SAAS,GALI,iCAMjB2C,IAAM3C,UAAS,IANE,iCAOL2C,IAAM3C,SAAS,KAPV,iCAQf2C,IAAM3C,SAAS,KARA,oBAQpC8F,EARoC,KAQ9BC,EAR8B,OASjBpD,IAAM3C,SAAS,GATE,iCAUX2C,IAAM3C,UAAS,IAVJ,oBAUpC4Q,EAVoC,KAU9B0Z,EAV8B,OAWd3nB,IAAM3C,SAAS,GAXD,oBAWpCuqB,EAXoC,KAWzBC,EAXyB,OAYf7nB,IAAM3C,SAAS,IAZA,oBAYpCjT,EAZoC,KAY5B09B,EAZ4B,OAanB9nB,IAAM3C,SAAS,IAbI,oBAapC0qB,EAboC,KAa9BnC,EAb8B,OAcD5lB,IAAM3C,UAAS,GAdd,oBAcpC2qB,EAdoC,KAcpBrC,EAdoB,OAenB3lB,IAAM3C,UAAS,GAfI,oBAepC2J,EAfoC,KAe9BihB,EAf8B,QAgBbjoB,IAAM3C,SAAS,iCAhBF,sBAgBpCgL,GAhBoC,MAgB3B6f,GAhB2B,SAiBEloB,IAAM3C,UAAS,GAjBjB,sBAiBpCmnB,GAjBoC,MAiBrBC,GAjBqB,SAkBLzkB,IAAM3C,SAAS,WAlBV,sBAkBpCoN,GAlBoC,MAkBvB0d,GAlBuB,SAmBjBnoB,IAAM3C,UAAS,GAnBE,sBAmBpC4pB,GAnBoC,MAmB7BqB,GAnB6B,SAoBLtoB,IAAM3C,UAAS,GApBV,sCAqBb2C,IAAM3C,SAAS,KArBF,sBAqBpCkoB,GArBoC,MAqB3BC,GArB2B,SAsBPxlB,IAAM3C,SAAS,UAtBR,sBAsBpCgoB,GAtBoC,MAsBrBC,GAtBqB,SAuBdtlB,IAAM3C,SAASjP,EAAoB,YAvBrB,sBAuBpCg6B,GAvBoC,MAuB3BC,GAvB2B,MAyBvC1xB,GAAU4xB,eACVl+B,GAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAC1Bm+B,GAAY,CAAC,CAAEt6B,MAAO,GAAI7C,MAAO,eAsSrC,SAAS4oB,GAAiBprB,GACxB8+B,GAAgB,GAGlB,SAAS/L,GAAgB/yB,EAAOpB,EAAOghC,GACrCZ,EAAQpgC,GACRqgC,EAAUW,GACVd,GAAgB,GA5SlBl4B,EAAS0V,KAAI,SAACC,EAAK9c,GACjBkgC,GAAUt/B,KAAKkc,MAGjBpF,IAAMhJ,WAAU,WACVswB,GAAEoB,GAAGC,UAAUC,YAAY,UACjBtB,GAAE,QAAQnI,YAChBnc,SAAQ,GACdslB,IAAS,GACTllB,EAAY,KAEd,OAAO,WACLA,EAAY,IACCkkB,GAAE,QAAQnI,YAChBnc,SAAQ,GACfslB,IAAS,MAEV,IAEHtoB,IAAMhJ,WAAU,WACViwB,IAASK,GAAEoB,GAAGC,UAAUC,YAAY,QAClC37B,KAAKE,UAAUgW,KAAUlW,KAAKE,UAAUsP,OAAOosB,YACjDpsB,OAAOosB,SAAW1lB,IAGpBmlB,IAAS,GAKb,WACE,IACIQ,EAAa,CACf,CAAE6C,UAAU,EAAOC,SAAU,CAAC,IAC9B,CACE7C,QAAS,EACTn9B,MAAO,OACPo9B,WAAW,EACXC,YAAY,EACZ4C,YAAa,SAAS3C,EAAIC,EAAUC,EAAS3R,EAAK4R,GAChDC,IAASC,OACP,kBAACpM,GAAA,EAAD,CACE3d,QAASwM,GAAWod,EAAQ5yB,IAC5B0I,SAAU,SAACrW,GAAD,OA0MtB,SAAS2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,GAClC,IAAMlQ,EAAgBH,EAAS1e,QAAQlE,GAGjCkzB,EAAMtQ,GAEW,IAAnBG,EACFmQ,EAAIxgC,KAAKsN,GAETkzB,EAAIpQ,OAAOC,EAAe,GAE5BmM,EAAYgE,GACZ,IAAM3D,EAAM,aAAOgC,GACnBhC,EAAO78B,KAAK,GACZ08B,EAAQG,GAEMuB,GAAE,QAAQnI,YAErBwK,KAAKT,GACLK,OACCD,IAASC,OACP,kBAACpM,GAAA,EAAD,CACE3d,QAASwM,GAAWxV,GACpB0I,SAAU,SAACrW,GAAD,OAAW2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,IAChDzX,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyX,MAE9DP,IApOyBM,CAAY3gC,EAAOugC,EAAQ5yB,GAAI0yB,EAAIzR,IACxDzF,WAAY,CACV,kBAAkB,2BAAlB,OAA8CyF,MAGlDyR,KAIN,CACEH,QAAS,EACT8C,YAAa,SAAS3C,EAAIC,EAAUC,EAAS3R,EAAK4R,GAChD,IAAIyC,EAAU3C,EAAS53B,cAErBu6B,EADEA,EAAQp6B,SAAS,SACTo6B,EAAQvmB,MAAM,SAAS,GAAGvX,QAAQ,KAAM,KAExC89B,EAAQ99B,QAAQ,KAAM,KAElCs7B,IAASC,OACP,uBACE98B,MAAO,CAAEo1B,cAAe,cACxB7c,KAAM,QAAUokB,EAAQ5yB,GAAK,IAAMs1B,EACnCxmB,OAAO,UAENwmB,GAEH5C,KAIN,CACEH,QAAS,EACTC,WAAW,EACX6C,YAAa,SAAS3C,EAAIC,EAAUC,EAAS3R,EAAK4R,GAChDC,IAASC,OACP,0BACE7pB,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,gBACxC9iB,UACe,IAAbw0B,EACI,6CACA,6CAGN,+BACE,2BACE9+B,KAAK,WACLmV,QAAsB,IAAb2pB,EAAiB,iBAAmB,GAC7CxgC,KAAK,gCAEP,iCAGJugC,KAIN,CACEH,QAAS,EACTh3B,MAAO,SACPi3B,WAAW,EACX6C,YAAa,SAAS3C,EAAIC,EAAUC,EAAS3R,EAAK4R,GAChDC,IAASC,OACP,0BACE7pB,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,WACxC9iB,UACe,IAAbw0B,EACI,6CACA,6CAGN,+BACE,2BACE9+B,KAAK,WACLmV,QAAsB,IAAb2pB,EAAiB,iBAAmB,GAC7CxgC,KAAK,gCAEP,iCAGJugC,KAIN,CACEH,QAAS,EACTE,YAAY,GAEd,CACEF,QAAS,EACTh3B,MAAO,UACPi3B,WAAW,EACXC,YAAY,EACZ4C,YAAa,SAAS3C,EAAIC,EAAUC,EAAS3R,EAAK4R,GAChDC,IAASC,OACP,kBAACpD,GAAA,EAAD,CAAUxxB,UAAU,yBAAyByxB,KAAK,OAAOwD,WAAS,GAChE,kBAACzD,GAAA,EAASG,OAAV,CAAiB9W,GAAIiY,KACrB,kBAACtB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,kEACvB,kBAACwxB,GAAA,EAASjX,KAAV,CACExP,QAAS,kBACP/I,GAAQzN,KAAK,mBAAiCkgC,EAAQ5yB,MAGxD,uBAAG7B,UAAU,iBALf,kBAOA,kBAACwxB,GAAA,EAASjX,KAAV,CACExP,QAAS,kBACP/I,GAAQzN,KACN,mBAAiCkgC,EAAQ5yB,GAAK,WAIlD,uBAAG7B,UAAU,mBAPf,iBASA,kBAACwxB,GAAA,EAASjX,KAAV,CACExP,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,YAExC,uBAAG9iB,UAAU,oBAHf,aAOJu0B,MAKR5B,GAAE,QAAQnI,UAAU,CAClB7d,WAAY,CACVuoB,QAAS,CACPC,SAAUxC,GAAEoB,GAAGC,UAAUoB,WAAWD,SAASE,oBAGjDC,YAAY,EACZC,aAAc5K,GAAW,OAAQxlB,GACjC0tB,KAAM,CACJtN,IAlJM9sB,uDAmJN+8B,OAAQ,MACR18B,QAAS,CACP,eAAgB,mBAChBs+B,cACE,SACA9+B,KAAKC,MAAMU,aAAaC,QAAQN,IAAgBQ,UAAUC,QACxD,SACA,KAGNg+B,WAAY,SAASpmC,GACnB,IAAIwkC,EAAOn9B,KAAKC,MAAMtH,GAClBwjC,EAlPd,SAAsBA,GAMpB,OALItzB,MAAMC,QAAQqzB,IAAYA,EAAQtiC,OAAS,GAC7CsiC,EAAQiB,SAAQ,SAASr0B,EAAMvO,GAC7B2hC,EAAQ3hC,GAAR,QAA4B2hC,EAAQ3hC,GAAR,SAA6B,MAGtD2hC,EA4OekB,CAAaF,EAAKxkC,MAGhC,OAFAwd,EAAYgmB,GACZgB,EAAKxkC,KAAOwjC,EACLn8B,KAAKE,UAAUi9B,KAK1BG,IAAI,2GAGJC,WAAY,CAAC,EAAG,GAAI,GAAI,IAExBC,WAAY,GACZC,WAAY,UACZC,aAAcxnB,EAAKwnB,aACnBC,gBAAiBznB,EAAKynB,gBAEtB/qB,SAAU,CACR2qB,WAAY,kBAIdK,MAAO,CAAC,CAAC,EAAG,SACZ/B,WAAYA,IAEdxB,GAAE,QAAQ9/B,GAAG,WAAW,WACtBw3B,GAAWsI,GAAE,QAAS,OAAQxtB,MA/L9BgxB,MAED,CAAC3nB,IAmVJ,IAAM4nB,GAAsB,SAACliC,EAAOmiC,GAClC/C,GAAQ,IAGJjc,GAAa,SAACxV,GAAD,OAAkC,IAA1B4iB,EAAS1e,QAAQlE,IAE5C,OACE,yBAAK7B,UAAW6T,EAAQxW,MACtB,kBAACi5B,GAAA,EAAD,CAAOt2B,UAAW6T,EAAQwe,OACxB,yBAAKryB,UAAW6T,EAAQ2e,cACtB,yBAAKxyB,UAAU,iCACb,kBAAC,GAAD,CACE0wB,cAAeA,GACfC,WAAYA,GACZC,QAASA,GACTC,WAAYA,GACZI,QAASA,EACTxiB,YAAaA,EACbD,KAAMA,EACNwiB,gBAAiBA,EACjBD,YAAaA,EACbtM,SAAUA,EACVqM,YAAarM,EAAStyB,OACtBuD,KAAMA,GACNo6B,oBAAqBA,KAEvB,yBAAK9vB,UAAU,oBACb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,uDACb,yBAAKA,UAAU,qCACb,2BACEu2B,QAjH1B,SAAsBriC,GACNy+B,GAAE,QAAQnI,YAClBluB,OAAOpI,EAAMyc,OAAOpX,OAAOi9B,QAgHT9gC,KAAK,OACLsK,UAAU,eACVgb,YAAY,YACZnZ,GAAG,kBAEL,0BAAM7B,UAAU,iDACd,8BACE,uBAAGA,UAAU,yBAU7B,yBAAKA,UAAU,cACb,6BACE,2BACEA,UAAU,kEACV6B,GAAI,OAEJ,+BACE,4BACE,wBAAI40B,YAAU,YACZ,kBAACjO,GAAA,EAAD,CACE3d,QAASwoB,EACT9oB,SA3M1B,SAA8BrW,GAC5B,GAAIA,EAAMyc,OAAO9F,QAAS,CACxB,IAAMkqB,EAAMtQ,EACSjW,EAAKgC,KAAI,SAACkmB,GAAD,OAAOA,EAAE70B,MAC1B6zB,SAAQ,SAACzD,GACpB8C,EAAIxgC,KAAK09B,MAEXlB,EAAYgE,QAEZtQ,EAAStyB,OAAS,EAClB4+B,EAAYtM,GAEMuM,GAAhBqC,GAGJhC,MA6LwBhU,WAAY,CACV,aAAc,uBAIpB,wBAAIoZ,YAAU,MAAd,MACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,iBAAd,QACA,wBAAIA,YAAU,eAAd,kBACA,wBAAIA,YAAU,kBAAd,kBACA,wBAAIA,YAAU,qBAAd,UACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,WAAd,oBAUlB,kBAACrd,GAAA,EAAD,CAAOE,KAAMA,EAAMC,OAAQ+F,IACzB,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QA5JlC,SAAiB7W,GACf,GAAc,UAAVuB,EAAoB,CACtB,IAAIxE,EAAO,CACT0lC,kBAAyD,IAAtCnoB,EAAKykB,GAAW0D,kBAA0B,EAAI,GAEnEr8B,EAAM,QAAUkU,EAAKykB,GAAWpxB,GAAK,IAAK5Q,GAAM8I,MAAK,SAASC,GAC5DwU,EAAKykB,GAAaj5B,EAAS/I,KAC3Bwd,EAAYD,GACZwkB,GAAgB,GAChB3B,KACAiC,GAAQ,GACR,IAAMsD,EACgC,IAApC58B,EAAS/I,KAAK0lC,kBAA0B,YAAc,cACxDnD,GACsC,IAApCx5B,EAAS/I,KAAK0lC,kBAA0B,UAAY,SAEtDpD,GAAW,uBAAyBqD,WAEjC,GAAe,gBAAXnhC,EAA0B,CAC/BxE,EAAO,CAAE4uB,YAA6C,IAAhCrR,EAAKykB,GAAWpT,YAAoB,EAAI,GAElEtlB,EAAK,QAAUiU,EAAKykB,GAAWpxB,GAAK,YAAa5Q,GAAM8I,MAAK,SAC1DC,GAEAwU,EAAKykB,GAAaj5B,EAAS/I,KAC3Bwd,EAAYD,GACZwkB,GAAgB,GAChB3B,KAEA,IAAIwF,EAAc,GAChBC,EAAa,GACW,WAAtB98B,EAAS/I,KAAKyE,OAChB+9B,GAAQjjB,KAAI,SAACumB,EAAQpjC,GACnBmjC,EAAa,GACb73B,OAAOC,KAAK63B,GAAQvmB,KAAI,SAACjb,GACvBuhC,EAAWvhC,GAAOwhC,EAAOxhC,GAEN,OAAfwhC,EAAO/iC,MAAwB,YAAPuB,IACF,GAApBtE,EAAK4uB,YAAkBiX,EAAWvhC,IAAQ,EACzCuhC,EAAWvhC,IAAQ,MAI5BshC,EAAYtiC,KAAKuiC,MAGnBpD,GAAUmD,IAEZvD,GAAQ,GACRE,GAAex5B,EAAS/I,KAAKyE,MAC7B69B,GAAWv5B,EAAS/I,KAAKyiB,gBAER,UAAVje,GACT+E,EAAI,QAAUgU,EAAKykB,GAAWpxB,GAAK,KAAK9H,MAAK,SAASC,GACpDwU,EAAKmW,OAAOsO,EAAW,GACvBxkB,EAAYD,GACZwkB,GAAgB,GAChB3B,KACAiC,GAAQ,GACRC,GAAW,oCAiGT,OAGA,kBAACnjB,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASuU,IAAlC,QAKJ,kBAAC,GAAD,CACE5pB,KAAM,MACNzE,KAAMkU,EACN0qB,cAAeA,GACfC,oBAAqBA,KAEvB,kBAACnT,GAAA,EAAD,CACEC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAMA,EACN0K,iBAAkB,KAClBzK,QAAS8jB,IAET,kBAAC,GAAD,CACE9jB,QAAS8jB,GACT9lB,QAASwF,GACTpC,QAASA,OC52BnB,IAAMsJ,GAAuBvY,aAAe,CACxCU,MAAO,CACH8X,SAAU,CACNC,kBAAkB,GAEtBC,aAAc,CACVrlB,MAAO,CACHhB,QAAS,UAGjBsmB,aAAc,CACVtlB,MAAO,CACHhB,QAAS,SAEbomB,kBAAkB,EAClBG,WAAY,CACRvlB,MAAO,CACHhB,QAAS,QACTwX,OAAQ,6BACR2N,QAAS,eACTjP,SAAU,OACVsQ,WAAY,MACZC,WAAY,MACZnO,MAAO,UACP3C,gBAAiB,OACjB+Q,eAAgB,cAChBnO,OAAQ,oBACRoO,aAAc,MACdC,WAAY,+DACZC,UAAW,mBAOzBC,GAAgBnZ,aAAe,CACnCoZ,UAAW,CACPC,iBAAiB,CACbzgB,KAAM,CACJ,UAAW,CACT,oBAAoB,CACZ0gB,YAAa,wBAIzBC,YAAa,CACT/B,QAAS,OACTtX,WAAY,iCACZyK,MAAO,eAMf+d,G,YAIF,WAAYhoB,GAAQ,IAAD,wBACf,8CAAMA,KAHV+Y,UAAY7S,IAAM8S,YAEC,EAmenB8I,gBAAkB,WACd,EAAKnS,SAAS,CACVyK,cAAc,KAreH,EAyenBD,iBAAmB,WACf,EAAKxK,SAAS,CAACyK,cAAc,KA1ed,MAEQ,EAAKpa,MAAMlU,KAAKizB,MAAMtqB,OAAtC09B,EAFQ,EAERA,OAFQ,EAEA5hC,KAFA,OAGf,EAAK8pB,kBAAoBnU,IAAM8S,YAE/B,EAAK3oB,MAAQ,CACTiqB,WAAW,EACX8X,IAAK,GACLzY,aAAc,KACdiB,SAAU,GACVC,aAAc,GACdE,UAAW,GACXxqB,KAAM,GACN4qB,SAAU,GACVH,MAAO,GACPI,UAAW,GACXE,MAAO,GACPC,yBAA0B,CACtB7e,GAAGsD,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQ9e,GACtCnL,MAAMyO,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQC,WAAW,IAAIzb,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQE,UAC3FtnB,OAAM,GAEVunB,kBAAmB,CAACvnB,MAAO,IAC3BwnB,cAAe,CAACxnB,MAAO,IACvB0nB,sBAAuB,CAAC1nB,MAAO,IAC/B4nB,0BAA2B,CAAC5nB,MAAO,IACnC6nB,eAAgB,CAAC7nB,MAAO,IACxB+nB,eAAgB,CAAC/nB,MAAO,IACxBmoB,gBAAiB,CAACnoB,MAAO,IACzBqoB,cAAe,CAACroB,MAAO,EAAK4L,MAAMlU,KAAKiJ,WAAWuM,KAAO,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAK,IAC9FggB,gBAAiB,CAACtoB,MAAO,IACzBwoB,mBAAoB,CAACxoB,MAAO,IAC5B+c,gBAAiB,GACjB0L,YAAa,GACbC,aAAc,GACd1C,cAAc,EACd2C,UAAW,GACXC,sBAAuBrmB,GACvBsmB,oBAAqB,GACrBoV,eAAgB37B,GAChB47B,uBAAwB,GACxBj7B,cAAa,GAEjB,EAAKk7B,OAAOJ,GA3CG,E,mFA+Cf,IAAIlnC,KAASI,KAAK0tB,UAAU9P,W,6BAGzBkpB,GAAS,IAAD,OACX59B,EAAK,QAAU49B,EAAS,KAAKv9B,MACzB,SAACC,GACG,IAAIspB,EAAetpB,EAAS/I,KAAKqyB,aACjC,EAAKxO,SAAS,CAACyiB,IAAKv9B,EAAS/I,KAAMqyB,aAAcA,IAEjD,EAAKb,aAQL,EAAK4K,mBAAmBrzB,EAAS/I,KAAK0mB,OACtC,EAAK2V,oBACL,EAAKC,yB,mCAKb,IAAIoK,EAAWnnC,KAAKgF,MAAM+hC,IAItB7J,EAAmB,CACnBrS,OAAQngB,EACRwxB,UAAWvxB,GAGXqpB,EAAgBvlB,OAAOC,KAAKwuB,GAChC,IAAK,IAAIn4B,KAAOivB,EACZ,IAAK,IAAI1xB,KAAS46B,EAAiBlJ,EAAcjvB,IAC7C,GAAIm4B,EAAiBlJ,EAAcjvB,IAAMzC,GAAOyG,QAAUo+B,EAASnT,EAAcjvB,IAAO,CACpF/E,KAAKskB,SAAL,gBAAgB,YAAc0P,EAAcjvB,GAAOm4B,EAAiBlJ,EAAcjvB,IAAMzC,KACxF,MAKZ,IAAI8vB,EAAS,CACT,QAAW,GACX,aAAgB,CAACltB,KAAM,OACvB,WAAc,GACd,YAAe,GACf,YAAe,IAIfi4B,EAAkB,CAClB5K,QAAS,CAAC,QACVE,WAAY,CAAC,mBACbD,aAAc,CAAC,YACfG,gBAAiB,CAAC,gBAClBC,YAAa,CAAC,oBACdC,YAAa,CAAC,QAAS,WAGD,OAAtBsU,EAAS5X,eAA8C5mB,IAAzBw+B,EAAS5X,SAASle,KAChD+gB,EAAM,gBAAsB,CAACltB,KAAM,MAAOovB,eAAgB6S,EAAS5X,SAASle,IAC5E8rB,EAAe,gBAAsB,CAAC,iBAGb,MAAzBgK,EAAS3X,mBAAoD7mB,GAA5Bw+B,EAAS3X,aAAane,KACvD+gB,EAAM,QAAc,CAACltB,KAAM,MAAOsvB,gBAAiB2S,EAAS3X,aAAane,IACzE8rB,EAAe,QAAc,CAAC,SAGb,MAAjBgK,EAASjiC,WAAoCyD,GAApBw+B,EAASjiC,KAAKmM,KACvC+gB,EAAM,SAAe,CAACltB,KAAM,MAAOwvB,OAAQyS,EAASjiC,KAAKmM,IACzD8rB,EAAe,SAAe,CAAC,UAGnCpzB,EAAK,WAAY,CAACqoB,OAAQA,IAAS7oB,KAAK,SAAUC,GAC9C,IAAI4zB,EAAY,GADwC,WAE/C/K,GAEL7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACb,eAARkvB,GAAgC,YAARA,IACxBC,EAAI9uB,KAAO8uB,EAAIlC,WAAa,IAAMkC,EAAIjC,WAC9B,YAARgC,IACAC,EAAIjhB,GAAKihB,EAAI+K,SAEjB7zB,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,GAElC5C,OAAOC,KAAKyuB,GAAiBnd,KAAI,SAACjb,EAAK5B,GACnCg6B,EAAgBp4B,GAAKib,KAAI,SAAChb,EAAO1C,GACzB+vB,IAAQttB,GAA2B,OAApBoiC,EAASniC,SAA0C2D,IAAvBw+B,EAASniC,GAAOqM,IAAoB81B,EAASniC,GAAOqM,KAAOihB,EAAIjhB,KAC1G+rB,EAAU,YAAcp4B,GAASstB,aAdrD,IAAK,IAAID,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,GAoBT+K,EAAS,MAAY5zB,EAAS/I,KAAK8xB,QACnC6K,EAAS,SAAe5zB,EAAS/I,KAAK+xB,aACtC4K,EAAS,SAAe5zB,EAAS/I,KAAKgyB,WACtC2K,EAAS,aAAmB5zB,EAAS/I,KAAKkyB,gBAC1CyK,EAAS,UAAgB5zB,EAAS/I,KAAKmyB,YACvCwK,EAAS,UAAgB5zB,EAAS/I,KAAKoyB,YAEb,OAAtBsU,EAAS5X,eAA8C5mB,IAAzBw+B,EAAS5X,SAASle,KAChD+rB,EAAS,aAAmB5zB,EAAS/I,KAAKkyB,iBAEjB,MAAzBwU,EAAS3X,mBAAoD7mB,GAA5Bw+B,EAAS3X,aAAane,KACvD+rB,EAAS,KAAW5zB,EAAS/I,KAAK8zB,SAEjB,MAAjB4S,EAASjiC,WAAoCyD,GAApBw+B,EAASjiC,KAAKmM,KACvC+rB,EAAS,MAAY5zB,EAAS/I,KAAKg0B,UAEvC2I,EAAS,cAAmB,EAC5Bp9B,KAAKskB,SAAS8Y,IAChBjL,KAAKnyB,S,mCAGE0D,EAAOwB,GAChB,IAAI6hC,EAAM/mC,KAAKgF,MAAM+hC,IACrB,GAAa,iBAAT7hC,EACA,IAAIhC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,UACpB,CACC7F,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,SACxBpvB,KAAKskB,SAAS,CAACwO,aAAcpvB,IAEpB,cAATR,IACA+c,EAAMvd,SAASud,IACnB8mB,EAAI7jC,GAAQ+c,EACZjgB,KAAKskB,SAAS,CAACyiB,IAAKA,M,iCAGbzL,EAAMrb,GACb,IAAImnB,EAAQ9L,EAAK+L,WACjBD,EAAQA,EAAQ,GAAK,IAAMA,EAAQA,EACnC,IAAIE,EAAUhM,EAAKiM,aAGnB,OAAOtnB,EAAM,KADCmnB,EAAQ,KADtBE,EAAUA,EAAU,GAAK,IAAMA,EAAUA,GACH,iB,mCAI7B5jC,GAAQ,IAAD,OACHA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAC2K,WAAW,IAC1BjvB,KAAKg9B,kBACAh9B,KAAKgF,MAAMspB,qBACLtuB,KAAKgF,MAAM+hC,IAAIve,KAC1B1e,EAAM,QAAU9J,KAAKgF,MAAM+hC,IAAI11B,GAAK,IAAKrR,KAAKgF,MAAM+hC,KAAKx9B,MACrD,SAACC,GACG,EAAK8a,SAAS,CAACyiB,IAAKv9B,EAAS/I,OAC7B,EAAKkU,MAAMlU,KAAK+Q,QAAQzN,KAAK,sBAC9B4kB,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,wCAIzB,IAAD,OACVsmC,EAAM/mC,KAAKgF,MAAM+hC,IACF,CAAC,WAAY,kBAAmB,eAAgB,mBAC/D,OAAQ,QAAS,QAAS,OAAQ,UACzB/mB,KAAI,SAACC,EAAK9c,GACnB4jC,EAAI9mB,GAAO,EAAKjb,MAAM,YAAcib,GAAKlX,SAE7Cg+B,EAAI/f,OAAShnB,KAAKgF,MAAM8gB,gBACxBihB,EAAIvV,YAAcxxB,KAAKgF,MAAMwsB,YAC7BxxB,KAAKskB,SAAS,CAACyiB,IAAKA,M,4CAGD,IAAD,OACdI,EAAWnnC,KAAKgF,MAAM+hC,IACtBpT,EAAY,CACZpE,SAAU,WACVqE,gBAAiB,WACjBpE,aAAc,eACdqE,iBAAkB,YAClBC,MAAO,YACP7d,KAAM,SAGN8d,EAAwB,CACxBhE,UAAW,CAAC,WAMZmN,EAAmB,CACnBrS,OAAQngB,EACRwxB,UAAWvxB,GAGXqpB,EAAgBvlB,OAAOC,KAAKwuB,GAChC,IAAK,IAAIn4B,KAAOivB,EACZ,IAAK,IAAI1xB,KAAS46B,EAAiBlJ,EAAcjvB,IAC7C,GAAIm4B,EAAiBlJ,EAAcjvB,IAAMzC,GAAOyG,QAAUo+B,EAASnT,EAAcjvB,IAAO,CACpF/E,KAAKskB,SAAL,gBAAgB,YAAc0P,EAAcjvB,GAAOm4B,EAAiBlJ,EAAcjvB,IAAMzC,KACxF,MAKZ0xB,EAAgBvlB,OAAOC,KAAKilB,GAjCV,eAkCT5uB,GACL,IAAIqE,EAAS,GACyB,iBAAlCuqB,EAAUK,EAAcjvB,MACxBqE,EAAOlE,KAAO,OAClBgE,EAAKyqB,EAAUK,EAAcjvB,IAAOqE,GAAQG,KAAK,SAAUC,GAAW,IAAD,EAC7D/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,EAaZ,GAXsC,aAAlCkzB,EAAUK,EAAcjvB,IACxBtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKjC,WAAa,IAAM3vB,EAAK4xB,GAAKhC,UACjB,UAAlCsD,EAAUK,EAAcjvB,MAC7BtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKlC,QAAQC,WAAa,IAAM3vB,EAAK4xB,GAAKlC,QAAQE,WAE5E5vB,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,QAEQ1I,GAAhCw+B,EAASnT,EAAcjvB,KAAsBtE,EAAK4xB,GAAKhhB,KAAO81B,EAASnT,EAAcjvB,IAAMsM,KAC3F4iB,EAAWxzB,EAAK4xB,SAEwC1pB,GAAxDorB,EAAsBJ,EAAUK,EAAcjvB,KAC9C,IAAK,IAAIzC,KAASyxB,EAAsBJ,EAAUK,EAAcjvB,KAAQ,CACpE,IAAImvB,EAAgBH,EAAsBJ,EAAUK,EAAcjvB,KAAOzC,QAE1CqG,GAA3Bw+B,EAASjT,IAA+BzzB,EAAK4xB,GAAKhhB,KAAO81B,EAASjT,GAAe7iB,IACjFrR,KAAKskB,SAAL,gBAAgB,YAAc4P,EAAgBzzB,EAAK4xB,KAKnEryB,KAAKskB,UAAL,oBACKqP,EAAUK,EAAcjvB,IAAQtE,GADrC,eAEK,YAAcuzB,EAAcjvB,GAAOkvB,GAFxC,qBAGSkT,GAHT,KAMFhV,KAAK,KApCX,IAAK,IAAIptB,KAAOivB,EAAgB,EAAvBjvB,K,mCAwCAgE,EAAOhE,GAAM,IAAD,EACjBgiC,EAAM/mC,KAAKgF,MAAM+hC,IACrBA,EAAIhiC,GAAOgE,GAASA,EAAMA,MAAQA,EAAMA,MAAQ,GAChD/I,KAAKskB,UAAL,oBAAgB,YAAcvf,EAAMgE,GAAgB,IAApD,qBAA6Dg+B,GAA7D,IACA/mC,KAAKy9B,oBAAoB10B,GAASA,EAAMsI,GAAKtI,EAAMsI,GAAK,GAAItM,K,0CAG5CsM,EAAItM,GACpB,GAAI,CAAC,eAAgB,QAAQwQ,QAAQxQ,IAAQ,GAAKsM,EAAI,CAClD,IAAgCgjB,EAAgB,GAAIjC,EAAS,GACjD,iBAARrtB,GACAqtB,EAAS,CACLmC,QAAS,CAACC,gBAAiBnjB,EAAInM,KAAM,QAEzCmvB,EAAgB,QACD,SAARtvB,IACPqtB,EAAS,CACLqC,SAAU,CAACC,OAAQrjB,EAAInM,KAAM,QAEjCmvB,EAAgB,SAGpBtqB,EAAK,WAAY,CAACqoB,OAAQA,IAAS7oB,KAAK,SAAUC,GAAW,IAAD,OACpDyqB,EAAW,GADyC,WAE/C5B,GAF+C,MAGpD7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACzBqG,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,GAClC4iB,EAAW3B,KAEf,EAAKhO,UAAL,oBACK+P,EAAgB7qB,EAAS/I,KAAK4xB,IADnC,eAC0C,YAAcgC,EAAgBJ,GADxE,KANJ,IAAK,IAAI5B,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,IAWXF,KAAKnyB,U,6BAIR0D,EAAOyU,GACVjG,SAASC,eAAe,gBAAkBgG,GAAKsP,U,kCAGvCnlB,GACR,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAkBA,EAAgBxZ,QAAO,SAAC2T,EAAK9c,GAC3C,OAAOb,IAAUa,KAErBnD,KAAKskB,SAAS,CAACwB,gBAAiBA,M,yCAGjBrlB,GACfA,EAAKuf,KAAI,SAACC,EAAK9c,GACX1C,EAAK0C,GAAGqjB,IAAMre,EAAY8X,EAAI+F,mBAC9BvlB,EAAK0C,GAAGmjB,UAAYne,EAAY8X,EAAI+F,mBACpCvlB,EAAK0C,GAAGsjB,eAAiB,IACzBhmB,EAAK0C,GAAGujB,gBAAkB,IAC1BjmB,EAAK0C,GAAG0jB,YAAa,EACjBpmB,EAAK0C,GAAGksB,aACR5uB,EAAK0C,GAAG0jB,YAAa,EACrBpmB,EAAK0C,GAAGwxB,KAAO,CAAC,CAAC5rB,MAAO,WAAY6D,MAAO,cAE3CnM,EAAK0C,GAAG0jB,YAAa,EACzBpmB,EAAK0C,GAAGwjB,cAAgB,kBAACY,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAf,IAAmB,kBAAC,KAAD,MAAnB,QAE5BxnB,KAAKskB,SAAS,CAACwB,gBAAiBrlB,M,uCAGnB6B,GACb,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAgB9F,KAAI,SAACC,EAAK9c,GAClBA,IAAMb,GACNwjB,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,EAChCf,EAAgB3iB,GAAGwxB,KAAO,CAAC,CAAC5rB,MAAO,WAAY6D,MAAO,eAEtDkZ,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,SACzBf,EAAgB3iB,GAAGwxB,SAGlC30B,KAAKskB,SAAS,CAACwB,gBAAiBA,M,sCAGpBrlB,GACZ,IAAMm0B,EAAO,IAAIC,SAQjB,OAPAD,EAAKE,OAAO,qBAAsBr0B,EAAK+nB,MACvCoM,EAAKE,OAAO,OAAQ90B,KAAKgF,MAAMosB,cAAcroB,OAC7C6rB,EAAKE,OAAO,kBAAmB,OAE3B,aAAcr0B,EAAK+nB,MACnBoM,EAAKE,OAAO,cAAer0B,EAAK+nB,KAAKnX,IAElC,CAAC0jB,IAAK9sB,EAAU,WAAY+sB,SAAU,OAAQJ,OAAMtsB,QAAS,CAAC,cAAiB,SAAWC,Q,yCAGlF9H,EAAMoqB,GACrB,GAAe,SAAXA,EAAmB,CACnB,IAAIoK,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACrCxJ,KAAKskB,SAAS,CAACkN,YAAY,GAAD,oBAAMxxB,KAAKgF,MAAMwsB,aAAjB,CAA8ByD,WACrD,GAAe,YAAXpK,GACJpqB,EAAKy0B,IAAI,CACR,IAAID,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACjCgoB,EAAcxxB,KAAKgF,MAAMwsB,YAAYllB,QAAO,SAAC2T,EAAK9c,GAClD,OAAO8c,EAAI5O,KAAO4jB,EAAW5jB,MAEjCrR,KAAKskB,SAAS,CAACkN,YAAaA,O,0CAMpC,QAAmC7oB,IAA/B3I,KAAKgF,MAAM+hC,IAAIvV,YAA2B,CAC1C,IAAIC,EAAe,GACnBzxB,KAAKgF,MAAM+hC,IAAIvV,YAAYxR,KAAI,SAACC,EAAK9c,GACjC,IAAIqlB,EAAO,IAAIkV,KAAK,CAAC,OAAQv1B,EAAY8X,EAAI+F,oBAC7CwC,EAAKnX,GAAK4O,EAAI5O,GACdmX,EAAKmV,UAAW,EAChBlM,EAAa1tB,KAAKykB,MAEtBxoB,KAAKskB,SAAS,CAACmN,aAAcA,O,0CAIhB,IAAD,OAGZ+V,GADc,aAAOxnC,KAAKgF,MAAMgiC,gBACrB,IACf37B,GAAiB2U,KAAI,SAACC,EAAK9c,GACnB,EAAK6B,MAAM+hC,IAAI9mB,EAAIlX,QACnBy+B,EAASzjC,KAAK,GAAKkc,EAAIlX,UAG/B/I,KAAKskB,SAAS,CAAC2iB,uBAAwBO,IACvCxnC,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACHgiC,eAFmBhiC,EAAMgiC,eAAe16B,QAAO,SAAAuE,GAAI,OAAK22B,EAASj7B,SAASsE,EAAK9H,cAO9D,aAAO/I,KAAKgF,MAAM2sB,uBAA3C,IACIkM,EAAkB,GACtBvyB,GAA4B0U,KAAI,SAACC,EAAK9c,GAC9B,EAAK6B,MAAM+hC,IAAI9mB,EAAIlX,QAAkD,qBAAjC,EAAK/D,MAAM+hC,IAAI9mB,EAAIlX,OAAOsI,IAC9DwsB,EAAgB95B,KAAK,GAAKkc,EAAIlX,UAGtC/I,KAAKskB,SAAS,CAACsN,oBAAqBiM,IACpC79B,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH2sB,sBAF0B3sB,EAAM2sB,sBAAsBrlB,QAAO,SAAAuE,GAAI,OAAKgtB,EAAgBtxB,SAASsE,EAAK9H,gB,uCAO/FrF,EAAOqB,EAAKmB,GACzB,IAAI8gC,EAAc,uBAAOhnC,KAAKgF,MAAMgiC,gBAAlB,CAAkC,CAAC9gC,MAAOA,EAAO6C,MAAOhE,KAC1E/E,KAAKskB,SAAS,CAAC0iB,eAAgBA,IAC/B,IAAIC,EAAyBjnC,KAAKgF,MAAMiiC,uBACxCA,EAAyBA,EAAuB36B,QAAO,SAAC2T,EAAK9c,GACzD,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAAC2iB,uBAAwBA,M,iDAGhBvjC,EAAOqB,GAC9B,IAAI4sB,EAAqB,aAAO3xB,KAAKgF,MAAM2sB,uBAC3CA,EAAsBwC,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GAC7Dp0B,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC3xB,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH4sB,oBAFqB,uBAAO5sB,EAAM4sB,qBAAb,CAAkC7sB,U,iDAMxCrB,EAAOqB,EAAKmB,GACnC,IAAIyrB,EAAqB,uBAAO3xB,KAAKgF,MAAM2sB,uBAAlB,CAAyC,CAACzrB,MAAOA,EAAO6C,MAAOhE,KACxF/E,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC,IAAIC,EAAsB5xB,KAAKgF,MAAM4sB,oBACrCA,EAAsBA,EAAoBtlB,QAAO,SAAC2T,EAAK9c,GACnD,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACsN,oBAAqBA,M,0CAYpBluB,EAAOqB,GACvB6K,QAAQC,IAAInM,EAAOqB,GACnB,IAAIiiC,EAAc,aAAOhnC,KAAKgF,MAAMgiC,gBACpCA,EAAe7S,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GACtDp0B,KAAKskB,SAAS,CAAC0iB,eAAgBA,IAC/BhnC,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACHiiC,uBAFwB,uBAAOjiC,EAAMiiC,wBAAb,CAAqCliC,U,+BAO/D,IAAD,SAMD/E,KAAKgF,MAJL8tB,EAFC,EAEDA,aAAciU,EAFb,EAEaA,IAAmBtW,GAFhC,EAEkBnC,aAFlB,EAEgCmC,uBAAuBjB,EAFvD,EAEuDA,aACxDc,EAHC,EAGDA,kBAAmBf,EAHlB,EAGkBA,SAAUoB,EAH5B,EAG4BA,0BAA2BjB,EAHvD,EAGuDA,UAAWa,EAHlE,EAGkEA,cAAerrB,EAHjF,EAGiFA,KAClFgrB,EAJC,EAIDA,yBAA0BJ,EAJzB,EAIyBA,SAAUH,EAJnC,EAImCA,MAAOiB,EAJ1C,EAI0CA,eAAgBE,EAJ1D,EAI0DA,eAAgBf,EAJ1E,EAI0EA,UAC3EmB,EALC,EAKDA,gBAAiBE,EALhB,EAKgBA,cAAsBC,GALtC,EAK+BpB,MAL/B,EAKsCoB,iBAAiBE,EALvD,EAKuDA,mBAAoBE,EAL3E,EAK2EA,aAAczlB,EALzF,EAKyFA,aAE9F,OACI,yBAAKwD,UAAU,cACX,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,0BACX,wBAAIA,UAAU,0BAAd,SAKR,yBAAKA,UAAU,0CACX,yBAAKuL,IAAK/a,KAAK0tB,UAAWle,UAAU,4CAA4C6B,GAAG,aAC9EgkB,sBAAoB,cACrB,yBAAK7lB,UAAU,iBAEX,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,2BAEX,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,OACtDD,sBAAoB,WACrB,yBAAK7lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,wbACFF,KAAK,UAAUC,SAAS,UAAU/S,QAAQ,QAC9C,0BACIgT,EAAE,ulBACFF,KAAK,eAIrB,yBAAKrmB,UAAU,2BAAf,SAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,gyBACFF,KAAK,UAAUC,SAAS,YAC5B,4BAAQD,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,KAAKC,GAAG,KAAKC,EAAE,SAInE,yBAAK1mB,UAAU,2BAAf,gBAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,yRACFF,KAAK,YACT,4BAAQA,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,OAAOC,GAAG,MAC1CC,EAAE,WAItB,yBAAK1mB,UAAU,2BAAf,iBAUpB,yBAAKA,UAAU,4DACX,kBAACka,GAAA,EAAD,CAAMla,UAAU,UAAU2mB,YAAU,EAAC9kB,GAAG,mBAClCgI,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KAEnC,yBAAKyN,UAAU,wBAAwB8lB,qBAAmB,eACrDD,sBAAoB,WACrB,yBAAK7lB,UAAU,6BAAf,YACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBACX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,YACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOunB,EAAkBvnB,MAAMunB,EAAkB,YACjDX,MAAM,WACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,aACpCjC,QAASyvB,MAIrB,kBAAC7F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO0nB,EAAsB1nB,MAAM0nB,EAAsB,YACzDd,MAAM,eACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS0vB,MAIrB,kBAAC9F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,QACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwnB,EAAcxnB,MAAMwnB,EAAc,YACzCZ,MAAM,OACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,SACpCjC,QAASoF,MAIrB,kBAACwkB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,SACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO6nB,EAAe7nB,MAAM6nB,EAAe,YAC3CjB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAAS6vB,MAIrB,kBAACjG,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,iBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,gBACLkzB,aAAcqQ,EAAMA,EAAIU,cAAgB,GACxC1tB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAI7C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,eACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,cACLkzB,aAAcqQ,EAAMA,EAAIW,YAAc,GACtC3tB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAI7C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,yBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,kBACLkzB,aAAcqQ,EAAMA,EAAIY,gBAAkB,GAC1C5tB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAI7C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,kBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOsoB,EAAgBtoB,MAAMsoB,EAAgB,YAC7C1B,MAAM,MACNnsB,KAAK,SACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpCjC,QAAS4K,MAIpB1K,KAAKgF,MAAMiiC,uBAAuB16B,SAAS,kBAC5C,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,iBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,gBACLkzB,aAAcqQ,EAAMA,EAAIa,cAAgB,GACxC7tB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGzC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,gBAAiB,mBAClE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAMiiC,uBAAuB16B,SAAS,oBAC5C,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,mBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,kBACLkzB,aAAcqQ,EAAMA,EAAIc,gBAAkB,GAC1C9tB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGzC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,kBAAmB,qBACpE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAMgiC,eAAerlC,OAAO,GAClC,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAK+lC,oBAAoB/lC,EAAGA,EAAEoe,OAAOpX,SAEtD,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,mBACC33B,KAAKgF,MAAMgiC,eAAehnB,KAAI,SAAAnP,GAAI,OAC/B,4BAAQ9H,MAAO8H,EAAK9H,MACZ6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,eAO1D,yBAAKsJ,UAAU,gBACf,kBAACqoB,GAAA,EAAD,CAAS/X,QAAQ,WACjB,yBAAKtQ,UAAU,gBACf,kBAACka,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAACkC,GAAA,EAAK2B,MAAN,2BACA,kBAAC3B,GAAA,EAAKY,QAAN,CAAcD,GAAG,WAAWrM,KAAK,IACnBuM,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,cACLkzB,aAAcqQ,EAAMA,EAAI91B,YAAc,GACtC8I,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAIvD,6BACI,kBAAC,QAAD,CAAMyN,UAAU,gDAAgDqQ,KAAK,IAAItF,QAASva,KAAKy2B,iBACnF,uBAAGjnB,UAAU,0BADjB,8DAQhB,yBAAKA,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,6BAAf,mBACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBAEX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,eAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwoB,EAAmBxoB,MAAMwoB,EAAmB,YACnD5B,MAAM,MACNnsB,KAAK,YACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,cACpCjC,QAAS6K,MAIY,SAAhC3K,KAAKgF,MAAM+hC,IAAX,WACD,kBAACrd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,QACLkzB,aAAcqQ,EAAMA,EAAI9O,MAAQ,GAChCle,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAEnC,kBAAC2nB,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,0BAApC,SAI0B,UAAhCxP,KAAKgF,MAAM+hC,IAAX,WACgC,mBAAhC/mC,KAAKgF,MAAM+hC,IAAX,YAGJ,kBAACrd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BAA2BxP,KAAKgF,MAAM+hC,IAAX,UADjD,UAEA,kBAACnd,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACID,GAAG,WAAWrM,KAAK,IACnB2R,MAAM,MACNnsB,KAAK,cACLkzB,aAAcqQ,EAAMA,EAAIgB,YAAc,GACtChuB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAKZ,aAAhC/B,KAAKgF,MAAM+hC,IAAX,WACD,kBAACrd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BAA2BxP,KAAKgF,MAAM+hC,IAAX,UADjD,UAEA,kBAACnd,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACID,GAAG,WAAWrM,KAAK,IACnB2R,MAAM,MACNnsB,KAAK,iBACLkzB,aAAcqQ,EAAMA,EAAIiB,eAAiB,GACzCjuB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAM7C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACrhB,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CAEI7tB,MAAO+pB,EACP1D,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,iBACpCq1B,sBAAoB,QAMxC,kBAAC1N,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,oBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO4nB,EAA0B5nB,MAAM4nB,EAA0B,YACjEhB,MAAM,mBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,qBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,QAI9F,kBAAC0d,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,mBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmnB,EAAyBnnB,MAAMmnB,EAAyB,YAC/DP,MAAM,kBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,oBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa+jB,EAAU9jB,QAI5FhM,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,UACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,SAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO+nB,EAAe/nB,MAAM+nB,EAAe,YAC3CnB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKkmC,2BAA2BlmC,EAAG,QAAS,WACpE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,WACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,UAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmoB,EAAgBnoB,MAAMmoB,EAAgB,YAC7CvB,MAAM,SACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKkmC,2BAA2BlmC,EAAG,SAAU,YACrE,kBAAC,KAAD,SAKP/B,KAAKgF,MAAM2sB,sBAAsBhwB,OAAO,GAAK,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MAC9D,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAKmmC,2BAA2BnmC,EAAGA,EAAEoe,OAAOpX,SAE7D,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,mBACC33B,KAAKgF,MAAM2sB,sBAAsB3R,KAAI,SAAAnP,GAAI,OACtC,4BAAQ9H,MAAO8H,EAAK9H,MACZ6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,kBAWtE,yBAAKsJ,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,4CACX,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,6BAAf,2BACA,yBAAKA,UAAU,uBAKX,kBAAC,GAAD,CAAc+V,OAAO,EAAOxK,IAAK/a,KAAKgvB,kBACxB/Y,KAAMmb,EAAcroB,MACpByb,YAAqC,KAAxB4M,EAAcroB,MAC3B+c,gBAAiB9lB,KAAKgF,MAAM8gB,gBAC5BwB,aAAc,SAACN,GAAD,OAAY,EAAK1C,SAAS,CAACwB,gBAAiBkB,OACxE,kBAAC0C,GAAA,EAAKC,IAAN,KACK3pB,KAAKgF,MAAM8gB,iBAAmB9lB,KAAKgF,MAAM8gB,gBAAgBnkB,OAAS,GACnE,kBAAC22B,GAAA,EAAD,CAAWjO,GAAIT,KAAKpC,GAAG,MACnB,yBAAKhY,UAAU,6BAAf,oBAGJ,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAAC,KAAD,CAAS2D,gBAAgB,EAAO9Z,GAAG,kBAAkB+Z,UAAW,IACvDmN,OAAQ,EACRvN,sBAAsB,EACtBC,cAAe,SAAClpB,GAAD,OAAO,EAAKy2B,YAAYz2B,IACvCilB,OAAQhnB,KAAKgF,MAAM8gB,gBACnB2S,iBAAkB,SAAC12B,GAAD,OAAO,EAAK02B,iBAAiB12B,UAKxE,kBAAC81B,GAAA,EAAD,MACA,yBAAKroB,UAAU,6BAAf,gBACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,sBACX,kBAAC,KAAD,CACIkpB,aAAa,kCACbC,OAAO,OACPC,OAAQ,CAACC,SAAU,CAACC,UAAW,IAAKC,WAAY,CAACvc,SAAS,OAAQ+b,OAAQ,QAC1ES,gBAAiB,SAACv4B,GAAD,OAAU,EAAKu4B,gBAAgBv4B,IAChDw4B,eAAgB,SAACx4B,EAAMoqB,GAAP,OAAkB,EAAKqO,mBAAmBz4B,EAAMoqB,IAChEsO,aAAe,QACf1H,aAAcA,SAQtC,yBAAKjiB,UAAU,oBACX,yBACIA,UAAU,oFACV,kBAAC,QAAD,CAAM4pB,GAAI,mBACN,uBAAG5pB,UAAU,0BADjB,WAKJ,yBACIA,UAAU,8EACV8lB,qBAAmB,eAFvB,YAKA,kBAAC1V,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,UACrDuK,UAAU,4EACV8lB,qBAAmB,iBAF3B,UAKA,yBACI9lB,UAAU,0EACV8lB,qBAAmB,eAFvB,iBAWhB,kBAAC1M,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAM+pB,aAAchG,OAAQ/oB,KAAK8uB,iBAAkBuK,UAAQ,GACzE,kBAACzQ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACrB,kBAACN,GAAA,EAAMO,MAAP,iCAEJ,kBAACP,GAAA,EAAMQ,KAAP,KACI,kBAACM,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,YAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACL6U,SAAU,SAAChY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAIhE,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,eAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACL6U,SAAU,SAAChY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAIhE,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,QAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACL6U,SAAU,SAAChY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAIhE,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,SAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACL6U,SAAU,SAAChY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,cAKpE,kBAAC6f,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,YAAYvF,QAASva,KAAK8uB,kBAA1C,UAGA,kBAAClP,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAKkyB,SAAxC,kB,GAtnCTrX,IAAMM,WAkoCnB4iB,G,YACF,WAAYppB,GAAQ,IAAD,uBACf,8CAAMA,IACN,IAAIzP,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFf,OAGf,EAAKF,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,GACrC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALF,E,yEAQTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAGjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAEtC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAQa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA7D,MAAoEgI,UAM3F,kBAAC,GAAD,CAAMjU,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,iB,GA/BjCtY,IAAMM,WAqCdye,gBAAWmE,ICvuCpBvR,GAAuBvY,aAAe,CACxCU,MAAO,CACH8X,SAAU,CACNC,kBAAkB,GAEtBC,aAAc,CACVrlB,MAAO,CACHhB,QAAS,UAGjBsmB,aAAc,CACVtlB,MAAO,CACHhB,QAAS,SAEbomB,kBAAkB,EAClBG,WAAY,CACRvlB,MAAO,CACHhB,QAAS,QACTwX,OAAQ,6BACR2N,QAAS,eACTjP,SAAU,OACVsQ,WAAY,MACZC,WAAY,MACZnO,MAAO,UACP3C,gBAAiB,OACjB+Q,eAAgB,cAChBnO,OAAQ,oBACRoO,aAAc,MACdC,WAAY,+DACZC,UAAW,mBAOzBC,GAAgBnZ,aAAe,CACnCoZ,UAAW,CACPC,iBAAiB,CACbzgB,KAAM,CACJ,UAAW,CACT,oBAAoB,CACZ0gB,YAAa,wBAIzBC,YAAa,CACT/B,QAAS,OACTtX,WAAY,iCACZyK,MAAO,eAMf6O,G,YAIF,WAAY9Y,GAAQ,IAAD,+BACf,8CAAMA,KAHV+Y,UAAY7S,IAAM8S,YAEC,EAqHnBG,mBAAqB,SAACpqB,GAClB,IAAIqjC,EAAM,EAAK/hC,MAAM+hC,IACjBve,EAAO9kB,EAAMyc,OAAO6N,MAAM,GAI9B,GAHA,EAAK1J,SAAS,CACV2J,YAAaC,IAAIC,gBAAgB3F,UAEzB7f,GAAR6f,EAGA,GAFAA,EAAK4F,OAAS5F,EAAKK,KAAO,KAErBL,EAAK4F,OAAU,KAAO,EACvB5F,EAAK4F,QAAU5F,EAAK4F,OAAS,MAAMC,QAAQ,GAAK,MAChD7F,EAAK9T,MAAQ,yBACbqyB,EAAIve,KAAO,GACX,EAAKlE,SAAS,CAACgK,aAAc9F,QAC1B,CACHA,EAAK9T,MAAQ,KACb8T,EAAK4F,OAAS5F,EAAK4F,OAAOC,QAAQ,GAAK,MACvC,IAAIE,EAAS,IAAIC,WACjBD,EAAOE,cAAcjG,GACrB+F,EAAOG,UAAY,WACfqY,EAAIve,KAAO+F,EAAOI,OAClB,EAAKrK,SAAS,CAACgK,aAAc9F,EAAMue,IAAKA,OA1IrC,EAmMnBoB,iBAAmB,SAACzkC,GAChB,IAAI6rB,EAAW,EAAKvqB,MAAMuqB,SAC1BA,EAAS/G,KAAO,GAChB,EAAKlE,SAAS,CAACgK,aAAc,KAAMiB,SAAUA,IAC7Crd,SAASC,eAAe,yBAAyBpJ,MAAQ,IAvM1C,EAmQnB6lB,UAAY,WACR1c,SAASC,eAAe,mBAAmB0c,SApQ5B,EA8VnB4H,gBAAkB,WACd,EAAKnS,SAAS,CACVyK,cAAc,KAhWH,EAoWnBD,iBAAmB,WACf,EAAKxK,SAAS,CAACyK,cAAc,KAnW7B,EAAKC,kBAAoBnU,IAAM8S,YAC/B,EAAK3oB,MAAQ,CACTiqB,WAAW,EACX8X,IAAK,CACD1X,YAAa,EAAK1a,MAAMlU,KAAKiJ,WAAW4lB,qBAAuB,EAAK3a,MAAMlU,KAAKiJ,WAAW4lB,qBAAuB,EACjHrZ,KAAM,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAO,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAK,MAEjFid,aAAc,KACdiB,SAAU,GACVC,aAAc,GACdE,UAAW,GACXxqB,KAAM,GACN4qB,SAAU,GACVH,MAAO,GACPI,UAAW,GACXE,MAAO,GACPC,yBAA0B,CACtB7e,GAAGsD,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQ9e,GACtCnL,MAAMyO,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQC,WAAW,IAAIzb,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQE,UAC3FtnB,OAAM,GAEVunB,kBAAmB,CAACvnB,MAAO,IAC3BwnB,cAAe,CAACxnB,MAAO,IACvB0nB,sBAAuB,CAAC1nB,MAAO,IAC/B4nB,0BAA2B,CAAC5nB,MAAO,IACnC6nB,eAAgB,CAAC7nB,MAAO,IACxB+nB,eAAgB,CAAC/nB,MAAO,IACxBmoB,gBAAiB,CAACnoB,MAAO,IACzBqoB,cAAe,CAACroB,MAAO,EAAK4L,MAAMlU,KAAKiJ,WAAWuM,KAAO,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAK,IAC9FggB,gBAAiB,CAACtoB,MAAO,IACzBwoB,mBAAoB,CAACxoB,MAAO,IAC5B+c,gBAAiB,GACjB0L,YAAa,GACbC,aAAc,GACd1C,cAAc,EACd2C,UAAW,MACXC,sBAAuBrmB,GACvBsmB,oBAAqB,GACrBoV,eAAgB37B,GAChB47B,uBAAwB,GACxBj7B,cAAa,GAGjB,EAAKimB,aACL,EAAKC,QAAQ,EAAKA,QAAQC,KAAb,iBA9CE,E,mFAkDf,IAAIvyB,KAASI,KAAK0tB,UAAU9P,W,mCAGnBla,EAAOwB,GAChB,IAAI6hC,EAAM/mC,KAAKgF,MAAM+hC,IACrB,GAAa,iBAAT7hC,EACA,IAAIhC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,UACpB,CACC7F,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,SACxBpvB,KAAKskB,SAAS,CAACwO,aAAcpvB,IAEpB,cAATR,IACA+c,EAAMvd,SAASud,IACnB8mB,EAAI7jC,GAAQ+c,EACZjgB,KAAKskB,SAAS,CAACyiB,IAAKA,M,mCAGXrjC,GAAQ,IAAD,OACHA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAC2K,WAAW,IACrBjvB,KAAKgF,MAAMspB,qBACLtuB,KAAKgF,MAAM+hC,IAAIve,KAE1B,IAAIue,EAAM/mC,KAAKgF,MAAM+hC,IACrBA,EAAI/f,OAAShnB,KAAKgF,MAAM8gB,gBACxBihB,EAAIvV,YAAcxxB,KAAKgF,MAAMwsB,YAC7BznB,EAAK,OAAQg9B,GAAKx9B,MACd,SAACC,GACG,EAAK8a,SAAS,CAACyiB,IAAKv9B,EAAS/I,OAC7B,EAAKkU,MAAMlU,KAAK+Q,QAAQzN,KAAK,sBAC9B4kB,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,mCAWxCsJ,EAAK,WAAY,CAACqoB,OANL,CACT,aAAgB,CAACltB,KAAM,OACvB,WAAc,GACd,YAAe,GACf,YAAe,MAEgBqE,KAAK,SAAUC,GAAW,IAAD,WAC/C6oB,GAEL7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACb,eAARkvB,GAAgC,YAARA,IACxBC,EAAI9uB,KAAO8uB,EAAIlC,WAAa,IAAMkC,EAAIjC,WAE1C7mB,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,OAP1C,IAAK,IAAIghB,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,GAUTryB,KAAKskB,SAAS,CACViL,SAAU/lB,EAAS/I,KAAK+xB,aACxB1C,SAAUtmB,EAAS/I,KAAKgyB,WACxB/C,UAAWlmB,EAAS/I,KAAKmyB,YACzB7C,UAAWvmB,EAAS/I,KAAKoyB,YACzB7mB,cAAa,KAEnBmmB,KAAKnyB,S,4CA8BY,IAAD,OACd2zB,EAAY,CACZpE,SAAU,WACVqE,gBAAiB,WACjBpE,aAAc,eACdqE,iBAAkB,YAGlBC,MAAO,YACP7d,KAAM,SAGN8d,EAAwB,CACxBhE,UAAW,CAAC,WAGZiE,EAAgBvlB,OAAOC,KAAKilB,GAhBd,WAiBT5uB,GACL,IAAIqE,EAAS,GACyB,iBAAlCuqB,EAAUK,EAAcjvB,MACxBqE,EAAOlE,KAAO,OAClBgE,EAAKyqB,EAAUK,EAAcjvB,IAAOqE,GAAQG,KAAK,SAAUC,GAAW,IAAD,EAC7D/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,EAaZ,GAXsC,aAAlCkzB,EAAUK,EAAcjvB,IACxBtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKjC,WAAa,IAAM3vB,EAAK4xB,GAAKhC,UACjB,UAAlCsD,EAAUK,EAAcjvB,MAC7BtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKlC,QAAQC,WAAa,IAAM3vB,EAAK4xB,GAAKlC,QAAQE,WAE5E5vB,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,QAEc1I,GAAtC3I,KAAKgF,MAAM+hC,IAAI/S,EAAcjvB,KAAsBtE,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAM+hC,IAAI/S,EAAcjvB,IAAMsM,KACvG4iB,EAAWxzB,EAAK4xB,SAEwC1pB,GAAxDorB,EAAsBJ,EAAUK,EAAcjvB,KAC9C,IAAK,IAAIzC,KAASyxB,EAAsBJ,EAAUK,EAAcjvB,KAAQ,CACpE,IAAImvB,EAAgBH,EAAsBJ,EAAUK,EAAcjvB,KAAOzC,QACpCqG,GAAjC3I,KAAKgF,MAAM+hC,IAAI7S,IAA+BzzB,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAM+hC,IAAI7S,GAAe7iB,IAC7FrR,KAAKskB,SAAL,gBAAgB,YAAc4P,EAAgBD,IAI9Dj0B,KAAKskB,UAAL,oBAAgBqP,EAAUK,EAAcjvB,IAAQtE,GAAhD,eAAuD,YAAcuzB,EAAcjvB,GAAOkvB,GAA1F,KAEF9B,KAAK,KA9BX,IAAK,IAAIptB,KAAOivB,EAAgB,EAAvBjvB,K,mCAyCAgE,EAAOhE,GAAM,IAAD,EACjBgiC,EAAM/mC,KAAKgF,MAAM+hC,IAIrB,GAHAA,EAAIhiC,GAAOgE,GAASA,EAAMA,MAAQA,EAAMA,MAAQ,GAChD/I,KAAKskB,UAAL,oBAAgB,YAAcvf,EAAMgE,GAAgB,IAApD,qBAA6Dg+B,GAA7D,IAEI,CAAC,WAAY,eAAgB,QAAQxxB,QAAQxQ,IAAQ,GAAKgE,EAAO,CACjE,IAAgCsrB,EAAgB,GAAIjC,EAAS,GACjD,aAARrtB,GACAqtB,EAAS,CACLO,gBAAiB,CAAC2B,eAAgBvrB,EAAMsI,GAAInM,KAAM,QAEtDmvB,EAAgB,gBACD,iBAARtvB,GACPqtB,EAAS,CACLmC,QAAS,CAACC,gBAAiBzrB,EAAMsI,GAAInM,KAAM,QAE/CmvB,EAAgB,QACD,SAARtvB,IACPqtB,EAAS,CACLqC,SAAU,CAACC,OAAQ3rB,EAAMsI,GAAInM,KAAM,QAEvCmvB,EAAgB,SAGpBtqB,EAAK,WAAY,CAACqoB,OAAQA,IAAS7oB,KAAK,SAAUC,GAAW,IAAD,OACpDyqB,EAAW,GADyC,WAE/C5B,GAF+C,MAGpD7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACzBqG,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,QAEG1I,GAAjC,EAAK3D,MAAM+hC,IAAI1S,IAA+B/B,EAAIjhB,KAAO,EAAKrM,MAAM+hC,IAAI1S,GAAehjB,KACvF4iB,EAAW3B,MAGnB,EAAKhO,UAAL,oBACK+P,EAAgB7qB,EAAS/I,KAAK4xB,IADnC,eAC0C,YAAcgC,EAAgBJ,GADxE,KATJ,IAAK,IAAI5B,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,IAeXF,KAAKnyB,U,6BAIR0D,EAAOyU,GACVjG,SAASC,eAAe,gBAAkBgG,GAAKsP,U,kCAGvCnlB,GACR,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAkBA,EAAgBxZ,QAAO,SAAC2T,EAAK9c,GAC3C,OAAOb,IAAUa,KAErBnD,KAAKskB,SAAS,CAACwB,gBAAiBA,M,uCAOnBxjB,GACb,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAgB9F,KAAI,SAACC,EAAK9c,GAClBA,IAAMb,GACNwjB,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,EAChCf,EAAgB3iB,GAAGwxB,KAAO,CAAC,CAAC5rB,MAAO,WAAY6D,MAAO,eAEtDkZ,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,SACzBf,EAAgB3iB,GAAGwxB,SAGlC30B,KAAKskB,SAAS,CAACwB,gBAAiBA,M,sCAGpBrlB,GACZ,IAAMm0B,EAAO,IAAIC,SAQjB,OAPAD,EAAKE,OAAO,qBAAsBr0B,EAAK+nB,MACvCoM,EAAKE,OAAO,OAAQ90B,KAAKgF,MAAMosB,cAAcroB,MAAQ/I,KAAKgF,MAAMosB,cAAcroB,MAAQ,IACtF6rB,EAAKE,OAAO,kBAAmB,OAE3B,aAAcr0B,EAAK+nB,MACnBoM,EAAKE,OAAO,cAAer0B,EAAK+nB,KAAKnX,IAElC,CAAC0jB,IAAK9sB,EAAU,WAAY+sB,SAAU,OAAQJ,OAAMtsB,QAAS,CAAC,cAAiB,SAAWC,Q,yCAGlF9H,EAAMoqB,GACrB,GAAe,SAAXA,EAAmB,CACnB,IAAIoK,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACrCxJ,KAAKskB,SAAS,CAACkN,YAAY,GAAD,oBAAMxxB,KAAKgF,MAAMwsB,aAAjB,CAA8ByD,WACrD,GAAe,YAAXpK,GACJpqB,EAAKy0B,IAAI,CACR,IAAID,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACjCgoB,EAAcxxB,KAAKgF,MAAMwsB,YAAYllB,QAAO,SAAC2T,EAAK9c,GAClD,OAAO8c,EAAI5O,KAAO4jB,EAAW5jB,MAEjCrR,KAAKskB,SAAS,CAACkN,YAAaA,O,uCAKvB9tB,EAAOqB,GACpB,IAAI4sB,EAAqB,aAAO3xB,KAAKgF,MAAM2sB,uBAC3CA,EAAsBwC,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GAC7Dp0B,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC3xB,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH4sB,oBAFqB,uBAAO5sB,EAAM4sB,qBAAb,CAAkC7sB,U,uCAOlDrB,EAAOqB,EAAKmB,GACzB,IAAIyrB,EAAqB,uBAAO3xB,KAAKgF,MAAM2sB,uBAAlB,CAAyC,CAACzrB,MAAOA,EAAO6C,MAAOhE,KACxF/E,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC,IAAIC,EAAsB5xB,KAAKgF,MAAM4sB,oBACrCA,EAAsBA,EAAoBtlB,QAAO,SAAC2T,EAAK9c,GACnD,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACsN,oBAAqBA,M,+CAGfluB,EAAOqB,GAC5B,IAAIiiC,EAAc,aAAOhnC,KAAKgF,MAAMgiC,gBACpCA,EAAe7S,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GACtDp0B,KAAKskB,SAAS,CAAC0iB,eAAgBA,IAC/BhnC,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACHiiC,uBAFwB,uBAAOjiC,EAAMiiC,wBAAb,CAAqCliC,U,+CAOhDrB,EAAOqB,EAAKmB,GACjC,IAAI8gC,EAAc,uBAAOhnC,KAAKgF,MAAMgiC,gBAAlB,CAAkC,CAAC9gC,MAAOA,EAAO6C,MAAOhE,KAC1E/E,KAAKskB,SAAS,CAAC0iB,eAAgBA,IAC/B,IAAIC,EAAyBjnC,KAAKgF,MAAMiiC,uBACxCA,EAAyBA,EAAuB36B,QAAO,SAAC2T,EAAK9c,GACzD,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAAC2iB,uBAAwBA,M,gCAYjC,IAAD,OASLl9B,EAAK,cARI,CACLwlB,SAASrd,SAASC,eAAe,qBAAqBpJ,MACtDymB,aAAatd,SAASC,eAAe,wBAAwBpJ,MAC7D7D,KAAKgN,SAASC,eAAe,iBAAiBpJ,MAC9C4mB,MAAMzd,SAASC,eAAe,kBAAkBpJ,MAChDosB,YAAYn1B,KAAKgF,MAAM0sB,UACvBzb,KAAKjW,KAAK2U,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,KAEf9H,MACtB,SAACC,GACG,EAAK8a,SAAS,CACVyK,cAAc,OAEnBpG,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,+BAGlC,IAAD,SAMDT,KAAKgF,MAJL8tB,EAFC,EAEDA,aAAciU,EAFb,EAEaA,IAAKtW,EAFlB,EAEkBA,sBAAuBjB,EAFzC,EAEyCA,aAC1Cc,EAHC,EAGDA,kBAAmBf,EAHlB,EAGkBA,SAAUoB,EAH5B,EAG4BA,0BAA2BjB,EAHvD,EAGuDA,UAAWa,EAHlE,EAGkEA,cAAerrB,EAHjF,EAGiFA,KAClFgrB,EAJC,EAIDA,yBAA0BJ,EAJzB,EAIyBA,SAAUH,EAJnC,EAImCA,MAAOiB,EAJ1C,EAI0CA,eAAgBE,EAJ1D,EAI0DA,eAAgBf,EAJ1E,EAI0EA,UAC3EmB,EALC,EAKDA,gBAAiBE,EALhB,EAKgBA,cAAsBC,GALtC,EAK+BpB,MAL/B,EAKsCoB,iBAAiBE,EALvD,EAKuDA,mBAAoBE,EAL3E,EAK2EA,aAAczlB,EALzF,EAKyFA,aAE9F,OACI,yBAAKwD,UAAU,cACX,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,0BACX,wBAAIA,UAAU,0BAAd,SAKR,yBAAKA,UAAU,0CACX,yBAAKuL,IAAK/a,KAAK0tB,UAAWle,UAAU,4CAA4C6B,GAAG,aAC9EgkB,sBAAoB,cACrB,yBAAK7lB,UAAU,iBAEX,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,2BAEX,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,OACtDD,sBAAoB,WACrB,yBAAK7lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,wbACFF,KAAK,UAAUC,SAAS,UAAU/S,QAAQ,QAC9C,0BACIgT,EAAE,ulBACFF,KAAK,eAIrB,yBAAKrmB,UAAU,2BAAf,SAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,gyBACFF,KAAK,UAAUC,SAAS,YAC5B,4BAAQD,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,KAAKC,GAAG,KAAKC,EAAE,SAInE,yBAAK1mB,UAAU,2BAAf,gBAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,yRACFF,KAAK,YACT,4BAAQA,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,OAAOC,GAAG,MAC1CC,EAAE,WAItB,yBAAK1mB,UAAU,2BAAf,iBAUpB,yBAAKA,UAAU,4DACX,kBAACka,GAAA,EAAD,CAAMla,UAAU,UAAU2mB,YAAU,EAAC9kB,GAAG,mBAClCgI,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KAEnC,yBAAKyN,UAAU,wBAAwB8lB,qBAAmB,eACrDD,sBAAoB,WACrB,yBAAK7lB,UAAU,6BAAf,YACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBACX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,YACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOunB,EAAkBvnB,MAAMunB,EAAkB,YACjDX,MAAM,WACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,aACpCjC,QAASyvB,MAIrB,kBAAC7F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO0nB,EAAsB1nB,MAAM0nB,EAAsB,YACzDd,MAAM,eACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS0vB,MAIrB,kBAAC9F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,QACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwnB,EAAcxnB,MAAMwnB,EAAc,YACzCZ,MAAM,OACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,SACpCjC,QAASoF,MAIrB,kBAACwkB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,SACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO6nB,EAAe7nB,MAAM6nB,EAAe,YAC3CjB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAAS6vB,MAIrB,kBAACjG,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,iBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,gBACLkzB,aAAcqQ,EAAMA,EAAIU,cAAgB,GACxCrtB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAI3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,eACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,cACLkzB,aAAcqQ,EAAMA,EAAIW,YAAc,GACtCttB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAI3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,yBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,kBACLkzB,aAAcqQ,EAAMA,EAAIY,gBAAkB,GAC1CvtB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAI3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,kBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOsoB,EAAgBtoB,MAAMsoB,EAAgB,YAC7C1B,MAAM,MACNnsB,KAAK,SACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpCjC,QAAS4K,MAIpB1K,KAAKgF,MAAMiiC,uBAAuB16B,SAAS,kBAC5C,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,iBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,gBACLkzB,aAAcqQ,EAAMA,EAAIa,cAAgB,GACxCxtB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,gBAAiB,mBAC1E,kBAAC,KAAD,SAKX/B,KAAKgF,MAAMiiC,uBAAuB16B,SAAS,oBAC5C,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,mBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,kBACLkzB,aAAcqQ,EAAMA,EAAIc,gBAAkB,GAC1CztB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKk1B,yBAAyBl1B,EAAG,kBAAmB,qBAC5E,kBAAC,KAAD,SAKX/B,KAAKgF,MAAMgiC,eAAerlC,OAAO,GAClC,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAK21B,yBAAyB31B,EAAGA,EAAEoe,OAAOpX,SAE3D,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,oBACC33B,KAAKgF,MAAMgiC,eAAehnB,KAAI,SAAAnP,GAAI,OAC/B,4BAAQ9H,MAAO8H,EAAK9H,MACZ6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,eAO1D,yBAAKsJ,UAAU,gBACf,kBAACqoB,GAAA,EAAD,CAAS/X,QAAQ,WACjB,yBAAKtQ,UAAU,gBACf,kBAACka,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAACkC,GAAA,EAAK2B,MAAN,2BACA,kBAAC3B,GAAA,EAAKY,QAAN,CAAcD,GAAG,WAAWrM,KAAK,IACnBuM,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,cACLkzB,aAAcqQ,EAAMA,EAAI91B,YAAc,GACtCmJ,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAIrD,6BACI,kBAAC,QAAD,CAAMyN,UAAU,gDAAgDqQ,KAAK,IAAItF,QAASva,KAAKy2B,iBACnF,uBAAGjnB,UAAU,0BADjB,8DAQhB,yBAAKA,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,6BAAf,mBACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBAEX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,eAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwoB,EAAmBxoB,MAAMwoB,EAAmB,YACnD5B,MAAM,MACNnsB,KAAK,YACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,cACpCjC,QAAS6K,MAIY,SAAhC3K,KAAKgF,MAAM+hC,IAAX,WACD,kBAACrd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,MACNnsB,KAAK,QACLkzB,aAAcqQ,EAAMA,EAAI9O,MAAQ,GAChC7d,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAEjC,kBAAC2nB,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,0BAApC,SAI0B,UAAhCxP,KAAKgF,MAAM+hC,IAAX,WACgC,mBAAhC/mC,KAAKgF,MAAM+hC,IAAX,YAGJ,kBAACrd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BAA2BxP,KAAKgF,MAAM+hC,IAAX,UADjD,UAEA,kBAACnd,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACID,GAAG,WAAWrM,KAAK,IACnB2R,MAAM,MACNnsB,KAAK,cACLkzB,aAAcqQ,EAAMA,EAAIgB,YAAc,GACtC3tB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAKV,aAAhC/B,KAAKgF,MAAM+hC,IAAX,WACD,kBAACrd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BAA2BxP,KAAKgF,MAAM+hC,IAAX,UADjD,UAEA,kBAACnd,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACID,GAAG,WAAWrM,KAAK,IACnB2R,MAAM,MACNnsB,KAAK,iBACLkzB,aAAcqQ,EAAMA,EAAIiB,eAAiB,GACzC5tB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAM3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACrhB,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CACIC,QAAS,IAAI7mB,KACbmoB,aAAa,EACbpvB,MAAO+pB,EACP1D,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,iBACpCq1B,sBAAoB,QAMxC,kBAAC1N,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,oBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO4nB,EAA0B5nB,MAAM4nB,EAA0B,YACjEhB,MAAM,mBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,qBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,QAI9F,kBAAC0d,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,mBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmnB,EAAyBnnB,MAAMmnB,EAAyB,YAC/DP,MAAM,kBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,oBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa+jB,EAAU9jB,QAI5FhM,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,UACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,SAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO+nB,EAAe/nB,MAAM+nB,EAAe,YAC3CnB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,QAAS,WAC1D,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,WACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,UAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmoB,EAAgBnoB,MAAMmoB,EAAgB,YAC7CvB,MAAM,SACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,SAAU,YAC3D,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM2sB,sBAAsBhwB,OAAO,GAAK,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MAC1D,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAKs2B,iBAAiBt2B,EAAGA,EAAEoe,OAAOpX,SAEnD,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,oBACC33B,KAAKgF,MAAM2sB,sBAAsB3R,KAAI,SAAAnP,GAAI,OACtC,4BAAQ9H,MAAO8H,EAAK9H,MACZ6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,kBAWtE,yBAAKsJ,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,4CACX,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,6BAAf,2BACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,uBAKX,kBAAC,GAAD,CAAc+V,OAAO,EAAOxK,IAAK/a,KAAKgvB,kBACxB/Y,KAAMmb,EAAcroB,MAAQqoB,EAAcroB,MAAO,GACjDyb,cAAa4M,EAAcroB,OAAgC,KAAxBqoB,EAAcroB,MACjD+c,gBAAiB9lB,KAAKgF,MAAM8gB,gBAC5BwB,aAAc,SAACN,GAAD,OAAY,EAAK1C,SAAS,CAACwB,gBAAiBkB,OACxE,kBAAC0C,GAAA,EAAKC,IAAN,KACK3pB,KAAKgF,MAAM8gB,iBAAmB9lB,KAAKgF,MAAM8gB,gBAAgBnkB,OAAS,GACnE,kBAAC22B,GAAA,EAAD,CAAWjO,GAAIT,KAAKpC,GAAG,MACnB,yBAAKhY,UAAU,6BAAf,oBAGJ,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAAC,KAAD,CAAS2D,gBAAgB,EAAO9Z,GAAG,kBAAkB+Z,UAAW,IACvDmN,OAAQ,EACRvN,sBAAsB,EACtBC,cAAe,SAAClpB,GAAD,OAAO,EAAKy2B,YAAYz2B,IACvCilB,OAAQhnB,KAAKgF,MAAM8gB,gBACnB2S,iBAAkB,SAAC12B,GAAD,OAAO,EAAK02B,iBAAiB12B,UAKxE,kBAAC81B,GAAA,EAAD,MACA,yBAAKroB,UAAU,6BAAf,gBACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,sBACX,kBAAC,KAAD,CACIkpB,aAAa,kCACbC,OAAO,OACPC,OAAQ,CAACC,SAAU,CAACC,UAAW,IAAKC,WAAY,CAACvc,SAAS,OAAQ+b,OAAQ,QAC1ES,gBAAiB,SAACv4B,GAAD,OAAU,EAAKu4B,gBAAgBv4B,IAChDw4B,eAAgB,SAACx4B,EAAMoqB,GAAP,OAAkB,EAAKqO,mBAAmBz4B,EAAMoqB,IAChEsO,aAAe,QACf1H,aAAcA,SAQtC,yBAAKjiB,UAAU,oBACX,yBACIA,UAAU,oFACV,kBAAC,QAAD,CAAM4pB,GAAI,mBACN,uBAAG5pB,UAAU,0BADjB,WAKJ,yBACIA,UAAU,8EACV8lB,qBAAmB,eAFvB,YAKA,kBAAC1V,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,cACrDuK,UAAU,4EACV8lB,qBAAmB,iBAF3B,UAKA,yBACI9lB,UAAU,0EACV8lB,qBAAmB,eAFvB,iBAWhB,kBAAC1M,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAM+pB,aAAchG,OAAQ/oB,KAAK8uB,iBAAkBuK,UAAQ,GACzE,kBAACzQ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACrB,kBAACN,GAAA,EAAMO,MAAP,iCAEJ,kBAACP,GAAA,EAAMQ,KAAP,KACI,kBAACM,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,YAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,oBACH0I,SAAU,SAAChY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAIhE,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,eAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,uBACH0I,SAAU,SAAChY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAIhE,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,QAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,gBACH0I,SAAU,SAAChY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAIhE,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,SAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,iBACH0I,SAAU,SAAChY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,cAKpE,kBAAC6f,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,YAAYvF,QAASva,KAAK8uB,kBAA1C,UAGA,kBAAClP,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAKkyB,SAAxC,kB,GA3/BPrX,IAAMM,WAugCrBse,G,YACF,WAAY9kB,GAAQ,IAAD,uBACf,8CAAMA,IACN,IAAIzP,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFf,OAGf,EAAKF,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,GACrC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALF,E,yEAQTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAGjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAEtC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAQa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA7D,MAAoEgI,UAM3F,kBAAC,GAAD,CAAQjU,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,iB,GA/BjCtY,IAAMM,WAqChBye,gBAAWH,ICjnCpBY,G,YAEJ,WAAY1lB,GAAQ,IAAD,8BACjB,8CAAMA,KACwBA,MAAMlU,KAAKizB,MAAMtqB,OAAvC09B,EAFS,EAETA,OAAQ5hC,EAFC,EAEDA,KAFC,OAMjB,EAAKq1B,WAAa,CAACzN,WAAW,KAC9B,EAAK2J,gBAAkB,EAAKA,gBAAgBtE,KAArB,iBACvB,EAAKrD,iBAAmB,EAAKA,iBAAiBqD,KAAtB,iBACxB,EAAKD,QAAU,EAAKA,QAAQC,KAAb,iBACf,EAAKntB,MAAQ,CACXE,KAAOA,EACP6hC,IAAI,GACJ9hC,OAAO,GACPu1B,WAAW,EACXC,WAAY,GACZC,WAAY,GACZ3W,MAAM,GACN4W,aAAc,IAGhB,EAAKuM,OAAOJ,GACZ,EAAKjM,SAnBY,CACfpP,QAAU,QAJK,E,sEAyBZqb,GAAS,IAAD,OACb59B,EAAK,QAAQ49B,EAAO,KAAKv9B,MACvB,SAACC,UACUA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CACVmW,YAAa,IAAIK,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKg6B,aACrEC,YAAa,IAAII,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKi6B,aACrE3W,MAAOva,EAAS/I,KAAK0mB,MAAQ3d,EAAS/I,KAAK0mB,MAAQ,OAEvD,EAAKxS,MAAMyzB,YAAY5+B,EAAS/I,KAAKmM,MAAOk6B,GAC5C,EAAKxiB,SAAS,CAACyiB,IAAMv9B,EAAS/I,Y,mCAIzBwf,EAAK/c,GAAO,IAAD,OAClB6jC,EAAM/mC,KAAKgF,MAAM+hC,IAErBA,EAAI7jC,GAAQ+c,EACZjgB,KAAKskB,SAAS,CAACyiB,IAAMA,IACrBj9B,EAAM,QAAQ9J,KAAKgF,MAAM+hC,IAAI11B,GAAG,IAAKrR,KAAKgF,MAAM+hC,KAAKx9B,MACnD,SAACC,GACC,EAAK8a,SAAS,CAACyiB,IAAMv9B,EAAS/I,UAC/BkoB,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,sCAI1BiD,EAAOuB,GACrB,IAAIgb,EAAMvc,EAAMyc,OAAOpX,MACR,WAAX9D,IACFgb,EAAMvd,SAASud,GACfjgB,KAAKskB,SAAS,CAACqW,aAAuB,IAAR1a,EAAY,EAAE,KAE9CjgB,KAAKskB,SAAS,CAACrf,OAAQA,IACvBjF,KAAKskB,SAAS,CAAEkW,WAAW,M,yCAI5Bx6B,KAAKskB,SAAS,CAAEkW,WAAW,M,gCAGjB,IAAD,OACiB,WAAtBx6B,KAAKgF,MAAMC,SACZjF,KAAKgF,MAAM+hC,IAAIpM,aAAe36B,KAAKgF,MAAM21B,aACzC7wB,EAAM,QAAQ9J,KAAKgF,MAAM+hC,IAAI11B,GAAG,IAAK,CAACspB,aAAc36B,KAAKgF,MAAM21B,eAAepxB,MAC5E,SAACC,UACQA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CAACyiB,IAAMv9B,EAAS/I,OAC9B,EAAK6jB,SAAS,CAACkW,WAAY,OAC5B7R,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,MACpC,EAAK6jB,SAAS,CAACkW,WAAY,U,+BAOzB,IAAD,EACoBx6B,KAAKgF,MAAb+hC,GADZ,EACC9X,UADD,EACY8X,KACnB,OACI,6BACE,kBAACxf,GAAA,EAAD,CAAM0T,WAAS,EAAChY,QAAS,GACnB,kBAACsE,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACrB,yBAAKvb,UAAU,sBACL,yBAAKA,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,YACA,6BAAMu3B,EAAIxX,SAAWwX,EAAIxX,SAAS/rB,KAAO,UAE7C,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,eACA,6BAAMu3B,EAAIvX,aAAeuX,EAAIvX,aAAahsB,KAAO,SAGzD,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,QACA,6BAAMu3B,EAAI7hC,KAAO6hC,EAAI7hC,KAAK1B,KAAO,UAErC,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMu3B,EAAIpX,MAAQoX,EAAIpX,MAAMnsB,KAAO,SAG3C,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMu3B,EAAIU,cAAgBV,EAAIU,cAAgB,UAElD,yBAAKj4B,UAAU,mBACX,yBAAKA,UAAU,yBAAf,eACA,6BAAMu3B,EAAIW,YAAcX,EAAIW,YAAc,SAGlD,yBAAKl4B,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,yBACA,6BAAMu3B,EAAIY,gBAAkBZ,EAAIY,gBAAkB,UAEtD,yBAAKn4B,UAAU,mBACX,yBAAKA,UAAU,yBAAf,kBACA,6BAAMu3B,EAAIlc,OAASkc,EAAIlc,OAAS,SAGxC,yBAAKrb,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMu3B,EAAIa,cAAgBb,EAAIa,cAAgB,UAElD,yBAAKp4B,UAAU,mBACX,yBAAKA,UAAU,yBAAf,mBACA,6BAAMu3B,EAAIc,gBAAkBd,EAAIc,gBAAkB,SAG1D,yBAAKr4B,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMu3B,EAAIa,cAAgBb,EAAIa,cAAgB,UAElD,yBAAKp4B,UAAU,mBACX,yBAAKA,UAAU,yBAAf,aACA,6BAAMu3B,EAAI7K,UAAY6K,EAAI7K,UAAY,SAG9C,yBAAK1sB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMu3B,EAAIjU,cAAe,IAAIgI,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAK+2B,EAAIjU,eAAiB,UAE5F,yBAAKtjB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,oBACA,6BAAMu3B,EAAIlT,iBAAmBkT,EAAIlT,iBAAiBrwB,KAAO,SAGjE,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,mBACA,6BAAMu3B,EAAInT,gBAAkBmT,EAAInT,gBAAgBxD,WAAa,IAAM2W,EAAInT,gBAAgBvD,UAAY,UAEvG,yBAAK7gB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMu3B,EAAIjT,MAAQiT,EAAIjT,MAAMtwB,KAAO,WAG3C,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,UACA,6BAAMu3B,EAAI7L,OAAS6L,EAAI7L,OAAO13B,KAAO,UAEzC,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,sBACA,6BAAMu3B,EAAI91B,YAAc81B,EAAI91B,YAAc,WAGlD,6BACA,yBAAKzB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMu3B,EAAIxmB,MAAQwmB,EAAIxmB,MAAQ,IAElC,yBAAK/Q,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMu3B,EAAI5K,MAAQ4K,EAAI5K,MAAQ,KAGtC,yBAAK3sB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,kBACA,6BAAMu3B,EAAI1X,YAAc,MAAQ,OAEpC,yBAAK7f,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAEYu3B,EAAIzmB,eAAgBhW,EAAS0V,KAAI,SAACC,EAAK9c,GACnC,GAAI8c,EAAIlX,QAAUg+B,EAAIzmB,eAClB,OAAOL,EAAIlX,SACd,SAKzB,yBAAKyG,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,oBACA,6BAAMu3B,EAAIpM,aAAeoM,EAAIpM,aAAe,UAEhD,yBAAKnrB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAMxP,KAAKgF,MAAMy1B,WAAaz6B,KAAKgF,MAAMy1B,WAAa,WAG9D,yBAAKjrB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMxP,KAAKgF,MAAM01B,WAAa16B,KAAKgF,MAAM01B,WAAa,aAK1E,kBAACnT,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACG,KAArB/qB,KAAKgF,MAAM+e,OAAgB/jB,KAAKgF,MAAM+e,MAAMpiB,OAAS,EAAI,kBAACy6B,GAAA,EAAD,KACjDp8B,KAAKgF,MAAM+e,OAAS/jB,KAAKgF,MAAM+e,MAAM/D,KAAI,SAAC+D,EAAOzhB,GAC9C,OAAO,kBAAC85B,GAAA,EAASrS,KAAV,CAAehlB,IAAKzC,GACvB,yBACIkN,UAAU,gBACVgX,IAAKre,EAAU4b,EAAMiC,0BAMpC,yBAAKxW,UAAU,gBAAgBgX,IAAKne,MAKnD,kBAACugB,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAMw1B,UAAWzR,OAAQ/oB,KAAK8uB,kBAC9C,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASva,KAAKkyB,SAAvC,OAGA,kBAACtS,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAK8uB,kBAAxC,a,GA7POjU,IAAMM,WAuQrBkhB,G,YACJ,WAAY1nB,GAAQ,IAAD,wBACjB,8CAAMA,KAaNyzB,YAAc,SAACx7B,EAAOyE,GAClB,IAAIs1B,EAAU/5B,EAAMR,cAEhBu6B,EADDA,EAAQp6B,SAAS,SACNo6B,EAAQvmB,MAAM,SAAS,GAAGvX,QAAQ,KAAK,KAEvC89B,EAAQ99B,QAAQ,KAAK,KAEnC,EAAKyb,SAAS,CAAC+jB,UAAU1B,EAAS2B,QAASj3B,EAAG,IAAIzE,EAAMR,iBAnB5D,IAAIlH,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFb,OAGjB,EAAKF,MAAQ,CAACouB,OAAO,GAAIsG,WAAU,GACnC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALA,E,yEAQTzd,GACLjG,OAAOC,KAAKgG,GAAO/S,QACpB3B,KAAKskB,SAAS,CAACoV,WAAU,IAE3B15B,KAAKskB,SAAS,CAAC8O,OAAO1e,M,+BAWd,IAAD,OACP,OACE,oCACA,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCAAmCzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAE7FjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACvC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAExC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAMa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA3D,MAAkEgI,UAK/E,yBAAKlF,UAAU,OACb,yBAAKA,UAAU,aACb,kBAACyS,GAAD,CACEE,gBAAiB,wBAAIsa,MAAM,yBAAyBn1B,MAAO,CAACo1B,cAAe,eAC3E,uBAAGvc,OAAO,SAASN,KAAM,QAAQ7f,KAAKgF,MAAMsjC,SAAUtoC,KAAKgF,MAAMqjC,YAEjEnmB,OAAY,yBAAK1S,UAAU,4BAC3B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACX,kBAAC,QAAD,CAAM4pB,GAAI,kBAA2B5pB,UAAU,6BAC7C,uBAAGA,UAAU,0BADf,QAIA,kBAAC,QAAD,CACE4pB,GAAI,mBAA6Bp5B,KAAK2U,MAAM+e,MAAMtqB,OAAO09B,OAAS,QAClEt3B,UAAU,mBACV,uBAAGA,UAAU,eAHf,aAWR,yBAAKA,UAAU,cACb,kBAAC,GAAD,CAAQ/O,KAAMT,KAAK2U,MAAOyzB,YAAa,SAACx7B,EAAOyE,GAAR,OAAc,EAAK+2B,YAAYx7B,EAAOyE,IAAK8hB,UAAWnzB,KAAKmzB,qB,GA/DzFtY,IAAMM,WAyEhBye,gBAAWyC,ICrTpBha,IAd6BxH,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAChD,4BACIQ,IAAKA,EACLR,QAAS,SAAAxY,GACPA,EAAEC,iBACFuY,EAAQxY,IAEVyN,UAAU,8BANd,UASE,kBAAC,GAAD,CAAcA,UAAU,oCAIV,CAClB3J,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,OAGFC,GAA2BC,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAClE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,IAYV,IAAMqc,GAAmBhd,cAAW,SAAA3O,GAAK,MAAK,CAC5CnH,KAAM,CACJ+yB,YAAa5rB,EAAMiP,QAAQ,GAC3BzK,aAAcxE,EAAMiP,QAAQ,GAC5B3c,QAAS,SAEXu5B,UACyB,UAAvB7rB,EAAMK,QAAQnP,KACV,CACE0Z,MAAO5K,EAAMK,QAAQG,UAAUD,KAC/B0H,gBAAiB6jB,aAAQ9rB,EAAMK,QAAQG,UAAU9O,MAAO,MAE1D,CACEkZ,MAAO5K,EAAMK,QAAQoI,KAAK7W,QAC1BqW,gBAAiBjI,EAAMK,QAAQG,UAAU7O,MAEjDo6B,OAAQ,CACNC,KAAM,YAER56B,QAAS,CACPwZ,MAAO5K,EAAMK,QAAQoI,KAAKjI,WAE5B5H,MAAO,CACLozB,KAAM,gBAIJC,GAAuB,SAAAtrB,GAC3B,IAAM0O,EAAUsc,KACRW,EAA0F3rB,EAA1F2rB,YAAmBrM,GAAuEtf,EAA7EzP,KAA6EyP,EAAvEsf,UAAUsM,EAA6D5rB,EAA7D4rB,YAAaC,EAAgD7rB,EAAhD6rB,gBAAiBviB,EAA+BtJ,EAA/BsJ,YAAaD,EAAkBrJ,EAAlBqJ,KAAMyiB,EAAY9rB,EAAZ8rB,QA0BtF,OACE,kBAACC,GAAA,EAAD,CACElxB,UAAWgL,aAAK6I,EAAQxW,KAAT,gBACZwW,EAAQwc,UAAYS,EAAc,KAGnC,yBAAK9wB,UAAU,yCACX,yBAAKA,UAAU,0BACb,0BAAMA,UAAU,yBACd,uBAAGA,UAAU,mCAEZ8wB,EAAc,EACb,kBAACK,GAAA,EAAD,CAAY/hB,MAAM,UAAUkB,QAAQ,aACjCwgB,EADH,aAIA,wBAAI9wB,UAAU,0BAAd,aAKN,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACV8wB,EAAc,EACX,kBAAC3e,GAAA,EAAD,CAAS/U,MAAM,UACb,kBAAC8W,GAAA,EAAD,CAAYnJ,QAAS,SAACxY,GAAD,OAlD/C,SAAsB2B,GACpB,GAAGuwB,EAAStyB,OAAQ,CAClB,IAAIlB,EAAO,CAAC4mB,IAAI4M,GAChBjqB,EAAI,YAAYiqB,EAAS,GAAG,IAAKxzB,GAAM8I,MAAK,SAAUC,GAEpD,IAAI,IAAIrG,KAAK6a,EACRiW,EAAS1e,QAAQyI,EAAK7a,GAAGkO,KAAO,UAC1B2M,EAAK7a,GAGhB8a,EAAYD,GACZiW,EAAStyB,OAAS,EAClB4+B,EAAYtM,GACZuM,GAAgB,GAGhB,IAAMI,EAAS,GACfA,EAAO78B,KAAK,GACZ08B,EAAQG,OAgCwCE,IAAiBnd,aAAW,UACtD,kBAAC,KAAD,QAIF,kBAAC,QAAD,CAAMyV,GAAI,wBAAiC5pB,UAAU,gDACjD,uBAAGA,UAAU,eADjB,qBAmBtBoyB,GAAYjf,cAAW,SAAA3O,GAAK,MAAK,CACrCnH,KAAM,CACJpG,MAAO,OACP+4B,UAAWxrB,EAAMiP,QAAQ,IAE3B4e,MAAO,CACLp7B,MAAO,OACP8iB,aAAcvV,EAAMiP,QAAQ,IAE9B6e,MAAO,CACLC,SAAU,KAEZC,aAAc,CACZC,UAAW,QAEbC,MAAO,CACLzW,QAASzX,EAAMiP,QAAQ,SAIrBkf,GAAIC,EAAQ,IAGlB,SAASvB,GAAY37B,GACHi9B,GAAE,aAAanI,YACvBqI,KAAKppB,OAAO,MAAM,GAJ5BkpB,GAAEnI,UAAYoI,EAAQ,KA0BtB,IAAME,GAAwBznB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAC3C,uBACEQ,IAAKA,EACLR,QAAS,SAAAxY,GACTA,EAAEC,iBACFuY,EAAQxY,IAERsP,GAAG,+BACH7B,UAAU,6CAET,IACD,uBAAGA,UAAU,yBAIJ,SAAS+yB,GAAc5tB,GACpC,IAAM0O,EAAUue,KAD2B,EAEjB/mB,IAAM3C,SAAS,OAFE,iCAGb2C,IAAM3C,SAAS,aAHF,iCAIX2C,IAAM3C,SAAS,KAJJ,oBAIpC+b,EAJoC,KAI1BsM,EAJ0B,OAKnB1lB,IAAM3C,SAAS,GALI,iCAMjB2C,IAAM3C,UAAS,IANE,iCAOL2C,IAAM3C,SAAS,KAPV,iCAQf2C,IAAM3C,SAAS,KARA,oBAQpC8F,EARoC,KAQ9BC,EAR8B,OASjBpD,IAAM3C,SAAS,GATE,iCAUX2C,IAAM3C,UAAS,IAVJ,oBAUpC4Q,EAVoC,KAU9B0Z,EAV8B,OAWd3nB,IAAM3C,SAAS,GAXD,oBAWpCuqB,EAXoC,KAWzBC,EAXyB,OAYf7nB,IAAM3C,SAAS,IAZA,oBAYpCjT,EAZoC,KAY5B09B,EAZ4B,OAanB9nB,IAAM3C,SAAS,IAbI,oBAapC0qB,EAboC,KAa9BnC,EAb8B,OAcD5lB,IAAM3C,UAAS,GAdd,oBAcpC2qB,EAdoC,KAcpBrC,EAdoB,OAenB3lB,IAAM3C,UAAS,GAfI,oBAepC2J,EAfoC,KAe9BihB,EAf8B,OAgBbjoB,IAAM3C,SAAS,iCAhBF,oBAgBpCgL,EAhBoC,KAgB3B6f,GAhB2B,QAiBjBloB,IAAM3C,UAAS,GAjBE,sBAiBpC4pB,GAjBoC,MAiB7BqB,GAjB6B,MAkBvC3xB,GAAU4xB,eACVl+B,GAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAyO9B,SAAS4pB,GAAiBprB,GACxB8+B,GAAgB,GAGlB,SAAS/L,GAAgB/yB,EAAOpB,EAAOghC,GACrCZ,EAAQpgC,GACRqgC,EAAUW,GACVd,GAAgB,GA9OlB3nB,IAAMhJ,WAAU,WACTswB,GAAEoB,GAAGC,UAAUC,YAAa,eACjBtB,GAAE,aAAanI,YACrBnc,UACNslB,IAAS,GACTllB,EAAY,KAEd,OAAO,WACHA,EAAY,IACCkkB,GAAE,aAAanI,YACrBnc,SAAQ,GACfslB,IAAS,MAGd,IAEHtoB,IAAMhJ,WAAU,WACViwB,IAASK,GAAEoB,GAAGC,UAAUC,YAAa,aAClC37B,KAAKE,UAAUgW,KAAUlW,KAAKE,UAAUsP,OAAOosB,YAChDpsB,OAAOosB,SAAW1lB,IAGpBmlB,IAAS,GAMf,WACE,IACIQ,EAAa,CACf,CAAE,UAAY,EAAO,SAAY,CAAC,IAClC,CACEC,QAAS,EACTn9B,MAAO,OACPo9B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnDC,IAASC,OACT,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWod,EAAQ5yB,IAC5B0I,SAAU,SAAArW,GAAK,OAkJvB,SAAS2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,GAClC,IAAMlQ,EAAgBH,EAAS1e,QAAQlE,GAGjCkzB,EAAKtQ,GAEW,IAAnBG,EACCmQ,EAAIxgC,KAAKsN,GAETkzB,EAAIpQ,OAAOC,EAAe,GAE9BmM,EAAYgE,GACZ,IAAM3D,EAAM,aAAOgC,GACnBhC,EAAO78B,KAAK,GACZ08B,EAAQG,GAEMuB,GAAE,aAAanI,YACvBwK,KAAMT,GAAKK,OAAOD,IAASC,OAC3B,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWxV,GACpB0I,SAAU,SAAArW,GAAK,OAAI2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,IAC9CzX,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyX,MAE1DP,IAzKiBM,CAAY3gC,EAAOugC,EAAQ5yB,GAAI0yB,EAAIzR,IACtDzF,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyF,MAE1DyR,KAIN,CACEH,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjD,IAAIqE,EACJA,EAActE,EAAQ5yB,GAAG,IAAI4yB,EAAQ7T,WAAWvnB,QAAQ,OAAQ,KAAKuD,cACvE+3B,IAASC,OACT,uBAAGjkB,OAAO,SAAS7Y,MAAO,CAAEkhC,OAAQ,WAAa3oB,KAAM,YAAY0oB,GAClEvE,GAEKD,KAIR,CACAH,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjD,IAAIuE,EACJA,EAAcxE,EAAQyE,SAAWzE,EAAQyE,QAAQr3B,GAAK4yB,EAAQyE,QAAQr3B,GAAG,IAAI4yB,EAAQ0E,cAAc9/B,QAAQ,OAAQ,KAAKuD,cAAgB63B,EAAQ0E,cAAc9/B,QAAQ,OAAQ,KAAKuD,cACrL+3B,IAASC,OACT,uBAAGjkB,OAAO,SAAS7Y,MAAO,CAAEkhC,OAAQ,WAAa3oB,KAAM,YAAY4oB,GAClEzE,GAEKD,KAIV,CACEH,QAAS,EACTh3B,MAAO,SACPi3B,WAAW,EACX,YAAe,SAAUE,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACH,0BAAM7pB,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,WAAW9iB,UAAwB,IAAbw0B,EAAiB,6CAA6C,6CAClI,+BACE,2BACE9+B,KAAK,WAAWmV,QAAsB,IAAb2pB,EAAiB,iBAAiB,GAC3DxgC,KAAK,gCAEP,iCAEKugC,MAKrBJ,EAAW5/B,KACL,CACE6/B,QAAS,EACTh3B,MAAO,UACPi3B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnDC,IAASC,OACT,kBAACpD,GAAA,EAAD,CAAUxxB,UAAU,yBAAyByxB,KAAK,OAAOwD,WAAS,GAClE,kBAACzD,GAAA,EAASG,OAAV,CAAiB9W,GAAIiY,KACjB,kBAACtB,GAAA,EAASI,KAAV,CAAgB5xB,UAAU,kEAC5B,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,kBAAM/I,GAAQzN,KAAK,kBAA0BkgC,EAAQ5yB,MAAM,uBAAG7B,UAAU,iBAAhG,kBACA,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,kBAAM/I,GAAQzN,KAAK,kBAA0BkgC,EAAQ5yB,GAAG,WAAW,uBAAG7B,UAAU,mBAAxG,iBACA,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,YAAW,uBAAG9iB,UAAU,oBAA/E,aAGIu0B,MAKhB5B,GAAE,aAAanI,UAAU,CACvB7d,WAAY,CACVuoB,QAAS,CACPC,SAAUxC,GAAEoB,GAAGC,UAAUoB,WAAWD,SAASE,oBAGjDC,YAAW,EACXC,aAAe5K,GAAW,WAAYxlB,GACtC0tB,KAAM,CACJtN,IA9FM9sB,2DA+FN+8B,OAAQ,MACR18B,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,SAASR,KAAKC,MAAMU,aAAaC,QAAQN,IAAgBQ,UAAUC,QAAQ,SAAU,KACpJ,WAAc,SAASpI,GACrB,IAAIwkC,EAAOn9B,KAAKC,MAAMtH,GAClBwjC,EAvLd,SAAsBA,GAgBpB,OAfMtzB,MAAMC,QAAQqzB,IAAYA,EAAQtiC,OAAS,GAC/CsiC,EAAQiB,SAAQ,SAASr0B,EAAMvO,GACxBuO,EAAK63B,QACJzE,EAAQ3hC,GAAR,cAAkCuO,EAAK63B,QAAQllC,KAE/CygC,EAAQ3hC,GAAR,cAAkC,GACnCuO,EAAK+3B,UACJ3E,EAAQ3hC,GAAR,gBAAoCuO,EAAK+3B,UAAUplC,KAEnDygC,EAAQ3hC,GAAR,gBAAoC,GAExC2hC,EAAQ3hC,GAAR,WAA+BuO,EAAKuf,WAAW,IAAIvf,EAAKwf,UACxD4T,EAAQ3hC,GAAR,QAA4B2hC,EAAQ3hC,GAAR,SAA6B,MAGxD2hC,EAuKekB,CAAaF,EAAKxkC,MAGhC,OAFAwd,EAAYgmB,GACZgB,EAAKxkC,KAAOwjC,EACLn8B,KAAKE,UAAUi9B,KAK1BG,IAAI,2GAGJC,WAAY,CAAC,EAAG,GAAI,GAAI,IAExBC,WAAY,GACZC,WAAY,UACZC,aAAcxnB,EAAKwnB,aACnBC,gBAAiBznB,EAAKynB,gBAEtB/qB,SAAU,CACR,WAAc,kBAIhBgrB,MAAO,CAAC,CAAC,EAAG,SACZ/B,WAAWA,IAEbxB,GAAE,aAAa9/B,GAAI,WAAW,WAC5Bw3B,GAAWsI,GAAE,aAAc,WAAYxtB,MApIrCgxB,MAED,CAAC3nB,IAiPN,IAAM4nB,GAAsB,SAACliC,EAAOmiC,GAClC/C,GAAQ,IAGJjc,GAAa,SAAAxV,GAAE,OAA8B,IAA1B4iB,EAAS1e,QAAQlE,IAE1C,OAEE,yBAAK7B,UAAW6T,EAAQxW,MAEtB,kBAACi5B,GAAA,EAAD,CAAOt2B,UAAW6T,EAAQwe,OACxB,yBAAKryB,UAAW6T,EAAQ2e,cACxB,yBAAKxyB,UAAU,iCACX,kBAAC,GAAD,CAAsBixB,QAASA,EAASxiB,YAAaA,EAAaD,KAAMA,EAAMwiB,gBAAiBA,EAAiBD,YAAaA,EAAatM,SAAUA,EAAUqM,YAAarM,EAAStyB,OAAQuD,KAAMA,KACpM,yBAAKsK,UAAU,oBAEb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,6CACb,yBAAKA,UAAU,qCACb,2BAAOu2B,QA9D7B,SAAsBriC,GACNy+B,GAAE,aAAanI,YACvBluB,OAAQpI,EAAMyc,OAAOpX,OAAQi9B,QA4DgB9gC,KAAK,OAAOsK,UAAU,eAAegb,YAAY,YAAYnZ,GAAG,kBAC/F,0BAAM7B,UAAU,iDACd,8BAAM,uBAAGA,UAAU,yBASjC,yBAAKA,UAAU,cACX,6BACE,2BAAOA,UAAU,kEAAkE6B,GAAI,YACnF,+BACA,4BACI,wBAAI40B,YAAU,YACV,kBAACjO,GAAA,EAAD,CACE3d,QAASwoB,EACT9oB,SA9I9B,SAA8BrW,GAE5B,GAAIA,EAAMyc,OAAO9F,QAAS,CACtB,IAAMkqB,EAAMtQ,EACOjW,EAAKgC,KAAI,SAAAkmB,GAAC,OAAIA,EAAE70B,MACtB6zB,SAAQ,SAAAzD,GACpB8C,EAAIxgC,KAAK09B,MAEZlB,EAAYgE,QAEVtQ,EAAStyB,OAAS,EAClB4+B,EAAYtM,GAGduM,GADCqC,GAKHhC,MA6H4BhU,WAAY,CACV,aAAc,uBAItB,wBAAIoZ,YAAU,MAAd,MACA,wBAAIA,YAAU,cAAd,QACA,wBAAIA,YAAU,mBAAd,aACA,wBAAIA,YAAU,iBAAd,WACA,wBAAIA,YAAU,gBAAd,UACA,wBAAIA,YAAU,WAAd,oBAUlB,kBAACrd,GAAA,EAAD,CAAOE,KAAMA,EAAMC,OAAQ+F,IACzB,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QA3FpC,SAAiB7W,GACf,GAAa,UAAVuB,EAAoB,CACrB,IAAIxE,EAAO,CAAC,aAAiD,IAAjCud,EAAKykB,GAAW9H,aAAqB,EAAE,GACnE7wB,EAAM,YAAYkU,EAAKykB,GAAWpxB,GAAG,IAAK5Q,GAAM8I,MAAK,SAAUC,GAC7D,IAAIq/B,EAAW7qB,EAAK1R,QAAO,SAACm1B,EAAEt+B,GAAH,OAASA,IAAMs/B,KAC1CxkB,EAAY,GAAD,oBAAK4qB,GAAL,CAAer/B,EAAS/I,QACnC+hC,GAAgB,GAChB3B,KACAiC,GAAQ,GACR,IAAMsD,EAA4C,IAA/B58B,EAAS/I,KAAKk6B,aAAqB,YAAc,cACpEoI,GAAW,uBAAuBqD,UAElB,UAAVnhC,GACR+E,EAAI,YAAYgU,EAAKykB,GAAWpxB,GAAG,KAAK9H,MAAK,SAAUC,GACnD,IAAIq/B,EAAW7qB,EAAK1R,QAAO,SAACm1B,EAAEt+B,GAAH,OAASA,IAAMs/B,KAC1CxkB,EAAY4qB,GACdrG,GAAgB,GAChB3B,KACAiC,GAAQ,GACRC,GAAW,oCAwEP,OAGA,kBAACnjB,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASuU,IAAlC,QAKJ,kBAAC3C,GAAA,EAAD,CACIC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAMA,EACN0K,iBAAkB,KAClBzK,QAAS8jB,IAET,kBAAC,GAAD,CACE9jB,QAAS8jB,GACT9lB,QAAQ,UACRoD,QAASA,M,yBChnBjBsJ,GAAuBvY,aAAe,CAC1CU,MAAO,CACL8X,SAAS,CACPC,kBAAkB,GAEpBC,aAAa,CACXrlB,MAAO,CACHhB,QAAS,UAGfsmB,aAAc,CACZtlB,MAAO,CACHhB,QAAS,SAEbomB,kBAAkB,EAClBG,WAAY,CACVvlB,MAAO,CACLhB,QAAS,QACTwX,OAAQ,6BACR2N,QAAS,eACTjP,SAAU,OACVsQ,WAAY,MACZC,WAAY,MACZnO,MAAO,UACP3C,gBAAiB,OACjB+Q,eAAgB,cAChBnO,OAAQ,oBACRoO,aAAc,MACdC,WAAY,+DACZC,UAAW,mBAOfM,G,YACJ,WAAY9Y,GAAQ,IAAD,wBACjB,8CAAMA,KAuIRmZ,mBAAqB,SAACpqB,GACpB,IAAIysB,EAAU,EAAKnrB,MAAMmrB,QACrB3H,EAAO9kB,EAAMyc,OAAO6N,MAAM,GAI9B,GAHA,EAAK1J,SAAS,CACZ2J,YAAaC,IAAIC,gBAAgB3F,UAExB7f,GAAR6f,EAGD,GAFAA,EAAK4F,OAAS5F,EAAKK,KAAK,KAEpBL,EAAK4F,OAAQ,KAAO,EACtB5F,EAAK4F,QAAU5F,EAAK4F,OAAO,MAAMC,QAAQ,GAAK,MAC9C7F,EAAK9T,MAAQ,yBACbyb,EAAQ3H,KAAO,GACf,EAAKlE,SAAS,CAACgK,aAAa9F,QACvB,CACLA,EAAK9T,MAAQ,KACb8T,EAAK4F,OAAS5F,EAAK4F,OAAOC,QAAQ,GAAG,MACrC,IAAIE,EAAS,IAAIC,WACjBD,EAAOE,cAAcjG,GACrB+F,EAAOG,UAAY,WACjByB,EAAQ3H,KAAO+F,EAAOI,OACtB,EAAKrK,SAAS,CAAEgK,aAAc9F,EAAM2H,QAAQA,OA7JjC,EAmKnBgY,iBAAmB,SAACzkC,GAClB,IAAIysB,EAAU,EAAKnrB,MAAMmrB,QACzBA,EAAQ3H,KAAO,GACf,EAAKlE,SAAS,CAACgK,aAAa,KAAM6B,QAAQA,EAASlC,YAAa,OAChE/b,SAASC,eAAe,wBAAwBpJ,MAAQ,IAvKvC,EA+MnB6lB,UAAY,SAACvd,GACP,EAAKsD,MAAMlU,KAAK+Q,QAAQ3I,QAAQ,kBAChC,EAAK8L,MAAMlU,KAAK+Q,QAAQ3I,QAAQ,0BAjNnB,IAGT3D,EAAS,EAAKyP,MAAMlU,KAAKizB,MAAMtqB,OAA/BlE,KAHS,OAIjB,EAAKF,MAAQ,CACXiqB,WAAW,EACXkB,QAAQ,GACR2Y,WAAW,GACXC,YAAY,GACZhZ,UAAU,GACVL,UAAU,GACVsZ,OAAO,GACPC,OAAO,GACPhkC,OAAO,GACPikC,gBAAgB,CAACngC,MAAM,IACvBogC,mBAAoB,CAACpgC,MAAM,IAC3BqgC,oBAAqB,CAACrgC,MAAM,IAC5BsgC,iBAAkB,CAACtgC,MAAM,IACzBugC,iBAAkB,CAACvgC,MAAM,IACzBwgC,eAAgB,CAACxgC,MAAM,IACvBygC,cAAe,CAACzgC,MAAM,IACtB0gC,kBAAmB,CAAC1gC,MAAM,IAC1B2gC,kCAAmC,CAAC3gC,MAAM,IAC1C4gC,eAAe,CAAC5gC,MAAM,IACtB7D,KAAMA,EACNopB,aAAc,KACdL,YAAa,MAGf,EAAKgE,aA7BY,E,4EAwCbloB,EAAK,WAAY,CAACqoB,OANL,CACT,YAAe,GACf,cAAiB,GACjB,SAAY,GACZ,YAAe,MAEgB7oB,KAAK,SAAUC,GAAW,IAAD,WAC/C6oB,GAEL7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACzBqG,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,OAJ1C,IAAK,IAAIghB,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,GAOTryB,KAAKskB,SAAS,CACVyL,UAAWvmB,EAAS/I,KAAKoyB,YACzBkW,YAAav/B,EAAS/I,KAAKmpC,cAC3Bd,WAAYt/B,EAAS/I,KAAKopC,SAC1Bna,UAAWlmB,EAAS/I,KAAKmyB,YACzB5mB,cAAc,KAEpBmmB,KAAKnyB,S,mCAwCA0D,EAAOwB,GAClB,IAAIirB,EAAUnwB,KAAKgF,MAAMmrB,QACzB,GAAY,aAATjrB,EACD,IAAIhC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,UACpB,CACC7F,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,OAAO,cAC/BpvB,KAAKskB,SAAS,CAACwlB,SAAWpmC,IAEhB,cAATR,IACD+c,EAAMvd,SAASud,IACjBkQ,EAAQjtB,GAAQ+c,EAChBjgB,KAAKskB,SAAS,CAAC6L,QAAUA,M,mCAGdzsB,GAAQ,IAAD,OACLA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAE2K,WAAW,IAC3BjvB,KAAKgF,MAAMmrB,QAAQ4Z,WAAa/pC,KAAKgF,MAAMokC,oBAAoBrgC,MAC/D/I,KAAKgF,MAAMmrB,QAAQuY,QAAU1oC,KAAKgF,MAAMqkC,iBAAiBtgC,MACzD/I,KAAKgF,MAAMmrB,QAAQ6Z,QAAUhqC,KAAKgF,MAAMskC,iBAAiBvgC,MACzD/I,KAAKgF,MAAMmrB,QAAQnrB,MAAQhF,KAAKgF,MAAMukC,eAAexgC,MACrD/I,KAAKgF,MAAMmrB,QAAQ8Z,KAAOjqC,KAAKgF,MAAMwkC,cAAczgC,MACnD/I,KAAKgF,MAAMmrB,QAAQyY,UAAY5oC,KAAKgF,MAAMmkC,mBAAmBpgC,MAC7D/I,KAAKgF,MAAMmrB,QAAQ+Z,SAAWlqC,KAAKgF,MAAMykC,kBAAkB1gC,MAC3D/I,KAAKgF,MAAMmrB,QAAQga,OAASnqC,KAAKgF,MAAMkkC,gBAAgBngC,MACvD/I,KAAKgF,MAAMmrB,QAAQia,yBAA2BpqC,KAAKgF,MAAM0kC,kCAAkC3gC,MAE3FgB,EAAK,WAAY/J,KAAKgF,MAAMmrB,SAAS5mB,MACnC,SAACC,UACQA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CAAC6L,QAAU3mB,EAAS/I,OACb,YAArB,EAAKuE,MAAMC,OAAuB,EAAK2pB,UAAU,cAAgB,EAAKja,MAAMlU,KAAK+Q,QAAQzN,KAAK,qBAC/F4kB,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,mCAsC7BsI,EAAOhE,GAAM,IAAD,EACnBorB,EAAUnwB,KAAKgF,MAAMmrB,QAIzB,GAHAA,EAAQprB,GAAOgE,EAAMA,MACrB/I,KAAKskB,UAAL,oBAAiB,YAAYvf,EAAMgE,GAAnC,yBAAmDonB,GAAnD,IAEW,YAARprB,GAA6B,UAARA,EAAiB,CACvC,IAAIoE,EAAW,GAAIC,EAAO,GAAIirB,EAAgB,GACnC,YAARtvB,GACDoE,EAAW,SACXC,EAAS,CAACwX,UAAU,EAAGypB,WAAWthC,EAAMsI,IACxCgjB,EAAgB,UAGhBlrB,EAAW,SACXC,EAAS,CAACwX,UAAU,EAAG0pB,SAASvhC,EAAMsI,IACtCgjB,EAAgB,QAGlBnrB,EAAKC,EAAUC,GAAQG,KAAK,SAASC,GAAU,IAAD,EACtC/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAI,IAAI5B,KAAO5xB,OAC2BkI,GAArC3I,KAAKgF,MAAMmrB,QAAQkE,IAA+B5zB,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAMmrB,QAAQkE,GAAehjB,KACtG4iB,EAAQ,MAAYxzB,EAAK4xB,GAAK7uB,KAC9BywB,EAAQ,MAAYxzB,EAAK4xB,GAAKhhB,IAEhC5Q,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,GAG9BrR,KAAKskB,UAAL,oBAAgBnb,EAAW1I,GAA3B,eAAkC,YAAY4zB,EAAeJ,GAA7D,KAEF9B,KAAKnyB,U,+BASD,IAAD,SAI8CA,KAAKgF,MAHlD8kC,EADD,EACCA,SAAU99B,EADX,EACWA,aAAcmkB,EADzB,EACyBA,QAAS2Y,EADlC,EACkCA,WAAYC,EAD9C,EAC8CA,YAAaI,EAD3D,EAC2DA,mBAAoBM,EAD/E,EAC+EA,kBACpFL,EAFK,EAELA,oBAAqBC,EAFhB,EAEgBA,iBAAkBtZ,EAFlC,EAEkCA,UAAWuZ,EAF7C,EAE6CA,iBAAkBJ,EAF/D,EAE+DA,gBACpEK,EAHK,EAGLA,eAAgBI,EAHX,EAGWA,eAAgBH,EAH3B,EAG2BA,cAAe9Z,EAH1C,EAG0CA,UAAWuZ,EAHrD,EAGqDA,OAAQD,EAH7D,EAG6DA,OAClEU,EAJK,EAILA,kCAAmCpb,EAJ9B,EAI8BA,aACrC,OACE,kBAAC5E,GAAA,EAAD,CACEyM,YAAU,EACV9kB,GAAG,sBACHgI,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KAElC,kBAAC2nB,GAAA,EAAKC,IAAN,KACG,yBAAKna,UAAU,UACb,oDACA,+BAGJ,kBAACka,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,cACA,kBAAC,KAAD,CACEtiB,MAAO4gC,EACPha,MAAM,UACNnsB,KAAK,QACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAASuK,KAGb,kBAACqf,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,qBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,aACNnsB,KAAK,aACLkzB,aAAcvG,EAAUA,EAAQC,WAAW,GAC3CrW,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,oBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,YACLkzB,aAAcvG,EAAUA,EAAQE,UAAU,GAC1CtW,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAIvC,kBAAC2nB,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAACrW,GAAA,EAAD,CAAehB,MAAOwY,IACtB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC9B,kBAACC,GAAA,EAAD,CACEC,QAAW,IAAI7mB,KAAK,cACpBjH,MAAO+gC,EACP1a,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,aACpCq1B,sBAAoB,OAK1B,kBAAC1N,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,eACA,kBAAC,KAAD,CACEtiB,MAAOmgC,EACPvZ,MAAM,UACNnsB,KAAK,SACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpCjC,QAASsK,MAKhB,kBAACsf,GAAA,EAAKC,IAAN,KACG,yBAAKna,UAAU,UACb,4CACA,+BAGJ,kBAACka,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,KACxB,kBAACrB,GAAA,EAAK2B,MAAN,kBACE,kBAAC,KAAD,CACIsE,MAAM,YACN2G,aAAa,EACbC,mBAAmB,EACnBxtB,MAAOogC,EACP3lC,KAAK,OACLqI,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa+8B,EAAY98B,IACnF+N,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBAG1C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,mBACA,kBAAC,KAAD,CACEtiB,MAAOqgC,EACPzZ,MAAM,aACNnsB,KAAK,OACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,eACpCjC,QAASipC,KAGb,kBAACrf,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,qBACA,kBAAC,KAAD,CACIkf,gBAAkBv+B,EAA+B,EzCiCpC,IyChCb2jB,MAAM,UACN2G,aAAa,EACbC,mBAAmB,EACnBxtB,MAAOsgC,EACP7lC,KAAK,OACLqI,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,IAClF+N,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,gBAK7C,kBAAC2nB,GAAA,EAAKC,IAAN,KACG,yBAAKna,UAAU,UACb,mDACA,+BAIJ,kBAACka,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,gBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,UACLkzB,aAAcvG,EAAQqa,QAAUra,EAAQqa,QAAQ,GAChDzwB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,gBACA,kBAAC,KAAD,CACIsE,MAAM,UACN2G,aAAa,EACbC,mBAAmB,EACnBxtB,MAAOugC,EACP9lC,KAAK,OACLqI,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,IAClF+N,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,eAG1C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,cACA,kBAAC,KAAD,CACEtiB,MAAOwgC,EACP5Z,MAAM,QACNnsB,KAAK,OACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAASkpC,KAGb,kBAACtf,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,aACA,kBAAC,KAAD,CACEtiB,MAAOygC,EACP7Z,MAAM,OACNnsB,KAAK,OACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,SACpCjC,QAASmpC,MAIf,kBAACvf,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,uBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,iBACLkzB,aAAcvG,EAAQsa,eAAiBta,EAAQsa,eAAe,GAC9D1wB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,qBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,eACLkzB,aAAcvG,EAAQua,aAAeva,EAAQua,aAAa,GAC1D3wB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,iCACA,kBAAC,KAAD,CACEtiB,MAAO2gC,EACP/Z,MAAM,UACNnsB,KAAK,2BACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,6BACpCjC,QAASqK,MAIf,kBAACuf,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,cACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,QACLkzB,aAAcvG,EAAQwa,MAAQxa,EAAQwa,MAAM,GAC5C5wB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,WACLkzB,aAAcvG,EAAQya,SAAWza,EAAQya,SAAS,GAClD7wB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAAC,KAAD,CACEtiB,MAAO0gC,EACP9Z,MAAM,WACNnsB,KAAK,WACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,aACpCjC,QAASoK,MAIf,kBAACouB,GAAA,EAAD,CAAWhG,KAAG,GACZ,kBAACwF,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CAAUx0B,KAAK,aAAa6W,UAAS8V,EAAQ0a,WAAyB9wB,SAAU,SAAChY,GAAD,OAAO,EAAK2X,aAAa3X,IAAIgH,MAAM,MAErH7C,MAAM,YAER,kBAAC4xB,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CAAUx0B,KAAK,YAAY6W,UAAS8V,EAAQ2a,UAAwB/wB,SAAU,SAAChY,GAAD,OAAO,EAAK2X,aAAa3X,IAAIgH,MAAM,MAEnH7C,MAAM,WAER,kBAAC4xB,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CAAUx0B,KAAK,eAAe6W,UAAS8V,EAAQwK,aAA2B5gB,SAAU,SAAChY,GAAD,OAAO,EAAK2X,aAAa3X,IAAIgH,MAAM,MAEzH7C,MAAM,eAGV,kBAACwjB,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,MACpB,2BACE4N,OAAO,UACPrxB,MAAO,CAAChB,QAAS,QACjBpB,KAAK,OACLmM,GAAG,uBACH7N,KAAM,QACNuW,SAAU/Z,KAAK8tB,qBAEjB,6BACA,2BAAOid,QAAQ,wBACb,kBAAC,KAAD,CAAYjrB,QAAQ,WAAWlB,MAAM,UAAU9E,UAAU,QAAzD,eAEE,kBAACkxB,GAAA,EAAD,CAAiB1jC,MAAO,CAAC2jC,WAAY,WAGzC,yBAAKz7B,UAAU,kCACb,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,0BAA0B6B,GAAG,iBAC1C,yBAAK7B,UAAU,iBAAiBlI,MAAO,CAAChB,QAAQgoB,EAAe,QAAQ,SACrE,yBAAK9e,UAAU,iBACb,yBAAKA,UAAU,iBACZxP,KAAKgF,MAAMipB,aACV,yBAAK3mB,MAAO,CAAC,YAAY,UAAU,yBAAKA,MAAO,CAAEb,MAAO,QAAU+f,IAAKxmB,KAAKgF,MAAMipB,eAEpF,yBAAKze,UAAU,oBAAoB5C,MAAM,4BACvC,0BAAMs+B,gBAAA,GAAc5c,EAAeA,EAAa9qB,KAAO,oBADzD,IACoF,oCAAS,0BAAO2nC,gBAAA,GAAc7c,GAAgBA,EAAaF,OAASE,EAAaF,OAAS,IAA1F,MAEpF,yBAAK5e,UAAU,iBAAiB47B,wBAAA,GAAsB9c,GAAgBA,EAAa5Z,MAAQ4Z,EAAa5Z,MAAQ,KAElH,yBAAKlF,UAAU,oBACb,0BAAM+K,QAAS,SAACxY,GAAD,OAAK,EAAKomC,iBAAiBpmC,IAAIyN,UAAU,kBAAkB67B,kBAAA,GAAe,uBAAG77B,UAAU,yBAK9G,0BAAMA,UAAU,wBAAhB,6BAKV,kBAACoQ,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAO,UAAUuK,UAAU,mBAC9E,uBAAGA,UAAU,eADf,gBAjTF,WAuTE,kBAACoQ,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAO,cAAcuK,UAAU,mBAClF,uBAAGA,UAAU,eADf,cAvTF,WA6TE,kBAAC,QAAD,CAAM4pB,GAAI,iBAA0B5pB,UAAU,kBAC5C,uBAAGA,UAAU,iBADf,e,GAvhBaqL,IAAMM,WAgiBrBse,G,YACJ,WAAY9kB,GAAQ,IAAD,+BACjB,8CAAMA,KACD3P,MAAQ,CAACouB,OAAO,GAAIsG,WAAU,EAAOx0B,KAAKyP,EAAM+e,MAAMtqB,OAAOlE,MAClE,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBAHA,E,yEAMTzd,GACLjG,OAAOC,KAAKgG,GAAO/S,QACpB3B,KAAKskB,SAAS,CAACoV,WAAU,IAE3B15B,KAAKskB,SAAS,CAAC8O,OAAO1e,M,+BAGd,IAAD,OAGD42B,EAAU,kBAAC,QAAD,CAAMlS,GAAI,iBAA0B5pB,UAAU,6BAC5C,uBAAGA,UAAU,0BADf,QAIhB,OACE,oCACE,kBAAC4J,GAAA,EAAD,CAAQrM,KAAK,mCAAmCzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAE/FjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACvC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GACxCyM,QAAQC,IAAI9K,EAAI2H,MAAM,IACtB,IAAMitB,EAAY50B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAC1D,OAAO,wBAAI3H,IAAKzC,EAAMa,GAAG,0BAAMmE,MAAO,CAAC,iBAAmB,eAAgBqyB,EAAU9wB,QAAQ,KAAM,MAA3F,MAA2G6L,UAMxH,yBAAKlF,UAAU,OACb,yBAAKA,UAAU,aACb,kBAACyS,GAAD,CACEE,gBAAiB,UACjBD,OAAY,yBAAK1S,UAAU,4BAC3B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACd87B,OAML,yBAAK97B,UAAU,cACb,kBAAC,GAAD,CAAQ/O,KAAQT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,qB,GAlDnCtY,IAAMM,WA4DhBye,gBAAWH,ICjoBpBjN,GAAuBvY,aAAe,CAC1CU,MAAO,CACL8X,SAAS,CACPC,kBAAkB,GAEpBC,aAAa,CACXrlB,MAAO,CACHhB,QAAS,UAGfsmB,aAAc,CACZtlB,MAAO,CACHhB,QAAS,SAEbomB,kBAAkB,EAClBG,WAAY,CACVvlB,MAAO,CACLhB,QAAS,QACTwX,OAAQ,6BACR2N,QAAS,eACTjP,SAAU,OACVsQ,WAAY,MACZC,WAAY,MACZnO,MAAO,UACP3C,gBAAiB,OACjB+Q,eAAgB,cAChBnO,OAAQ,oBACRoO,aAAc,MACdC,WAAY,+DACZC,UAAW,mBAQfwP,G,YACJ,WAAYhoB,GAAQ,IAAD,wBACjB,8CAAMA,KAoKRmZ,mBAAqB,SAACpqB,GACpB,IAAI8kB,EAAO9kB,EAAMyc,OAAO6N,MAAM,GAI9B,GAHA,EAAK1J,SAAS,CACZ2J,YAAaC,IAAIC,gBAAgB3F,UAExB7f,GAAR6f,EAAmB,CACpBA,EAAK+iB,OAAS/iB,EAAKhlB,KACnB,IAAI2sB,EAAU,EAAKnrB,MAAMmrB,QAGzB,GAFA3H,EAAK4F,OAAS5F,EAAKK,KAAK,KAEpBL,EAAK4F,OAAQ,KAAO,EACtB5F,EAAK4F,QAAU5F,EAAK4F,OAAO,MAAMC,QAAQ,GAAK,MAC9C7F,EAAK9T,MAAQ,yBACbyb,EAAQ3H,KAAO,GACf,EAAKlE,SAAS,CAACgK,aAAa9F,QACvB,CACLA,EAAK9T,MAAQ,KACb8T,EAAK4F,OAAS5F,EAAK4F,OAAOC,QAAQ,GAAG,MACrC,IAAIE,EAAS,IAAIC,WACjBD,EAAOE,cAAcjG,GACrB+F,EAAOG,UAAY,WACjByB,EAAQ3H,KAAO+F,EAAOI,OACtB,EAAKrK,SAAS,CAAEgK,aAAc9F,EAAM2H,QAAQA,QA3LjC,EAiMnBgY,iBAAmB,SAACzkC,GAClB,IAAIysB,EAAU,EAAKnrB,MAAMmrB,eAClBA,EAAQ3H,KACf,EAAKlE,SAAS,CAACgK,aAAa,KAAM6B,QAAQA,EAASlC,YAAa,OAChE/b,SAASC,eAAe,wBAAwBpJ,MAAQ,IArMvC,MAGY,EAAK4L,MAAMlU,KAAKizB,MAAMtqB,OAA3CoiC,EAHS,EAGTA,WAAYtmC,EAHH,EAGGA,KAHH,OAIjB,EAAKF,MAAQ,CACXiqB,WAAW,EACXkB,QAAQ,GACR2Y,WAAW,GACXC,YAAY,GACZhZ,UAAU,GACVL,UAAU,GACVsZ,OAAO,GACPC,OAAO,GACPC,gBAAgB,CAACngC,MAAM,IACvBogC,mBAAoB,CAACpgC,MAAM,IAC3BqgC,oBAAqB,CAACrgC,MAAM,IAC5BsgC,iBAAkB,CAACtgC,MAAM,IACzBugC,iBAAkB,CAACvgC,MAAM,IACzBwgC,eAAgB,CAACxgC,MAAM,IACvBygC,cAAe,CAACzgC,MAAM,IACtB0gC,kBAAmB,CAAC1gC,MAAM,IAC1B2gC,kCAAmC,CAAC3gC,MAAM,IAC1C4gC,eAAe,CAAC5gC,MAAM,IACtB7D,KAAMA,EACNopB,aAAc,KACdL,YAAa,MAGf,EAAKwd,WAAWD,GA5BC,E,qFA+BI,IAAD,OAChBE,EAAe1rC,KAAKgF,MAAMmrB,QAC1BwD,EAAY,CACd+U,QAAS,YACTqB,WAAa,cACbnB,UAAY,aACZoB,QAAU,aAGRjW,EAAwB,GAIxBmJ,EAAmB,CACrBgN,SAAShgC,EACTigC,OAAO//B,EACPwC,MAAMvC,EACN+/B,yBAAyBjgC,GAGvB6pB,EAAgBvlB,OAAOC,KAAKwuB,GAChC,IAAI,IAAIn4B,KAAOivB,EACb,IAAI,IAAI1xB,KAAS46B,EAAiBlJ,EAAcjvB,IAC9C,GAAGm4B,EAAiBlJ,EAAcjvB,IAAMzC,GAAOyG,QAAU2iC,EAAa1X,EAAcjvB,IAAM,CACxF/E,KAAKskB,SAAL,gBAAgB,YAAY0P,EAAcjvB,GAAMm4B,EAAiBlJ,EAAcjvB,IAAMzC,KACrF,MAKN0xB,EAAgBvlB,OAAOC,KAAKilB,GA9BR,eA+BZ5uB,GAEJmE,EAAKyqB,EAAUK,EAAcjvB,IADlB,IACiCwE,KAAK,SAASC,GAAU,IAAD,EAC3D/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAI,IAAI5B,KAAO5xB,EAab,GAXqC,aAAlCkzB,EAAUK,EAAcjvB,IACzBtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKjC,WAAW,IAAI3vB,EAAK4xB,GAAKhC,UACZ,UAAlCsD,EAAUK,EAAcjvB,MAC9BtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKlC,QAAQC,WAAW,IAAI3vB,EAAK4xB,GAAKlC,QAAQE,WAEtE5vB,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,QAEW1I,GAApC+iC,EAAa1X,EAAcjvB,KAAsBtE,EAAK4xB,GAAKhhB,KAAOq6B,EAAa1X,EAAcjvB,IAAMsM,KACpG4iB,EAAWxzB,EAAK4xB,SAEyC1pB,GAAxDorB,EAAsBJ,EAAUK,EAAcjvB,KAC/C,IAAI,IAAIzC,KAASyxB,EAAsBJ,EAAUK,EAAcjvB,KAAQ,CACrE,IAAImvB,EAAgBH,EAAsBJ,EAAUK,EAAcjvB,KAAOzC,QAEvCqG,GAA/B+iC,EAAaxX,IAA+BzzB,EAAK4xB,GAAKhhB,KAAOq6B,EAAaxX,GAAe7iB,IAC1FrR,KAAKskB,SAAL,gBAAgB,YAAY4P,EAAezzB,EAAK4xB,KAKxDryB,KAAKskB,UAAL,oBAAgBqP,EAAUK,EAAcjvB,IAAQtE,GAAhD,eAAuD,YAAYuzB,EAAcjvB,GAAMkvB,GAAvF,wBAAwGyX,GAAxG,KAEFvZ,KAAK,KA9BX,IAAI,IAAIptB,KAAOivB,EAAgB,EAAvBjvB,K,iCAkCCymC,GAAa,IAAD,OACrBtiC,EAAK,YAAYsiC,EAAW,KAAKjiC,MAC/B,SAACC,UACUA,EAAS/I,KAAKyE,KACrB,IAAI4kC,EAAWtgC,EAAS/I,KAAKqpC,SAC7B,EAAKxlB,SAAS,CAAC6L,QAAU3mB,EAAS/I,KAAMqpC,SAASA,IACjD,EAAK6B,sBACL,EAAKC,gBAEFpiC,EAAS/I,KAAKupC,cAAuCrhC,GAA5Ba,EAAS/I,KAAKupC,QAAQ34B,IAA+C,IAA5B7H,EAAS/I,KAAKupC,QAAQ34B,IACzF,EAAKosB,oBAAoBj0B,EAAS/I,KAAKupC,QAAQ34B,GAAI,WAElD7H,EAAS/I,KAAKuE,YAAmC2D,GAA1Ba,EAAS/I,KAAKuE,MAAMqM,IAA6C,IAA1B7H,EAAS/I,KAAKuE,MAAMqM,IACnF,EAAKosB,oBAAoBj0B,EAAS/I,KAAKuE,MAAMqM,GAAI,SAEnD,EAAKiT,SAAS,CAAC2J,YAAazkB,EAAS/I,KAAK0mB,MAAQhf,EAAUqB,EAAS/I,KAAK0mB,MAAMnB,mBAAqB,Y,mCAIhGtiB,EAAOwB,GAClB,IAAIirB,EAAUnwB,KAAKgF,MAAMmrB,QACzB,GAAY,aAATjrB,EACD,IAAIhC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,UACpB,CACC7F,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,OAAO,cAC/BpvB,KAAKskB,SAAS,CAACwlB,SAAWpmC,IAEhB,cAATR,IACD+c,EAAMvd,SAASud,IACjBkQ,EAAQjtB,GAAQ+c,EAChBjgB,KAAKskB,SAAS,CAAC6L,QAAUA,M,mCAGdzsB,GAAQ,IAAD,OACLA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAE2K,WAAW,IAC3BjvB,KAAKg9B,kBACLlzB,EAAM,YAAY9J,KAAKgF,MAAMmrB,QAAQ9e,GAAG,IAAKrR,KAAKgF,MAAMmrB,SAAS5mB,MAC/D,SAACC,UACQA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CAAC6L,QAAU3mB,EAAS/I,OAClC,EAAKkU,MAAMlU,KAAK+Q,QAAQzN,KAAK,qBAC9B4kB,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,wCAIvB,IAAD,OACZ0vB,EAAUnwB,KAAKgF,MAAMmrB,QACN,CAAC,aAAa,UAAU,UAAU,QAAQ,OAAO,YAAY,WAAW,SAAS,QAAQ,4BAC/FnQ,KAAI,SAACC,EAAK9c,GACrBgtB,EAAQlQ,GAAO,EAAKjb,MAAM,YAAYib,GAAKlX,SAE7C/I,KAAKskB,SAAS,CAAC6L,QAAQA,M,sCAIvB,GAAGnwB,KAAKgF,MAAMmrB,QAAQhJ,MAAO,CAC3B,IAAIqB,EAAO,GACPqjB,EAAkB7rC,KAAKgF,MAAMmrB,QAAQhJ,MAAMnB,mBAAmB5F,MAAM,KACxEoI,EAAK+iB,OAASM,EAAgBA,EAAgBlqC,OAAS,GACvD3B,KAAKskB,SAAS,CAAEgK,aAAc9F,O,mCAuCrBzf,EAAOhE,GAAM,IAAD,EACnBorB,EAAUnwB,KAAKgF,MAAMmrB,QACzBA,EAAQprB,GAAOgE,EAAMA,MACrB/I,KAAKskB,UAAL,oBAAiB,YAAYvf,EAAMgE,GAAnC,yBAAmDonB,GAAnD,IACAnwB,KAAKy9B,oBAAoB10B,EAAMsI,GAAItM,K,0CAIjBsM,EAAItM,GACtB,GAAW,YAARA,GAA6B,UAARA,EAAiB,CACvC,IAAIoE,EAAW,GAAIC,EAAO,GAAIirB,EAAgB,GACnC,YAARtvB,GACDoE,EAAW,SACXC,EAAS,CAACwX,UAAU,EAAGypB,WAAWh5B,GAClCgjB,EAAgB,UAGhBlrB,EAAW,SACXC,EAAS,CAACwX,UAAU,EAAG0pB,SAASj5B,GAChCgjB,EAAgB,QAGlBnrB,EAAKC,EAAUC,GAAQG,KAAK,SAASC,GAAU,IAAD,EACtC/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAI,IAAI5B,KAAO5xB,OAC2BkI,GAArC3I,KAAKgF,MAAMmrB,QAAQkE,IAA+B5zB,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAMmrB,QAAQkE,GAAehjB,KACtG4iB,EAAQ,MAAYxzB,EAAK4xB,GAAK7uB,KAC9BywB,EAAQ,MAAYxzB,EAAK4xB,GAAKhhB,IAEhC5Q,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,GAG5BzB,QAAQC,IAAIokB,GACdj0B,KAAKskB,UAAL,oBAAgBnb,EAAW1I,GAA3B,eAAkC,YAAY4zB,EAAeJ,GAA7D,KAEF9B,KAAKnyB,U,+BAID,IAAD,SAI8CA,KAAKgF,MAHlD8kC,EADD,EACCA,SAAU3Z,EADX,EACWA,QAAS2Y,EADpB,EACoBA,WAAYC,EADhC,EACgCA,YAAaI,EAD7C,EAC6CA,mBAAoBM,EADjE,EACiEA,kBACtEL,EAFK,EAELA,oBAAqBC,EAFhB,EAEgBA,iBAAkBtZ,EAFlC,EAEkCA,UAAWuZ,EAF7C,EAE6CA,iBAAkBJ,EAF/D,EAE+DA,gBACpEK,EAHK,EAGLA,eAAgBC,EAHX,EAGWA,cAAe9Z,EAH1B,EAG0BA,UAAWia,EAHrC,EAGqCA,eAAgBV,EAHrD,EAGqDA,OAAQD,EAH7D,EAG6DA,OAClEU,EAJK,EAILA,kCAAmCpb,EAJ9B,EAI8BA,aACrC,OACE,kBAAC5E,GAAA,EAAD,CACEyM,YAAU,EACV9c,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KAElC,kBAAC2nB,GAAA,EAAKC,IAAN,KACG,yBAAKna,UAAU,UACb,oDACA,+BAGJ,kBAACka,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,cACA,kBAAC,KAAD,CACEtiB,MAAO4gC,EACPha,MAAM,UACNnsB,KAAK,QACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAASuK,KAGb,kBAACqf,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,mBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,aACNnsB,KAAK,aACLkzB,aAAcvG,EAAUA,EAAQC,WAAW,GAC3CrW,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,kBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,YACLkzB,aAAcvG,EAAUA,EAAQE,UAAU,GAC1CtW,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAIvC,kBAAC2nB,GAAA,EAAKC,IAAN,KACA,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAACrW,GAAA,EAAD,CAAehB,MAAOwY,IACtB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC9B,kBAACC,GAAA,EAAD,CACEC,QAAW,IAAI7mB,KAAK,cACpBjH,MAAO+gC,EACP1a,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,aACpCq1B,sBAAoB,OAK1B,kBAAC1N,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,eACA,kBAAC,KAAD,CACEtiB,MAAOmgC,EACPvZ,MAAM,UACNnsB,KAAK,SACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpCjC,QAASsK,MAKhB,kBAACsf,GAAA,EAAKC,IAAN,KACG,yBAAKna,UAAU,UACb,4CACA,+BAGJ,kBAACka,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,KACxB,kBAACrB,GAAA,EAAK2B,MAAN,kBACE,kBAAC,KAAD,CACEtiB,MAAOogC,EACPxZ,MAAM,YACNnsB,KAAK,OACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,cACpCjC,QAASgpC,KAGb,kBAACpf,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,mBACA,kBAAC,KAAD,CACEtiB,MAAOqgC,EACPzZ,MAAM,aACNnsB,KAAK,OACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,eACpCjC,QAASipC,KAGb,kBAACrf,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,qBACA,kBAAC,KAAD,CACEtiB,MAAOsgC,EACP1Z,MAAM,UACNnsB,KAAK,OACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,YACpCjC,QAASiwB,MAKhB,kBAACrG,GAAA,EAAKC,IAAN,KACG,yBAAKna,UAAU,UACb,mDACA,+BAIJ,kBAACka,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,gBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,UACLkzB,aAAcvG,EAAQqa,QAAUra,EAAQqa,QAAQ,GAChDzwB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,gBACA,kBAAC,KAAD,CACEtiB,MAAOugC,EACP3Z,MAAM,UACNnsB,KAAK,OACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,YACpCjC,QAAS4vB,KAGb,kBAAChG,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,cACA,kBAAC,KAAD,CACEtiB,MAAOwgC,EACP5Z,MAAM,QACNnsB,KAAK,OACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAASkpC,KAGb,kBAACtf,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,aACA,kBAAC,KAAD,CACEtiB,MAAOygC,EACP7Z,MAAM,OACNnsB,KAAK,OACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,SACpCjC,QAASmpC,MAIf,kBAACvf,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,uBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,iBACLkzB,aAAcvG,EAAQsa,eAAiBta,EAAQsa,eAAe,GAC9D1wB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,qBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,eACLkzB,aAAcvG,EAAQua,aAAeva,EAAQua,aAAa,GAC1D3wB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,iCACA,kBAAC,KAAD,CACEtiB,MAAO2gC,EACP/Z,MAAM,UACNnsB,KAAK,2BACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,6BACpCjC,QAASqK,MAIf,kBAACuf,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,cACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,QACLkzB,aAAcvG,EAAQwa,MAAQxa,EAAQwa,MAAM,GAC5C5wB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,WACLkzB,aAAcvG,EAAQya,SAAWza,EAAQya,SAAS,GAClD7wB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGrC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAAC,KAAD,CACEtiB,MAAO0gC,EACP9Z,MAAM,WACNnsB,KAAK,WACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,aACpCjC,QAASoK,MAIf,kBAACouB,GAAA,EAAD,CAAWhG,KAAG,GACZ,kBAACwF,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CAAUx0B,KAAK,aAAa6W,UAAS8V,EAAQ0a,WAAyB9wB,SAAU,SAAChY,GAAD,OAAO,EAAK2X,aAAa3X,IAAIgH,MAAM,MAErH7C,MAAM,YAER,kBAAC4xB,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CAAUx0B,KAAK,YAAY6W,UAAS8V,EAAQ2a,UAAwB/wB,SAAU,SAAChY,GAAD,OAAO,EAAK2X,aAAa3X,IAAIgH,MAAM,MAEnH7C,MAAM,WAER,kBAAC4xB,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CAAUx0B,KAAK,eAAe6W,UAAS8V,EAAQwK,aAA2B5gB,SAAU,SAAChY,GAAD,OAAO,EAAK2X,aAAa3X,IAAIgH,MAAM,MAEzH7C,MAAM,eAGV,kBAACwjB,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,MACpB,2BACE4N,OAAO,UACPrxB,MAAO,CAAChB,QAAS,QACjBpB,KAAK,OACLmM,GAAG,uBACH7N,KAAM,QACNuW,SAAU/Z,KAAK8tB,qBAEjB,6BACA,2BAAOid,QAAQ,wBACb,kBAAC,KAAD,CAAYjrB,QAAQ,WAAWlB,MAAM,UAAU9E,UAAU,QAAzD,eAEE,kBAACkxB,GAAA,EAAD,CAAiB1jC,MAAO,CAAC2jC,WAAY,WAG3C,yBAAKz7B,UAAU,kCACb,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,0BAA0B6B,GAAG,iBAC1C,yBAAK7B,UAAU,iBAAiBlI,MAAO,CAAChB,QAAQgoB,EAAe,QAAQ,SACrE,yBAAK9e,UAAU,iBACb,yBAAKA,UAAU,iBACZxP,KAAKgF,MAAMipB,aACV,yBAAK3mB,MAAO,CAAC,YAAY,UAAU,yBAAKA,MAAO,CAAEb,MAAO,QAAU+f,IAAKxmB,KAAKgF,MAAMipB,eAEpF,yBAAKze,UAAU,oBAAoB5C,MAAM,4BACvC,0BAAMs+B,gBAAA,GAAc5c,EAAeA,EAAaid,OAAS,oBAD3D,IACsF,gCAASjd,GAAgBA,EAAaF,OAAS,IAAIE,EAAaF,OAAO,IAAM,KAEnK,yBAAK5e,UAAU,iBAAiB47B,wBAAA,GAAsB9c,GAAgBA,EAAa5Z,MAAQ4Z,EAAa5Z,MAAQ,KAElH,yBAAKlF,UAAU,oBACb,0BAAM+K,QAAS,SAACxY,GAAD,OAAK,EAAKomC,iBAAiBpmC,IAAIyN,UAAU,kBAAkB67B,kBAAA,GAAe,uBAAG77B,UAAU,yBAK9G,0BAAMA,UAAU,wBAAhB,6BAKV,kBAACoQ,GAAA,EAAD,CAAQ1a,KAAK,SAASsK,UAAU,mBAC9B,uBAAGA,UAAU,eADf,UAzSF,WA+SE,kBAAC,QAAD,CAAM4pB,GAAI,iBAA0B5pB,UAAU,kBAC5C,uBAAGA,UAAU,iBADf,e,GAviBWqL,IAAMM,WAgjBnB4iB,G,YACJ,WAAYppB,GAAQ,IAAD,+BACjB,8CAAMA,KACD3P,MAAQ,CAACouB,OAAO,GAAIsG,WAAU,EAAOx0B,KAAKyP,EAAM+e,MAAMtqB,OAAOlE,MAClE,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBAHA,E,yEAMTzd,GACLjG,OAAOC,KAAKgG,GAAO/S,QACpB3B,KAAKskB,SAAS,CAACoV,WAAU,IAE3B15B,KAAKskB,SAAS,CAAC8O,OAAO1e,M,+BAGd,IAAD,OAGD42B,EAAU,kBAAC,QAAD,CAAMlS,GAAI,iBAA0B5pB,UAAU,6BAC5C,uBAAGA,UAAU,0BADf,QAIhB,OACE,oCACE,kBAAC4J,GAAA,EAAD,CAAQrM,KAAK,mCAAmCzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAE/FjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACvC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAExC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAMa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA3D,MAAkEgI,UAM/E,yBAAKlF,UAAU,OACb,yBAAKA,UAAU,aACb,kBAACyS,GAAD,CACEE,gBAAiB,UACjBD,OAAY,yBAAK1S,UAAU,4BAC3B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACd87B,OAML,yBAAK97B,UAAU,cACb,kBAAC,GAAD,CAAM/O,KAAQT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,qB,GAjDnCtY,IAAMM,WA2Ddye,gBAAWmE,ICxpBpB1D,G,YAEJ,WAAY1lB,GAAQ,IAAD,8BACjB,8CAAMA,KAC4BA,MAAMlU,KAAKizB,MAAMtqB,OAA3CoiC,EAFS,EAETA,WAAYtmC,EAFH,EAEGA,KAFH,OAMjB,EAAKq1B,WAAa,CAACzN,WAAW,KAC9B,EAAK2J,gBAAkB,EAAKA,gBAAgBtE,KAArB,iBACvB,EAAKrD,iBAAmB,EAAKA,iBAAiBqD,KAAtB,iBACxB,EAAKD,QAAU,EAAKA,QAAQC,KAAb,iBACf,EAAKntB,MAAQ,CACXE,KAAOA,EACPirB,QAAQ,CAAC9e,GAAGm6B,GACZvmC,OAAO,GACPu1B,WAAW,EACXC,WAAY,GACZC,WAAY,GACZ3W,MAAM,KACN4W,aAAc,IAGhB,EAAK8Q,WAAWD,GAChB,EAAK3Q,SAnBY,CACfpP,QAAU,QAJK,E,0EAyBR+f,GAAa,IAAD,OACrBtiC,EAAK,YAAYsiC,EAAW,KAAKjiC,MAC/B,SAACC,UACUA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CACVmW,YAAa,IAAIK,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKg6B,aACrEC,YAAa,IAAII,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKi6B,aACrE3W,MAAOva,EAAS/I,KAAK0mB,MAAQ3d,EAAS/I,KAAK0mB,MAAMnB,mBAAqB,OAE1E,EAAKrR,MAAMm3B,SAAStiC,EAAS/I,KAAK2vB,WAAW,IAAK5mB,EAAS/I,KAAK4vB,WAChE,EAAK/L,SAAS,CAAC6L,QAAU3mB,EAAS/I,Y,mCAI7Bwf,EAAK/c,GAAO,IAAD,OAClBitB,EAAUnwB,KAAKgF,MAAMmrB,QAEzBA,EAAQjtB,GAAQ+c,EAChBjgB,KAAKskB,SAAS,CAAC6L,QAAUA,IACzBrmB,EAAM,YAAY9J,KAAKgF,MAAMmrB,QAAQ9e,GAAG,IAAKrR,KAAKgF,MAAMmrB,SAAS5mB,MAC/D,SAACC,GACC,EAAK8a,SAAS,CAAC6L,QAAU3mB,EAAS/I,UACnCkoB,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,sCAI1BiD,EAAOuB,GACrB,IAAIgb,EAAMvc,EAAMyc,OAAOpX,MACR,WAAX9D,IACFgb,EAAMvd,SAASud,GACfjgB,KAAKskB,SAAS,CAACqW,aAAuB,IAAR1a,EAAY,EAAE,KAE9CjgB,KAAKskB,SAAS,CAACrf,OAAQA,IACvBjF,KAAKskB,SAAS,CAAEkW,WAAW,M,yCAI5Bx6B,KAAKskB,SAAS,CAAEkW,WAAW,M,gCAGjB,IAAD,OACiB,WAAtBx6B,KAAKgF,MAAMC,SACZjF,KAAKgF,MAAMmrB,QAAQwK,aAAe36B,KAAKgF,MAAM21B,aAC7C7wB,EAAM,YAAY9J,KAAKgF,MAAMmrB,QAAQ9e,GAAG,IAAK,CAACspB,aAAc36B,KAAKgF,MAAM21B,eAAepxB,MACpF,SAACC,UACQA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CAAC6L,QAAU3mB,EAAS/I,OAClC,EAAK6jB,SAAS,CAACkW,WAAY,OAC5B7R,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,MACpC,EAAK6jB,SAAS,CAACkW,WAAY,U,+BAOzB,IAAD,SACwBx6B,KAAKgF,MAAjBmrB,GADZ,EACClB,UADD,EACYkB,SACnB,OACI,6BACE,kBAAC5I,GAAA,EAAD,CAAM0T,WAAS,EAAChY,QAAS,GACnB,kBAACsE,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACrB,kBAACrB,GAAA,EAAD,KACA,kBAACA,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,aAA6B,6BAC7B,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQC,WAAW,IAAID,EAAQE,YAEtE,kBAAC3G,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,iBAAiC,6BACjC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQ+Z,YAGjD,6BACA,kBAACxgB,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,gBAAgC,6BAChC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQuY,QAAUvY,EAAQuY,QAAQllC,KAAM,KAE/E,kBAACkmB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,kBAAkC,6BAClC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQyY,UAAYzY,EAAQyY,UAAUplC,KAAM,KAEnF,kBAACkmB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,mBAAmC,6BACnC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQ4Z,WAAa5Z,EAAQ4Z,WAAWvmC,KAAO,MAGxF,6BACA,kBAACkmB,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,qBAAqC,6BACrC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQua,eAE/C,kBAAChhB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,uBAAuC,6BACvC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQsa,iBAE/C,kBAAC/gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,cAA8B,6BAC9B,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQwa,QAE/C,kBAACjhB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,iBAAiC,6BACjC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQya,YAGjD,6BACA,kBAAClhB,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,gBAAgC,6BAChC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQqa,UAE/C,kBAAC9gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,aAA6B,6BAC7B,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQ8Z,KAAO9Z,EAAQ8Z,KAAKzmC,KAAO,KAE1E,kBAACkmB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,cAA8B,6BAC9B,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQnrB,MAAQmrB,EAAQnrB,MAAMxB,KAAO,KAE5E,kBAACkmB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,gBAAgC,6BAChC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQ6Z,QAAU7Z,EAAQ6Z,QAAQxmC,KAAO,MAGlF,6BACA,kBAACkmB,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,iCAAiD,6BACjD,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQia,2BAE/C,kBAAC1gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,yBAAyC,6BACzC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQwK,gBAGjD,kBAACjR,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,qBAAqC,6BACrC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAav6B,KAAKgF,MAAMy1B,aAElD,kBAAC/Q,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,sBAAsC,6BACtC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAav6B,KAAKgF,MAAM01B,cAGlD,kBAAChR,GAAA,EAAKU,MAAN,KACE,kBAACV,GAAA,EAAK2B,MAAN,eAA+B,6BAC/B,0BAAM9Q,QAAS,SAACxY,GAAD,OAAO,EAAK00B,gBAAgB10B,EAAE,WAAWyN,UAA+C,IAApCxP,KAAKgF,MAAMmrB,QAAQwK,aAAqB,6CAA6C,6CACtJ,+BACE,2BACEz1B,KAAK,WAAWmV,QAAkC,IAAzB8V,EAAQwK,aAAqB,iBAAiB,GACvE5xB,MAAgC,IAAzBonB,EAAQwK,aAAqB,IAAM,IAC1Cn3B,KAAK,iBAEP,oCAMV,kBAAC+jB,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACnB,yBAAKzjB,MAAO,CAACykC,UAAU,QAASjgB,SAAS,SAAUtF,IAAMxmB,KAAKgF,MAAM+e,MAAQ5b,EAAUnI,KAAKgF,MAAM+e,MAAQ5b,EAAU,sBAI7H,kBAACygB,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAMw1B,UAAWzR,OAAQ/oB,KAAK8uB,kBAC9C,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASva,KAAKkyB,SAAvC,OAGA,kBAACtS,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAK8uB,kBAAxC,a,GA5MOjU,IAAMM,WAsNrBkhB,G,YACJ,WAAY1nB,GAAQ,IAAD,wBACjB,8CAAMA,KAcRq3B,aAAe,SAACjjC,GACd,EAAKub,SAAS,CAAC1X,MAAO7D,KAdtB,IAAI7D,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFb,OAGjB,EAAKF,MAAQ,CAACouB,OAAO,GAAIsG,WAAU,EAAO9sB,MAAO,WACjD,EAAK5H,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALA,E,yEAQTzd,GACLjG,OAAOC,KAAKgG,GAAO/S,QACpB3B,KAAKskB,SAAS,CAACoV,WAAU,IAE3B15B,KAAKskB,SAAS,CAAC8O,OAAO1e,M,+BAOd,IAAD,OACP,OACE,oCACA,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCAAmCzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAE7FjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACvC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAExC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAMa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA3D,MAAkEgI,UAK/E,yBAAKlF,UAAU,OACb,yBAAKA,UAAU,aACb,kBAACyS,GAAD,CACEE,gBAAiBniB,KAAKgF,MAAM4H,MAC5BsV,OAAY,yBAAK1S,UAAU,4BAC3B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACf,kBAAC,QAAD,CAAM4pB,GAAI,iBAAkB5pB,UAAU,6BACpC,uBAAGA,UAAU,0BADf,QAIA,kBAAC,QAAD,CAAM4pB,GAAI,kBAAkBp5B,KAAK2U,MAAM+e,MAAMtqB,OAAOoiC,WAAW,QAASh8B,UAAU,mBAChF,uBAAGA,UAAU,eADf,aASJ,yBAAKA,UAAU,cACb,kBAAC,GAAD,CAAQ/O,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,UAAW2Y,SAAU9rC,KAAKgsC,wB,GAvD3DnxB,IAAMM,WAiEhBye,gBAAWyC,IC1QpBqD,GAA6B7kB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAChD,4BACIQ,IAAKA,EACLR,QAAS,SAAAxY,GACPA,EAAEC,iBACFuY,EAAQxY,IAEVyN,UAAU,8BANd,UASE,kBAAC,GAAD,CAAcA,UAAU,oCAQ9B,IAAM6S,GAAc,CAClBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MAGFC,GAA2BC,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAClE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,IAYV,IAAMqc,GAAmBhd,cAAW,SAAA3O,GAAK,MAAK,CAC5CnH,KAAM,CACJ+yB,YAAa5rB,EAAMiP,QAAQ,GAC3BzK,aAAcxE,EAAMiP,QAAQ,GAC5B3c,QAAS,SAEXu5B,UACyB,UAAvB7rB,EAAMK,QAAQnP,KACV,CACE0Z,MAAO5K,EAAMK,QAAQG,UAAUD,KAC/B0H,gBAAiB6jB,aAAQ9rB,EAAMK,QAAQG,UAAU9O,MAAO,MAE1D,CACEkZ,MAAO5K,EAAMK,QAAQoI,KAAK7W,QAC1BqW,gBAAiBjI,EAAMK,QAAQG,UAAU7O,MAEjDo6B,OAAQ,CACNC,KAAM,YAER56B,QAAS,CACPwZ,MAAO5K,EAAMK,QAAQoI,KAAKjI,WAE5B5H,MAAO,CACLozB,KAAM,gBAIJC,GAAuB,SAAAtrB,GAC3B,IAAM0O,EAAUsc,KACRW,EAA0F3rB,EAA1F2rB,YAAmBrM,GAAuEtf,EAA7EzP,KAA6EyP,EAAvEsf,UAAUsM,EAA6D5rB,EAA7D4rB,YAAaC,EAAgD7rB,EAAhD6rB,gBAAiBviB,EAA+BtJ,EAA/BsJ,YAAaD,EAAkBrJ,EAAlBqJ,KAAMyiB,EAAY9rB,EAAZ8rB,QA0BtF,OACE,kBAACC,GAAA,EAAD,CACElxB,UAAWgL,aAAK6I,EAAQxW,KAAT,gBACZwW,EAAQwc,UAAYS,EAAc,KAGnC,yBAAK9wB,UAAU,yCACX,yBAAKA,UAAU,0BACb,0BAAMA,UAAU,yBACd,uBAAGA,UAAU,uCAEZ8wB,EAAc,EACb,kBAACK,GAAA,EAAD,CAAY/hB,MAAM,UAAUkB,QAAQ,aACjCwgB,EADH,aAIA,wBAAI9wB,UAAU,0BAAd,eAKN,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACR8wB,EAAc,EACX,kBAAC3e,GAAA,EAAD,CAAS/U,MAAM,UACb,kBAAC8W,GAAA,EAAD,CAAYnJ,QAAS,SAACxY,GAAD,OAjD/C,SAAsB2B,GACpB,GAAGuwB,EAAStyB,OAAQ,CAClB,IAAIlB,EAAO,CAAC4mB,IAAI4M,GAChBjqB,EAAI,SAASiqB,EAAS,GAAG,IAAKxzB,GAAM8I,MAAK,SAAUC,GAEjD,IAAI,IAAIrG,KAAK6a,EACRiW,EAAS1e,QAAQyI,EAAK7a,GAAGkO,KAAO,UAC1B2M,EAAK7a,GAGhB8a,EAAYD,GACZiW,EAAStyB,OAAS,EAClB4+B,EAAYtM,GACZuM,GAAgB,GAGhB,IAAMI,EAAS,GACfA,EAAO78B,KAAK,GACZ08B,EAAQG,OA+BwCE,IAAiBnd,aAAW,UACtD,kBAAC,KAAD,QAIJ,yBAAKnU,UAAU,aAKX,kBAACwxB,GAAA,EAAD,CAAUxxB,UAAU,kBAAkByxB,KAAK,OAAOC,YAAU,GAC1D,kBAACF,GAAA,EAASG,OAAV,CAAiB9W,GAAIqV,GACnBruB,GAAG,4CAGL,kBAAC2vB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,0DACvB,wBAAIA,UAAU,UACZ,wBAAIA,UAAU,gBACZ,uBAAGqQ,KAAK,IAAIrQ,UAAU,gBACpB,uBAAGA,UAAU,mCACb,0BAAMA,UAAU,qBAAhB,YAGJ,wBAAIA,UAAU,gBACZ,uBAAGqQ,KAAK,IAAIrQ,UAAU,gBACpB,uBAAGA,UAAU,qCACb,0BAAMA,UAAU,qBAAhB,sBAqBlCoyB,GAAYjf,cAAW,SAAA3O,GAAK,MAAK,CACrCnH,KAAM,CACJpG,MAAO,OACP+4B,UAAWxrB,EAAMiP,QAAQ,IAE3B4e,MAAO,CACLp7B,MAAO,OACP8iB,aAAcvV,EAAMiP,QAAQ,IAE9B6e,MAAO,CACLC,SAAU,KAEZC,aAAc,CACZC,UAAW,QAEbC,MAAO,CACLzW,QAASzX,EAAMiP,QAAQ,SAIrBkf,GAAIC,EAAQ,IAGlB,SAASvB,GAAY37B,GACHi9B,GAAE,gBAAgBnI,YAC1BqI,KAAKppB,OAAO,MAAM,GAJ5BkpB,GAAEnI,UAAYoI,EAAQ,KAgCQvnB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAC3C,uBACEQ,IAAKA,EACLR,QAAS,SAAAxY,GACTA,EAAEC,iBACFuY,EAAQxY,IAERsP,GAAG,+BACH7B,UAAU,6CAET,IACD,uBAAGA,UAAU,yBAIJ,SAAS+yB,GAAc5tB,GACpC,IAAM0O,EAAUue,KAD2B,EAEjB/mB,IAAM3C,SAAS,OAFE,iCAGb2C,IAAM3C,SAAS,aAHF,iCAIX2C,IAAM3C,SAAS,KAJJ,oBAIpC+b,EAJoC,KAI1BsM,EAJ0B,OAKnB1lB,IAAM3C,SAAS,GALI,iCAMjB2C,IAAM3C,UAAS,IANE,iCAOL2C,IAAM3C,SAAS,KAPV,iCAQf2C,IAAM3C,SAAS,KARA,oBAQpC8F,EARoC,KAQ9BC,EAR8B,OASjBpD,IAAM3C,SAAS,GATE,iCAUX2C,IAAM3C,UAAS,IAVJ,oBAUpC4Q,EAVoC,KAU9B0Z,EAV8B,OAWd3nB,IAAM3C,SAAS,GAXD,oBAWpCuqB,EAXoC,KAWzBC,EAXyB,OAYf7nB,IAAM3C,SAAS,IAZA,oBAY5ByqB,GAZ4B,aAanB9nB,IAAM3C,SAAS,IAbI,oBAa9BuoB,GAb8B,aAcD5lB,IAAM3C,UAAS,GAdd,oBAcpBsoB,GAdoB,aAenB3lB,IAAM3C,UAAS,GAfI,oBAepC2J,EAfoC,KAe9BihB,EAf8B,OAgBbjoB,IAAM3C,SAAS,iCAhBF,oBAgBpCgL,EAhBoC,KAgB3B6f,EAhB2B,OAiBbloB,IAAM3C,SAAS,IAjBF,iCAkBjB2C,IAAM3C,UAAS,IAlBE,qBAkBpC4pB,GAlBoC,MAkB7BqB,GAlB6B,SAmBPtoB,IAAM3C,SAAS,UAnBR,kCAoB7BkrB,eACHzuB,EAAM+e,MAAMtqB,OAAOlE,KAwK9B,SAAS4pB,GAAiBprB,GACxB8+B,GAAgB,GAtKlB3nB,IAAMhJ,WAAU,WACTswB,GAAEoB,GAAGC,UAAUC,YAAa,kBACnBtB,GAAE,gBAAgBnI,YACxBnc,UACNslB,IAAS,MAEV,IAEHtoB,IAAMhJ,WAAU,WACViwB,IAASK,GAAEoB,GAAGC,UAAUC,YAAa,gBAClC37B,KAAKE,UAAUgW,KAAUlW,KAAKE,UAAUsP,OAAOosB,YAChDpsB,OAAOosB,SAAW1lB,IAGpBmlB,IAAS,GAMf,WACE,IACMQ,EAAa,CACb,CAAE,UAAY,EAAO,SAAY,CAAC,IAClC,CACIC,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjD,IAAIqE,EACJA,EAActE,EAAQgI,cAAc56B,GAAG,IAAI4yB,EAAQiI,mCAAmCrjC,QAAQ,OAAQ,KAAKuD,cAC3G+3B,IAASC,OACL,uBAAGjkB,OAAO,SAAS7Y,MAAO,CAAEkhC,OAAQ,WAAa3oB,KAAM,YAAY0oB,GAC9DvE,GAEHD,KAId,CACIH,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GAEjD,IAAIuE,EACFA,EAAcxE,EAAQgI,eAAiBhI,EAAQgI,cAAcvD,SAAWzE,EAAQgI,cAAcvD,QAAQr3B,GAAK4yB,EAAQgI,cAAcvD,QAAQr3B,GAAG,IAAI4yB,EAAQgI,cAAcvD,QAAQllC,KAAKqF,QAAQ,OAAQ,KAAKuD,cAAgB,GAC1N+3B,IAASC,OACL,uBAAGjkB,OAAO,SAAS7Y,MAAO,CAAEkhC,OAAQ,WAAa3oB,KAAM,YAAY4oB,GAC9DzE,GAEHD,MAKlBJ,EAAW5/B,KACP,CACI6/B,QAAS,EACTh3B,MAAO,UACPi3B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACL,oCACA,kBAAC1gB,GAAA,EAAD,CAAYC,aAAW,SAASpJ,QAAS,SAACxY,GAAD,OA4G7BO,EA5GuDgwB,EA6GnFqQ,EA7GwF,UA8GxFD,EAAQpgC,QACRkgC,GAAgB,GAHpB,IAAgClgC,IA3GR,kBAAC,KAAD,QAGFyhC,MAIpB5B,GAAE,gBAAgBnI,UAAU,CAC1B7d,WAAY,CACVuoB,QAAS,CACPC,SAAUxC,GAAEoB,GAAGC,UAAUoB,WAAWD,SAASE,oBAGjDC,YAAW,EACXC,aAAe5K,GAAW,cAAexlB,GACzC0tB,KAAM,CACJtN,IAzDM9sB,8DA0DN+8B,OAAQ,MACR18B,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,SAASR,KAAKC,MAAMU,aAAaC,QAAQN,IAAgBQ,UAAUC,QAAQ,SAAU,KACpJ,WAAc,SAASpI,GACrB,IAAIwkC,EAAOn9B,KAAKC,MAAMtH,GAClBwjC,EAnJd,SAAsBA,GAsBpB,OApBMtzB,MAAMC,QAAQqzB,IAAYA,EAAQtiC,OAAS,GAC7CsiC,EAAQiB,SAAQ,SAASr0B,EAAMvO,GAC1BuO,EAAKo7B,eAAiBp7B,EAAKo7B,cAAcvD,QACxCzE,EAAQ3hC,GAAR,sCAA0DuO,EAAKo7B,cAAcvD,QAAQllC,KAErFygC,EAAQ3hC,GAAR,sCAA0D,GAC3DuO,EAAKo7B,eAAiBp7B,EAAKo7B,cAAcrD,UACxC3E,EAAQ3hC,GAAR,wCAA4DuO,EAAKo7B,cAAcrD,UAAUplC,KAEzFygC,EAAQ3hC,GAAR,wCAA4D,GAE7DuO,EAAKo7B,eAAiBp7B,EAAKo7B,cAAc7b,WACxC6T,EAAQ3hC,GAAR,mCAAuDuO,EAAKo7B,cAAc7b,WAAa,IAAMvf,EAAKo7B,cAAc5b,UAEhH4T,EAAQ3hC,GAAR,mCAAuD,GAG3D2hC,EAAQ3hC,GAAR,QAA4B2hC,EAAQ3hC,GAAR,KAAyB,MAGpD2hC,EA6HekB,CAAaF,EAAKxkC,MAGhC,OAFAwd,EAAYgmB,GACZgB,EAAKxkC,KAAOwjC,EACLn8B,KAAKE,UAAUi9B,KAK1BG,IAAI,2GAGJC,WAAY,CAAC,EAAG,GAAI,GAAI,IAExBC,WAAY,GACZC,WAAY,UACZC,aAAcxnB,EAAKwnB,aACnBC,gBAAiBznB,EAAKynB,gBAEtB/qB,SAAU,CACR,WAAc,kBAIdgrB,MAAO,CAAC,CAAC,EAAG,SACd/B,WAAWA,IAEbxB,GAAE,gBAAgB9/B,GAAI,WAAW,WAC/Bw3B,GAAWsI,GAAE,gBAAiB,cAAextB,MA/F3CgxB,MAED,CAAC3nB,IAyKN,IAAM4nB,GAAsB,SAACliC,EAAOmiC,GAClC/C,GAAQ,IAKV,OAEE,yBAAKtzB,UAAW6T,EAAQxW,MAEtB,kBAACi5B,GAAA,EAAD,CAAOt2B,UAAW6T,EAAQwe,OACxB,yBAAKryB,UAAW6T,EAAQ2e,cACxB,yBAAKxyB,UAAU,iCACX,kBAAC,GAAD,CAAsBixB,QAASA,EAASxiB,YAAaA,EAAaD,KAAMA,EAAMwiB,gBAAiBA,EAAiBD,YAAaA,EAAatM,SAAUA,EAAUqM,YAAarM,EAAStyB,SACtL,yBAAK6N,UAAU,oBAEb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,6CACb,yBAAKA,UAAU,qCACb,2BAAOu2B,QAhD7B,SAAsBriC,GACJy+B,GAAE,gBAAgBnI,YAC1BluB,OAAQpI,EAAMyc,OAAOpX,OAAQi9B,QA8Cc9gC,KAAK,OAAOsK,UAAU,eAAegb,YAAY,YAAYnZ,GAAG,kBAC/F,0BAAM7B,UAAU,iDACd,8BAAM,uBAAGA,UAAU,yBAQjC,yBAAKA,UAAU,cACX,6BACE,2BAAOA,UAAU,kEAAkE6B,GAAI,eACnF,+BACA,4BACI,wBAAI40B,YAAU,MAAd,MACA,wBAAIA,YAAU,sCAAd,QACA,wBAAIA,YAAU,yCAAd,WACA,wBAAIA,YAAU,2CAAd,aACA,wBAAIA,YAAU,WAAd,mBAUlB,kBAACrd,GAAA,EAAD,CAAOE,KAAMA,EAAMC,OAAQ+F,IACvB,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACjB,kBAACN,GAAA,EAAMO,MAAP,iBAEV,kBAACP,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAnEtC,SAAiB7W,GACbsG,EAAI,SAASgU,EAAKykB,GAAW,GAAG,KAAKl5B,MAAK,SAAUC,GAChD,IAAIq/B,EAAW7qB,EAAK1R,QAAO,SAACm1B,EAAEt+B,GAAH,OAASA,IAAMs/B,KAC1CxkB,EAAY4qB,GACZrG,GAAgB,GAChB3B,KACAiC,GAAQ,GACRC,EAAW,oCA4DP,OAGA,kBAACnjB,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASuU,IAAlC,QAKR,kBAAC3C,GAAA,EAAD,CACIC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAMA,EACN0K,iBAAkB,KAClBzK,QAAS8jB,IAET,kBAAC,GAAD,CACE9jB,QAAS8jB,GACT9lB,QAAQ,UACRoD,QAASA,MCrjBrB,IAAMwc,GAA6B7kB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAChD,4BACIQ,IAAKA,EACLR,QAAS,SAAAxY,GACPA,EAAEC,iBACFuY,EAAQxY,IAEVyN,UAAU,8BANd,UASE,kBAAC,GAAD,CAAcA,UAAU,oCAQ9B,IAAM6S,GAAc,CAClBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MAGFC,GAA2BC,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAClE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,IAYV,IAAMqc,GAAmBhd,cAAW,SAAA3O,GAAK,MAAK,CAC5CnH,KAAM,CACJ+yB,YAAa5rB,EAAMiP,QAAQ,GAC3BzK,aAAcxE,EAAMiP,QAAQ,GAC5B3c,QAAS,SAEXu5B,UACyB,UAAvB7rB,EAAMK,QAAQnP,KACV,CACE0Z,MAAO5K,EAAMK,QAAQG,UAAUD,KAC/B0H,gBAAiB6jB,aAAQ9rB,EAAMK,QAAQG,UAAU9O,MAAO,MAE1D,CACEkZ,MAAO5K,EAAMK,QAAQoI,KAAK7W,QAC1BqW,gBAAiBjI,EAAMK,QAAQG,UAAU7O,MAEjDo6B,OAAQ,CACNC,KAAM,YAER56B,QAAS,CACPwZ,MAAO5K,EAAMK,QAAQoI,KAAKjI,WAE5B5H,MAAO,CACLozB,KAAM,gBAIJC,GAAuB,SAAAtrB,GAC3B,IAAM0O,EAAUsc,KACRW,EAA0F3rB,EAA1F2rB,YAAmBrM,GAAuEtf,EAA7EzP,KAA6EyP,EAAvEsf,UAAUsM,EAA6D5rB,EAA7D4rB,YAAaC,EAAgD7rB,EAAhD6rB,gBAAiBviB,EAA+BtJ,EAA/BsJ,YAAaD,EAAkBrJ,EAAlBqJ,KAAMyiB,EAAY9rB,EAAZ8rB,QA0BtF,OACE,kBAACC,GAAA,EAAD,CACElxB,UAAWgL,aAAK6I,EAAQxW,KAAT,gBACZwW,EAAQwc,UAAYS,EAAc,KAGnC,yBAAK9wB,UAAU,yCACX,yBAAKA,UAAU,0BACb,0BAAMA,UAAU,yBACd,uBAAGA,UAAU,kCAEZ8wB,EAAc,EACb,kBAACK,GAAA,EAAD,CAAY/hB,MAAM,UAAUkB,QAAQ,aACjCwgB,EADH,aAIA,wBAAI9wB,UAAU,0BAAd,eAKN,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACR8wB,EAAc,EACX,kBAAC3e,GAAA,EAAD,CAAS/U,MAAM,UACb,kBAAC8W,GAAA,EAAD,CAAYnJ,QAAS,SAACxY,GAAD,OAjD/C,SAAsB2B,GACpB,GAAGuwB,EAAStyB,OAAQ,CAClB,IAAIlB,EAAO,CAAC4mB,IAAI4M,GAChBjqB,EAAI,cAAciqB,EAAS,GAAG,IAAKxzB,GAAM8I,MAAK,SAAUC,GAEtD,IAAI,IAAIrG,KAAK6a,EACRiW,EAAS1e,QAAQyI,EAAK7a,GAAGkO,KAAO,UAC1B2M,EAAK7a,GAGhB8a,EAAYD,GACZiW,EAAStyB,OAAS,EAClB4+B,EAAYtM,GACZuM,GAAgB,GAGhB,IAAMI,EAAS,GACfA,EAAO78B,KAAK,GACZ08B,EAAQG,OA+BwCE,IAAiBnd,aAAW,UACtD,kBAAC,KAAD,QAIJ,yBAAKnU,UAAU,aAKX,kBAACwxB,GAAA,EAAD,CAAUxxB,UAAU,kBAAkByxB,KAAK,OAAOC,YAAU,GAC1D,kBAACF,GAAA,EAASG,OAAV,CAAiB9W,GAAIqV,GACnBruB,GAAG,4CAGL,kBAAC2vB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,0DACvB,wBAAIA,UAAU,UACZ,wBAAIA,UAAU,gBACZ,uBAAGqQ,KAAK,IAAIrQ,UAAU,gBACpB,uBAAGA,UAAU,mCACb,0BAAMA,UAAU,qBAAhB,YAGJ,wBAAIA,UAAU,gBACZ,uBAAGqQ,KAAK,IAAIrQ,UAAU,gBACpB,uBAAGA,UAAU,qCACb,0BAAMA,UAAU,qBAAhB,sBAqBlCoyB,GAAYjf,cAAW,SAAA3O,GAAK,MAAK,CACrCnH,KAAM,CACJpG,MAAO,OACP+4B,UAAWxrB,EAAMiP,QAAQ,IAE3B4e,MAAO,CACLp7B,MAAO,OACP8iB,aAAcvV,EAAMiP,QAAQ,IAE9B6e,MAAO,CACLC,SAAU,KAEZC,aAAc,CACZC,UAAW,QAEbC,MAAO,CACLzW,QAASzX,EAAMiP,QAAQ,SAIrBkf,GAAIC,EAAQ,IAGlB,SAASvB,GAAY37B,GACHi9B,GAAE,cAAcnI,YACxBqI,KAAKppB,OAAO,MAAM,GAJ5BkpB,GAAEnI,UAAYoI,EAAQ,KAuBQvnB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAC3C,uBACEQ,IAAKA,EACLR,QAAS,SAAAxY,GACTA,EAAEC,iBACFuY,EAAQxY,IAERsP,GAAG,+BACH7B,UAAU,6CAET,IACD,uBAAGA,UAAU,yBAIJ,SAAS+yB,GAAc5tB,GACpC,IAAM0O,EAAUue,KAD2B,EAEjB/mB,IAAM3C,SAAS,OAFE,iCAGb2C,IAAM3C,SAAS,aAHF,iCAIX2C,IAAM3C,SAAS,KAJJ,oBAIpC+b,EAJoC,KAI1BsM,EAJ0B,OAKnB1lB,IAAM3C,SAAS,GALI,iCAMjB2C,IAAM3C,UAAS,IANE,iCAOL2C,IAAM3C,SAAS,KAPV,iCAQf2C,IAAM3C,SAAS,KARA,oBAQpC8F,EARoC,KAQ9BC,EAR8B,OASjBpD,IAAM3C,SAAS,GATE,iCAUX2C,IAAM3C,UAAS,IAVJ,oBAUpC4Q,EAVoC,KAU9B0Z,EAV8B,OAWd3nB,IAAM3C,SAAS,GAXD,oBAWpCuqB,EAXoC,KAWzBC,EAXyB,OAYf7nB,IAAM3C,SAAS,IAZA,oBAY5ByqB,GAZ4B,aAanB9nB,IAAM3C,SAAS,IAbI,oBAa9BuoB,GAb8B,aAcD5lB,IAAM3C,UAAS,GAdd,oBAcpBsoB,GAdoB,aAenB3lB,IAAM3C,UAAS,GAfI,oBAepC2J,EAfoC,KAe9BihB,EAf8B,OAgBbjoB,IAAM3C,SAAS,iCAhBF,oBAgBpCgL,EAhBoC,KAgB3B6f,EAhB2B,OAiBbloB,IAAM3C,SAAS,IAjBF,iCAkBjB2C,IAAM3C,UAAS,IAlBE,qBAkBpC4pB,GAlBoC,MAkB7BqB,GAlB6B,SAmBPtoB,IAAM3C,SAAS,UAnBR,kCAoB7BkrB,eACHzuB,EAAM+e,MAAMtqB,OAAOlE,KAiL9B,SAAS4pB,GAAiBprB,GACxB8+B,GAAgB,GA/KlB3nB,IAAMhJ,WAAU,WACTswB,GAAEoB,GAAGC,UAAUC,YAAa,gBACnBtB,GAAE,cAAcnI,YACtBnc,UACNslB,IAAS,MAEV,IAEHtoB,IAAMhJ,WAAU,WACViwB,IAASK,GAAEoB,GAAGC,UAAUC,YAAa,cAClC37B,KAAKE,UAAUgW,KAAUlW,KAAKE,UAAUsP,OAAOosB,YAChDpsB,OAAOosB,SAAW1lB,IAGpBmlB,IAAS,GAMf,WACE,IACMQ,EAAa,CACb,CAAE,UAAY,EAAO,SAAY,CAAC,IAClC,CACIC,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjD,IAAIiI,EAAYlI,EAAQ,GAAGA,EAAQ,GAAGp7B,QAAQ,QAAQ,IAAIuD,cAAc,GACpEggC,EAAYnI,EAAQ,GAAGA,EAAQ,GAAGp7B,QAAQ,OAAQ,KAAKuD,cAAc,GAUrEigC,EAAUrI,EAAS53B,cAEnBigC,EADDA,EAAQ9/B,SAAS,SACN8/B,EAAQjsB,MAAM,SAAS,GAAGvX,QAAQ,KAAK,KAEvCwjC,EAAQxjC,QAAQ,KAAK,KAEnCs7B,IAASC,OACL,uBAAG98B,MAAO,CAACo1B,cAAe,cAAe7c,KAAM,IAAIssB,EAAU,IAAIlI,EAAQ,GAAG,IAAImI,EAAWjsB,OAAO,UAC7FksB,GACHtI,KAId,CACIH,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjD,IAAIiI,EAAYlI,EAAQ,GAAGA,EAAQ,GAAGp7B,QAAQ,QAAQ,IAAI,GAC1Ds7B,IAASC,OACL,8BAAO+H,GACLpI,MAKlBJ,EAAW5/B,KACP,CACI6/B,QAAS,EACTh3B,MAAO,UACPi3B,WAAW,EACX,YAAe,SAAUE,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACL,oCACA,kBAAC1gB,GAAA,EAAD,CAAYC,aAAW,SAASpJ,QAAS,SAACxY,GAAD,OA4G7BO,EA5GuDgwB,EA6GnFqQ,EA7GwF,UA8GxFD,EAAQpgC,QACRkgC,GAAgB,GAHpB,IAAgClgC,IA3GR,kBAAC,KAAD,QAGFyhC,MAIpB5B,GAAE,cAAcnI,UAAU,CACxB7d,WAAY,CACVuoB,QAAS,CACPC,SAAUxC,GAAEoB,GAAGC,UAAUoB,WAAWD,SAASE,oBAGjDC,YAAW,EACXC,aAAe5K,GAAW,YAAaxlB,GACvC0tB,KAAM,CACJtN,IAlEM9sB,6DAmEN+8B,OAAQ,MACR18B,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,SAASR,KAAKC,MAAMU,aAAaC,QAAQN,IAAgBQ,UAAUC,QAAQ,SAAU,KACpJ,WAAc,SAASpI,GACrB,IAAIwkC,EAAOn9B,KAAKC,MAAMtH,GAClBwjC,EAnJd,SAAsBA,GAClB,IAAMqI,EAAY,GAYlB,OAVI37B,MAAMC,QAAQqzB,IAAYA,EAAQtiC,OAAS,GAC7CsiC,EAAQiB,SAAQ,SAASr0B,EAAMvO,GArOrC,IAA2B+O,EAAI7N,EAAMyB,EAAQC,EAsOrConC,EAAUvoC,MAtOSsN,EAuOfR,EAAK07B,gBAvOc/oC,EAwOlBqN,EAAK27B,cAAgB37B,EAAK47B,kBAAqB57B,EAAK47B,kBAAoB,QAxOhDxnC,GAyOzB,EAzOiCC,EA0OhC2L,EAAK27B,cAAgB37B,EAAK67B,kBAAqB77B,EAAK67B,kBAAoB,QAzO5E,CAAEr7B,EAAI7N,EAAMyB,EAAQC,QA6OlBonC,EAsIanH,CAAaF,EAAKxkC,MAGhC,OAFAwd,EAAYgmB,GACZgB,EAAKxkC,KAAOwjC,EACLn8B,KAAKE,UAAUi9B,KAK1BG,IAAI,2GAGJC,WAAY,CAAC,EAAG,GAAI,GAAI,IAExBC,WAAY,GACZC,WAAY,UACZC,aAAcxnB,EAAKwnB,aACnBC,gBAAiBznB,EAAKynB,gBAEtB/qB,SAAU,CACR,WAAc,kBAIdgrB,MAAO,CAAC,CAAC,EAAG,SACd/B,WAAWA,IAEbxB,GAAE,cAAc9/B,GAAI,WAAW,WAC7Bw3B,GAAWsI,GAAE,cAAe,YAAaxtB,MAxGvCgxB,MAED,CAAC3nB,IAkLN,IAAM4nB,GAAsB,SAACliC,EAAOmiC,GAClC/C,GAAQ,IAKV,OAEE,yBAAKtzB,UAAW6T,EAAQxW,MAEtB,kBAACi5B,GAAA,EAAD,CAAOt2B,UAAW6T,EAAQwe,OACxB,yBAAKryB,UAAW6T,EAAQ2e,cACxB,yBAAKxyB,UAAU,iCACX,kBAAC,GAAD,CAAsBixB,QAASA,EAASxiB,YAAaA,EAAaD,KAAMA,EAAMwiB,gBAAiBA,EAAiBD,YAAaA,EAAatM,SAAUA,EAAUqM,YAAarM,EAAStyB,SACtL,yBAAK6N,UAAU,oBAEb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,6CACb,yBAAKA,UAAU,qCACb,2BAAOu2B,QAhD7B,SAAsBriC,GACJy+B,GAAE,cAAcnI,YACxBluB,OAAQpI,EAAMyc,OAAOpX,OAAQi9B,QA8Cc9gC,KAAK,OAAOsK,UAAU,eAAegb,YAAY,YAAYnZ,GAAG,kBAC/F,0BAAM7B,UAAU,iDACd,8BAAM,uBAAGA,UAAU,yBAQjC,yBAAKA,UAAU,cACX,6BACE,2BAAOA,UAAU,kEAAkE6B,GAAI,aACnF,+BACA,4BACI,kCACA,oCACA,sCACA,+CAUlB,kBAACuX,GAAA,EAAD,CAAOE,KAAMA,EAAMC,OAAQ+F,IACvB,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACjB,kBAACN,GAAA,EAAMO,MAAP,iBAEV,kBAACP,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAlErC,SAAiB7W,GACbsG,EAAI,SAASgU,EAAKykB,GAAW,GAAG,KAAKl5B,MAAK,SAAUC,GAChD,IAAIq/B,EAAW7qB,EAAK1R,QAAO,SAACm1B,EAAEt+B,GAAH,OAASA,IAAMs/B,KAC1CxkB,EAAY4qB,GACZrG,GAAgB,GAChB3B,KACAiC,GAAQ,GACRC,EAAW,oCA2DP,OAGA,kBAACnjB,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASuU,IAAnC,QAKR,kBAAC3C,GAAA,EAAD,CACIC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAMA,EACN0K,iBAAkB,KAClBzK,QAAS8jB,IAET,kBAAC,GAAD,CACE9jB,QAAS8jB,GACT9lB,QAAQ,UACRoD,QAASA,MC1jBrB,IAAMb,GAAc,CAClBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MAGFC,GAA2BC,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAClE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,I,IAYJqZ,G,YACJ,WAAYhoB,GAAQ,IAAD,wBACjB,8CAAMA,KA6BRg4B,kBAAoB,WAClB5iC,EAAK,iBAAkB,CACrB6iC,aAAa,6BACb1pB,QAAQ,EAAKle,MAAM6nC,gBACnBC,MAAM,EAAKn4B,MAAMlU,KAAKssC,SAASD,MAC/BtpC,KAAK,EAAKmR,MAAMlU,KAAKssC,SAAS5c,QAAQC,WAAW,IAAI,EAAKzb,MAAMlU,KAAKssC,SAAS5c,QAAQE,UACtF2c,MAAM,EAAKr4B,MAAMlU,KAAKssC,SAAS5c,QAAQsa,iBACtClhC,MACC,SAACC,GACG,EAAK8a,SAAS,CAACe,aAAY,EAAMmV,WAAU,OAC5C7R,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,UAtCxC,IAAMwsC,EAAa,EAAKt4B,MAAMlU,KAAKssC,SAAS5c,QAAQuY,QAAQr3B,GAH3C,OAKjBzB,QAAQC,IAAI,OAAQo9B,GACpB,EAAKjoC,MAAQ,CACXiqB,WAAW,EACXyZ,QAAQ,GACRlO,WAAU,EACVqS,gBAAgB,GAChB3pB,QAAQ,4BACRmC,aAAY,GAGd,EAAK6nB,WAAWD,GAfC,E,0EAmBRA,GAAa,IAAD,OACrB/jC,EAAK,aAAa+jC,EAAW,KAAK1jC,MAChC,SAACC,UACQA,EAAS/I,KAAKwpC,YACdzgC,EAAS/I,KAAKuE,aACdwE,EAAS/I,KAAKupC,eACdxgC,EAAS/I,KAAK0sC,aACrB,EAAK7oB,SAAS,CAACokB,QAAUl/B,EAAS/I,Y,+BAmB9B,IAAD,OACCioC,EAAY1oC,KAAKgF,MAAjB0jC,QACR,OACE,kBAAChf,GAAA,EAAD,KACE,kBAACA,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,KACtB,kBAACrB,GAAA,EAAK2B,MAAN,eACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEqN,UAAQ,EACRzyB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACN5mB,MAAS2/B,EAASA,EAAQllC,KAAK,MAInC,kBAACkmB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,KACtB,kBAACrB,GAAA,EAAK2B,MAAN,kBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEqN,UAAQ,EACRzyB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,YACLuF,MAAS2/B,EAASA,EAAQ0E,UAAU,GACpCrzB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAExB,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,KACnC,kBAACrB,GAAA,EAAK2B,MAAN,kBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEqN,UAAQ,EACRzyB,KAAK,OACLslB,YAAY,GACZmF,MAAM,UACNnsB,KAAK,YACLuF,MAAS2/B,EAASA,EAAQ2E,UAAU,GACpCtzB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAIzC,kBAAC6d,GAAA,EAAD,CAAQrF,QAAS,kBAAM,EAAK+J,SAAS,CAACkW,WAAU,KAAQhrB,UAAU,mBAC9D,uBAAGA,UAAU,eADjB,sBAIM,kBAACoZ,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAMw1B,UAAWzR,OAAQ,kBAAM,EAAKzE,SAAS,CAACkW,WAAU,KAASnB,UAAQ,GACvF,kBAACzQ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACrB,kBAACN,GAAA,EAAMO,MAAP,iCAEJ,kBAACP,GAAA,EAAMQ,KAAP,KACI,8BAAUpL,KAAK,IAAIjE,SAAU,SAAChY,GAAD,OAAO,EAAKuiB,SAAS,CAACuoB,gBAAgB9qC,EAAEoe,OAAOpX,SAClEzB,MAAO,CAAChB,QAAS,QAASG,MAAO,WAE/C,kBAACmiB,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,UACRtQ,WAAsC,IAA3BxP,KAAKgF,MAAMsoC,YAAuB,gEAAkE,GAC/G/yB,QAAS,kBAAM,EAAKoyB,sBAF5B,QAKA,kBAAC/sB,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAAS,kBAAM,EAAK+J,SAAS,CAACkW,WAAU,MAAjE,YAKd,kBAACrO,GAAA,EAAD,CACIC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAM7hB,KAAKgF,MAAMqgB,YACjBkH,iBAAkB,IAClBzK,QAAS,kBAAI,EAAKwC,SAAS,CAACe,aAAY,MAExC,kBAAC,GAAD,CACEvD,QAAS,kBAAI,EAAKwC,SAAS,CAACe,aAAY,KACxCvF,QAAQ,UACRoD,QAASljB,KAAKgF,MAAMke,gB,GAzHbrI,IAAMM,WAiInB4iB,G,YACJ,WAAYppB,GAAQ,IAAD,+BACjB,8CAAMA,KACD3P,MAAQ,CAACouB,OAAO,GAAIsG,WAAU,GACnC,EAAKvG,UAAY,EAAKA,UAAUhB,KAAf,iBAHA,E,yEAMTzd,GACLjG,OAAOC,KAAKgG,GAAO/S,QACpB3B,KAAKskB,SAAS,CAACoV,WAAU,IAE3B15B,KAAKskB,SAAS,CAAC8O,OAAO1e,M,+BAGd,IAAD,OAGP,OACE,oCACE,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCAAmCzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAE/FjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACvC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAExC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAMa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA3D,MAAkEgI,UAM/E,yBAAKlF,UAAU,OACb,yBAAKA,UAAU,aACb,kBAACyS,GAAD,CACEE,gBAAiB,aACjBD,OAAY,yBAAK1S,UAAU,8BAG3B,yBAAKA,UAAU,cACb,kBAAC,GAAD,CAAM/O,KAAQT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,qB,GAtCnCtY,IAAMM,WAgDdye,gBAAWmE,IC1OpB2B,GAA6B7kB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAChD,4BACIQ,IAAKA,EACLR,QAAS,SAAAxY,GACPA,EAAEC,iBACFuY,EAAQxY,IAEVyN,UAAU,8BANd,UASE,kBAAC,GAAD,CAAcA,UAAU,oCAIxB6S,GAAc,CAClBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MAGFC,GAA2BC,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAClE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,IAYV,IAAMqc,GAAmBhd,cAAW,SAAA3O,GAAK,MAAK,CAC5CnH,KAAM,CACJ+yB,YAAa5rB,EAAMiP,QAAQ,GAC3BzK,aAAcxE,EAAMiP,QAAQ,GAC5B3c,QAAS,SAEXu5B,UACyB,UAAvB7rB,EAAMK,QAAQnP,KACV,CACE0Z,MAAO5K,EAAMK,QAAQG,UAAUD,KAC/B0H,gBAAiB6jB,aAAQ9rB,EAAMK,QAAQG,UAAU9O,MAAO,MAE1D,CACEkZ,MAAO5K,EAAMK,QAAQoI,KAAK7W,QAC1BqW,gBAAiBjI,EAAMK,QAAQG,UAAU7O,MAEjDo6B,OAAQ,CACNC,KAAM,YAER56B,QAAS,CACPwZ,MAAO5K,EAAMK,QAAQoI,KAAKjI,WAE5B5H,MAAO,CACLozB,KAAM,gBAIJC,GAAuB,SAAAtrB,GAC3B,IAAM0O,EAAUsc,KACRO,EAA+JvrB,EAA/JurB,cAAeC,EAAgJxrB,EAAhJwrB,WAAYC,EAAoIzrB,EAApIyrB,QAASC,EAA2H1rB,EAA3H0rB,WAAiCC,GAA0F3rB,EAA/G2qB,oBAA+G3qB,EAA1F2rB,aAAmBrM,GAAuEtf,EAA7EzP,KAA6EyP,EAAvEsf,UAAUsM,EAA6D5rB,EAA7D4rB,YAAaC,EAAgD7rB,EAAhD6rB,gBAAiBviB,EAA+BtJ,EAA/BsJ,YAAaD,EAAkBrJ,EAAlBqJ,KAAMyiB,EAAY9rB,EAAZ8rB,QAuD3J,OACE,kBAACC,GAAA,EAAD,CACElxB,UAAWgL,aAAK6I,EAAQxW,KAAT,gBACZwW,EAAQwc,UAAYS,EAAc,KAGrC,yBAAK9wB,UAAU,yCACb,yBAAKA,UAAU,0BACb,0BAAMA,UAAU,yBACd,uBAAGA,UAAU,sCAEd8wB,EAAc,EACb,kBAACK,GAAA,EAAD,CAAY/hB,MAAM,UAAUkB,QAAQ,aACjCwgB,EADH,aAIA,wBAAI9wB,UAAU,0BAAd,kBAGJ,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACZ8wB,EAAc,EACb,kBAAC3e,GAAA,EAAD,CAAS/U,MAAM,UACb,kBAAC8W,GAAA,EAAD,CACEnJ,QAAS,SAACxY,GAAD,OA7E3B,SAAsB2B,GACpB,GAAGuwB,EAAStyB,OAAQ,CAClB,IAAIlB,EAAO,CAAC4mB,IAAI4M,GAChBjqB,EAAI,WAAWiqB,EAAS,GAAG,IAAKxzB,GAAM8I,MAAK,SAAUC,GAEnD,IAAI,IAAIrG,KAAK6a,EACRiW,EAAS1e,QAAQyI,EAAK7a,GAAGkO,KAAO,UAC1B2M,EAAK7a,GAGhB8a,EAAYD,GACZiW,EAAStyB,OAAS,EAClB4+B,EAAYtM,GACZuM,GAAgB,GAGhB,IAAMI,EAAS,GACfA,EAAO78B,KAAK,GACZ08B,EAAQG,GAERC,SAyD4BC,IAChBnd,aAAW,UAEX,kBAAC,KAAD,QAIJ,yBAAKnU,UAAU,aACb,uBACE+K,QAASsmB,GACTrxB,UAAU,gEAEV,uBAAGA,UAAU,gBAAgBuxB,cAAY,SAJ3C,WAOA,kBAAC,QAAD,CACE3H,GAAI,4BACJ5pB,UAAU,2DAEV,uBAAGA,UAAU,eAJf,cAOA,kBAACwxB,GAAA,EAAD,CAAUxxB,UAAU,kBAAkByxB,KAAK,OAAOC,YAAU,GAC1D,kBAACF,GAAA,EAASG,OAAV,CACE9W,GAAIqV,GACJruB,GAAG,4CAGL,kBAAC2vB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,0DACvB,wBAAIA,UAAU,UACZ,wBAAIA,UAAU,gBACZ,uBAAG+K,QAnFzB,WACI4lB,EAAW,IACXj3B,EAAK,UAAW,CAACm4B,QAAS,QAAQ93B,MAAK,SAAAC,GACnC,IAAI83B,EAAiB,CAAC,OAAS,QAAS,eAAgB,WAAY,QAAS,SAAU,kBAAmB,mBAAmB,QAEzHC,EAAgB,CAAC,MAAM,gBAAiB,QAAS,QAAQ,iBAAkB,QAAS,aAAc,aAAc,aAAa,oBAAqB,cAAe,gBAErKpB,EAAW,UACX,IAAIqB,EAAeh4B,EAAS/I,KAAKuf,KAAI,SAACyhB,EAAGt+B,GAQrC,OANAo+B,EAAcvhB,KAAI,SAAA0hB,GAAK,cAAWD,EAAEC,MAEpCJ,EAAethB,KAAI,SAAC2P,GAChB8R,EAAE9R,GAAS8R,EAAE9R,GAAS8R,EAAE9R,GAAOnsB,KAAOi+B,EAAE9R,MAE5C8R,EAAE7N,gBAAkB6N,EAAE7N,gBAAkB6N,EAAE7N,gBAAgBxD,WAAa,IAAMqR,EAAE7N,gBAAgBvD,UAAYoR,EAAE7N,gBACtG6N,KAEXpB,EAAWmB,GACXtvB,SAASC,eAAe,kBAAkBsV,YAgEFjY,UAAU,gBAClC,uBAAGA,UAAU,mCACb,0BAAMA,UAAU,qBAAhB,UACA,yBACEA,UAAW,gBAAkB0wB,KAGjC,kBAAC,WAAD,CACEz/B,KAAM2/B,EACNuB,SAAS,cACTnyB,UAAU,SACV6B,GAAG,iBACH8O,OAAO,sBAqB7ByhB,GAAYjf,cAAW,SAAA3O,GAAK,MAAK,CACrCnH,KAAM,CACJpG,MAAO,OACP+4B,UAAWxrB,EAAMiP,QAAQ,IAE3B4e,MAAO,CACLp7B,MAAO,OACP8iB,aAAcvV,EAAMiP,QAAQ,IAE9B6e,MAAO,CACLC,SAAU,KAEZC,aAAc,CACZC,UAAW,QAEbC,MAAO,CACLzW,QAASzX,EAAMiP,QAAQ,SAIrBkf,GAAIC,EAAQ,IAGlB,SAASvB,KACSsB,GAAE,WAAWnI,YACrBqI,KAAKppB,OAAO,MAAM,GAJ5BkpB,GAAEnI,UAAYoI,EAAQ,KAgBtB,IAAME,GAAwBznB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAC3C,uBACEQ,IAAKA,EACLR,QAAS,SAAAxY,GACTA,EAAEC,iBACFuY,EAAQxY,IAERsP,GAAG,+BACH7B,UAAU,6CAET,IACD,uBAAGA,UAAU,yBAIJ,SAAS+yB,GAAc5tB,GACpC,IAAM0O,EAAUue,KAD2B,EAEjB/mB,IAAM3C,SAAS,OAFE,iCAGb2C,IAAM3C,SAAS,aAHF,iCAIX2C,IAAM3C,SAAS,KAJJ,oBAIpC+b,EAJoC,KAI1BsM,EAJ0B,OAKnB1lB,IAAM3C,SAAS,GALI,iCAMjB2C,IAAM3C,UAAS,IANE,iCAOL2C,IAAM3C,SAAS,KAPV,iCAQf2C,IAAM3C,SAAS,KARA,oBAQpC8F,EARoC,KAQ9BC,EAR8B,OASjBpD,IAAM3C,SAAS,GATE,iCAUX2C,IAAM3C,UAAS,IAVJ,oBAUpC4Q,EAVoC,KAU9B0Z,EAV8B,OAWd3nB,IAAM3C,SAAS,GAXD,oBAWpCuqB,EAXoC,KAWzBC,EAXyB,OAYf7nB,IAAM3C,SAAS,IAZA,oBAYpCjT,EAZoC,KAY5B09B,EAZ4B,OAanB9nB,IAAM3C,SAAS,IAbI,oBAapC0qB,EAboC,KAa9BnC,EAb8B,OAcD5lB,IAAM3C,UAAS,GAdd,oBAcpC2qB,EAdoC,KAcpBrC,EAdoB,OAenB3lB,IAAM3C,UAAS,GAfI,oBAepC2J,EAfoC,KAe9BihB,GAf8B,QAgBbjoB,IAAM3C,SAAS,iCAhBF,sBAgBpCgL,GAhBoC,MAgB3B6f,GAhB2B,SAiBEloB,IAAM3C,UAAS,GAjBjB,sBAiBpCmnB,GAjBoC,MAiBrBC,GAjBqB,SAkBLzkB,IAAM3C,SAAS,WAlBV,sBAkBpCoN,GAlBoC,MAkBvB0d,GAlBuB,SAmBjBnoB,IAAM3C,UAAS,GAnBE,sBAmBpC4pB,GAnBoC,MAmB7BqB,GAnB6B,SAoBLtoB,IAAM3C,UAAS,GApBV,sCAqBb2C,IAAM3C,SAAS,KArBF,sBAqBpCkoB,GArBoC,MAqB3BC,GArB2B,SAsBPxlB,IAAM3C,SAAS,UAtBR,sBAsBpCgoB,GAtBoC,MAsBrBC,GAtBqB,SAuBdtlB,IAAM3C,SAASjP,EAAoB,YAvBrB,sBAuBpCg6B,GAvBoC,MAuB3BC,GAvB2B,MA0BrC1xB,GAAU4xB,eACZl+B,GAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAC1Bm+B,GAAY,CAAC,CAACt6B,MAAM,GAAI7C,MAAM,eAsPlC,SAAS4oB,GAAiBprB,GACxB8+B,GAAgB,GAGlB,SAAS/L,GAAgB/yB,EAAOpB,EAAOghC,GACrCZ,EAAQpgC,GACRqgC,EAAUW,GACVd,GAAgB,GA5PlBl4B,EAAS0V,KAAI,SAACC,EAAK9c,GAAQkgC,GAAUt/B,KAAKkc,MAG1CpF,IAAMhJ,WAAU,WACTswB,GAAEoB,GAAGC,UAAUC,YAAa,aACftB,GAAE,WAAWnI,YACnBnc,SAAQ,GACdslB,IAAS,GACTllB,EAAY,KAEhB,OAAO,WACHA,EAAY,IACCkkB,GAAE,WAAWnI,YACnBnc,SAAQ,GACfslB,IAAS,MAEd,IAEHtoB,IAAMhJ,WAAU,WACViwB,IAASK,GAAEoB,GAAGC,UAAUC,YAAa,WAClC37B,KAAKE,UAAUgW,KAAUlW,KAAKE,UAAUsP,OAAOosB,YAChDpsB,OAAOosB,SAAW1lB,IAGpBmlB,IAAS,GAMf,WACE,IACIQ,EAAa,CACf,CAAE,UAAY,EAAO,SAAY,CAAC,IAClC,CACEC,QAAS,EACTn9B,MAAO,OACPo9B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnDC,IAASC,OACT,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWod,EAAQ5yB,IAC5B0I,SAAU,SAAArW,GAAK,OA8JvB,SAAS2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,GAClC,IAAMlQ,EAAgBH,EAAS1e,QAAQlE,GAGjCkzB,EAAKtQ,GAEW,IAAnBG,EACCmQ,EAAIxgC,KAAKsN,GAETkzB,EAAIpQ,OAAOC,EAAe,GAE9BmM,EAAYgE,GACZ,IAAM3D,EAAM,aAAOgC,GACnBhC,EAAO78B,KAAK,GACZ08B,EAAQG,GAEQuB,GAAE,WAAWnI,YACvBwK,KAAMT,GAAKK,OAAOD,IAASC,OAC3B,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWxV,GACpB0I,SAAU,SAAArW,GAAK,OAAI2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,IAC9CzX,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyX,MAE1DP,IArLiBM,CAAY3gC,EAAOugC,EAAQ5yB,GAAI0yB,EAAIzR,IACtDzF,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyF,MAE1DyR,KAIN,CACEH,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnD,IAAIqJ,EAAavJ,EAAS53B,cAEpBmhC,EADDA,EAAWhhC,SAAS,SACNghC,EAAWntB,MAAM,SAAS,GAAGvX,QAAQ,KAAK,KAE1C0kC,EAAW1kC,QAAQ,KAAK,KAE3Cs7B,IAASC,OACT,uBAAG98B,MAAO,CAACo1B,cAAe,cAAe7c,KAAM,WAAWokB,EAAQ5yB,GAAG,IAAIk8B,EAAW1kC,QAAQ,KAAM,KAAKA,QAAQ,MAAO,KAAMsX,OAAO,UAClIotB,GAEKxJ,KAIV,CACEH,QAAS,EACTC,WAAW,EACX,YAAe,SAAUE,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACT,0BAAM7pB,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,gBAAgB9iB,UAAwB,IAAbw0B,EAAiB,6CAA6C,6CACvI,+BACA,2BACA9+B,KAAK,WAAWmV,QAAsB,IAAb2pB,EAAiB,iBAAiB,GAC3DxgC,KAAK,gCAED,iCAESugC,KAInB,CACEH,QAAS,EACTh3B,MAAO,SACPi3B,WAAW,EACX,YAAe,SAAUE,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACT,0BAAM7pB,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,WAAW9iB,UAAwB,IAAbw0B,EAAiB,6CAA6C,6CAClI,+BACA,2BACA9+B,KAAK,WAAWmV,QAAsB,IAAb2pB,EAAiB,iBAAiB,GAC3DxgC,KAAK,gCAED,iCAESugC,KAIjB,CACAH,QAAS,EACTE,YAAW,GAEX,CACIF,QAAS,EACTh3B,MAAO,UACPi3B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACT,kBAACpD,GAAA,EAAD,CAAUxxB,UAAU,yBAAyByxB,KAAK,OAAOwD,WAAS,GAClE,kBAACzD,GAAA,EAASG,OAAV,CAAiB9W,GAAIiY,KACjB,kBAACtB,GAAA,EAASI,KAAV,CAAgB5xB,UAAU,kEAC1B,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,kBAAM/I,GAAQzN,KAAK,sBAAgCkgC,EAAQ5yB,MAC/D,uBAAG7B,UAAU,iBADjC,kBAGA,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,kBAAM/I,GAAQzN,KAAK,sBAA8BkgC,EAAQ5yB,GAAG,WAAW,uBAAG7B,UAAU,mBAA5G,iBACJ,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,YAAW,uBAAG9iB,UAAU,oBAA/E,aAGMu0B,MAKlB5B,GAAE,WAAWnI,UAAU,CACrB7d,WAAY,CACVuoB,QAAS,CACPC,SAAUxC,GAAEoB,GAAGC,UAAUoB,WAAWD,SAASE,oBAGjDC,YAAW,EACXC,aAAe5K,GAAW,UAAWxlB,GACrC0tB,KAAM,CACJtN,IA1GM9sB,0DA2GN+8B,OAAQ,MACR18B,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,SAASR,KAAKC,MAAMU,aAAaC,QAAQN,IAAgBQ,UAAUC,QAAQ,SAAU,KACpJ,WAAc,SAASpI,GACrB,IAAIwkC,EAAOn9B,KAAKC,MAAMtH,GAClBwjC,EAnMd,SAAsBA,GAMpB,OALMtzB,MAAMC,QAAQqzB,IAAYA,EAAQtiC,OAAS,GAC/CsiC,EAAQiB,SAAQ,SAASr0B,EAAMvO,GAC7B2hC,EAAQ3hC,GAAR,QAA4B2hC,EAAQ3hC,GAAR,SAA6B,MAGtD2hC,EA6LekB,CAAaF,EAAKxkC,MAGhC,OAFAwd,EAAYgmB,GACZgB,EAAKxkC,KAAOwjC,EACLn8B,KAAKE,UAAUi9B,KAKtBG,IAAI,2GAGJC,WAAY,CAAC,EAAG,GAAI,GAAI,IAE5BC,WAAY,GACZC,WAAY,UACZC,aAAcxnB,EAAKwnB,aACnBC,gBAAiBznB,EAAKynB,gBAElB/qB,SAAU,CACN,WAAc,kBAItBgrB,MAAO,CAAC,CAAC,EAAG,SACZ/B,WAAWA,IAEbxB,GAAE,WAAW9/B,GAAI,WAAW,WAC1Bw3B,GAAWsI,GAAE,WAAY,UAAWxtB,MAhJlCgxB,MAED,CAAC3nB,IAgSNnD,IAAMhJ,WAAU,WACd/I,EAAoB,UAAWm6B,MAChC,CAACA,KAEF,IAAM2C,GAAsB,SAACliC,EAAOmiC,GAClC/C,IAAQ,IAGJjc,GAAa,SAAAxV,GAAE,OAA8B,IAA1B4iB,EAAS1e,QAAQlE,IAE1C,OAEE,yBAAK7B,UAAW6T,EAAQxW,MAEtB,kBAACi5B,GAAA,EAAD,CAAOt2B,UAAW6T,EAAQwe,OACxB,yBAAKryB,UAAW6T,EAAQ2e,cACxB,yBAAKxyB,UAAU,iCACX,kBAAC,GAAD,CAAsB0wB,cAAeA,GAAeC,WAAYA,GAAYC,QAASA,GAC/DC,WAAYA,GAAYI,QAASA,EAASxiB,YAAaA,EAAaD,KAAMA,EAAMwiB,gBAAiBA,EAAiBD,YAAaA,EAAatM,SAAUA,EAAUqM,YAAarM,EAAStyB,OAAQuD,KAAMA,GAAMo6B,oBAAqBA,KACvP,yBAAK9vB,UAAU,oBAEb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,uDACb,yBAAKA,UAAU,qCACb,2BAAOu2B,QAtG7B,SAAsBriC,GACNy+B,GAAE,WAAWnI,YACrBluB,OAAQpI,EAAMyc,OAAOpX,OAAQi9B,QAoGgB9gC,KAAK,OAAOsK,UAAU,eAAegb,YAAY,YAAYnZ,GAAG,kBAC/F,0BAAM7B,UAAU,iDACd,8BAAM,uBAAGA,UAAU,yBASjC,yBAAKA,UAAU,cACX,6BACE,2BAAOA,UAAU,kEAAkE6B,GAAI,UACnF,+BACA,4BACI,wBAAI40B,YAAU,YACV,kBAACjO,GAAA,EAAD,CACE3d,QAASwoB,EACT9oB,SAtL9B,SAA8BrW,GAE5B,GAAIA,EAAMyc,OAAO9F,QAAS,CACtB,IAAMkqB,EAAMtQ,EACOjW,EAAKgC,KAAI,SAAAkmB,GAAC,OAAIA,EAAE70B,MACtB6zB,SAAQ,SAAAzD,GACpB8C,EAAIxgC,KAAK09B,MAEZlB,EAAYgE,QAEVtQ,EAAStyB,OAAS,EAClB4+B,EAAYtM,GAGduM,GADCqC,GAKHhC,MAqK4BhU,WAAY,CACV,aAAc,uBAItB,wBAAIoZ,YAAU,MAAd,MACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,OAAd,OACA,wBAAIA,YAAU,eAAd,kBACA,wBAAIA,YAAU,kBAAd,kBACA,wBAAIA,YAAU,qBAAd,UACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,WAAd,oBAUpB,kBAACrd,GAAA,EAAD,CAAOE,KAAMA,EAAMC,OAAQ+F,IACzB,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAvIlC,SAAiB7W,GACf,GAAa,UAAVuB,EAAoB,CACrB,IAAIxE,EAAO,CAAC,kBAA2D,IAAtCud,EAAKykB,GAAW0D,kBAA0B,EAAE,GAC7Er8B,EAAM,WAAWkU,EAAKykB,GAAWpxB,GAAG,IAAK5Q,GAAM8I,MAAK,SAAUC,GAC5DwU,EAAKykB,GAAaj5B,EAAS/I,KAC3Bwd,EAAYD,GACZwkB,GAAgB,GAChB3B,KACAiC,IAAQ,GACR,IAAIsD,EAAiD,IAApC58B,EAAS/I,KAAK0lC,kBAA0B,YAAc,cACvEnD,GACsC,IAApCx5B,EAAS/I,KAAK0lC,kBAA0B,UAAY,SAEtDpD,GAAW,uBAAuBqD,WAE/B,GAAc,gBAAXnhC,EAA0B,CAC9BxE,EAAO,CAAC4uB,YAA6C,IAAhCrR,EAAKykB,GAAWpT,YAAoB,EAAI,GAEjEtlB,EAAK,WAAWiU,EAAKykB,GAAWpxB,GAAG,YAAa5Q,GAAM8I,MAAK,SAAUC,GACnEwU,EAAKykB,GAAaj5B,EAAS/I,KAC3Bwd,EAAYD,GACZwkB,GAAgB,GAChB3B,KACAiC,IAAQ,GACN,IAAIuD,EAAc,GAAIC,EAAa,GACV,WAAtB98B,EAAS/I,KAAKyE,OACb+9B,GAAQjjB,KAAI,SAACumB,EAAQpjC,GACjBmjC,EAAa,GACb73B,OAAOC,KAAK63B,GAAQvmB,KAAI,SAAAjb,GACpBuhC,EAAWvhC,GAAOwhC,EAAOxhC,GAEP,UAAfwhC,EAAO/iC,MAA2B,YAAPuB,IACH,GAApBtE,EAAK4uB,YACJiX,EAAWvhC,IAAQ,EAEnBuhC,EAAWvhC,IAAQ,MAI/BshC,EAAYtiC,KAAKuiC,MAIrBpD,GAAUmD,IAEhBrD,GAAex5B,EAAS/I,KAAKyE,MAC7B69B,GAAWv5B,EAAS/I,KAAKyiB,gBAET,UAAVje,GACR+E,EAAI,WAAWgU,EAAKykB,GAAWpxB,GAAG,KAAK9H,MAAK,SAAUC,GACpDwU,EAAKmW,OAAOsO,EAAU,GACtBxkB,EAAYD,GACZwkB,GAAgB,GAChB3B,KACAiC,IAAQ,GACRC,GAAW,oCAgFT,OAGA,kBAACnjB,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASuU,IAAlC,QAKJ,kBAAC,GAAD,CAAW5pB,KAAM,SAAUzE,KAAMkU,EAAO0qB,cAAeA,GAAeC,oBAAqBA,KAC3F,kBAACnT,GAAA,EAAD,CACIC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAMA,EACN0K,iBAAkB,KAClBzK,QAAS8jB,IAET,kBAAC,GAAD,CACE9jB,QAAS8jB,GACT9lB,QAASwF,GACTpC,QAASA,OC1tBrB,IAAMsJ,GAAuBvY,aAAe,CACxCU,MAAO,CACH8X,SAAU,CACNC,kBAAkB,GAEtBC,aAAc,CACVrlB,MAAO,CACHhB,QAAS,UAGjBsmB,aAAc,CACVtlB,MAAO,CACHhB,QAAS,SAEbomB,kBAAkB,EAClBG,WAAY,CACRvlB,MAAO,CACHhB,QAAS,QACTwX,OAAQ,6BACR2N,QAAS,eACTjP,SAAU,OACVsQ,WAAY,MACZC,WAAY,MACZnO,MAAO,UACP3C,gBAAiB,OACjB+Q,eAAgB,cAChBnO,OAAQ,oBACRoO,aAAc,MACdC,WAAY,+DACZC,UAAW,mBAOzBC,GAAgBnZ,aAAe,CACnCoZ,UAAW,CACPC,iBAAiB,CACbzgB,KAAM,CACJ,UAAW,CACT,oBAAoB,CACZ0gB,YAAa,wBAIzBC,YAAa,CACT/B,QAAS,OACTtX,WAAY,iCACZyK,MAAO,eAMf+d,G,YAIF,WAAYhoB,GAAQ,IAAD,wBACf,8CAAMA,KAHV+Y,UAAY7S,IAAM8S,YAEC,EAwfnB8I,gBAAkB,WACd,EAAKnS,SAAS,CACVyK,cAAc,KA1fH,EA8fnBD,iBAAmB,WACf,EAAKxK,SAAS,CAACyK,cAAc,KA/fd,MAEW,EAAKpa,MAAMlU,KAAKizB,MAAMtqB,OAAzCokC,EAFQ,EAERA,UAFQ,EAEGtoC,KAFH,OAGf,EAAK8pB,kBAAoBnU,IAAM8S,YAE/B,EAAK3oB,MAAQ,CACTiqB,WAAW,EACXwe,OAAQ,GACRnf,aAAc,KACdiB,SAAU,GACVC,aAAc,GACdE,UAAW,GACXxqB,KAAM,GACN4qB,SAAU,GACVH,MAAO,GACPI,UAAW,GACXE,MAAO,GACPC,yBAA0B,CACtB7e,GAAGsD,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQ9e,GACtCnL,MAAMyO,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQC,WAAW,IAAIzb,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQE,UAC3FtnB,OAAM,GAEVunB,kBAAmB,CAACvnB,MAAO,IAC3BwnB,cAAe,CAACxnB,MAAO,IACvB0nB,sBAAuB,CAAC1nB,MAAO,IAC/B4nB,0BAA2B,CAAC5nB,MAAO,IACnC6nB,eAAgB,CAAC7nB,MAAO,IACxB+nB,eAAgB,CAAC/nB,MAAO,IACxBmoB,gBAAiB,CAACnoB,MAAO,IACzBqoB,cAAe,CAACroB,MAAO,EAAK4L,MAAMlU,KAAKiJ,WAAWuM,KAAO,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAK,MAC9FggB,gBAAiB,CAACtoB,MAAO,IACzBwoB,mBAAoB,CAACxoB,MAAO,IAC5B+c,gBAAiB,GACjB0L,YAAa,GACbC,aAAc,GACd1C,cAAc,EACd2C,UAAW,GACXgc,kBAAmBviC,GACnBymB,oBAAqB,GACrBD,sBAAuBvmB,GACvBuiC,8BAA+B,GAC/B3hC,cAAc,GAElB,EAAK4hC,UAAUJ,GACf,EAAKtb,QAAQ,EAAKA,QAAQC,KAAb,iBA5CE,E,mFAgDf,IAAIvyB,KAASI,KAAK0tB,UAAU9P,W,gCAGtB4vB,GAAY,IAAD,OACjBtkC,EAAK,WAAaskC,EAAY,KAAKjkC,MAC/B,SAACC,GACG,IAAIspB,EAAetpB,EAAS/I,KAAKqyB,aACjC,EAAKxO,SAAS,CACVwO,aAAcA,IAElB,EAAKxO,SAAS,CAACmpB,OAAQjkC,EAAS/I,OAEhC,EAAKwxB,aAQL,EAAK4K,mBAAmBrzB,EAAS/I,KAAK0mB,OACtC,EAAK2V,oBACL,EAAKC,yB,mCAKb,IAAI8Q,EAAc7tC,KAAKgF,MAAMyoC,OAIzBvQ,EAAmB,CACnBrS,OAAQngB,EACRwxB,UAAWvxB,GAGXqpB,EAAgBvlB,OAAOC,KAAKwuB,GAChC,IAAK,IAAIn4B,KAAOivB,EACZ,IAAK,IAAI1xB,KAAS46B,EAAiBlJ,EAAcjvB,IAC7C,GAAIm4B,EAAiBlJ,EAAcjvB,IAAMzC,GAAOyG,QAAU8kC,EAAY7Z,EAAcjvB,IAAO,CACvF/E,KAAKskB,SAAL,gBAAgB,YAAc0P,EAAcjvB,GAAOm4B,EAAiBlJ,EAAcjvB,IAAMzC,KACxF,MAKZ,IAAI8vB,EAAS,CACT,aAAgB,CAACltB,KAAM,UACvB,WAAc,GACd,YAAe,GACf,YAAe,GACf,QAAW,IAIXi4B,EAAkB,CAClB5K,QAAQ,CAAC,QACTE,WAAY,CAAC,mBACbD,aAAc,CAAC,YACfG,gBAAiB,CAAC,gBAClBC,YAAa,CAAC,oBACdC,YAAa,CAAC,QAAS,WAGE,OAAzBgb,EAAYte,eAAiD5mB,IAA5BklC,EAAYte,SAASle,KACtD+gB,EAAM,gBAAsB,CAACltB,KAAM,SAAUovB,eAAgBuZ,EAAYte,SAASle,IAClF8rB,EAAe,gBAAsB,CAAC,iBAGV,MAA5B0Q,EAAYre,mBAAuD7mB,GAA/BklC,EAAYre,aAAane,KAC7D+gB,EAAM,QAAc,CAACltB,KAAM,SAAUsvB,gBAAiBqZ,EAAYre,aAAane,IAC/E8rB,EAAe,QAAc,CAAC,SAGV,MAApB0Q,EAAY3oC,WAAuCyD,GAAvBklC,EAAY3oC,KAAKmM,KAC7C+gB,EAAM,SAAe,CAACltB,KAAM,SAAUwvB,OAAQmZ,EAAY3oC,KAAKmM,IAC/D8rB,EAAe,SAAe,CAAC,UAGnCpzB,EAAK,WAAY,CAACqoB,OAAQA,IAAS7oB,KAAK,SAAUC,GAC9C,IAAI4zB,EAAY,GADwC,WAE/C/K,GAEL7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACb,eAARkvB,GAAgC,YAARA,IACxBC,EAAI9uB,KAAO8uB,EAAIlC,WAAa,IAAMkC,EAAIjC,WAC9B,YAARgC,IACAC,EAAIjhB,GAAKihB,EAAI+K,SAEjB7zB,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,GAElC5C,OAAOC,KAAKyuB,GAAiBnd,KAAI,SAACjb,EAAK5B,GACnCg6B,EAAgBp4B,GAAKib,KAAI,SAAChb,EAAO1C,GACzB+vB,IAAQttB,GAA8B,OAAvB8oC,EAAY7oC,SAA6C2D,IAA1BklC,EAAY7oC,GAAOqM,IAAoBw8B,EAAY7oC,GAAOqM,KAAOihB,EAAIjhB,KACnH+rB,EAAU,YAAcp4B,GAASstB,aAdrD,IAAK,IAAID,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,GAoBT+K,EAAS,MAAY5zB,EAAS/I,KAAK8xB,QACnC6K,EAAS,SAAe5zB,EAAS/I,KAAK+xB,aACtC4K,EAAS,SAAe5zB,EAAS/I,KAAKgyB,WACtC2K,EAAS,aAAmB5zB,EAAS/I,KAAKkyB,gBAC1CyK,EAAS,UAAgB5zB,EAAS/I,KAAKmyB,YACvCwK,EAAS,UAAgB5zB,EAAS/I,KAAKoyB,YAEV,OAAzBgb,EAAYte,eAAiD5mB,IAA5BklC,EAAYte,SAASle,KACtD+rB,EAAS,aAAmB5zB,EAAS/I,KAAKkyB,iBAEd,MAA5Bkb,EAAYre,mBAAuD7mB,GAA/BklC,EAAYre,aAAane,KAC7D+rB,EAAS,KAAW5zB,EAAS/I,KAAK8zB,SAEd,MAApBsZ,EAAY3oC,WAAuCyD,GAAvBklC,EAAY3oC,KAAKmM,KAC7C+rB,EAAS,MAAY5zB,EAAS/I,KAAKg0B,UAEvC2I,EAAS,cAAmB,EAC5Bp9B,KAAKskB,SAAS8Y,IAChBjL,KAAKnyB,S,mCAGE0D,EAAOwB,GAChB,IAAIuoC,EAASztC,KAAKgF,MAAMyoC,OACxB,GAAa,iBAATvoC,EACA,IAAIhC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,UACpB,CACC7F,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,SACxBpvB,KAAKskB,SAAS,CAACwO,aAAcpvB,IAEpB,cAATR,IACA+c,EAAMvd,SAASud,IACnBwtB,EAAOvqC,GAAQ+c,EACfjgB,KAAKskB,SAAS,CAACmpB,OAAQA,M,mCAGd/pC,GAAQ,IAAD,OACHA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAC2K,WAAW,IAC1BjvB,KAAKg9B,kBACAh9B,KAAKgF,MAAMspB,qBACLtuB,KAAKgF,MAAMyoC,OAAOjlB,KAC7B1e,EAAM,WAAa9J,KAAKgF,MAAMyoC,OAAOp8B,GAAK,IAAKrR,KAAKgF,MAAMyoC,QAAQlkC,MAC9D,SAACC,GACG,EAAK8a,SAAS,CAACmpB,OAAQjkC,EAAS/I,OAChC,EAAKkU,MAAMlU,KAAK+Q,QAAQzN,KAA0B,YAArB,EAAKiB,MAAMC,OAAuB,4BAA0C,yBAC1G0jB,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,wCAIzB,IAAD,OACVgtC,EAASztC,KAAKgF,MAAMyoC,OACL,CAAC,WAAY,kBAAmB,eAAgB,mBAC/D,OAAQ,QAAS,QAAS,OAAQ,UACzBztB,KAAI,SAACC,EAAK9c,GACnBsqC,EAAOxtB,GAAO,EAAKjb,MAAM,YAAcib,GAAKlX,SAEhD0kC,EAAOzmB,OAAShnB,KAAKgF,MAAM8gB,gBAC3B2nB,EAAOjc,YAAcxxB,KAAKgF,MAAMwsB,YAChCxxB,KAAKskB,SAAS,CAACmpB,OAAQA,M,4CAGJ,IAAD,OACdI,EAAc7tC,KAAKgF,MAAMyoC,OACzB9Z,EAAY,CACZpE,SAAU,WACVqE,gBAAiB,WACjBpE,aAAc,eACdqE,iBAAkB,YAClB3uB,KAAM,OACNyqB,MAAO,QACPmE,MAAO,YACP7d,KAAM,SAGN8d,EAAwB,CACxBhE,UAAW,CAAC,WAMZmN,EAAmB,CACnBrS,OAAQngB,EACRwxB,UAAWvxB,GAGXqpB,EAAgBvlB,OAAOC,KAAKwuB,GAChC,IAAK,IAAIn4B,KAAOivB,EACZ,IAAK,IAAI1xB,KAAS46B,EAAiBlJ,EAAcjvB,IAC7C,GAAIm4B,EAAiBlJ,EAAcjvB,IAAMzC,GAAOyG,QAAU8kC,EAAY7Z,EAAcjvB,IAAO,CACvF/E,KAAKskB,SAAL,gBAAgB,YAAc0P,EAAcjvB,GAAOm4B,EAAiBlJ,EAAcjvB,IAAMzC,KACxF,MAKZ0xB,EAAgBvlB,OAAOC,KAAKilB,GAnCV,eAoCT5uB,GAELmE,EAAKyqB,EAAUK,EAAcjvB,IADhB,IAC+BwE,KAAK,SAAUC,GAAW,IAAD,EAC7D/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,EAaZ,GAXsC,aAAlCkzB,EAAUK,EAAcjvB,IACxBtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKjC,WAAa,IAAM3vB,EAAK4xB,GAAKhC,UACjB,UAAlCsD,EAAUK,EAAcjvB,MAC7BtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKlC,QAAQC,WAAa,IAAM3vB,EAAK4xB,GAAKlC,QAAQE,WAE5E5vB,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,QAEW1I,GAAnCklC,EAAY7Z,EAAcjvB,KAAsBtE,EAAK4xB,GAAKhhB,KAAOw8B,EAAY7Z,EAAcjvB,IAAMsM,KACjG4iB,EAAWxzB,EAAK4xB,SAEwC1pB,GAAxDorB,EAAsBJ,EAAUK,EAAcjvB,KAC9C,IAAK,IAAIzC,KAASyxB,EAAsBJ,EAAUK,EAAcjvB,KAAQ,CACpE,IAAImvB,EAAgBH,EAAsBJ,EAAUK,EAAcjvB,KAAOzC,QAEvCqG,GAA9BklC,EAAY3Z,IAA+BzzB,EAAK4xB,GAAKhhB,KAAOw8B,EAAY3Z,GAAe7iB,IACvFrR,KAAKskB,SAAL,gBAAgB,YAAc4P,EAAgBzzB,EAAK4xB,KAKnEryB,KAAKskB,UAAL,oBACKqP,EAAUK,EAAcjvB,IAAQtE,GADrC,eAEK,YAAcuzB,EAAcjvB,GAAOkvB,GAFxC,wBAGY4Z,GAHZ,KAMF1b,KAAK,KAlCX,IAAK,IAAIptB,KAAOivB,EAAgB,EAAvBjvB,K,kCAsCDzC,GACR,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAkBA,EAAgBxZ,QAAO,SAAC2T,EAAK9c,GAC3C,OAAOb,IAAUa,KAErBnD,KAAKskB,SAAS,CAACwB,gBAAiBA,M,mCAGvB/c,EAAOhE,GAAM,IAAD,EACjB0oC,EAASztC,KAAKgF,MAAMyoC,OACxBA,EAAO1oC,GAAOgE,GAASA,EAAMA,MAAQA,EAAMA,MAAQ,GACnD/I,KAAKskB,UAAL,oBAAgB,YAAcvf,EAAMgE,GAAgB,IAApD,wBAAgE0kC,GAAhE,IACAztC,KAAKy9B,oBAAoB10B,GAASA,EAAMsI,GAAKtI,EAAMsI,GAAK,GAAItM,K,0CAG5CsM,EAAItM,GACpB,GAAI,CAAC,WAAY,eAAgB,QAAQwQ,QAAQxQ,IAAQ,GAAKsM,EAAI,CAC9D,IAAgCgjB,EAAgB,GAAIjC,EAAS,GACjD,aAARrtB,GACAqtB,EAAS,CACLO,gBAAiB,CAAC2B,eAAgBjjB,EAAInM,KAAM,WAEhDmvB,EAAgB,gBACD,iBAARtvB,GACPqtB,EAAS,CACLmC,QAAS,CAACC,gBAAiBnjB,EAAInM,KAAM,WAEzCmvB,EAAgB,QACD,SAARtvB,IACPqtB,EAAS,CACLqC,SAAU,CAACC,OAAQrjB,EAAInM,KAAM,WAEjCmvB,EAAgB,SAGpBtqB,EAAK,WAAY,CAACqoB,OAAQA,IAAS7oB,KAAK,SAAUC,GAAW,IAAD,OACpDyqB,EAAW,GADyC,WAE/C5B,GAF+C,MAGpD7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACzBqG,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,GAClC4iB,EAAW3B,KAEf,EAAKhO,UAAL,oBACK+P,EAAgB7qB,EAAS/I,KAAK4xB,IADnC,eAC0C,YAAcgC,EAAgBJ,GADxE,KANJ,IAAK,IAAI5B,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,IAWXF,KAAKnyB,U,6BAIR0D,EAAOyU,GACVjG,SAASC,eAAe,mBAAqBgG,GAAKsP,U,sCAGtChnB,GACZ,IAAMm0B,EAAO,IAAIC,SAQjB,OAPAD,EAAKE,OAAO,qBAAsBr0B,EAAK+nB,MACvCoM,EAAKE,OAAO,OAAQ90B,KAAKgF,MAAMosB,cAAcroB,OAC7C6rB,EAAKE,OAAO,kBAAmB,UAE3B,aAAcr0B,EAAK+nB,MACnBoM,EAAKE,OAAO,cAAer0B,EAAK+nB,KAAKnX,IAElC,CAAC0jB,IAAK9sB,EAAU,WAAY+sB,SAAU,OAAQJ,OAAMtsB,QAAS,CAAC,cAAiB,SAAWC,Q,yCAGlF9H,EAAMoqB,GACrB,GAAe,SAAXA,EAAmB,CACnB,IAAIoK,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACrCxJ,KAAKskB,SAAS,CAACkN,YAAY,GAAD,oBAAMxxB,KAAKgF,MAAMwsB,aAAjB,CAA8ByD,WACrD,GAAe,YAAXpK,GACJpqB,EAAKy0B,IAAI,CACR,IAAID,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACjCgoB,EAAcxxB,KAAKgF,MAAMwsB,YAAYllB,QAAO,SAAC2T,EAAK9c,GAClD,OAAO8c,EAAI5O,KAAO4jB,EAAW5jB,MAEjCrR,KAAKskB,SAAS,CAACkN,YAAaA,O,0CAMpC,QAAsC7oB,IAAlC3I,KAAKgF,MAAMyoC,OAAOjc,YAA2B,CAC7C,IAAIC,EAAe,GACnBzxB,KAAKgF,MAAMyoC,OAAOjc,YAAYxR,KAAI,SAACC,EAAK9c,GACpC,IAAIqlB,EAAO,IAAIkV,KAAK,CAAC,OAAQv1B,EAAY8X,EAAI+F,oBAC7CwC,EAAKnX,GAAK4O,EAAI5O,GACdmX,EAAKmV,UAAW,EAChBlM,EAAa1tB,KAAKykB,MAEtBxoB,KAAKskB,SAAS,CAACmN,aAAcA,O,yCAIlBhxB,GACfA,EAAKuf,KAAI,SAACC,EAAK9c,GACX1C,EAAK0C,GAAGqjB,IAAMre,EAAY8X,EAAI+F,mBAC9BvlB,EAAK0C,GAAGmjB,UAAYne,EAAY8X,EAAI+F,mBACpCvlB,EAAK0C,GAAGsjB,eAAiB,IACzBhmB,EAAK0C,GAAGujB,gBAAkB,IAC1BjmB,EAAK0C,GAAG0jB,YAAa,EACjBpmB,EAAK0C,GAAGksB,aACR5uB,EAAK0C,GAAG0jB,YAAa,EACrBpmB,EAAK0C,GAAGwxB,KAAO,CAAC,CAAC5rB,MAAO,WAAY6D,MAAO,cAE3CnM,EAAK0C,GAAG0jB,YAAa,EACzBpmB,EAAK0C,GAAGwjB,cAAgB,kBAACY,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAf,IAAmB,kBAAC,KAAD,MAAnB,QAE5BxnB,KAAKskB,SAAS,CAACwB,gBAAiBrlB,M,uCAGnB6B,GACb,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAgB9F,KAAI,SAACC,EAAK9c,GAClBA,IAAMb,GACNwjB,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,EAChCf,EAAgB3iB,GAAGwxB,KAAO,CAAC,CAAC5rB,MAAO,WAAY6D,MAAO,eAEtDkZ,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,SACzBf,EAAgB3iB,GAAGwxB,SAGlC30B,KAAKskB,SAAS,CAACwB,gBAAiBA,M,0CAGf,IAAD,OAGZgoB,GADiB,aAAO9tC,KAAKgF,MAAM0oC,mBACrB,IAClBviC,GAAoB6U,KAAI,SAACC,EAAK9c,GACtB,EAAK6B,MAAMyoC,OAAOxtB,EAAIlX,QACtB+kC,EAAY/pC,KAAK,GAAKkc,EAAIlX,UAGlC/I,KAAKskB,SAAS,CAACsN,oBAAqBkc,IACpC9tC,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH0oC,kBAFsB1oC,EAAM0oC,kBAAkBphC,QAAO,SAAAuE,GAAI,OAAKi9B,EAAYvhC,SAASsE,EAAK9H,cAOvE,aAAO/I,KAAKgF,MAAM2sB,uBAA3C,IACIkM,EAAkB,GACtBzyB,GAA+B4U,KAAI,SAACC,EAAK9c,GACjC,EAAK6B,MAAMyoC,OAAOxtB,EAAIlX,QAAqD,qBAApC,EAAK/D,MAAMyoC,OAAOxtB,EAAIlX,OAAOsI,IACpEwsB,EAAgB95B,KAAK,GAAKkc,EAAIlX,UAGtC/I,KAAKskB,SAAS,CAACqpB,8BAA+B9P,IAC9C79B,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH2sB,sBAF0B3sB,EAAM2sB,sBAAsBrlB,QAAO,SAAAuE,GAAI,OAAKgtB,EAAgBtxB,SAASsE,EAAK9H,gB,uCAO/FrF,EAAOqB,GACpB,IAAI2oC,EAAiB,aAAO1tC,KAAKgF,MAAM0oC,mBACvCA,EAAkBvZ,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GACzDp0B,KAAKskB,SAAS,CAACopB,kBAAmBA,IAClC1tC,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH4sB,oBAFqB,uBAAO5sB,EAAM4sB,qBAAb,CAAkC7sB,U,uCAOlDrB,EAAOqB,EAAKmB,GACzB,IAAI6nC,EAAc/tC,KAAKgF,MAAMyoC,OACzBC,EAAiB,uBAAO1tC,KAAKgF,MAAM0oC,mBAAlB,CAAqC,CAACxnC,MAAOA,EAAO6C,MAAOhE,KAChF/E,KAAKskB,SAAS,CAACopB,kBAAmBA,IAClC,IAAI9b,EAAsB5xB,KAAKgF,MAAM4sB,oBACrCA,EAAsBA,EAAoBtlB,QAAO,SAAC2T,EAAK9c,GACnD,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACsN,oBAAqBA,IACpCmc,EAAYhpC,GAAO,KACnB/E,KAAKskB,SAAS,CAACmpB,OAAQM,IACvB/tC,KAAKskB,SAAL,gBAAgB,YAAcvf,EAAM,CAACgE,MAAO,Q,iDAGrBrF,EAAOqB,GAC9B,IAAI4sB,EAAqB,aAAO3xB,KAAKgF,MAAM2sB,uBAC3CA,EAAsBwC,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GAC7Dp0B,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC3xB,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH2oC,8BAF+B,uBAAO3oC,EAAM2oC,+BAAb,CAA4C5oC,U,iDAO5DrB,EAAOqB,EAAKmB,GACnC,IAAI6nC,EAAc/tC,KAAKgF,MAAMyoC,OACzB9b,EAAqB,uBAAO3xB,KAAKgF,MAAM2sB,uBAAlB,CAAyC,CAACzrB,MAAOA,EAAO6C,MAAOhE,KACxF/E,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC,IAAIgc,EAAgC3tC,KAAKgF,MAAM2oC,8BAC/CA,EAAgCA,EAA8BrhC,QAAO,SAAC2T,EAAK9c,GACvE,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACqpB,8BAA+BA,IAC9CI,EAAYhpC,GAAO,KACnB/E,KAAKskB,SAAS,CAACmpB,OAAQM,IACvB/tC,KAAKskB,SAAL,gBAAgB,YAAcvf,EAAM,CAACgE,MAAO,Q,gCAYtC,IAAD,OASLgB,EAAK,cARK,CACNwlB,SAAUrd,SAASC,eAAe,qBAAqBpJ,MACvDymB,aAActd,SAASC,eAAe,wBAAwBpJ,MAC9D7D,KAAMgN,SAASC,eAAe,iBAAiBpJ,MAC/C4mB,MAAOzd,SAASC,eAAe,kBAAkBpJ,MACjDosB,YAAa,SACblf,KAAMjW,KAAK2U,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,KAEhB9H,MACtB,SAACC,GACG,EAAK8a,SAAS,CACVyK,cAAc,OAEnBpG,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,+BAGlC,IAAD,SAMDT,KAAKgF,MAJL8tB,EAFC,EAEDA,aAAc2a,EAFb,EAEaA,OAAsBhd,GAFnC,EAEqBnC,aAFrB,EAEmCmC,uBAAuBjB,EAF1D,EAE0DA,aAC3Dc,EAHC,EAGDA,kBAAmBf,EAHlB,EAGkBA,SAAUoB,EAH5B,EAG4BA,0BAA2BjB,EAHvD,EAGuDA,UAAWa,EAHlE,EAGkEA,cAAerrB,EAHjF,EAGiFA,KAClFgrB,EAJC,EAIDA,yBAA0BJ,EAJzB,EAIyBA,SAAUH,EAJnC,EAImCA,MAAOiB,EAJ1C,EAI0CA,eAAgBE,EAJ1D,EAI0DA,eAAgBf,EAJ1E,EAI0EA,UAC3EmB,EALC,EAKDA,gBAAiBE,EALhB,EAKgBA,cAAsBC,GALtC,EAK+BpB,MAL/B,EAKsCoB,iBAAiBE,EALvD,EAKuDA,mBAAoBE,EAL3E,EAK2EA,aAAczlB,EALzF,EAKyFA,aAE9F,OACI,yBAAKwD,UAAU,cACX,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,0BACX,wBAAIA,UAAU,0BAAd,YAKR,yBAAKA,UAAU,0CACX,yBAAKuL,IAAK/a,KAAK0tB,UAAWle,UAAU,4CAA4C6B,GAAG,gBAC9EgkB,sBAAoB,cACrB,yBAAK7lB,UAAU,iBAEX,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,2BAEX,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,OACtDD,sBAAoB,WACrB,yBAAK7lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,wbACFF,KAAK,UAAUC,SAAS,UAAU/S,QAAQ,QAC9C,0BACIgT,EAAE,ulBACFF,KAAK,eAIrB,yBAAKrmB,UAAU,2BAAf,YAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,gyBACFF,KAAK,UAAUC,SAAS,YAC5B,4BAAQD,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,KAAKC,GAAG,KAAKC,EAAE,SAInE,yBAAK1mB,UAAU,2BAAf,gBAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,yRACFF,KAAK,YACT,4BAAQA,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,OAAOC,GAAG,MAC1CC,EAAE,WAItB,yBAAK1mB,UAAU,2BAAf,iBASpB,yBAAKA,UAAU,4DACX,kBAACka,GAAA,EAAD,CAAMla,UAAU,UAAU2mB,YAAU,EAAC9kB,GAAG,qBAClCgI,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KACnC,yBAAKyN,UAAU,wBAAwB8lB,qBAAmB,eACrDD,sBAAoB,WACrB,yBAAK7lB,UAAU,6BAAf,eACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBACX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,YACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOunB,EAAkBvnB,MAAMunB,EAAkB,YACjDX,MAAM,WACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,aACpCjC,QAASyvB,MAIrB,kBAAC7F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO0nB,EAAsB1nB,MAAM0nB,EAAsB,YACzDd,MAAM,eACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS0vB,MAIrB,kBAAC9F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,QACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwnB,EAAcxnB,MAAMwnB,EAAc,YACzCZ,MAAM,OACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,SACpCjC,QAASoF,MAIrB,kBAACwkB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,SACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO6nB,EAAe7nB,MAAM6nB,EAAe,YAC3CjB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAAS6vB,MAIrB,kBAACjG,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,OACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,MACLkzB,aAAc+W,EAASA,EAAOhtB,IAAM,GACpCrG,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAI3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,yBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,kBACLkzB,aAAc+W,EAASA,EAAO9F,gBAAkB,GAChDvtB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAI3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,UACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOsoB,EAAgBtoB,MAAMsoB,EAAgB,YAC7C1B,MAAM,SACNnsB,KAAK,SACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpCjC,QAAS4K,MAKpB1K,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,QACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,OACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,MACLkzB,aAAc+W,EAASA,EAAOO,IAAM,GACpC5zB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,MAAO,SACxD,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,kBACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,iBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,gBACLkzB,aAAc+W,EAASA,EAAO7F,cAAgB,GAC9CxtB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,gBAAiB,mBAClE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,oBACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,mBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,kBACLkzB,aAAc+W,EAASA,EAAO5F,gBAAkB,GAChDztB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,kBAAmB,qBACpE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM0oC,kBAAkB/rC,OAAO,GACrC,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAKs2B,iBAAiBt2B,EAAGA,EAAEoe,OAAOpX,SAEnD,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,oBACC33B,KAAKgF,MAAM0oC,kBAAkB1tB,KAAI,SAAAnP,GAAI,OAClC,4BAAQ9H,MAAO8H,EAAK9H,MACZ6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,eAQ1D,yBAAKsJ,UAAU,gBACf,kBAACqoB,GAAA,EAAD,CAAS/X,QAAQ,WACjB,yBAAKtQ,UAAU,gBACf,kBAACka,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAACkC,GAAA,EAAK2B,MAAN,2BACA,kBAAC3B,GAAA,EAAKY,QAAN,CAAcD,GAAG,WAAWrM,KAAK,IACnBuM,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,cACLkzB,aAAc+W,EAASA,EAAOx8B,YAAc,GAC5CmJ,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAIrD,6BACI,kBAAC,QAAD,CAAMyN,UAAU,gDAAgDqQ,KAAK,IAAItF,QAASva,KAAKy2B,iBACnF,uBAAGjnB,UAAU,0BADjB,8DAQhB,yBAAKA,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,6BAAf,cACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBACX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,eAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwoB,EACP5B,MAAM,SACNnsB,KAAK,YACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,cACpCjC,QAAS6K,MAIe,SAAnC3K,KAAKgF,MAAMyoC,OAAX,WACD,kBAAC/jB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,QACLkzB,aAAc+W,EAASA,EAAOxV,MAAQ,GACtC7d,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAEjC,kBAAC2nB,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,0BAApC,SAI6B,UAAnCxP,KAAKgF,MAAMyoC,OAAX,WACmC,mBAAnCztC,KAAKgF,MAAMyoC,OAAX,YAGJ,kBAAC/jB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BAA2BxP,KAAKgF,MAAMyoC,OAAX,UADjD,UAEA,kBAAC7jB,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACID,GAAG,WAAWrM,KAAK,IACnB2R,MAAM,SACNnsB,KAAK,cACLkzB,aAAc+W,EAASA,EAAO1F,YAAc,GAC5C3tB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAKP,aAAnC/B,KAAKgF,MAAMyoC,OAAX,WACD,kBAAC/jB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BAA2BxP,KAAKgF,MAAMyoC,OAAX,UADjD,UAEA,kBAAC7jB,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACID,GAAG,WAAWrM,KAAK,IACnB2R,MAAM,SACNnsB,KAAK,iBACLkzB,aAAc+W,EAASA,EAAOzF,eAAiB,GAC/C5tB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAK3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,eAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACrhB,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CACIrM,UAAQ,EACRsM,QAAS,IAAI7mB,KAAK,cAClBjH,MAAO+pB,EACP1D,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,iBACpCq1B,sBAAoB,QAMxC,kBAAC1N,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,oBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO4nB,EACPhB,MAAM,mBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,qBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,QAI9F,kBAAC0d,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,mBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmnB,EACPP,MAAM,kBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,oBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa+jB,EAAU9jB,QAI5FhM,KAAKgF,MAAM2oC,8BAA8BphC,SAAS,UACnD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,SAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO+nB,EAAe/nB,MAAM+nB,EAAe,YAC3CnB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKkmC,2BAA2BlmC,EAAG,QAAS,WACpE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM2oC,8BAA8BphC,SAAS,WACnD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,UAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmoB,EAAgBnoB,MAAMmoB,EAAgB,YAC7CvB,MAAM,SACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKkmC,2BAA2BlmC,EAAG,SAAU,YACrE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM2sB,sBAAsBhwB,OAAO,GAAK,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MAC1D,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAKmmC,2BAA2BnmC,EAAGA,EAAEoe,OAAOpX,SAE7D,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,oBACC33B,KAAKgF,MAAM2sB,sBAAsB3R,KAAI,SAAAnP,GAAI,OACtC,4BAAQ9H,MAAO8H,EAAK9H,MACZ6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,kBAWtE,yBAAKsJ,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,4CACX,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,6BAAf,2BACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,uBAKX,kBAAC,GAAD,CAAc+V,OAAO,EAAOxK,IAAK/a,KAAKgvB,kBACxB/Y,KAAMmb,EAAcroB,MACpByb,YAAqC,KAAxB4M,EAAcroB,MAC3B+c,gBAAiB9lB,KAAKgF,MAAM8gB,gBAC5BwB,aAAc,SAACN,GAAD,OAAY,EAAK1C,SAAS,CAACwB,gBAAiBkB,OACxE,kBAAC0C,GAAA,EAAKC,IAAN,KACK3pB,KAAKgF,MAAM8gB,iBAAmB9lB,KAAKgF,MAAM8gB,gBAAgBnkB,OAAS,GACnE,kBAAC22B,GAAA,EAAD,CAAWjO,GAAIT,KAAKpC,GAAG,MACnB,yBAAKhY,UAAU,6BAAf,oBAGJ,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAAC,KAAD,CAAS2D,gBAAgB,EAAO9Z,GAAG,kBAAkB+Z,UAAW,IACvDmN,OAAQ,EACRvN,sBAAsB,EACtBC,cAAe,SAAClpB,GAAD,OAAO,EAAKy2B,YAAYz2B,IACvCilB,OAAQhnB,KAAKgF,MAAM8gB,gBACnB2S,iBAAkB,SAAC12B,GAAD,OAAO,EAAK02B,iBAAiB12B,UAKxE,kBAAC81B,GAAA,EAAD,MACA,yBAAKroB,UAAU,6BAAf,gBACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,sBACX,kBAAC,KAAD,CACIkpB,aAAa,kCACbC,OAAO,OACPC,OAAQ,CAACC,SAAU,CAACC,UAAW,IAAKC,WAAY,CAACvc,SAAS,OAAQ+b,OAAQ,QAC1ES,gBAAiB,SAACv4B,GAAD,OAAU,EAAKu4B,gBAAgBv4B,IAChDw4B,eAAgB,SAACx4B,EAAMoqB,GAAP,OAAkB,EAAKqO,mBAAmBz4B,EAAMoqB,IAChEsO,aAAe,QACf1H,aAAcA,SAQtC,yBAAKjiB,UAAU,oBACX,yBACIA,UAAU,oFACV,kBAAC,QAAD,CAAM4pB,GAAI,sBACN,uBAAG5pB,UAAU,0BADjB,WAKJ,yBACIA,UAAU,8EACV8lB,qBAAmB,eAFvB,YAKA,kBAAC1V,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,UACrDuK,UAAU,4EACV8lB,qBAAmB,iBAF3B,UAKA,yBACI9lB,UAAU,0EACV8lB,qBAAmB,eAFvB,iBAShB,kBAAC1M,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAM+pB,aAAchG,OAAQ/oB,KAAK8uB,iBAAkBuK,UAAQ,GACzE,kBAACzQ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACrB,kBAACN,GAAA,EAAMO,MAAP,oCAEJ,kBAACP,GAAA,EAAMQ,KAAP,KACI,kBAACM,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,YAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,oBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAI9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,eAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,uBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAI9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,QAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,gBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAI9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,SAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,iBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,cAKlE,kBAAC6f,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,YAAYvF,QAASva,KAAK8uB,kBAA1C,UAGA,kBAAClP,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAKkyB,SAAxC,kB,GAzpCTrX,IAAMM,WAoqCnB4iB,G,YACF,WAAYppB,GAAQ,IAAD,uBACf,8CAAMA,IACN,IAAIzP,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFf,OAGf,EAAKF,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,GACrC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALF,E,yEAQTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAGjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GACtC,OAAO,wBAAI4B,IAAKzC,EAAQa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA7D,MAAoEgI,UAM3F,kBAAC,GAAD,CAAMjU,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,iB,GA9BjCtY,IAAMM,WAoCdye,gBAAWmE,IClwCpBvR,GAAuBvY,aAAe,CACxCU,MAAO,CACH8X,SAAU,CACNC,kBAAkB,GAEtBC,aAAc,CACVrlB,MAAO,CACHhB,QAAS,UAGjBsmB,aAAc,CACVtlB,MAAO,CACHhB,QAAS,SAEbomB,kBAAkB,EAClBG,WAAY,CACRvlB,MAAO,CACHhB,QAAS,QACTwX,OAAQ,6BACR2N,QAAS,eACTjP,SAAU,OACVsQ,WAAY,MACZC,WAAY,MACZnO,MAAO,UACP3C,gBAAiB,OACjB+Q,eAAgB,cAChBnO,OAAQ,oBACRoO,aAAc,MACdC,WAAY,+DACZC,UAAW,mBAOzBC,GAAgBnZ,aAAe,CACnCoZ,UAAW,CACPC,iBAAiB,CACbzgB,KAAM,CACJ,UAAW,CACT,oBAAoB,CACZ0gB,YAAa,wBAIzBC,YAAa,CACT/B,QAAS,OACTtX,WAAY,iCACZyK,MAAO,eAMf6O,G,YAIF,WAAY9Y,GAAQ,IAAD,+BACf,8CAAMA,KAHV+Y,UAAY7S,IAAM8S,YAEC,EAqHnBG,mBAAqB,SAACpqB,GAClB,IAAI+pC,EAAS,EAAKzoC,MAAMyoC,OACpBjlB,EAAO9kB,EAAMyc,OAAO6N,MAAM,GAI9B,GAHA,EAAK1J,SAAS,CACV2J,YAAaC,IAAIC,gBAAgB3F,UAEzB7f,GAAR6f,EAGA,GAFAA,EAAK4F,OAAS5F,EAAKK,KAAO,KAErBL,EAAK4F,OAAU,KAAO,EACvB5F,EAAK4F,QAAU5F,EAAK4F,OAAS,MAAMC,QAAQ,GAAK,MAChD7F,EAAK9T,MAAQ,yBACb+4B,EAAOjlB,KAAO,GACd,EAAKlE,SAAS,CAACgK,aAAc9F,QAC1B,CACHA,EAAK9T,MAAQ,KACb8T,EAAK4F,OAAS5F,EAAK4F,OAAOC,QAAQ,GAAK,MACvC,IAAIE,EAAS,IAAIC,WACjBD,EAAOE,cAAcjG,GACrB+F,EAAOG,UAAY,WACf+e,EAAOjlB,KAAO+F,EAAOI,OACrB,EAAKrK,SAAS,CAACgK,aAAc9F,EAAMilB,OAAQA,OA1IxC,EAqMnBtF,iBAAmB,SAACzkC,GAChB,IAAI6rB,EAAW,EAAKvqB,MAAMuqB,SAC1BA,EAAS/G,KAAO,GAChB,EAAKlE,SAAS,CAACgK,aAAc,KAAMiB,SAAUA,IAC7Crd,SAASC,eAAe,yBAAyBpJ,MAAQ,IAzM1C,EA6SnB6lB,UAAY,SAACvd,GACTa,SAASC,eAAed,GAAIwd,QAC5B,EAAKvK,SAAS,CAACgK,aAAc,KAAML,YAAa,QA/SjC,EA8VnBwI,gBAAkB,WACd,EAAKnS,SAAS,CACVyK,cAAc,KAhWH,EAoWnBD,iBAAmB,WACf,EAAKxK,SAAS,CAACyK,cAAc,KAnW7B,EAAKC,kBAAoBnU,IAAM8S,YAC/B,EAAK3oB,MAAQ,CACTiqB,WAAW,EACXwe,OAAQ,CACJpe,YAAa,EAAK1a,MAAMlU,KAAKiJ,WAAW4lB,qBAAuB,EAAK3a,MAAMlU,KAAKiJ,WAAW4lB,qBAAuB,EACjHrZ,KAAM,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAO,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAK,MAEjFid,aAAc,KACdiB,SAAU,GACVC,aAAc,GACdE,UAAW,GACXxqB,KAAM,GACN4qB,SAAU,GACVH,MAAO,GACPI,UAAW,GACXE,MAAO,GACPC,yBAA0B,CACtB7e,GAAGsD,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQ9e,GACtCnL,MAAMyO,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQC,WAAW,IAAIzb,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQE,UAC3FtnB,OAAM,GAEVunB,kBAAmB,CAACvnB,MAAO,IAC3BwnB,cAAe,CAACxnB,MAAO,IACvB0nB,sBAAuB,CAAC1nB,MAAO,IAC/B4nB,0BAA2B,CAAC5nB,MAAO,IACnC6nB,eAAgB,CAAC7nB,MAAO,IACxB+nB,eAAgB,CAAC/nB,MAAO,IACxBmoB,gBAAiB,CAACnoB,MAAO,IACzBqoB,cAAe,CAACroB,MAAO,EAAK4L,MAAMlU,KAAKiJ,WAAWuM,KAAO,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAK,MAC9FggB,gBAAiB,CAACtoB,MAAO,IACzBwoB,mBAAoB,CAACxoB,MAAO,IAC5B+c,gBAAiB,GACjB0L,YAAa,GACbC,aAAc,GACd1C,cAAc,EACd2C,UAAW,GACXgc,kBAAmBviC,GACnBymB,oBAAqB,GACrBD,sBAAuBvmB,GACvBuiC,8BAA+B,GAC/B3hC,cAAa,GAGnB,EAAKimB,aACL,EAAKC,QAAQ,EAAKA,QAAQC,KAAb,iBA9CI,E,mFAkDf,IAAIvyB,KAASI,KAAK0tB,UAAU9P,W,mCAGnBla,EAAOwB,GAChB,IAAIuoC,EAASztC,KAAKgF,MAAMyoC,OACxB,GAAa,iBAATvoC,EACA,IAAIhC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,UACpB,CACC7F,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,SACxBpvB,KAAKskB,SAAS,CAACwO,aAAcpvB,IAEpB,cAATR,IACA+c,EAAMvd,SAASud,IACnBwtB,EAAOvqC,GAAQ+c,EACfjgB,KAAKskB,SAAS,CAACmpB,OAAQA,M,mCAGd/pC,GAAQ,IAAD,OACHA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAC2K,WAAW,IACrBjvB,KAAKgF,MAAMspB,qBACLtuB,KAAKgF,MAAMyoC,OAAOjlB,KAC7B,IAAIilB,EAASztC,KAAKgF,MAAMyoC,OACxBA,EAAOzmB,OAAShnB,KAAKgF,MAAM8gB,gBAC3B2nB,EAAOjc,YAAcxxB,KAAKgF,MAAMwsB,YAChCznB,EAAK,UAAW0jC,GAAQlkC,MACpB,SAACC,GACG,EAAK8a,SAAS,CAACmpB,OAAQjkC,EAAS/I,OAChC,EAAKkU,MAAMlU,KAAK+Q,QAAQzN,KAAK,yBAC9B4kB,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,mCAWxCsJ,EAAK,WAAY,CAACqoB,OANL,CACT,aAAgB,CAACltB,KAAM,UACvB,WAAc,GACd,YAAe,GACf,YAAe,MAEgBqE,KAAK,SAAUC,GAC9C,IADwD,WAE/C6oB,GAEL7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACb,eAARkvB,GAAgC,YAARA,IACxBC,EAAI9uB,KAAO8uB,EAAIlC,WAAa,IAAMkC,EAAIjC,WAE1C7mB,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,OAP1C,IAAK,IAAIghB,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,GAUTryB,KAAKskB,SAAS,CACViL,SAAU/lB,EAAS/I,KAAK+xB,aACxB1C,SAAUtmB,EAAS/I,KAAKgyB,WACxB/C,UAAWlmB,EAAS/I,KAAKmyB,YACzB7C,UAAWvmB,EAAS/I,KAAKoyB,YACzB7mB,cAAa,KAEnBmmB,KAAKnyB,S,4CA8BY,IAAD,OACd2zB,EAAY,CACZpE,SAAU,WACVqE,gBAAiB,WACjBpE,aAAc,eACdqE,iBAAkB,YAGlBC,MAAO,YACP7d,KAAM,SAGN8d,EAAwB,CACxBhE,UAAW,CAAC,WAGZiE,EAAgBvlB,OAAOC,KAAKilB,GAhBd,WAiBT5uB,GACL,IAAIqE,EAAS,GACyB,iBAAlCuqB,EAAUK,EAAcjvB,MACxBqE,EAAOlE,KAAO,UAClBgE,EAAKyqB,EAAUK,EAAcjvB,IAAOqE,GAAQG,KAAK,SAAUC,GAAW,IAAD,EAC7D/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,EAaZ,GAXsC,aAAlCkzB,EAAUK,EAAcjvB,IACxBtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKjC,WAAa,IAAM3vB,EAAK4xB,GAAKhC,UACjB,UAAlCsD,EAAUK,EAAcjvB,MAC7BtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKlC,QAAQC,WAAa,IAAM3vB,EAAK4xB,GAAKlC,QAAQE,WAE5E5vB,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,QAEiB1I,GAAzC3I,KAAKgF,MAAMyoC,OAAOzZ,EAAcjvB,KAAsBtE,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAMyoC,OAAOzZ,EAAcjvB,IAAMsM,KAC7G4iB,EAAWxzB,EAAK4xB,SAEwC1pB,GAAxDorB,EAAsBJ,EAAUK,EAAcjvB,KAC9C,IAAK,IAAIzC,KAASyxB,EAAsBJ,EAAUK,EAAcjvB,KAAQ,CACpE,IAAImvB,EAAgBH,EAAsBJ,EAAUK,EAAcjvB,KAAOzC,QACjCqG,GAApC3I,KAAKgF,MAAMyoC,OAAOvZ,IAA+BzzB,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAMyoC,OAAOvZ,GAAe7iB,IACnGrR,KAAKskB,SAAL,gBAAgB,YAAc4P,EAAgBD,IAK9DrkB,QAAQC,IAAIokB,GACZj0B,KAAKskB,UAAL,oBAAgBqP,EAAUK,EAAcjvB,IAAQtE,GAAhD,eAAuD,YAAcuzB,EAAcjvB,GAAOkvB,GAA1F,KAEF9B,KAAK,KAhCX,IAAK,IAAIptB,KAAOivB,EAAgB,EAAvBjvB,K,mCA2CAgE,EAAOhE,GAAM,IAAD,EACjB0oC,EAASztC,KAAKgF,MAAMyoC,OAGxB,GAFAA,EAAO1oC,GAAOgE,GAASA,EAAMA,MAAQA,EAAMA,MAAQ,GACnD/I,KAAKskB,UAAL,oBAAgB,YAAcvf,EAAMgE,GAAgB,IAApD,wBAAgE0kC,GAAhE,IACI,CAAC,WAAY,eAAgB,QAAQl4B,QAAQxQ,IAAQ,GAAKgE,EAAO,CACjE,IAAgCsrB,EAAgB,GAAIjC,EAAS,GACjD,aAARrtB,GACAqtB,EAAS,CACLO,gBAAiB,CAAC2B,eAAgBvrB,EAAMsI,GAAInM,KAAM,WAEtDmvB,EAAgB,gBACD,iBAARtvB,GACPqtB,EAAS,CACLmC,QAAS,CAACC,gBAAiBzrB,EAAMsI,GAAInM,KAAM,WAE/CmvB,EAAgB,QACD,SAARtvB,IACPqtB,EAAS,CACLqC,SAAU,CAACC,OAAQ3rB,EAAMsI,GAAInM,KAAM,WAEvCmvB,EAAgB,SAGpBtqB,EAAK,WAAY,CAACqoB,OAAQA,IAAS7oB,KAAK,SAAUC,GAAW,IAAD,OACpDyqB,EAAW,GADyC,WAE/C5B,GAF+C,MAGpD7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACzBqG,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,QAEM1I,GAApC,EAAK3D,MAAMyoC,OAAOpZ,IAA+B/B,EAAIjhB,KAAO,EAAKrM,MAAMyoC,OAAOpZ,GAAehjB,KAC7F4iB,EAAW3B,MAGnB,EAAKhO,UAAL,oBACK+P,EAAgB7qB,EAAS/I,KAAK4xB,IADnC,eAC0C,YAAcgC,EAAgBJ,GADxE,KATJ,IAAK,IAAI5B,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,IAaXF,KAAKnyB,U,6BAIR0D,EAAOyU,GACVjG,SAASC,eAAe,mBAAqBgG,GAAKsP,U,kCAG1CnlB,GACR,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAkBA,EAAgBxZ,QAAO,SAAC2T,EAAK9c,GAC3C,OAAOb,IAAUa,KAErBnD,KAAKskB,SAAS,CAACwB,gBAAiBA,M,uCAGnBxjB,GACb,IAAIwjB,EAAkB9lB,KAAKgF,MAAM8gB,gBACjCA,EAAgB9F,KAAI,SAACC,EAAK9c,GAClBA,IAAMb,GACNwjB,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,EAChCf,EAAgB3iB,GAAGwxB,KAAO,CAAC,CAAC5rB,MAAO,WAAY6D,MAAO,eAEtDkZ,EAAgB3iB,GAAGksB,YAAc,EACjCvJ,EAAgB3iB,GAAG0jB,YAAa,SACzBf,EAAgB3iB,GAAGwxB,SAGlC30B,KAAKskB,SAAS,CAACwB,gBAAiBA,M,sCAGpBrlB,GACZ,IAAMm0B,EAAO,IAAIC,SAQjB,OAPAD,EAAKE,OAAO,qBAAsBr0B,EAAK+nB,MACvCoM,EAAKE,OAAO,OAAQ90B,KAAKgF,MAAMosB,cAAcroB,OAC7C6rB,EAAKE,OAAO,kBAAmB,UAE3B,aAAcr0B,EAAK+nB,MACnBoM,EAAKE,OAAO,cAAer0B,EAAK+nB,KAAKnX,IAElC,CAAC0jB,IAAK9sB,EAAU,WAAY+sB,SAAU,OAAQJ,OAAMtsB,QAAS,CAAC,cAAiB,SAAWC,Q,yCAGlF9H,EAAMoqB,GACrB,GAAe,SAAXA,EAAmB,CACnB,IAAIoK,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACrCxJ,KAAKskB,SAAS,CAACkN,YAAY,GAAD,oBAAMxxB,KAAKgF,MAAMwsB,aAAjB,CAA8ByD,WACrD,GAAe,YAAXpK,GACJpqB,EAAKy0B,IAAI,CACR,IAAID,EAAantB,KAAKC,MAAMtH,EAAKy0B,IAAI1rB,UACjCgoB,EAAcxxB,KAAKgF,MAAMwsB,YAAYllB,QAAO,SAAC2T,EAAK9c,GAClD,OAAO8c,EAAI5O,KAAO4jB,EAAW5jB,MAEjCrR,KAAKskB,SAAS,CAACkN,YAAaA,O,uCAUvB9tB,EAAOqB,GACpB,IAAI2oC,EAAiB,aAAO1tC,KAAKgF,MAAM0oC,mBACvCA,EAAkBvZ,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GACzDp0B,KAAKskB,SAAS,CAACopB,kBAAmBA,IAClC1tC,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH4sB,oBAFqB,uBAAO5sB,EAAM4sB,qBAAb,CAAkC7sB,U,uCAOlDrB,EAAOqB,EAAKmB,GACzB,IAAIwnC,EAAiB,uBAAO1tC,KAAKgF,MAAM0oC,mBAAlB,CAAqC,CAACxnC,MAAOA,EAAO6C,MAAOhE,KAChF/E,KAAKskB,SAAS,CAACopB,kBAAmBA,IAClC,IAAI9b,EAAsB5xB,KAAKgF,MAAM4sB,oBACrCA,EAAsBA,EAAoBtlB,QAAO,SAAC2T,EAAK9c,GACnD,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACsN,oBAAqBA,M,iDAGbluB,EAAOqB,GAC9B,IAAI4sB,EAAqB,aAAO3xB,KAAKgF,MAAM2sB,uBAC3CA,EAAsBwC,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GAC7Dp0B,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC3xB,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH2oC,8BAF+B,uBAAO3oC,EAAM2oC,+BAAb,CAA4C5oC,U,iDAO5DrB,EAAOqB,EAAKmB,GACnC,IAAIyrB,EAAqB,uBAAO3xB,KAAKgF,MAAM2sB,uBAAlB,CAAyC,CAACzrB,MAAOA,EAAO6C,MAAOhE,KACxF/E,KAAKskB,SAAS,CAACqN,sBAAuBA,IACtC,IAAIgc,EAAgC3tC,KAAKgF,MAAM2oC,8BAC/CA,EAAgCA,EAA8BrhC,QAAO,SAAC2T,EAAK9c,GACvE,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACqpB,8BAA+BA,M,gCAYxC,IAAD,OASL5jC,EAAK,cARK,CACNwlB,SAAUrd,SAASC,eAAe,qBAAqBpJ,MACvDymB,aAActd,SAASC,eAAe,wBAAwBpJ,MAC9D7D,KAAMgN,SAASC,eAAe,iBAAiBpJ,MAC/C4mB,MAAOzd,SAASC,eAAe,kBAAkBpJ,MACjDosB,YAAa,SACblf,KAAMjW,KAAK2U,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,KAEhB9H,MACtB,SAACC,GACG,EAAK8a,SAAS,CACVyK,cAAc,OAEnBpG,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,+BAGlC,IAAD,SAMDT,KAAKgF,MAJL8tB,EAFC,EAEDA,aAAc2a,EAFb,EAEaA,OAAsBhd,GAFnC,EAEqBnC,aAFrB,EAEmCmC,uBAAuBjB,EAF1D,EAE0DA,aAC3Dc,EAHC,EAGDA,kBAAmBf,EAHlB,EAGkBA,SAAUoB,EAH5B,EAG4BA,0BAA2BjB,EAHvD,EAGuDA,UAAWa,EAHlE,EAGkEA,cAAerrB,EAHjF,EAGiFA,KAClFgrB,EAJC,EAIDA,yBAA0BJ,EAJzB,EAIyBA,SAAUH,EAJnC,EAImCA,MAAOiB,EAJ1C,EAI0CA,eAAgBE,EAJ1D,EAI0DA,eAAgBf,EAJ1E,EAI0EA,UAC3EmB,EALC,EAKDA,gBAAiBE,EALhB,EAKgBA,cAAsBC,GALtC,EAK+BpB,MAL/B,EAKsCoB,iBAAiBE,EALvD,EAKuDA,mBAAoBE,EAL3E,EAK2EA,aAAczlB,EALzF,EAKyFA,aAE9F,OACI,yBAAKwD,UAAU,cACX,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,0BACX,wBAAIA,UAAU,0BAAd,YAKR,yBAAKA,UAAU,0CACX,yBAAKuL,IAAK/a,KAAK0tB,UAAWle,UAAU,4CAA4C6B,GAAG,gBAC9EgkB,sBAAoB,cACrB,yBAAK7lB,UAAU,iBAEX,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,2BAEX,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,OACtDD,sBAAoB,WACrB,yBAAK7lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,wbACFF,KAAK,UAAUC,SAAS,UAAU/S,QAAQ,QAC9C,0BACIgT,EAAE,ulBACFF,KAAK,eAIrB,yBAAKrmB,UAAU,2BAAf,YAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,gyBACFF,KAAK,UAAUC,SAAS,YAC5B,4BAAQD,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,KAAKC,GAAG,KAAKC,EAAE,SAInE,yBAAK1mB,UAAU,2BAAf,gBAKR,yBAAKA,UAAU,yBAAyB8lB,qBAAmB,QACvD,yBAAK9lB,UAAU,0BACX,yBAAKA,UAAU,0BACX,yBAAK+lB,MAAM,6BACNC,WAAW,+BAA+B/uB,MAAM,OAChDqX,OAAO,OAAO2X,QAAQ,YAAYC,QAAQ,MAC1ClmB,UAAU,+BACX,uBAAGmmB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,0BAAM1N,EAAE,IAAIC,EAAE,IAAI5hB,MAAM,KAAKqX,OAAO,OACpC,0BACIiY,EAAE,yRACFF,KAAK,YACT,4BAAQA,KAAK,UAAU9S,QAAQ,MAAMiT,GAAG,OAAOC,GAAG,MAC1CC,EAAE,WAItB,yBAAK1mB,UAAU,2BAAf,iBASpB,yBAAKA,UAAU,4DACX,kBAACka,GAAA,EAAD,CAAMla,UAAU,UAAU2mB,YAAU,EAAC9kB,GAAG,qBAClCgI,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KACnC,yBAAKyN,UAAU,wBAAwB8lB,qBAAmB,eACrDD,sBAAoB,WACrB,yBAAK7lB,UAAU,6BAAf,eACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBACX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,YACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOunB,EAAkBvnB,MAAMunB,EAAkB,YACjDX,MAAM,WACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,aACpCjC,QAASyvB,MAIrB,kBAAC7F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO0nB,EAAsB1nB,MAAM0nB,EAAsB,YACzDd,MAAM,eACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS0vB,MAIrB,kBAAC9F,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,QACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwnB,EAAcxnB,MAAMwnB,EAAc,YACzCZ,MAAM,OACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,SACpCjC,QAASoF,MAIrB,kBAACwkB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,SACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO6nB,EAAe7nB,MAAM6nB,EAAe,YAC3CjB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAAS6vB,MAIrB,kBAACjG,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,OACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,MACLkzB,aAAc+W,EAASA,EAAOhtB,IAAM,GACpCrG,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAI3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,yBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,kBACLkzB,aAAc+W,EAASA,EAAO9F,gBAAkB,GAChDvtB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAI3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,UACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOsoB,EAAgBtoB,MAAMsoB,EAAgB,YAC7C1B,MAAM,SACNnsB,KAAK,SACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpCjC,QAAS4K,MAKpB1K,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,QACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,OACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,MACLkzB,aAAc+W,EAASA,EAAOO,IAAM,GACpC5zB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,MAAO,SACxD,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,kBACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,iBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,gBACLkzB,aAAc+W,EAASA,EAAO7F,cAAgB,GAC9CxtB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,gBAAiB,mBAClE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM4sB,oBAAoBrlB,SAAS,oBACzC,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,mBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,kBACLkzB,aAAc+W,EAASA,EAAO5F,gBAAkB,GAChDztB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAGvC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,kBAAmB,qBACpE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM0oC,kBAAkB/rC,OAAO,GACrC,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAKs2B,iBAAiBt2B,EAAGA,EAAEoe,OAAOpX,SAEnD,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,oBACC33B,KAAKgF,MAAM0oC,kBAAkB1tB,KAAI,SAAAnP,GAAI,OAClC,4BAAQ9H,MAAO8H,EAAK9H,MACZ6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,eAQ1D,yBAAKsJ,UAAU,gBACf,kBAACqoB,GAAA,EAAD,CAAS/X,QAAQ,WACjB,yBAAKtQ,UAAU,gBACf,kBAACka,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAACkC,GAAA,EAAK2B,MAAN,2BACA,kBAAC3B,GAAA,EAAKY,QAAN,CAAcD,GAAG,WAAWrM,KAAK,IACnBuM,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,cACLkzB,aAAc+W,EAASA,EAAOx8B,YAAc,GAC5CmJ,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAIrD,6BACI,kBAAC,QAAD,CAAMyN,UAAU,gDAAgDqQ,KAAK,IAAItF,QAASva,KAAKy2B,iBACnF,uBAAGjnB,UAAU,0BADjB,8DAQhB,yBAAKA,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,6BAAf,cACA,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sBAEX,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,eAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOwoB,EAAmBxoB,MAAMwoB,EAAmB,YACnD5B,MAAM,SACNnsB,KAAK,YACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,cACpCjC,QAAS6K,MAIe,SAAnC3K,KAAKgF,MAAMyoC,OAAX,WACD,kBAAC/jB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,QACLkzB,aAAc+W,EAASA,EAAOxV,MAAQ,GACtC7d,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,OAEjC,kBAAC2nB,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,0BAApC,SAI6B,UAAnCxP,KAAKgF,MAAMyoC,OAAX,WACmC,mBAAnCztC,KAAKgF,MAAMyoC,OAAX,YAGJ,kBAAC/jB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BAA2BxP,KAAKgF,MAAMyoC,OAAX,UADjD,UAEA,kBAAC7jB,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACID,GAAG,WAAWrM,KAAK,IACnB2R,MAAM,SACNnsB,KAAK,cACLkzB,aAAc+W,EAASA,EAAO1F,YAAc,GAC5C3tB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAKP,aAAnC/B,KAAKgF,MAAMyoC,OAAX,WACD,kBAAC/jB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BAA2BxP,KAAKgF,MAAMyoC,OAAX,UADjD,UAEA,kBAAC7jB,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACID,GAAG,WAAWrM,KAAK,IACnB2R,MAAM,SACNnsB,KAAK,iBACLkzB,aAAc+W,EAASA,EAAOzF,eAAiB,GAC/C5tB,OAAQ,SAAArY,GAAC,OAAI,EAAK2X,aAAa3X,QAK3C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,eAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACrhB,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CACIrM,UAAQ,EACRsM,QAAS,IAAI7mB,KACbmoB,aAAa,EACbpvB,MAAO+pB,EACP1D,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,iBACpCq1B,sBAAoB,QAMxC,kBAAC1N,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,oBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO4nB,EAA0B5nB,MAAM4nB,EAA0B,YACjEhB,MAAM,mBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,qBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,QAI9F,kBAAC0d,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,2BAApC,mBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmnB,EAAyBnnB,MAAMmnB,EAAyB,YAC/DP,MAAM,kBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,oBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa+jB,EAAU9jB,QAI5FhM,KAAKgF,MAAM2oC,8BAA8BphC,SAAS,UACnD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,SAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO+nB,EAAe/nB,MAAM+nB,EAAe,YAC3CnB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKkmC,2BAA2BlmC,EAAG,QAAS,WACpE,kBAAC,KAAD,SAKX/B,KAAKgF,MAAM2oC,8BAA8BphC,SAAS,WACnD,kBAACmd,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,UAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmoB,EAAgBnoB,MAAMmoB,EAAgB,YAC7CvB,MAAM,SACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKkmC,2BAA2BlmC,EAAG,SAAU,YACrE,kBAAC,KAAD,SAKP/B,KAAKgF,MAAM2sB,sBAAsBhwB,OAAO,GAAK,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MAC9D,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,MACtB,kBAACD,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAKmmC,2BAA2BnmC,EAAGA,EAAEoe,OAAOpX,SAE7D,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,oBACC33B,KAAKgF,MAAM2sB,sBAAsB3R,KAAI,SAAAnP,GAAI,OACtC,4BAAQ9H,MAAO8H,EAAK9H,MACZ6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,kBAWtE,yBAAKsJ,UAAU,wBAAwB8lB,qBAAmB,gBACtD,yBAAK9lB,UAAU,4CACX,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,6BAAf,2BACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,uBAKX,kBAAC,GAAD,CAAc+V,OAAO,EAAOxK,IAAK/a,KAAKgvB,kBACxB/Y,KAAMmb,EAAcroB,MACpByb,YAAqC,KAAxB4M,EAAcroB,MAC3B+c,gBAAiB9lB,KAAKgF,MAAM8gB,gBAC5BwB,aAAc,SAACN,GAAD,OAAY,EAAK1C,SAAS,CAACwB,gBAAiBkB,OACxE,kBAAC0C,GAAA,EAAKC,IAAN,KACK3pB,KAAKgF,MAAM8gB,iBAAmB9lB,KAAKgF,MAAM8gB,gBAAgBnkB,OAAS,GACnE,kBAAC22B,GAAA,EAAD,CAAWjO,GAAIT,KAAKpC,GAAG,MACnB,yBAAKhY,UAAU,6BAAf,oBAGJ,kBAACka,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAAC,KAAD,CAAS2D,gBAAgB,EAAO9Z,GAAG,kBAAkB+Z,UAAW,IACvDmN,OAAQ,EACRvN,sBAAsB,EACtBC,cAAe,SAAClpB,GAAD,OAAO,EAAKy2B,YAAYz2B,IACvCilB,OAAQhnB,KAAKgF,MAAM8gB,gBACnB2S,iBAAkB,SAAC12B,GAAD,OAAO,EAAK02B,iBAAiB12B,UAKxE,kBAAC81B,GAAA,EAAD,MACA,yBAAKroB,UAAU,6BAAf,gBACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,sBACX,kBAAC,KAAD,CACIkpB,aAAa,kCACbC,OAAO,OACPC,OAAQ,CAACC,SAAU,CAACC,UAAW,IAAKC,WAAY,CAACvc,SAAS,OAAQ+b,OAAQ,QAC1ES,gBAAiB,SAACv4B,GAAD,OAAU,EAAKu4B,gBAAgBv4B,IAChDw4B,eAAgB,SAACx4B,EAAMoqB,GAAP,OAAkB,EAAKqO,mBAAmBz4B,EAAMoqB,IAChEsO,aAAe,QACf1H,aAAcA,SAQtC,yBAAKjiB,UAAU,oBACX,yBACIA,UAAU,oFACV,kBAAC,QAAD,CAAM4pB,GAAI,sBACN,uBAAG5pB,UAAU,0BADjB,WAKJ,yBACIA,UAAU,8EACV8lB,qBAAmB,eAFvB,YAKA,kBAAC1V,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,cACrDuK,UAAU,4EACV8lB,qBAAmB,iBAF3B,UAKA,yBACI9lB,UAAU,0EACV8lB,qBAAmB,eAFvB,iBAShB,kBAAC1M,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAM+pB,aAAchG,OAAQ/oB,KAAK8uB,iBAAkBuK,UAAQ,GACzE,kBAACzQ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACrB,kBAACN,GAAA,EAAMO,MAAP,oCAEJ,kBAACP,GAAA,EAAMQ,KAAP,KACI,kBAACM,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,YAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,oBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAI9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,eAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,uBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAI9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,QAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,gBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,aAI9D,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,KAAtB,SAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKY,QAAN,CACIplB,KAAK,OACLmM,GAAG,iBACH+I,OAAQ,SAACrY,GAAD,OAAO,EAAKuiB,SAAS,CAACS,UAAWhjB,EAAEoe,OAAOpX,cAKlE,kBAAC6f,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,YAAYvF,QAASva,KAAK8uB,kBAA1C,UAGA,kBAAClP,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAKkyB,SAAxC,kB,GAjgCPrX,IAAMM,WA4gCrBse,G,YACF,WAAY9kB,GAAQ,IAAD,uBACf,8CAAMA,IACN,IAAIzP,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFf,OAGf,EAAKF,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,GACrC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALF,E,yEAQTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAGjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAEtC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAQa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA7D,MAAoEgI,UAM3F,kBAAC,GAAD,CAAQjU,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,iB,GA/BjCtY,IAAMM,WAqChBye,gBAAWH,ICnoCpBY,G,YAEJ,WAAY1lB,GAAQ,IAAD,8BACjB,8CAAMA,KAC2BA,MAAMlU,KAAKizB,MAAMtqB,OAA1CokC,EAFS,EAETA,UAAWtoC,EAFF,EAEEA,KAFF,OAMjB,EAAKq1B,WAAa,CAACzN,WAAW,KAC9B,EAAK2J,gBAAkB,EAAKA,gBAAgBtE,KAArB,iBACvB,EAAKrD,iBAAmB,EAAKA,iBAAiBqD,KAAtB,iBACxB,EAAKD,QAAU,EAAKA,QAAQC,KAAb,iBACf,EAAKntB,MAAQ,CACXE,KAAOA,EACPuoC,OAAO,GACPxoC,OAAO,GACPu1B,WAAW,EACXC,WAAY,GACZC,WAAY,GACZ3W,MAAM,GACN4W,aAAc,IAGhB,EAAKiT,UAAUJ,GACf,EAAK3S,SAnBY,CACfpP,QAAU,QAJK,E,yEAyBT+hB,GAAY,IAAD,OACnBtkC,EAAK,WAAWskC,EAAU,KAAKjkC,MAC7B,SAACC,UACUA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CACVmW,YAAa,IAAIK,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKg6B,aACrEC,YAAa,IAAII,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKi6B,aACrE3W,MAAOva,EAAS/I,KAAK0mB,MAAQ3d,EAAS/I,KAAK0mB,MAAQ,OAEvD,EAAKxS,MAAMs5B,eAAezkC,EAAS/I,KAAKmM,MAAO4gC,GAC/C,EAAKlpB,SAAS,CAACmpB,OAASjkC,EAAS/I,Y,mCAI5Bwf,EAAK/c,GAAO,IAAD,OAClBuqC,EAASztC,KAAKgF,MAAMyoC,OAExBA,EAAOvqC,GAAQ+c,EACfjgB,KAAKskB,SAAS,CAACmpB,OAASA,IACxB3jC,EAAM,WAAW9J,KAAKgF,MAAMyoC,OAAOp8B,GAAG,IAAKrR,KAAKgF,MAAMyoC,QAAQlkC,MAC5D,SAACC,GACC,EAAK8a,SAAS,CAACmpB,OAASjkC,EAAS/I,UAClCkoB,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,sCAI1BiD,EAAOuB,GACrB,IAAIgb,EAAMvc,EAAMyc,OAAOpX,MACR,WAAX9D,IACFgb,EAAMvd,SAASud,GACfjgB,KAAKskB,SAAS,CAACqW,aAAuB,IAAR1a,EAAY,EAAE,KAE9CjgB,KAAKskB,SAAS,CAACrf,OAAQA,IACvBjF,KAAKskB,SAAS,CAAEkW,WAAW,M,yCAI5Bx6B,KAAKskB,SAAS,CAAEkW,WAAW,M,gCAGjB,IAAD,OACiB,WAAtBx6B,KAAKgF,MAAMC,SACZjF,KAAKgF,MAAMyoC,OAAO9S,aAAe36B,KAAKgF,MAAM21B,aAC5C7wB,EAAM,WAAW9J,KAAKgF,MAAMyoC,OAAOp8B,GAAG,IAAK,CAACspB,aAAc36B,KAAKgF,MAAM21B,eAAepxB,MAClF,SAACC,UACQA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CAACmpB,OAASjkC,EAAS/I,OACjC,EAAK6jB,SAAS,CAACkW,WAAY,OAC5B7R,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,MACpC,EAAK6jB,SAAS,CAACkW,WAAY,U,+BAOzB,IAAD,EACuBx6B,KAAKgF,MAAhByoC,GADZ,EACCxe,UADD,EACYwe,QACnB,OACI,6BACE,kBAAClmB,GAAA,EAAD,CAAM0T,WAAS,EAAChY,QAAS,GACnB,kBAACsE,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACrB,yBAAKvb,UAAU,sBACL,yBAAKA,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,YACA,6BAAMi+B,EAAOle,SAAWke,EAAOle,SAAS/rB,KAAO,UAEnD,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,eACA,6BAAMi+B,EAAOje,aAAeie,EAAOje,aAAahsB,KAAO,SAG/D,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,QACA,6BAAMi+B,EAAOvoC,KAAOuoC,EAAOvoC,KAAK1B,KAAO,UAE3C,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMi+B,EAAO9d,MAAQ8d,EAAO9d,MAAMnsB,KAAO,WAGjD,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,OACA,6BAAMi+B,EAAOhtB,IAAMgtB,EAAOhtB,IAAM,UAEpC,yBAAKjR,UAAU,mBACX,yBAAKA,UAAU,yBAAf,yBACA,6BAAMi+B,EAAO9F,gBAAkB8F,EAAO9F,gBAAkB,WAGhE,yBAAKn4B,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,kBACA,6BAAMi+B,EAAO5iB,OAAS4iB,EAAO5iB,OAAS,UAE1C,yBAAKrb,UAAU,mBACX,yBAAKA,UAAU,yBAAf,OACA,6BAAMi+B,EAAOO,IAAMP,EAAOO,IAAM,WAGxC,yBAAKx+B,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMi+B,EAAO7F,cAAgB6F,EAAO7F,cAAgB,UAExD,yBAAKp4B,UAAU,mBACX,yBAAKA,UAAU,yBAAf,mBACA,6BAAMi+B,EAAO5F,gBAAkB4F,EAAO5F,gBAAkB,WAGhE,yBAAKr4B,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,eACA,6BAAMi+B,EAAOvR,UAAYuR,EAAOvR,UAAY,UAEhD,yBAAK1sB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMi+B,EAAO3a,cAAe,IAAIgI,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKy9B,EAAO3a,eAAiB,WAGtG,yBAAKtjB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,sBACA,6BAAMi+B,EAAO5Z,iBAAmB4Z,EAAO5Z,iBAAiBrwB,KAAO,UAEnE,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,mBACA,6BAAMi+B,EAAO7Z,gBAAkB6Z,EAAO7Z,gBAAgBxD,WAAa,IAAMqd,EAAO7Z,gBAAgBvD,UAAY,WAGpH,yBAAK7gB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMi+B,EAAO3Z,MAAQ2Z,EAAO3Z,MAAMtwB,KAAO,UAE7C,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,UACA,6BAAMi+B,EAAOvS,OAASuS,EAAOvS,OAAO13B,KAAO,WAGnD,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,sBACA,6BAAMi+B,EAAOx8B,YAAcw8B,EAAOx8B,YAAc,WAGxD,6BACA,yBAAKzB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMi+B,EAAOltB,MAAQktB,EAAOltB,MAAQ,IAExC,yBAAK/Q,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAMi+B,EAAOtR,MAAQsR,EAAOtR,MAAQ,KAG5C,yBAAK3sB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,kBACA,6BAAMi+B,EAAOpe,YAAc,MAAQ,OAEvC,yBAAK7f,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAEYi+B,EAAOntB,eAAgBhW,EAAS0V,KAAI,SAACC,EAAK9c,GACtC,GAAI8c,EAAIlX,QAAU0kC,EAAOntB,eACrB,OAAOL,EAAIlX,SACd,SAKzB,yBAAKyG,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,oBACA,6BAAMi+B,EAAO9S,aAAe,MAAQ,OAExC,yBAAKnrB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAMxP,KAAKgF,MAAMy1B,WAAaz6B,KAAKgF,MAAMy1B,WAAa,WAG9D,yBAAKjrB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMxP,KAAKgF,MAAM01B,WAAa16B,KAAKgF,MAAM01B,WAAa,aAK1E,kBAACnT,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACG,KAArB/qB,KAAKgF,MAAM+e,OAAgB/jB,KAAKgF,MAAM+e,MAAMpiB,OAAS,EAAI,kBAACy6B,GAAA,EAAD,KACjDp8B,KAAKgF,MAAM+e,OAAS/jB,KAAKgF,MAAM+e,MAAM/D,KAAI,SAAC+D,EAAOzhB,GAC9C,OAAO,kBAAC85B,GAAA,EAASrS,KAAV,CAAehlB,IAAKzC,GACvB,yBACIkN,UAAU,gBACVgX,IAAKre,EAAU4b,EAAMiC,0BAMpC,yBAAKxW,UAAU,gBAAgBgX,IAAKne,MAKnD,kBAACugB,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAMw1B,UAAWzR,OAAQ/oB,KAAK8uB,kBAC9C,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASva,KAAKkyB,SAAvC,OAGA,kBAACtS,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAK8uB,kBAAxC,a,GAzPOjU,IAAMM,WAmQrBkhB,G,YACJ,WAAY1nB,GAAQ,IAAD,wBACjB,8CAAMA,KAaNs5B,eAAiB,SAACrhC,EAAOyE,GACrB,IAAIk8B,EAAa3gC,EAAMR,cAEnBmhC,EADDA,EAAWhhC,SAAS,SACNghC,EAAWntB,MAAM,SAAS,GAAGvX,QAAQ,KAAK,KAE1C0kC,EAAW1kC,QAAQ,KAAK,KAEzC,EAAKyb,SAAS,CAAC4pB,aAAaX,EAAYY,WAAY98B,EAAG,IAAIzE,EAAMR,iBAnBrE,IAAIlH,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFb,OAGjB,EAAKF,MAAQ,CAACouB,OAAO,GAAIsG,WAAU,GACnC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALA,E,yEAQTzd,GACLjG,OAAOC,KAAKgG,GAAO/S,QACpB3B,KAAKskB,SAAS,CAACoV,WAAU,IAE3B15B,KAAKskB,SAAS,CAAC8O,OAAO1e,M,+BAWd,IAAD,OACP,OACE,oCACA,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCAAmCzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAE7FjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACvC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAExC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAMa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA3D,MAAkEgI,UAK/E,yBAAKlF,UAAU,OACb,yBAAKA,UAAU,aACb,kBAACyS,GAAD,CACEE,gBAAiB,wBAAIsa,MAAM,yBAAyBn1B,MAAO,CAACo1B,cAAe,eAC3E,uBAAGvc,OAAO,SAASN,KAAM,WAAW7f,KAAKgF,MAAMmpC,YAAanuC,KAAKgF,MAAMkpC,eAEvEhsB,OAAY,yBAAK1S,UAAU,4BAC3B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACf,kBAAC,QAAD,CAAM4pB,GAAI,qBAA8B5pB,UAAU,6BAC5C,uBAAGA,UAAU,0BADnB,QAIE,kBAAC,QAAD,CACI4pB,GAAI,sBAAgCp5B,KAAK2U,MAAM+e,MAAMtqB,OAAOokC,UAAY,QACxEh+B,UAAU,mBACV,uBAAGA,UAAU,eAHjB,aAWN,yBAAKA,UAAU,cACb,kBAAC,GAAD,CAAQ/O,KAAMT,KAAK2U,MAAOs5B,eAAgB,SAACrhC,EAAOyE,GAAR,OAAc,EAAK48B,eAAerhC,EAAOyE,IAAK8hB,UAAWnzB,KAAKmzB,qB,GA/D/FtY,IAAMM,WAyEhBye,gBAAWyC,I,iCC9TpBqD,GAA6B7kB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAChD,4BACIQ,IAAKA,EACLR,QAAS,SAAAxY,GACPA,EAAEC,iBACFuY,EAAQxY,IAEVyN,UAAU,8BANd,UASE,kBAAC,GAAD,CAAcA,UAAU,oCAQ9B,IAAM6S,GAAc,CAClBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MAGFC,GAA2BC,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAClE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,IAYV,IAAMqc,GAAmBhd,cAAW,SAAA3O,GAAK,MAAK,CAC5CnH,KAAM,CACJ+yB,YAAa5rB,EAAMiP,QAAQ,GAC3BzK,aAAcxE,EAAMiP,QAAQ,GAC5B3c,QAAS,SAEXu5B,UACyB,UAAvB7rB,EAAMK,QAAQnP,KACV,CACE0Z,MAAO5K,EAAMK,QAAQG,UAAUD,KAC/B0H,gBAAiB6jB,aAAQ9rB,EAAMK,QAAQG,UAAU9O,MAAO,MAE1D,CACEkZ,MAAO5K,EAAMK,QAAQoI,KAAK7W,QAC1BqW,gBAAiBjI,EAAMK,QAAQG,UAAU7O,MAEjDo6B,OAAQ,CACNC,KAAM,YAER56B,QAAS,CACPwZ,MAAO5K,EAAMK,QAAQoI,KAAKjI,WAE5B5H,MAAO,CACLozB,KAAM,gBAIJC,GAAuB,SAAAtrB,GAC3B,IAAM0O,EAAUsc,KACRW,EAA0F3rB,EAA1F2rB,YAAmBrM,GAAuEtf,EAA7EzP,KAA6EyP,EAAvEsf,UAAUsM,EAA6D5rB,EAA7D4rB,YAAaC,EAAgD7rB,EAAhD6rB,gBAAiBviB,EAA+BtJ,EAA/BsJ,YAAaD,EAAkBrJ,EAAlBqJ,KAAMyiB,EAAY9rB,EAAZ8rB,QA0BtF,OACE,kBAACC,GAAA,EAAD,CACElxB,UAAWgL,aAAK6I,EAAQxW,KAAT,gBACZwW,EAAQwc,UAAYS,EAAc,KAGnC,yBAAK9wB,UAAU,yCACX,yBAAKA,UAAU,0BACb,0BAAMA,UAAU,yBACd,uBAAGA,UAAU,oCAEZ8wB,EAAc,EACb,kBAACK,GAAA,EAAD,CAAY/hB,MAAM,UAAUkB,QAAQ,aACjCwgB,EADH,aAIA,wBAAI9wB,UAAU,0BAAd,UAKN,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACR8wB,EAAc,EACX,kBAAC3e,GAAA,EAAD,CAAS/U,MAAM,UACb,kBAAC8W,GAAA,EAAD,CAAYnJ,QAAS,SAACxY,GAAD,OAjD/C,SAAsB2B,GACpB,GAAGuwB,EAAStyB,OAAQ,CAClB,IAAIlB,EAAO,CAAC4mB,IAAI4M,GAChBjqB,EAAI,SAASiqB,EAAS,GAAG,IAAKxzB,GAAM8I,MAAK,SAAUC,GAEjD,IAAI,IAAIrG,KAAK6a,EACRiW,EAAS1e,QAAQyI,EAAK7a,GAAGkO,KAAO,UAC1B2M,EAAK7a,GAGhB8a,EAAYD,GACZiW,EAAStyB,OAAS,EAClB4+B,EAAYtM,GACZuM,GAAgB,GAGhB,IAAMI,EAAS,GACfA,EAAO78B,KAAK,GACZ08B,EAAQG,OA+BwCE,IAAiBnd,aAAW,UACtD,kBAAC,KAAD,QAIJ,yBAAKnU,UAAU,aAKX,kBAACwxB,GAAA,EAAD,CAAUxxB,UAAU,kBAAkByxB,KAAK,OAAOC,YAAU,GAC1D,kBAACF,GAAA,EAASG,OAAV,CAAiB9W,GAAIqV,GACnBruB,GAAG,4CAGL,kBAAC2vB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,0DACvB,wBAAIA,UAAU,UACZ,wBAAIA,UAAU,gBACZ,uBAAGqQ,KAAK,IAAIrQ,UAAU,gBACpB,uBAAGA,UAAU,mCACb,0BAAMA,UAAU,qBAAhB,YAGJ,wBAAIA,UAAU,gBACZ,uBAAGqQ,KAAK,IAAIrQ,UAAU,gBACpB,uBAAGA,UAAU,qCACb,0BAAMA,UAAU,qBAAhB,sBAqBlCoyB,GAAYjf,cAAW,SAAA3O,GAAK,MAAK,CACrCnH,KAAM,CACJpG,MAAO,OACP+4B,UAAWxrB,EAAMiP,QAAQ,IAE3B4e,MAAO,CACLp7B,MAAO,OACP8iB,aAAcvV,EAAMiP,QAAQ,IAE9B6e,MAAO,CACLC,SAAU,KAEZC,aAAc,CACZC,UAAW,QAEbC,MAAO,CACLzW,QAASzX,EAAMiP,QAAQ,SAIrBkf,GAAIC,EAAQ,IAGlB,SAASvB,GAAY37B,GACHi9B,GAAE,SAASnI,YACnBqI,KAAKppB,OAAO,MAAM,GAJ5BkpB,GAAEnI,UAAYoI,EAAQ,KAyCtB,IAAME,GAAwBznB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAC3C,uBACEQ,IAAKA,EACLR,QAAS,SAAAxY,GACTA,EAAEC,iBACFuY,EAAQxY,IAERsP,GAAG,+BACH7B,UAAU,6CAET,IACD,uBAAGA,UAAU,yBAIJ,SAAS+yB,GAAc5tB,GACpC,IAAM0O,EAAUue,KAD2B,EAEjB/mB,IAAM3C,SAAS,OAFE,iCAGb2C,IAAM3C,SAAS,aAHF,iCAIX2C,IAAM3C,SAAS,KAJJ,oBAIpC+b,EAJoC,KAI1BsM,EAJ0B,OAKnB1lB,IAAM3C,SAAS,GALI,iCAMjB2C,IAAM3C,UAAS,IANE,iCAOL2C,IAAM3C,SAAS,KAPV,iCAQf2C,IAAM3C,SAAS,KARA,oBAQpC8F,EARoC,KAQ9BC,EAR8B,OASjBpD,IAAM3C,SAAS,GATE,iCAUX2C,IAAM3C,UAAS,IAVJ,oBAUpC4Q,EAVoC,KAU9B0Z,EAV8B,OAWd3nB,IAAM3C,SAAS,GAXD,oBAWpCuqB,EAXoC,KAWzBC,EAXyB,OAYf7nB,IAAM3C,SAAS,IAZA,oBAYpCjT,EAZoC,KAY5B09B,EAZ4B,OAanB9nB,IAAM3C,SAAS,IAbI,oBAapC0qB,EAboC,KAa9BnC,EAb8B,OAcD5lB,IAAM3C,UAAS,GAdd,oBAcpC2qB,EAdoC,KAcpBrC,EAdoB,OAenB3lB,IAAM3C,UAAS,GAfI,oBAepC2J,EAfoC,KAe9BihB,EAf8B,OAgBbjoB,IAAM3C,SAAS,iCAhBF,oBAgBpCgL,EAhBoC,KAgB3B6f,GAhB2B,QAiBbloB,IAAM3C,SAAS,IAjBF,sCAkBjB2C,IAAM3C,UAAS,IAlBE,sBAkBpC4pB,GAlBoC,MAkB7BqB,GAlB6B,SAmBPtoB,IAAM3C,SAAS,UAnBR,sBAoBvC1G,IApBuC,YAoB7B4xB,gBACHzuB,EAAM+e,MAAMtqB,OAAOlE,KAmQ9B,SAAS4pB,GAAiBprB,GACxB8+B,GAAgB,GAGlB,SAAS/L,GAAgB/yB,EAAOpB,EAAOghC,GACrCZ,EAAQpgC,GACRqgC,EAAUW,GACVd,GAAgB,GAIlB,SAAStQ,GAAQxuB,GACf,GAAa,UAAVuB,EAAoB,CACrB,IAAIxE,EAAO,CAAC,UAA2C,IAA9Bud,EAAKykB,GAAW7hB,UAAkB,EAAE,GAC7D9W,EAAM,SAASkU,EAAKykB,GAAWpxB,GAAG,IAAK5Q,GAAM8I,MAAK,SAAUC,GAC1D,IAAIq/B,EAAW7qB,EAAK1R,QAAO,SAACm1B,EAAEt+B,GAAH,OAASA,IAAMs/B,KAC1CxkB,EAAY,GAAD,oBAAK4qB,GAAL,CAAer/B,EAAS/I,QACnC+hC,GAAgB,GACd3B,KACFiC,GAAQ,GACR,IAAMsD,EAAyC,IAA5B58B,EAAS/I,KAAKmgB,UAAkB,YAAc,cACjEmiB,GAAW,uBAAuBqD,UAElB,UAAVnhC,GACR+E,EAAI,SAASgU,EAAKykB,GAAWpxB,GAAG,KAAK9H,MAAK,SAAUC,GAClD,IAAIq/B,EAAW7qB,EAAK1R,QAAO,SAACm1B,EAAEt+B,GAAH,OAASA,IAAMs/B,KAC1CxkB,EAAY4qB,GACZrG,GAAgB,GACd3B,KACFiC,GAAQ,GACRC,GAAW,kCA9RjBloB,IAAMhJ,WAAU,WACTswB,GAAEoB,GAAGC,UAAUC,YAAa,WACjBtB,GAAE,SAASnI,YACjBnc,UACNslB,IAAS,GACTllB,EAAY,KAEd,OAAO,WACHA,EAAY,IACCkkB,GAAE,SAASnI,YACjBnc,SAAQ,GACfslB,IAAS,MAEd,IAEHtoB,IAAMhJ,WAAU,WACViwB,IAASK,GAAEoB,GAAGC,UAAUC,YAAa,SAClC37B,KAAKE,UAAUgW,KAAUlW,KAAKE,UAAUsP,OAAOosB,YAChDpsB,OAAOosB,SAAW1lB,IAGpBmlB,IAAS,GAMf,WACE,IACIQ,EAAa,CACf,CAAE,UAAY,EAAO,SAAY,CAAC,EAAE,IACpC,CACEC,QAAS,EACTn9B,MAAO,OACPo9B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnDC,IAASC,OACT,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWod,EAAQ5yB,IAC5B0I,SAAU,SAAArW,GAAK,OAoKvB,SAAS2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,GAClC,IAAMlQ,EAAgBH,EAAS1e,QAAQlE,GAGjCkzB,EAAKtQ,GAEW,IAAnBG,EACCmQ,EAAIxgC,KAAKsN,GAETkzB,EAAIpQ,OAAOC,EAAe,GAE9BmM,EAAYgE,GACZ,IAAM3D,EAAM,aAAOgC,GACnBhC,EAAO78B,KAAK,GACZ08B,EAAQG,GAEMuB,GAAE,SAASnI,YACnBwK,KAAMT,GAAKK,OAAOD,IAASC,OAC3B,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWxV,GACpB0I,SAAU,SAAArW,GAAK,OAAI2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,IAC9CzX,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyX,MAE1DP,IA3LiBM,CAAY3gC,EAAOugC,EAAQ5yB,GAAI0yB,EAAIzR,IACtDzF,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyF,MAE1DyR,KAIN,CACEH,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjD,IAAIkK,EAAWpK,EAAS53B,cAElBgiC,EADDA,EAAS7hC,SAAS,SACN6hC,EAAShuB,MAAM,SAAS,GAAGvX,QAAQ,KAAK,KAExCulC,EAASvlC,QAAQ,KAAK,KAEzCs7B,IAASC,OACH,uBAAG98B,MAAO,CAAEkhC,OAAQ,WAAajuB,QAAS,kBAAM/I,GAAQzN,KAAK,eAAuBkgC,EAAQ5yB,MAC5F,0BAAM/J,MAAO,CAACo1B,cAAe,eAAgB0R,IAE7CrK,KAIV,CACEH,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnD,IAAIrkB,EAAO,IACRokB,EAAQoK,SAAWpK,EAAQoK,QAAQle,UACpCtQ,EAAO,YAAYokB,EAAQoK,QAAQle,QAAQ9e,GAAG,IAAI2yB,EAASn7B,QAAQ,KAAK,MAC1Es7B,IAASC,OACT,uBAAGjkB,OAAO,SAASN,KAAMA,GACxBmkB,GAEKD,KAIV,CACEH,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnD,IAAIrkB,EAAO,IACRokB,EAAQoK,SAAWpK,EAAQoK,QAAQle,SAAW8T,EAAQoK,QAAQle,QAAQuY,UACvE7oB,EAAO,YAAYokB,EAAQoK,QAAQle,QAAQuY,QAAQr3B,GAAG,IAAI2yB,EAASn7B,QAAQ,KAAK,MAElFs7B,IAASC,OACT,uBAAGjkB,OAAO,SAASN,KAAMA,GACxBmkB,GAEKD,KAIV,CACEH,QAAS,EACTh3B,MAAO,SACPi3B,WAAW,EACX,YAAe,SAAUE,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACH,0BAAM7pB,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,WAAW9iB,UAAwB,IAAbw0B,EAAiB,6CAA6C,6CAClI,+BACE,2BACE9+B,KAAK,WAAWmV,QAAsB,IAAb2pB,EAAiB,iBAAiB,GAC3DxgC,KAAK,gCAEP,iCAEKugC,MAKnBJ,EAAW5/B,KACP,CACE6/B,QAAS,EACTh3B,MAAO,UACPi3B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnDC,IAASC,OACT,kBAACpD,GAAA,EAAD,CAAUxxB,UAAU,yBAAyByxB,KAAK,OAAOwD,WAAS,GAClE,kBAACzD,GAAA,EAASG,OAAV,CAAiB9W,GAAIiY,KACjB,kBAACtB,GAAA,EAASI,KAAV,CAAgB5xB,UAAU,kEACxB,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,kBAAM/I,GAAQzN,KAAK,eAAuBkgC,EAAQ5yB,MAAM,uBAAG7B,UAAU,iBAA7F,kBACA,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,YAAW,uBAAG9iB,UAAU,oBAA/E,aAGAu0B,MAIhB5B,GAAE,SAASnI,UAAU,CACnB7d,WAAY,CACVuoB,QAAS,CACPC,SAAUxC,GAAEoB,GAAGC,UAAUoB,WAAWD,SAASE,oBAGjDC,YAAW,EACXC,aAAe5K,GAAW,QAASxlB,GACnC0tB,KAAM,CACJtN,IAhHM9sB,wDAiHN+8B,OAAQ,MACR18B,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,SAASR,KAAKC,MAAMU,aAAaC,QAAQN,IAAgBQ,UAAUC,QAAQ,SAAU,KACpJ,WAAc,SAASpI,GACrB,IAAIwkC,EAAOn9B,KAAKC,MAAMtH,GAClBwjC,EA1Nd,SAAsBA,GA+BpB,OA9BMtzB,MAAMC,QAAQqzB,IAAYA,EAAQtiC,OAAS,GAC/CsiC,EAAQiB,SAAQ,SAASr0B,EAAMvO,GACxBuO,EAAKy9B,UAAYz9B,EAAKy9B,SAASne,QAC9B8T,EAAQ3hC,GAAR,8BAAkDuO,EAAKy9B,SAASne,QAAQC,WAAW,IAAIvf,EAAKy9B,SAASne,QAAQE,UAE7G4T,EAAQ3hC,GAAR,8BAAkD,GAEnDuO,EAAKy9B,WACoB,iBAAvBz9B,EAAK09B,cACNtK,EAAQ3hC,GAAR,8BAAkDuO,EAAKy9B,SAASle,WAAW,IAAIvf,EAAKy9B,SAASje,UAE3F4T,EAAQ3hC,GAAR,8BAAkDuO,EAAKy9B,SAAS1hC,OAInEiE,EAAKw9B,SAAWx9B,EAAKw9B,QAAQle,QAC5B8T,EAAQ3hC,GAAR,6BAAiDuO,EAAKw9B,QAAQle,QAAQC,WAAW,IAAIvf,EAAKw9B,QAAQle,QAAQE,UAE1G4T,EAAQ3hC,GAAR,6BAAiD,GAElDuO,EAAKw9B,SAAWx9B,EAAKw9B,QAAQle,SAAWtf,EAAKw9B,QAAQle,QAAQuY,QAC5DzE,EAAQ3hC,GAAR,gCAAoDuO,EAAKw9B,QAAQle,QAAQuY,QAAQllC,KAEjFygC,EAAQ3hC,GAAR,gCAAoD,GACxD2hC,EAAQ3hC,GAAR,6BAAiD,GAEjD2hC,EAAQ3hC,GAAR,WAA+B6sB,KAAOte,EAAK4pB,YAAYrL,OAAO,cAChE6U,EAAQ3hC,GAAR,QAA4B2hC,EAAQ3hC,GAAR,SAA6B,MAGtD2hC,EA2LekB,CAAaF,EAAKxkC,MAGhC,OAFAwd,EAAYgmB,GACZgB,EAAKxkC,KAAOwjC,EACLn8B,KAAKE,UAAUi9B,KAK1BG,IAAI,2GAGJC,WAAY,CAAC,EAAG,GAAI,GAAI,IAExBC,WAAY,GACZC,WAAY,UACZC,aAAcxnB,EAAKwnB,aACnBC,gBAAiBznB,EAAKynB,gBAEtB/qB,SAAU,CACR,WAAc,kBAIhBgrB,MAAO,CAAC,CAAC,EAAG,SACZ/B,WAAWA,IAEbxB,GAAE,SAAS9/B,GAAI,WAAW,WACxBw3B,GAAWsI,GAAE,SAAU,OAAQxtB,MAtJ7BgxB,MAED,CAAC3nB,IA2QN,IAAM4nB,GAAsB,SAACliC,EAAOmiC,GAClC/C,GAAQ,IAGJjc,GAAa,SAAAxV,GAAE,OAA8B,IAA1B4iB,EAAS1e,QAAQlE,IAE1C,OAEE,yBAAK7B,UAAW6T,EAAQxW,MAEtB,kBAACi5B,GAAA,EAAD,CAAOt2B,UAAW6T,EAAQwe,OACxB,yBAAKryB,UAAW6T,EAAQ2e,cACxB,yBAAKxyB,UAAU,iCACX,kBAAC,GAAD,CAAsBixB,QAASA,EAASxiB,YAAaA,EAAaD,KAAMA,EAAMwiB,gBAAiBA,EAAiBD,YAAaA,EAAatM,SAAUA,EAAUqM,YAAarM,EAAStyB,SACtL,yBAAK6N,UAAU,oBAEb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,6CACb,yBAAKA,UAAU,qCACb,2BAAOu2B,QAtE7B,SAAsBriC,GACNy+B,GAAE,SAASnI,YACnBluB,OAAQpI,EAAMyc,OAAOpX,OAAQi9B,QAoEgB9gC,KAAK,OAAOsK,UAAU,eAAegb,YAAY,YAAYnZ,GAAG,kBAC/F,0BAAM7B,UAAU,iDACd,8BAAM,uBAAGA,UAAU,yBAQjC,yBAAKA,UAAU,cACX,6BACE,2BAAOA,UAAU,kEAAkE6B,GAAI,QACnF,+BACA,4BACI,wBAAI40B,YAAU,YACV,kBAACjO,GAAA,EAAD,CACE3d,QAASwoB,EACT9oB,SArJ9B,SAA8BrW,GAE5B,GAAIA,EAAMyc,OAAO9F,QAAS,CACtB,IAAMkqB,EAAMtQ,EACOjW,EAAKgC,KAAI,SAAAkmB,GAAC,OAAIA,EAAE70B,MACtB6zB,SAAQ,SAAAzD,GACpB8C,EAAIxgC,KAAK09B,MAEZlB,EAAYgE,QAEVtQ,EAAStyB,OAAS,EAClB4+B,EAAYtM,GAGduM,GADCqC,GAKHhC,MAoI4BhU,WAAY,CACV,aAAc,uBAItB,wBAAIoZ,YAAU,MAAd,MACA,wBAAIA,YAAU,iCAAd,cACA,wBAAIA,YAAU,gCAAd,UACA,wBAAIA,YAAU,mCAAd,YACA,wBAAIA,YAAU,aAAd,UACA,wBAAIA,YAAU,cAAd,QACA,wBAAIA,YAAU,WAAd,UACA,wBAAIA,YAAU,+BAA+Bz2B,UAAU,UAAvD,oBAUpB,kBAACoZ,GAAA,EAAD,CAAOE,KAAMA,EAAMC,OAAQ+F,IACzB,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACT,WAAXjkB,EACG,kBAAC2jB,GAAA,EAAMO,MAAP,gBAEA,kBAACP,GAAA,EAAMO,MAAP,sBAGM,WAAXlkB,EACG,kBAAC2jB,GAAA,EAAMQ,KAAP,KACKxZ,QAAQC,IAAImO,EAAKykB,IAClB,kBAAClb,GAAA,EAAD,CAAM0T,WAAS,EAAChY,QAAS,GACvB,kBAACsE,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,IACX,kBAACgnB,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE9oC,QAAQ,aACR4O,UAAWwJ,EAAKykB,GAAW6L,SAAWtwB,EAAKykB,GAAW6L,SAASne,QAAQC,WAAW,IAAIpS,EAAKykB,GAAW6L,SAASne,QAAQE,UAAW,MAGtI,kBAACwH,GAAA,EAAD,MACA,kBAAC4W,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE9oC,QAAQ,UACR4O,UAAWwJ,EAAKykB,GAAW6L,SAAWtwB,EAAKykB,GAAW6L,SAASne,QAAQC,WAAW,IAAIpS,EAAKykB,GAAW6L,SAASne,QAAQE,UAAW,MAGtI,kBAACwH,GAAA,EAAD,MACA,kBAAC4W,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE9oC,QAAQ,UACR4O,UAAWwJ,EAAKykB,GAAW6L,SAAWtwB,EAAKykB,GAAW6L,SAASne,QAAQuY,QAAQllC,KAAM,MAGzF,kBAACq0B,GAAA,EAAD,MACA,kBAAC4W,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE9oC,QAAQ,SACR4O,UAAWwJ,EAAKykB,GAAazkB,EAAKykB,GAAWkM,YAAa,MAG9D,kBAAC9W,GAAA,EAAD,MACA,kBAAC4W,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE9oC,QAAQ,OACR4O,UAAWwJ,EAAKykB,GAAatT,KAAOnR,EAAKykB,GAAWhI,YAAYrL,OAAO,cAAe,MAG1F,kBAACyI,GAAA,EAAD,MACA,kBAAC4W,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE9oC,QAAQ,UACR4O,UAAWwJ,EAAKykB,GAAazkB,EAAKykB,GAAWvf,QAAS,UAQxE,qCAEQ,WAAXje,EACG,kBAAC2jB,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAAS2X,IAAnC,OAGA,kBAACtS,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASuU,IAAlC,OAKJ,kBAAClG,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAAS2X,IAAnC,WAMZ,kBAAC/F,GAAA,EAAD,CACIC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAMA,EACN0K,iBAAkB,KAClBzK,QAAS8jB,IAET,kBAAC,GAAD,CACE9jB,QAAS8jB,GACT9lB,QAAQ,UACRoD,QAASA,M,IClwBfmX,G,YAEJ,WAAY1lB,GAAQ,IAAD,2BAETi6B,GADR,8CAAMj6B,KACmBA,MAAMlU,KAAKizB,MAAMtqB,OAAlCwlC,QAFS,OAMjB,EAAKrU,WAAa,CAACzN,WAAW,KAC9B,EAAK9nB,MAAQ,CACX6pC,KAAK,GACL5pC,OAAO,GACPw1B,WAAY,GACZC,WAAY,GACZC,aAAc,IAGhB,EAAKmU,QAAQF,GACb,EAAK/T,SAbY,CACfpP,QAAU,QAJK,E,uEAmBXmjB,GAAU,IAAD,OACf1lC,EAAK,SAAS0lC,EAAQ,KAAKrlC,MACzB,SAACC,UACUA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CACVmW,YAAa,IAAIK,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKg6B,aACrEC,YAAa,IAAII,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKi6B,eAGzE,EAAKpW,SAAS,CAACuqB,KAAOrlC,EAAS/I,Y,+BAI7B,IAAD,EACqBT,KAAKgF,MAAd6pC,GADZ,EACC5f,UADD,EACY4f,MACnB,OACI,6BACE,kBAACtnB,GAAA,EAAD,CAAM0T,WAAS,EAAChY,QAAS,GACnB,kBAACsE,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACrB,kBAACrB,GAAA,EAAD,KACA,kBAACA,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,mBAAmC,6BACnC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YACrBsU,EAAKP,SAAmC,iBAAvBO,EAAKN,cAAmCM,EAAKP,SAASle,WAAW,IAAIye,EAAKP,SAASje,UAAWwe,EAAKP,SAAS1hC,MAAS,QAE3I,kBAAC8c,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,eAA+B,6BAC/B,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAasU,EAAKR,SAAWQ,EAAKR,QAAQle,QAAU0e,EAAKR,QAAQle,QAAQC,WAAW,IAAIye,EAAKR,QAAQle,QAAQE,UAAY,QAEnJ,kBAAC3G,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,iBAAiC,6BACjC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAasU,EAAKR,SAAWQ,EAAKR,QAAQle,SAAW0e,EAAKR,QAAQle,QAAQuY,QAAUmG,EAAKR,QAAQle,QAAQuY,QAAQllC,KAAM,WAGnJ,6BACA,kBAACkmB,GAAA,EAAKC,IAAN,KACE,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,gBAAgC,6BAChC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAasU,EAAK3rB,QAAU2rB,EAAK3rB,QAAS,UAEpE,kBAACwG,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,eAA+B,6BAC/B,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAasU,EAAKF,YAAcE,EAAKF,YAAa,UAE5E,kBAACjlB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC7B,kBAACkC,GAAA,EAAK2B,MAAN,qBAAqC,6BACrC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAav6B,KAAKgF,MAAMy1B,sB,GApEjD5f,IAAMM,WA+ErBkhB,G,YACJ,WAAY1nB,GAAQ,IAAD,+BACjB,8CAAMA,KAYRq3B,aAAe,SAACjjC,GACd,EAAKub,SAAS,CAAC1X,MAAO7D,KAZtB,EAAK/D,MAAQ,CAACouB,OAAO,GAAIsG,WAAU,EAAO9sB,MAAO,QACjD,EAAKumB,UAAY,EAAKA,UAAUhB,KAAf,iBAHA,E,yEAMTzd,GACLjG,OAAOC,KAAKgG,GAAO/S,QACpB3B,KAAKskB,SAAS,CAACoV,WAAU,IAE3B15B,KAAKskB,SAAS,CAAC8O,OAAO1e,M,+BAOd,IAAD,OACP,OACE,oCACA,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCAAmCzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAE7FjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACvC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAExC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAMa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA3D,MAAkEgI,UAK/E,yBAAKlF,UAAU,OACb,yBAAKA,UAAU,aACb,kBAACyS,GAAD,CACEE,gBAAiBniB,KAAKgF,MAAM4H,MAC5BsV,OAAY,yBAAK1S,UAAU,4BAC3B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACf,kBAAC,QAAD,CAAM4pB,GAAI,aAAc5pB,UAAU,6BAC5B,uBAAGA,UAAU,0BADnB,aASJ,yBAAKA,UAAU,cACb,kBAAC,GAAD,CAAQ/O,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,UAAW2Y,SAAU9rC,KAAKgsC,wB,GAjD3DnxB,IAAMM,WA2DhBye,gBAAWyC,I,qBC3HpBqD,GAA6B7kB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAChD,4BACIQ,IAAKA,EACLR,QAAS,SAAAxY,GACPA,EAAEC,iBACFuY,EAAQxY,IAEVyN,UAAU,8BANd,UASE,kBAAC,GAAD,CAAcA,UAAU,oCAIxB6S,GAAc,CAClBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MAGFC,GAA2BC,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAClE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,IAYV,IAAMqc,GAAmBhd,cAAW,SAAA3O,GAAK,MAAK,CAC5CnH,KAAM,CACJ+yB,YAAa5rB,EAAMiP,QAAQ,GAC3BzK,aAAcxE,EAAMiP,QAAQ,GAC5B3c,QAAS,SAEXu5B,UACyB,UAAvB7rB,EAAMK,QAAQnP,KACV,CACE0Z,MAAO5K,EAAMK,QAAQG,UAAUD,KAC/B0H,gBAAiB6jB,aAAQ9rB,EAAMK,QAAQG,UAAU9O,MAAO,MAE1D,CACEkZ,MAAO5K,EAAMK,QAAQoI,KAAK7W,QAC1BqW,gBAAiBjI,EAAMK,QAAQG,UAAU7O,MAEjDo6B,OAAQ,CACNC,KAAM,YAER56B,QAAS,CACPwZ,MAAO5K,EAAMK,QAAQoI,KAAKjI,WAE5B5H,MAAO,CACLozB,KAAM,gBAIJC,GAAuB,SAAAtrB,GAC3B,IAAM0O,EAAUsc,KACRqD,EAA8KruB,EAA9KquB,eAAgBD,EAA8JpuB,EAA9JouB,WAAYD,EAAkJnuB,EAAlJmuB,QAAS5C,EAAyIvrB,EAAzIurB,cAAcC,EAA2HxrB,EAA3HwrB,WAAYC,EAA+GzrB,EAA/GyrB,QAASC,EAAsG1rB,EAAtG0rB,WAAYC,EAA0F3rB,EAA1F2rB,YAAmBrM,GAAuEtf,EAA7EzP,KAA6EyP,EAAvEsf,UAAUsM,EAA6D5rB,EAA7D4rB,YAAaC,EAAgD7rB,EAAhD6rB,gBAAiBviB,EAA+BtJ,EAA/BsJ,YAAaD,EAAkBrJ,EAAlBqJ,KAAMyiB,EAAY9rB,EAAZ8rB,QAmD1K,OACE,kBAACC,GAAA,EAAD,CACElxB,UAAWgL,aAAK6I,EAAQxW,KAAT,gBACZwW,EAAQwc,UAAYS,EAAc,KAGrC,yBAAK9wB,UAAU,yCACb,yBAAKA,UAAU,0BACb,0BAAMA,UAAU,yBACd,uBAAGA,UAAU,sCAEd8wB,EAAc,EACb,kBAACK,GAAA,EAAD,CAAY/hB,MAAM,UAAUkB,QAAQ,aACjCwgB,EADH,aAIA,wBAAI9wB,UAAU,0BAAd,gBAGJ,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACZ8wB,EAAc,EACb,kBAAC3e,GAAA,EAAD,CAAS/U,MAAM,UACb,kBAAC8W,GAAA,EAAD,CACEnJ,QAAS,SAACxY,GAAD,OAzE3B,SAAsB2B,GACpB,GAAGuwB,EAAStyB,OAAQ,CAClB,IAAIlB,EAAO,CAAC4mB,IAAI4M,GAChBjqB,EAAI,SAASiqB,EAAS,GAAG,IAAKxzB,GAAM8I,MAAK,SAAUC,GAEjD,IAAI,IAAIrG,KAAK6a,EACRiW,EAAS1e,QAAQyI,EAAK7a,GAAGkO,KAAO,UAC1B2M,EAAK7a,GAGhB8a,EAAYD,GACZiW,EAAStyB,OAAS,EAClB4+B,EAAYtM,GACZuM,GAAgB,GAGhB,IAAMI,EAAS,GACfA,EAAO78B,KAAK,GACZ08B,EAAQG,GAERC,SAqD4BC,IAChBnd,aAAW,UAEX,kBAAC,KAAD,QAIJ,yBAAKnU,UAAU,aACb,uBACE+K,QAASsmB,GACTrxB,UAAU,gEAEV,uBAAGA,UAAU,gBAAgBuxB,cAAY,SAJ3C,WAOA,uBACElhB,KAAK,2CACLrQ,UAAU,gEAEV,uBAAGA,UAAU,mBAJf,wBAOA,kBAAC,QAAD,CACE4pB,GAAI,0BACJ5pB,UAAU,2DAEV,uBAAGA,UAAU,eAJf,YAOA,kBAACwxB,GAAA,EAAD,CAAUxxB,UAAU,kBAAkByxB,KAAK,OAAOC,YAAU,GAC1D,kBAACF,GAAA,EAASG,OAAV,CACE9W,GAAIqV,GACJruB,GAAG,4CAGL,kBAAC2vB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,0DACvB,wBAAIA,UAAU,UACZ,wBAAIA,UAAU,gBACZ,uBAAG+K,QAtF3B,WACE4lB,EAAW,IACXj3B,EAAK,QAAS,CAACm4B,QAAQ,QAAQ93B,MAAK,SAAAC,GAClC,IAAI83B,EAAiB,CAAC,YAAa,UAAW,QAAQ,SAAS,kBAAmB,WAAW,QAEzFC,EAAgB,CAAC,MAAO,QAAS,QAAS,QAAS,aAAc,aAAc,aAAc,iBAAiB,YAAa,cAAe,gBAE9IpB,EAAW,UACX,IAAIqB,EAAeh4B,EAAS/I,KAAKuf,KAAI,SAACyhB,EAAGt+B,GAQvC,OANAo+B,EAAcvhB,KAAI,SAAA0hB,GAAK,cAAWD,EAAEC,MAEpCJ,EAAethB,KAAI,SAAC2P,GAClB8R,EAAE9R,GAAS8R,EAAE9R,GAAS8R,EAAE9R,GAAOnsB,KAAOi+B,EAAE9R,MAE1C8R,EAAE7N,gBAAkB6N,EAAE7N,gBAAkB6N,EAAE7N,gBAAgBxD,WAAW,IAAIqR,EAAE7N,gBAAgBvD,UAAUoR,EAAE7N,gBAChG6N,KAETpB,EAAWmB,GACXtvB,SAASC,eAAe,iBAAiBsV,YAmEKjY,UAAU,gBAClC,uBAAGA,UAAU,mCACb,0BAAMA,UAAU,qBAAhB,UACA,yBACEA,UAAW,gBAAkB0wB,KAGjC,kBAAC,WAAD,CACEz/B,KAAM2/B,EACNuB,SAAS,YACTnyB,UAAU,SACV6B,GAAG,gBACH8O,OAAO,YAGX,wBAAI3Q,UAAU,gBACZ,uBAAGA,UAAU,gBACX,uBAAGA,UAAU,mCACb,kBAAC,KAAD,CACEu/B,QAAQ,qBACRC,SAAS,oBACTC,cAAc,SACd/oC,MAAM,SACNgpC,aAAc,SAACzuC,IrDuJtC,SAAoBA,EAAMkvB,GAChC,IAAItmB,EAAS,CACZf,QAASA,EACT7H,KAAMA,EACNkvB,MAAMA,GAEP,OAAOrmB,IAAMS,KAAK9B,EAAQ,SAAUoB,IqD5JL8lC,CAAW1uC,EAAM,WAAW8I,MAAK,SAACC,GAC5BA,EAAS/I,KAAKoF,QAChBm9B,EAAe,WACZA,EAAe,SAEpBD,EAAWv5B,EAAS/I,KAAKyiB,SACzB4f,GAAQ,GACRjC,uBAwB5Be,GAAYjf,cAAW,SAAA3O,GAAK,MAAK,CACrCnH,KAAM,CACJpG,MAAO,OACP+4B,UAAWxrB,EAAMiP,QAAQ,IAE3B4e,MAAO,CACLp7B,MAAO,OACP8iB,aAAcvV,EAAMiP,QAAQ,IAE9B6e,MAAO,CACLC,SAAU,KAEZC,aAAc,CACZC,UAAW,QAEbC,MAAO,CACLzW,QAASzX,EAAMiP,QAAQ,SAIrBkf,GAAIC,EAAQ,IAGlB,SAASvB,KACSsB,GAAE,SAASnI,YACnBqI,KAAKppB,OAAO,MAAM,GAJ5BkpB,GAAEnI,UAAYoI,EAAQ,KAqBtB,IAAME,GAAwBznB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAC3C,uBACEQ,IAAKA,EACLR,QAAS,SAAAxY,GACTA,EAAEC,iBACFuY,EAAQxY,IAERsP,GAAG,+BACH7B,UAAU,6CAET,IACD,uBAAGA,UAAU,yBAIJ,SAAS+yB,GAAc5tB,GACpC,IAAM0O,EAAUue,KAD2B,EAEjB/mB,IAAM3C,SAAS,OAFE,iCAGb2C,IAAM3C,SAAS,aAHF,iCAIX2C,IAAM3C,SAAS,KAJJ,oBAIpC+b,EAJoC,KAI1BsM,EAJ0B,OAKnB1lB,IAAM3C,SAAS,GALI,iCAMjB2C,IAAM3C,UAAS,IANE,iCAOL2C,IAAM3C,SAAS,KAPV,iCAQf2C,IAAM3C,SAAS,KARA,oBAQpC8F,EARoC,KAQ9BC,EAR8B,OASjBpD,IAAM3C,SAAS,GATE,iCAUX2C,IAAM3C,UAAS,IAVJ,oBAUpC4Q,EAVoC,KAU9B0Z,EAV8B,OAWd3nB,IAAM3C,SAAS,GAXD,oBAWpCuqB,EAXoC,KAWzBC,EAXyB,OAYf7nB,IAAM3C,SAAS,IAZA,oBAYpCjT,EAZoC,KAY5B09B,EAZ4B,OAanB9nB,IAAM3C,SAAS,IAbI,oBAapC0qB,EAboC,KAa9BnC,EAb8B,OAcD5lB,IAAM3C,UAAS,GAdd,oBAcpC2qB,EAdoC,KAcpBrC,EAdoB,OAenB3lB,IAAM3C,UAAS,GAfI,oBAepC2J,EAfoC,KAe9BihB,EAf8B,OAgBbjoB,IAAM3C,SAAS,iCAhBF,oBAgBpCgL,EAhBoC,KAgB3B6f,GAhB2B,QAiBjBloB,IAAM3C,UAAS,GAjBE,sBAiBpC4pB,GAjBoC,MAiB7BqB,GAjB6B,SAkBbtoB,IAAM3C,SAAS,IAlBF,sBAkBpCkoB,GAlBoC,MAkB3BC,GAlB2B,SAmBPxlB,IAAM3C,SAAS,UAnBR,sBAmBpCgoB,GAnBoC,MAmBrBC,GAnBqB,SAoBLtlB,IAAM3C,SAAS,WApBV,sBAoBpCoN,GApBoC,MAoBvB0d,GApBuB,MAsBvCxxB,GAAU4xB,eACVl+B,GAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAoO9B,SAAS4pB,GAAiBprB,GACxB8+B,GAAgB,GAGlB,SAAS/L,GAAgB/yB,EAAOpB,EAAOghC,GACrCZ,EAAQpgC,GACRqgC,EAAUW,GACVd,GAAgB,GAxOlB3nB,IAAMhJ,WAAU,WACTswB,GAAEoB,GAAGC,UAAUC,YAAa,WACjBtB,GAAE,SAASnI,YACjBnc,SAAQ,GACdslB,IAAS,GACTllB,EAAY,KAEd,OAAO,WACLA,EAAY,IACGkkB,GAAE,SAASnI,YACjBnc,SAAQ,GACfslB,IAAS,MAEd,IAEHtoB,IAAMhJ,WAAU,WACViwB,IAASK,GAAEoB,GAAGC,UAAUC,YAAa,SAClC37B,KAAKE,UAAUgW,KAAUlW,KAAKE,UAAUsP,OAAOosB,YAChDpsB,OAAOosB,SAAW1lB,IAGpBmlB,IAAS,GAMf,WACE,IACIQ,EAAa,CACf,CAAE,UAAY,EAAO,SAAY,CAAC,IAClC,CACEC,QAAS,EACTn9B,MAAO,OACPo9B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnDC,IAASC,OACT,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWod,EAAQ5yB,IAC5B0I,SAAU,SAAArW,GAAK,OA4IvB,SAAS2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,GAClC,IAAMlQ,EAAgBH,EAAS1e,QAAQlE,GAGjCkzB,EAAKtQ,GAEW,IAAnBG,EACCmQ,EAAIxgC,KAAKsN,GAETkzB,EAAIpQ,OAAOC,EAAe,GAE9BmM,EAAYgE,GACZ,IAAM3D,EAAM,aAAOgC,GACnBhC,EAAO78B,KAAK,GACZ08B,EAAQG,GAEMuB,GAAE,SAASnI,YACnBwK,KAAMT,GAAKK,OAAOD,IAASC,OAC3B,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWxV,GACpB0I,SAAU,SAAArW,GAAK,OAAI2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,IAC9CzX,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyX,MAE1DP,IAnKiBM,CAAY3gC,EAAOugC,EAAQ5yB,GAAI0yB,EAAIzR,IACtDzF,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyF,MAE1DyR,KAIN,CACEH,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjD,IAAIkL,EAAWpL,EAAS53B,cAEpBgjC,EADDA,EAAS7iC,SAAS,SACN6iC,EAAShvB,MAAM,SAAS,GAAGvX,QAAQ,KAAK,KAExCumC,EAASvmC,QAAQ,KAAK,KAEvCs7B,IAASC,OACT,uBAAG98B,MAAO,CAACo1B,cAAe,cAAe7c,KAAM,UAAUokB,EAAQ5yB,GAAG,IAAI+9B,EAAUjvB,OAAO,UACxFivB,GAEKrL,KAIV,CACEH,QAAS,EACTh3B,MAAO,SACPi3B,WAAW,EACX,YAAe,SAAUE,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACH,0BAAM7pB,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,WAAW9iB,UAAwB,IAAbw0B,EAAiB,6CAA6C,6CAClI,+BACE,2BACE9+B,KAAK,WAAWmV,QAAsB,IAAb2pB,EAAiB,iBAAiB,GAC3DxgC,KAAK,gCAEP,iCAEKugC,KAIjB,CACAH,QAAS,EACTE,YAAW,GACX,CACIF,QAAS,EACTh3B,MAAO,UACPi3B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACT,kBAACpD,GAAA,EAAD,CAAUxxB,UAAU,yBAAyByxB,KAAK,OAAOwD,WAAS,GAClE,kBAACzD,GAAA,EAASG,OAAV,CAAiB9W,GAAIiY,KACjB,kBAACtB,GAAA,EAASI,KAAV,CAAgB5xB,UAAU,kEAC1B,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,kBAAM/I,GAAQzN,KAAK,oBAA4BkgC,EAAQ5yB,MAC/E,uBAAG7B,UAAU,iBADb,kBAGA,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,kBAAM/I,GAAQzN,KAAK,oBAA4BkgC,EAAQ5yB,GAAG,WAAW,uBAAG7B,UAAU,mBAA1G,iBACJ,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,YAAW,uBAAG9iB,UAAU,oBAA/E,aAGMu0B,MAKlB5B,GAAE,SAASnI,UAAU,CACnB7d,WAAY,CACVuoB,QAAS,CACPC,SAAUxC,GAAEoB,GAAGC,UAAUoB,WAAWD,SAASE,oBAGjDC,YAAW,EACXC,aAAe5K,GAAW,QAASxlB,GACnC0tB,KAAM,CACJtN,IAxFM9sB,wDAyFN+8B,OAAQ,MACR18B,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,SAASR,KAAKC,MAAMU,aAAaC,QAAQN,IAAgBQ,UAAUC,QAAQ,SAAU,KACpJ,WAAc,SAASpI,GACrB,IAAIwkC,EAAOn9B,KAAKC,MAAMtH,GAClBwjC,EAhLd,SAAsBA,GAWpB,OAVMtzB,MAAMC,QAAQqzB,IAAYA,EAAQtiC,OAAS,GAC/CsiC,EAAQiB,SAAQ,SAASr0B,EAAMvO,GACR,MAAlBuO,EAAKw+B,UACNpL,EAAQ3hC,GAAR,gBAAoCuO,EAAKw+B,UAAU7rC,KAEnDygC,EAAQ3hC,GAAR,gBAAoC,GAEtC2hC,EAAQ3hC,GAAR,QAA4B2hC,EAAQ3hC,GAAR,SAA6B,MAGtD2hC,EAqKekB,CAAaF,EAAKxkC,MAGhC,OAFAwd,EAAYgmB,GACZgB,EAAKxkC,KAAOwjC,EACLn8B,KAAKE,UAAUi9B,KAKtBG,IAAI,2GAGJC,WAAY,CAAC,EAAG,GAAI,GAAI,IAE5BC,WAAY,GACZC,WAAY,UACZC,aAAcxnB,EAAKwnB,aACnBC,gBAAiBznB,EAAKynB,gBAEtB/qB,SAAU,CACR,WAAc,kBAIhBgrB,MAAO,CAAC,CAAC,EAAG,SACZ/B,WAAWA,IAEbxB,GAAE,SAAS9/B,GAAI,WAAW,WACxBw3B,GAAWsI,GAAE,SAAU,QAASxtB,MA9H9BgxB,MAED,CAAC3nB,IAgPN,IAAM4nB,GAAsB,SAACliC,EAAOmiC,GAClC/C,GAAQ,IAGJjc,GAAa,SAAAxV,GAAE,OAA8B,IAA1B4iB,EAAS1e,QAAQlE,IAE1C,OAEE,yBAAK7B,UAAW6T,EAAQxW,MAEtB,kBAACi5B,GAAA,EAAD,CAAOt2B,UAAW6T,EAAQwe,OACxB,yBAAKryB,UAAW6T,EAAQ2e,cACxB,yBAAKxyB,UAAU,iCACX,kBAAC,GAAD,CAAsBwzB,eAAgBA,GAAgB9C,cAAeA,GAAe6C,WAAYA,GAAYD,QAASA,EAAS3C,WAAYA,GAAYM,QAASA,EAASxiB,YAAaA,EAAaD,KAAMA,EAAMwiB,gBAAiBA,EAAiBD,YAAaA,EAAatM,SAAUA,EAAUqM,YAAarM,EAAStyB,OAAQuD,KAAMA,GAAMk7B,QAASA,GAASC,WAAYA,KACxW,yBAAK7wB,UAAU,oBAEb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,uDACb,yBAAKA,UAAU,qCACb,2BAAOu2B,QAnE7B,SAAsBriC,GACNy+B,GAAE,SAASnI,YACnBluB,OAAQpI,EAAMyc,OAAOpX,OAAQi9B,QAiEgB9gC,KAAK,OAAOsK,UAAU,eAAegb,YAAY,YAAYnZ,GAAG,kBAC/F,0BAAM7B,UAAU,iDACd,8BAAM,uBAAGA,UAAU,yBASjC,yBAAKA,UAAU,cACX,6BACE,2BAAOA,UAAU,kEAAkE6B,GAAI,QACnF,+BACA,4BACI,wBAAI40B,YAAU,YACV,kBAACjO,GAAA,EAAD,CACE3d,QAASwoB,EACT9oB,SAnJ9B,SAA8BrW,GAE5B,GAAIA,EAAMyc,OAAO9F,QAAS,CACtB,IAAMkqB,EAAMtQ,EACOjW,EAAKgC,KAAI,SAAAkmB,GAAC,OAAIA,EAAE70B,MACtB6zB,SAAQ,SAAAzD,GACpB8C,EAAIxgC,KAAK09B,MAEZlB,EAAYgE,QAEVtQ,EAAStyB,OAAS,EAClB4+B,EAAYtM,GAGduM,GADCqC,GAKHhC,MAkI4BhU,WAAY,CACV,aAAc,uBAItB,wBAAIoZ,YAAU,MAAd,MACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,eAAd,YACA,wBAAIA,YAAU,yBAAd,kBACA,wBAAIA,YAAU,mBAAd,aACA,wBAAIA,YAAU,YAAd,YACA,wBAAIA,YAAU,aAAd,UACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,WAAd,oBAUpB,kBAACrd,GAAA,EAAD,CAAOE,KAAMA,EAAMC,OAAQ+F,IACzB,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAnGlC,SAAiB7W,GACf,GAAa,UAAVuB,EAAoB,CACrB,IAAIxE,EAAO,CAAC,UAA2C,IAA9Bud,EAAKykB,GAAW7hB,UAAkB,EAAE,GAC7D9W,EAAM,SAASkU,EAAKykB,GAAWpxB,GAAG,IAAK5Q,GAAM8I,MAAK,SAAUC,GAC1DwU,EAAKykB,GAAaj5B,EAAS/I,KAC3Bwd,EAAYD,GACZwkB,GAAgB,GACd3B,KACFiC,GAAQ,GACR,IAAMsD,EAAyC,IAA5B58B,EAAS/I,KAAKmgB,UAAkB,YAAc,cACjEoiB,GACsC,IAApCx5B,EAAS/I,KAAK0lC,kBAA0B,UAAY,SAEpDnD,GAAe,WACfD,GAAW,uBAAuBqD,UAEpB,UAAVnhC,GACR+E,EAAI,SAASgU,EAAKykB,GAAWpxB,GAAG,KAAK9H,MAAK,SAAUC,GAClDwU,EAAKmW,OAAOsO,EAAU,GACtBxkB,EAAYD,GACZwkB,GAAgB,GACd3B,KACFiC,GAAQ,GACNE,GAAe,WACjBD,GAAW,oCA2ET,OAGA,kBAACnjB,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASuU,IAAlC,QAKJ,kBAAC3C,GAAA,EAAD,CACIC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAMA,EACN0K,iBAAkB,IAClBzK,QAAS8jB,IAET,kBAAC,GAAD,CACE9jB,QAAS8jB,GACT9lB,QAASwF,GACTpC,QAASA,MC7sBrB,IAAMkK,GAAgBnZ,aAAe,CACnCoZ,UAAW,CACPC,iBAAiB,CACbzgB,KAAM,CACJ,UAAW,CACT,oBAAoB,CACZ0gB,YAAa,wBAIzBC,YAAa,CACT/B,QAAS,OACTtX,WAAY,iCACZyK,MAAO,eAMf6O,G,YAEF,WAAY9Y,GAAQ,IAAD,8BACf,8CAAMA,KACuBA,MAAMlU,KAAKizB,MAAMtqB,OAAvCkmC,EAFQ,EAERA,QAFQ,EAECpqC,KAFD,OAIf,EAAKF,MAAQ,CACTiqB,WAAW,EACXsgB,KAAM,GACNjhB,aAAc,KACdoB,UAAW,GACXI,SAAU,GACVC,UAAW,GACXE,MAAO,GACPuf,WAAY,GACZC,SAAU,GACVvf,yBAA0B,CAACnnB,MAAO,IAClC2mC,kBAAmB,CAAC3mC,MAAO,IAC3B+nB,eAAgB,CAAC/nB,MAAO,IACxBmoB,gBAAiB,CAACnoB,MAAO,IACzBqoB,cAAe,CAACroB,MAAO,EAAK4L,MAAMlU,KAAKiJ,WAAWuM,KAAO,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAK,MAC9Fs+B,iBAAkB,CAAC5mC,MAAO,IAC1B6mC,sBAAuB,CAAC7mC,MAAO,IAC/B8mC,mBAAoB,CAAC9mC,MAAO,IAC5B+mC,iBAAkBvkC,GAClBwkC,yBAA0B,GAC1B/jC,cAAc,GAElB,EAAKgkC,QAAQV,GA1BE,E,uEA6BXA,GAAU,IAAD,OACbpmC,EAAK,SAAWomC,EAAU,KAAK/lC,MAC3B,SAACC,GACG,EAAK8a,SAAS,CAACirB,KAAM/lC,EAAS/I,OAE9B,EAAKwxB,aACL,EAAK8K,yB,mCAIJr5B,GACT,IAAI6rC,EAAOvvC,KAAKgF,MAAMuqC,KAClBrsC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,MACV,cAAT7F,IACA+c,EAAMvd,SAASud,IAEnBsvB,EAAKrsC,GAAQ+c,EACbjgB,KAAKskB,SAAS,CAACirB,KAAMA,M,mCAGZ7rC,GAAQ,IAAD,OACHA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAC2K,WAAW,IAC1BjvB,KAAKg9B,kBACAh9B,KAAKgF,MAAMspB,qBACLtuB,KAAKgF,MAAMuqC,KAAK/mB,KAC3B1e,EAAM,SAAW9J,KAAKgF,MAAMuqC,KAAKl+B,GAAK,IAAKrR,KAAKgF,MAAMuqC,MAAMhmC,MACxD,SAACC,GACG,EAAK8a,SAAS,CAACirB,KAAM/lC,EAAS/I,OAC9B,EAAKkU,MAAMlU,KAAK+Q,QAAQzN,KAA0B,YAArB,EAAKiB,MAAMC,OAAuB,0BAAwC,uBACxG0jB,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,mCAKxC,IAAIwvC,EAAYjwC,KAAKgF,MAAMuqC,KAIvBrS,EAAmB,CACnBgT,aAActlC,GAGdopB,EAAgBvlB,OAAOC,KAAKwuB,GAChC,IAAK,IAAIn4B,KAAOivB,EACZ,IAAK,IAAI1xB,KAAS46B,EAAiBlJ,EAAcjvB,IAC7C,GAAIm4B,EAAiBlJ,EAAcjvB,IAAMzC,GAAOyG,QAAUknC,EAAUjc,EAAcjvB,IAAO,CACrF/E,KAAKskB,SAAL,gBAAgB,YAAc0P,EAAcjvB,GAAOm4B,EAAiBlJ,EAAcjvB,IAAMzC,KACxF,MAKZ,IAUI66B,EAAkB,CAClB5K,QAAS,CAAC,QACVE,WAAY,CAAC,mBACbG,YAAa,CAAC,YACdud,WAAY,CAAC,WACbC,aAAc,CAAC,aACfvd,YAAa,CAAC,QAAS,WAG3B9oB,EAAK,WAAY,CAACqoB,OAnBL,CACT,QAAW,GACX,WAAc,GACd,aAAgB,GAChB,WAAc,GACd,YAAe,GACf,YAAe,MAagB7oB,KAAK,SAAUC,GAC9C,IAAI4zB,EAAY,GADwC,WAE/C/K,GAEL7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACb,eAARkvB,GAAgC,YAARA,IACxBC,EAAI9uB,KAAO8uB,EAAIlC,WAAa,IAAMkC,EAAIjC,WAC9B,YAARgC,IACAC,EAAIjhB,GAAKihB,EAAI+K,SAEjB7zB,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,GAElC5C,OAAOC,KAAKyuB,GAAiBnd,KAAI,SAACjb,EAAK5B,GACnCg6B,EAAgBp4B,GAAKib,KAAI,SAAChb,EAAO1C,GACzB+vB,IAAQttB,GAA4B,OAArBkrC,EAAUjrC,SAA2C2D,IAAxBsnC,EAAUjrC,GAAOqM,IAAoB4+B,EAAUjrC,GAAOqM,KAAOihB,EAAIjhB,KAC7G+rB,EAAU,YAAcp4B,GAASstB,aAdrD,IAAK,IAAID,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,GAoBT+K,EAAS,MAAY5zB,EAAS/I,KAAK8xB,QACnC6K,EAAS,SAAe5zB,EAAS/I,KAAKgyB,WACtC2K,EAAS,UAAgB5zB,EAAS/I,KAAKmyB,YACvCwK,EAAS,WAAiB5zB,EAAS/I,KAAK2vC,aACxChT,EAAS,SAAe5zB,EAAS/I,KAAK0vC,WACtC/S,EAAS,UAAgB5zB,EAAS/I,KAAKoyB,YAEvCuK,EAAS,cAAmB,EAC5Bp9B,KAAKskB,SAAS8Y,IAChBjL,KAAKnyB,S,4CAGY,IAAD,OACdiwC,EAAYjwC,KAAKgF,MAAMuqC,KACvB5b,EAAY,CAEZC,gBAAiB,WACjBjiB,SAAU,YACVmiB,MAAO,YACP7d,KAAM,QACNo5B,UAAW,aACXgB,QAAS,YAGTtc,EAAwB,CACxBhE,UAAW,CAAC,WAIZmN,EAAmB,CAEnBgT,aAActlC,GAEdopB,EAAgBvlB,OAAOC,KAAKwuB,GAChC,IAAK,IAAIn4B,KAAOivB,EACZ,IAAK,IAAI1xB,KAAS46B,EAAiBlJ,EAAcjvB,IAC7C,GAAIm4B,EAAiBlJ,EAAcjvB,IAAMzC,GAAOyG,QAAUknC,EAAUjc,EAAcjvB,IAAO,CACrF/E,KAAKskB,SAAL,gBAAgB,YAAc0P,EAAcjvB,GAAOm4B,EAAiBlJ,EAAcjvB,IAAMzC,KACxF,MAKZ0xB,EAAgBvlB,OAAOC,KAAKilB,GA/BV,eAgCT5uB,GAELmE,EAAKyqB,EAAUK,EAAcjvB,IADhB,IAC+BwE,KAAK,SAAUC,GAAW,IAAD,EAC7D/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,EAaZ,GAXsC,aAAlCkzB,EAAUK,EAAcjvB,IACxBtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKjC,WAAa,IAAM3vB,EAAK4xB,GAAKhC,UACjB,UAAlCsD,EAAUK,EAAcjvB,MAC7BtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKlC,QAAQC,WAAa,IAAM3vB,EAAK4xB,GAAKlC,QAAQE,WAE5E5vB,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,QAES1I,GAAjCsnC,EAAUjc,EAAcjvB,KAAsBtE,EAAK4xB,GAAKhhB,KAAO4+B,EAAUjc,EAAcjvB,IAAMsM,KAC7F4iB,EAAWxzB,EAAK4xB,SAEwC1pB,GAAxDorB,EAAsBJ,EAAUK,EAAcjvB,KAC9C,IAAK,IAAIzC,KAASyxB,EAAsBJ,EAAUK,EAAcjvB,KAAQ,CACpE,IAAImvB,EAAgBH,EAAsBJ,EAAUK,EAAcjvB,KAAOzC,QAEzCqG,GAA5BsnC,EAAU/b,IAA+BzzB,EAAK4xB,GAAKhhB,KAAO4+B,EAAU/b,GAAe7iB,IACnFrR,KAAKskB,SAAL,gBAAgB,YAAc4P,EAAgBzzB,EAAK4xB,KAMnEryB,KAAKskB,UAAL,oBACKqP,EAAUK,EAAcjvB,IAAQtE,GADrC,eAEK,YAAcuzB,EAAcjvB,GAAOkvB,GAFxC,sBAGUgc,GAHV,KAMF9d,KAAK,KAnCX,IAAK,IAAIptB,KAAOivB,EAAgB,EAAvBjvB,K,wCAuCM,IAAD,OACVwqC,EAAOvvC,KAAKgF,MAAMuqC,KACH,CAAC,OAAO,YAAa,UAAW,QAAS,SAAU,kBAAmB,YAC5EvvB,KAAI,SAACC,EAAK9c,GAChB,EAAK6B,MAAM,YAAcib,KAC1BsvB,EAAKtvB,GAAO,EAAKjb,MAAM,YAAcib,GAAKlX,UAEhD/I,KAAKskB,SAAS,CAACirB,KAAMA,M,mCAGZxmC,EAAOhE,GAAM,IAAD,EACjBwqC,EAAOvvC,KAAKgF,MAAMuqC,KACtBA,EAAKxqC,GAAOgE,GAASA,EAAMA,MAAQA,EAAMA,MAAQ,GACjD/I,KAAKskB,UAAL,oBAAgB,YAAcvf,EAAMgE,GAAgB,IAApD,sBAA8DwmC,GAA9D,M,6BAGG7rC,EAAOyU,GACVjG,SAASC,eAAe,iBAAmBgG,GAAKsP,U,0CAG/B,IAAD,OAEZ6oB,EAAa,GACjB/kC,GAAmByU,KAAI,SAACC,EAAK9c,GACrB,EAAK6B,MAAMuqC,KAAKtvB,EAAIlX,iBAAkB0F,QAAmD,qBAAlC,EAAKzJ,MAAMuqC,KAAKtvB,EAAIlX,OAAOsI,GAClFi/B,EAAWvsC,KAAK,GAAKkc,EAAIlX,OAClB,EAAK/D,MAAMuqC,KAAKtvB,EAAIlX,iBAAkB0F,UAAW,GAAS,EAAKzJ,MAAMuqC,KAAKtvB,EAAIlX,QACrFunC,EAAWvsC,KAAK,GAAKkc,EAAIlX,UAIjC/I,KAAKskB,SAAS,CAACyrB,yBAA0BO,IACzCtwC,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH8qC,iBAFqB9qC,EAAM8qC,iBAAiBxjC,QAAO,SAAAuE,GAAI,OAAKy/B,EAAW/jC,SAASsE,EAAK9H,gB,uCAOhFrF,EAAOqB,GACpB,IAAI+qC,EAAgB,aAAO9vC,KAAKgF,MAAM8qC,kBACtCA,EAAiB3b,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GACxDp0B,KAAKskB,SAAS,CAACwrB,iBAAkBA,IACjC9vC,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH+qC,yBAF0B,uBAAO/qC,EAAM+qC,0BAAb,CAAuChrC,U,uCAO5DrB,EAAOqB,EAAKmB,GACzB,IAAIqqC,EAAYvwC,KAAKgF,MAAMuqC,KACvBO,EAAgB,uBAAO9vC,KAAKgF,MAAM8qC,kBAAlB,CAAoC,CAAC5pC,MAAOA,EAAO6C,MAAOhE,KAC9E/E,KAAKskB,SAAS,CAACwrB,iBAAkBA,IACjC,IAAIC,EAA2B/vC,KAAKgF,MAAM+qC,yBAC1CA,EAA2BA,EAAyBzjC,QAAO,SAAC2T,EAAK9c,GAC7D,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACyrB,yBAA0BA,IACzCQ,EAAUxrC,GAAO,KACjB/E,KAAKskB,SAAS,CAACirB,KAAMgB,IACrBvwC,KAAKskB,SAAL,gBAAgB,YAAcvf,EAAM,CAACgE,MAAO,Q,+BAGtC,IAAD,SAKD/I,KAAKgF,MAHMuqC,GAFV,EAEDtgB,UAFC,EAEUsgB,MAAoBG,GAF9B,EAEgBphB,aAFhB,EAE8BohB,mBAAmBhgB,EAFjD,EAEiDA,UAAWQ,EAF5D,EAE4DA,yBAC7DJ,EAHC,EAGDA,SAAUgB,EAHT,EAGSA,eAAgBf,EAHzB,EAGyBA,UAAWmB,EAHpC,EAGoCA,gBAAuCse,GAH3E,EAGqDpe,cAHrD,EAGoEnB,MAHpE,EAG2Euf,YAC5EK,EAJC,EAIDA,mBAAoBJ,EAJnB,EAImBA,SAAUE,EAJ7B,EAI6BA,iBAAkBC,EAJ/C,EAI+CA,sBAAuB5jC,EAJtE,EAIsEA,aAE3E,OACI,kBAAC0d,GAAA,EAAD,CACIyM,YAAU,EACV9c,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KAEjC,kBAAC2nB,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,oBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,OACNnsB,KAAK,cACLkzB,aAAc6Y,EAAOA,EAAK7H,YAAc,GACxC3tB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGzC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,8BACA,kBAAC3B,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,OACNnsB,KAAK,wBACLkzB,aAAc6Y,EAAOA,EAAKiB,sBAAwB,GAClDz2B,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGzC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,kBACA,kBAAC,KAAD,CACItiB,MAAO8mC,EAAmB9mC,MAAM8mC,EAAmB,YACnDlgB,MAAM,YACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,cACpCjC,QAAS0vC,KAGjB,kBAAC9lB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,OACNnsB,KAAK,WACLkzB,aAAc6Y,EAAOA,EAAKkB,SAAW,GACrC12B,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGzC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,oBACA,kBAAC3B,GAAA,EAAKY,QAAN,CAAcC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,OACNnsB,KAAK,cACLkzB,aAAc6Y,EAAOA,EAAKt+B,YAAc,GACxC8I,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAIvD,kBAAC2nB,GAAA,EAAKC,IAAN,KACK3pB,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,oBAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,WACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACnB,kBAAC3M,GAAA,EAAK2B,MAAN,wBACA,kBAAC,KAAD,CACItiB,MAAOmnB,EAAyBnnB,MAAMmnB,EAAyB,YAC/DP,MAAM,kBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,oBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa+jB,EAAU9jB,OAGjF,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,kBAAmB,qBACpE,kBAAC,KAAD,UAMf/B,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,YAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,WACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO4mC,EAAiB5mC,MAAM4mC,EAAiB,YAC/ChgB,MAAM,UACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,YACpCjC,QAAS2vC,KAGjB,kBAAC7lB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,UAAW,aAC5D,kBAAC,KAAD,UAMf/B,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,aAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,YACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO2mC,EAAkB3mC,MAAM2mC,EAAkB,YACjD/f,MAAM,WACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,aACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,WAAY,cAC7D,kBAAC,KAAD,UAMf/B,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,iBAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,gBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO6mC,EAAsB7mC,MAAM6mC,EAAsB,YACzDjgB,MAAM,OACNnsB,KAAK,eACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS8K,KAGjB,kBAACgf,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,eAAgB,kBACjE,kBAAC,KAAD,UAMf/B,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,UAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,SACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,MACZmF,MAAM,OACNnsB,KAAK,QACLkzB,aAAc6Y,EAAOA,EAAKtX,MAAQ,GAClCle,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGzC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,QAAS,WAC1D,kBAAC,KAAD,WAOpB,kBAAC2nB,GAAA,EAAKC,IAAN,KACK3pB,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,UAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,SACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO+nB,EAAe/nB,MAAM+nB,EAAe,YAC3CnB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,QAAS,WAC1D,kBAAC,KAAD,UAMf/B,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,WAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,UACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmoB,EAAgBnoB,MAAMmoB,EAAgB,YAC7CvB,MAAM,SACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,SAAU,YAC3D,kBAAC,KAAD,WAOnB/B,KAAKgF,MAAM8qC,iBAAiBnuC,OAAO,GAAK,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACrD,kBAACC,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAKs2B,iBAAiBt2B,EAAGA,EAAEoe,OAAOpX,SAEnD,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,mBACC33B,KAAKgF,MAAM8qC,iBAAiB9vB,KAAI,SAAAnP,GAAI,OACjC,4BAAQ9H,MAAO8H,EAAK9H,MAAO6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,eAO7E,kBAAC0Z,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,UAAUuK,UAAU,mBAC7E,uBAAGA,UAAU,eADjB,UAhQJ,WAqQI,kBAAC,QAAD,CAAM4pB,GAAI,mBAAgC5pB,UAAU,kBAChD,uBAAGA,UAAU,iBADjB,e,GAliBKqL,IAAMM,WA2iBrBse,G,YACF,WAAY9kB,GAAQ,IAAD,uBACf,8CAAMA,IACN,IAAIzP,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFf,OAGf,EAAKF,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,GACrC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALF,E,yEAQTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAGjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAEtC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAQa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA7D,MAAoEgI,UAM3F,yBAAKlF,UAAU,OACX,yBAAKA,UAAU,aACX,kBAACyS,GAAD,CACIE,gBAAiB,OACjBD,OAAQ,yBAAK1S,UAAU,4BACnB,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACX,kBAAC,QAAD,CAAM4pB,GAAI,mBACJ5pB,UAAU,6BACZ,uBAAGA,UAAU,0BAFjB,aAUhB,yBAAKA,UAAU,cACX,kBAAC,GAAD,CAAQ/O,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,qB,GAlDjDtY,IAAMM,WA4DhBye,gBAAWH,ICnoBpBrM,GAAgBnZ,aAAe,CACnCoZ,UAAW,CACPC,iBAAiB,CACbzgB,KAAM,CACJ,UAAW,CACT,oBAAoB,CACZ0gB,YAAa,wBAIzBC,YAAa,CACT/B,QAAS,OACTtX,WAAY,iCACZyK,MAAO,eAMf6O,G,YAEF,WAAY9Y,GAAQ,IAAD,8BACf/E,QAAQC,IAAI,cAAe8E,IAC3B,8CAAMA,KAsJVia,UAAY,SAACvd,GACT,EAAKsD,MAAMlU,KAAK+Q,QAAQ3I,QAAQ,oBAChC,EAAK8L,MAAMlU,KAAK+Q,QAAQ3I,QAAQ,4BAvJhC,EAAK7D,MAAQ,CACTiqB,WAAW,EACXsgB,KAAM,CAACt5B,KAAKtB,EAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAGuiB,gBAAgBjf,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQ9e,IAC7Fid,aAAc,KACdoB,UAAW,GACXI,SAAU,GACVC,UAAW,GACXE,MAAO,GACPuf,WAAY,GACZC,SAAU,GACVvf,yBAA0B,CACtB7e,GAAGsD,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQ9e,GACtCnL,MAAMyO,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQC,WAAW,IAAIzb,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQE,UAC3FtnB,OAAM,GAEV+nB,eAAgB,CAAC/nB,MAAO,IACxBmoB,gBAAiB,CAACnoB,MAAO,IACzBqoB,cAAe,CAACroB,MAAO,EAAK4L,MAAMlU,KAAKiJ,WAAWuM,KAAO,EAAKtB,MAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAAK,MAC9Fs+B,iBAAkB,CAAC5mC,MAAO,IAC1B6mC,sBAAuB,CAAC7mC,MAAO,IAC/B8mC,mBAAoB,CAAC9mC,MAAO,IAC5B+mC,iBAAkBvkC,GAClBwkC,yBAA0B,GAC1B/jC,cAAc,GAGlB,EAAKimB,aA7BU,E,4EAgCNvuB,GACT,IAAI6rC,EAAOvvC,KAAKgF,MAAMuqC,KAClBrsC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,MACV,cAAT7F,IACA+c,EAAMvd,SAASud,IAEnBsvB,EAAKrsC,GAAQ+c,EACbjgB,KAAKskB,SAAS,CAACirB,KAAMA,M,mCAGZ7rC,GAAQ,IAAD,OACHA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAC2K,WAAW,IACrBjvB,KAAKgF,MAAMspB,qBACLtuB,KAAKgF,MAAMuqC,KAAK/mB,KAC3Bze,EAAK,QAAS/J,KAAKgF,MAAMuqC,MAAMhmC,MAC3B,SAACC,GACG,EAAK8a,SAAS,CAACirB,KAAM/lC,EAAS/I,OAC9B,EAAKkU,MAAMlU,KAAK+Q,QAAQzN,KAA0B,YAArB,EAAKiB,MAAMC,OAAuB,EAAK2pB,UAAU,cAAgB,uBAC/FjG,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,mCAaxCsJ,EAAK,WAAY,CAACqoB,OARL,CACT,QAAW,GACX,WAAc,GACd,aAAgB,GAChB,WAAc,GACd,YAAe,GACf,YAAe,MAEgB7oB,KAAK,SAAUC,GAAW,IAAD,WAC/C6oB,GAEL7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACb,eAARkvB,GAAgC,YAARA,IACxBC,EAAI9uB,KAAO8uB,EAAIlC,WAAa,IAAMkC,EAAIjC,WAE9B,YAARgC,IACAC,EAAIjhB,GAAKihB,EAAI+K,SAEjB7zB,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,OAV1C,IAAK,IAAIghB,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,GAaTryB,KAAKskB,SAAS,CACV2L,MAAOzmB,EAAS/I,KAAK8xB,QACrBzC,SAAUtmB,EAAS/I,KAAKgyB,WACxB+c,WAAYhmC,EAAS/I,KAAK2vC,aAC1BX,SAAUjmC,EAAS/I,KAAK0vC,WACxBzgB,UAAWlmB,EAAS/I,KAAKmyB,YACzB7C,UAAWvmB,EAAS/I,KAAKoyB,YACzB7mB,cAAc,KAEpBmmB,KAAKnyB,S,4CAGY,IAAD,OACd2zB,EAAY,CAEZC,gBAAiB,WACjBjiB,SAAU,YACVmiB,MAAO,YACP7d,KAAM,QACNo5B,UAAW,aACXgB,QAAS,YAGTtc,EAAwB,CACxBhE,UAAW,CAAC,WAGZiE,EAAgBvlB,OAAOC,KAAKilB,GAfd,WAgBT5uB,GAELmE,EAAKyqB,EAAUK,EAAcjvB,IADhB,IAC+BwE,KAAK,SAAUC,GAAW,IAAD,EAC7D/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,EAaZ,GAXsC,aAAlCkzB,EAAUK,EAAcjvB,IACxBtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKjC,WAAa,IAAM3vB,EAAK4xB,GAAKhC,UACjB,UAAlCsD,EAAUK,EAAcjvB,MAC7BtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKlC,QAAQC,WAAa,IAAM3vB,EAAK4xB,GAAKlC,QAAQE,WAE5E5vB,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,QAEe1I,GAAvC3I,KAAKgF,MAAMuqC,KAAKvb,EAAcjvB,KAAsBtE,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAMuqC,KAAKvb,EAAcjvB,IAAMsM,KACzG4iB,EAAWxzB,EAAK4xB,SAEwC1pB,GAAxDorB,EAAsBJ,EAAUK,EAAcjvB,KAC9C,IAAK,IAAIzC,KAASyxB,EAAsBJ,EAAUK,EAAcjvB,KAAQ,CACpE,IAAImvB,EAAgBH,EAAsBJ,EAAUK,EAAcjvB,KAAOzC,QACnCqG,GAAlC3I,KAAKgF,MAAMuqC,KAAKrb,IAA+BzzB,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAMuqC,KAAKrb,GAAe7iB,IAC/FrR,KAAKskB,SAAL,gBAAgB,YAAc4P,EAAgBD,IAI9Dj0B,KAAKskB,UAAL,oBAAgBqP,EAAUK,EAAcjvB,IAAQtE,GAAhD,eAAuD,YAAcuzB,EAAcjvB,GAAOkvB,GAA1F,KAEF9B,KAAK,KA5BX,IAAK,IAAIptB,KAAOivB,EAAgB,EAAvBjvB,K,mCAgCAgE,EAAOhE,GAAM,IAAD,EACjBwqC,EAAOvvC,KAAKgF,MAAMuqC,KACtBA,EAAKxqC,GAAOgE,GAASA,EAAMA,MAAQA,EAAMA,MAAQ,GACjD/I,KAAKskB,UAAL,oBAAgB,YAAcvf,EAAMgE,GAAgB,IAApD,sBAA8DwmC,GAA9D,M,6BAGG7rC,EAAOyU,GACVjG,SAASC,eAAe,iBAAmBgG,GAAKsP,U,uCAQnC/jB,EAAOqB,GACpB,IAAI+qC,EAAgB,aAAO9vC,KAAKgF,MAAM8qC,kBACtCA,EAAiB3b,OAAOzwB,EAAMyc,OAAOiU,cAAgB,EAAG,GACxDp0B,KAAKskB,SAAS,CAACwrB,iBAAkBA,IACjC9vC,KAAKskB,UAAS,SAAAtf,GAEV,MAAO,CACH+qC,yBAF0B,uBAAO/qC,EAAM+qC,0BAAb,CAAuChrC,U,uCAO5DrB,EAAOqB,EAAKmB,GACzB,IAAI4pC,EAAgB,uBAAO9vC,KAAKgF,MAAM8qC,kBAAlB,CAAoC,CAAC5pC,MAAOA,EAAO6C,MAAOhE,KAC9E/E,KAAKskB,SAAS,CAACwrB,iBAAkBA,IACjC,IAAIC,EAA2B/vC,KAAKgF,MAAM+qC,yBAC1CA,EAA2BA,EAAyBzjC,QAAO,SAAC2T,EAAK9c,GAC7D,OAAO4B,IAAQkb,KAEnBjgB,KAAKskB,SAAS,CAACyrB,yBAA0BA,M,+BAGnC,IAAD,SAKD/vC,KAAKgF,MAHMuqC,GAFV,EAEDtgB,UAFC,EAEUsgB,MAAoBG,GAF9B,EAEgBphB,aAFhB,EAE8BohB,mBAAmBhgB,EAFjD,EAEiDA,UAAWQ,EAF5D,EAE4DA,yBAC7DJ,EAHC,EAGDA,SAAUgB,EAHT,EAGSA,eAAgBf,EAHzB,EAGyBA,UAAWmB,EAHpC,EAGoCA,gBAAuCse,GAH3E,EAGqDpe,cAHrD,EAGoEnB,MAHpE,EAG2Euf,YAC5EK,EAJC,EAIDA,mBAAoBJ,EAJnB,EAImBA,SAAUE,EAJ7B,EAI6BA,iBAAkBC,EAJ/C,EAI+CA,sBAAuB5jC,EAJtE,EAIsEA,aAE3E,OACI,kBAAC0d,GAAA,EAAD,CACIyM,YAAU,EACV9kB,GAAG,aACHgI,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KAEjC,kBAAC2nB,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,oBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,OACNnsB,KAAK,cACLkzB,aAAc6Y,EAAOA,EAAK7H,YAAc,GACxC3tB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGzC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,8BACA,kBAAC3B,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,OACNnsB,KAAK,wBACLkzB,aAAc6Y,EAAOA,EAAKiB,sBAAwB,GAClDz2B,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGzC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,kBACA,kBAAC,KAAD,CACItiB,MAAO8mC,EAAmB9mC,MAAM8mC,EAAmB,YACnDlgB,MAAM,YACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,cACpCjC,QAAS0vC,KAGjB,kBAAC9lB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,SACLslB,YAAY,GACZmF,MAAM,OACNnsB,KAAK,WACLkzB,aAAc6Y,EAAOA,EAAKkB,SAAW,GACrC12B,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGzC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,oBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACEC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,OACNnsB,KAAK,cACLkzB,aAAc6Y,EAAOA,EAAKt+B,YAAc,GACxC8I,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAI3C,kBAAC2nB,GAAA,EAAKC,IAAN,KACK3pB,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,oBAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,wBACA,kBAACzB,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAOmnB,EAAyBnnB,MAAMmnB,EAAyB,YAC/DP,MAAM,kBACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,oBACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa+jB,EAAU9jB,OAGzF,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACfpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,kBAAmB,qBACpE,kBAAC,KAAD,UAMX/B,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,YAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,WACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO4mC,EAAiB5mC,MAAM4mC,EAAiB,YAC/ChgB,MAAM,UACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,YACpCjC,QAAS2vC,KAGjB,kBAAC7lB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,UAAW,aAC5D,kBAAC,KAAD,UAMf/B,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,aAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,YACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO2mC,GAAoC,YAC3C/f,MAAM,WACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,aACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,WAAY,cAC7D,kBAAC,KAAD,UAMf/B,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,iBAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,gBACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO6mC,EAAsB7mC,MAAM6mC,EAAsB,YACzDjgB,MAAM,OACNnsB,KAAK,eACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS8K,KAGjB,kBAACgf,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,eAAgB,kBACjE,kBAAC,KAAD,UAMf/B,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,UAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,SACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,MACZmF,MAAM,OACNnsB,KAAK,QACLkzB,aAAc6Y,EAAOA,EAAKtX,MAAQ,GAClCle,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAGzC,kBAAC6nB,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,QAAS,WAC1D,kBAAC,KAAD,WAOpB,kBAAC2nB,GAAA,EAAKC,IAAN,KACK3pB,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,UAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,SACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC,KAAD,CACIttB,MAAO+nB,EAAe/nB,MAAM+nB,EAAe,YAC3CnB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,QAAS,WAC1D,kBAAC,KAAD,UAMf/B,KAAKgF,MAAM+qC,yBAAyBxjC,SAAS,WAC9C,kBAACqd,GAAA,EAAD,CAAKC,GAAG,KACR,kBAACH,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IAAIra,UAAU,aAApC,UACA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACP,kBAAC,KAAD,CACIttB,MAAOmoB,EAAgBnoB,MAAMmoB,EAAgB,YAC7CvB,MAAM,SACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpC8J,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAagkB,EAAW/jB,OAG1F,kBAAC4d,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAACnG,GAAA,EAAD,CAAYC,aAAW,SACXpJ,QAAS,SAACxY,GAAD,OAAO,EAAKq2B,iBAAiBr2B,EAAG,SAAU,YAC3D,kBAAC,KAAD,WAOnB/B,KAAKgF,MAAM8qC,iBAAiBnuC,OAAO,GAAK,kBAAC+nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACrD,kBAACC,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAACiB,GAAA,EAAD,CAAaxX,QAAQ,WAAWyX,WAAW,GACvC,kBAACviB,GAAA,EAAD,CAAehB,MAAOoZ,IACtB,kBAACoK,GAAA,EAAD,CACIC,QAAM,EACN1uB,MAAM,GACNgR,SAAU,SAAChY,GAAD,OAAO,EAAKs2B,iBAAiBt2B,EAAGA,EAAEoe,OAAOpX,SAEnD,4BAAQA,MAAM,GAAG4uB,UAAQ,GAAzB,oBACC33B,KAAKgF,MAAM8qC,iBAAiB9vB,KAAI,SAAAnP,GAAI,OACjC,4BAAQ9H,MAAO8H,EAAK9H,MAAO6uB,aAAY/mB,EAAK3K,OAAQ2K,EAAK3K,eAO7E,kBAAC0Z,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,UAAUuK,UAAU,mBAC7E,uBAAGA,UAAU,eADjB,gBAjQJ,WAuQI,kBAACoQ,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,cAAcuK,UAAU,mBACjF,uBAAGA,UAAU,eADjB,cAvQJ,WA6QI,kBAAC,QAAD,CAAM4pB,GAAI,mBAAgC5pB,UAAU,kBAChD,uBAAGA,UAAU,iBADjB,e,GAzcKqL,IAAMM,WAkdrBse,G,YACF,WAAY9kB,GAAQ,IAAD,uBACf,8CAAMA,IACN,IAAIzP,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFf,OAGf,EAAKF,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,GACrC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALF,E,yEAQTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAGjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAEtC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAQa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA7D,MAAoEgI,UAM3F,yBAAKlF,UAAU,OACX,yBAAKA,UAAU,aACX,kBAACyS,GAAD,CACIE,gBAAiB,OACjBD,OAAQ,yBAAK1S,UAAU,4BACnB,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACX,kBAAC,QAAD,CAAM4pB,GAAI,mBACJ5pB,UAAU,6BACZ,uBAAGA,UAAU,0BAFjB,aAUhB,yBAAKA,UAAU,cACX,kBAAC,GAAD,CAAQ/O,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,qB,GAlDjDtY,IAAMM,WA4DhBye,gBAAWH,ICriBpBY,G,YAEJ,WAAY1lB,GAAQ,IAAD,8BACjB,8CAAMA,KACyBA,MAAMlU,KAAKizB,MAAMtqB,OAAxCkmC,EAFS,EAETA,QAASpqC,EAFA,EAEAA,KAFA,OAMjB,EAAKq1B,WAAa,CAACzN,WAAW,KAC9B,EAAK2J,gBAAkB,EAAKA,gBAAgBtE,KAArB,iBACvB,EAAKrD,iBAAmB,EAAKA,iBAAiBqD,KAAtB,iBACxB,EAAKD,QAAU,EAAKA,QAAQC,KAAb,iBACf,EAAKntB,MAAQ,CACXE,KAAOA,EACPqqC,KAAK,GACLtqC,OAAO,GACPu1B,WAAW,EACXC,WAAY,GACZC,WAAY,GACZC,aAAc,IAGhB,EAAKqV,QAAQV,GACb,EAAKzU,SAlBY,CACfpP,QAAU,QAJK,E,uEAwBX6jB,GAAU,IAAD,OACfpmC,EAAK,SAASomC,EAAQ,KAAK/lC,MACzB,SAACC,UACUA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CACVmW,YAAa,IAAIK,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKg6B,aACrEC,YAAa,IAAII,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKi6B,eAEzE,EAAK/lB,MAAM+7B,aAAalnC,EAAS/I,KAAKmM,MAAO0iC,GAC7C,EAAKhrB,SAAS,CAACirB,KAAO/lC,EAAS/I,Y,mCAI1Bwf,EAAK/c,GAAO,IAAD,OAClBqsC,EAAOvvC,KAAKgF,MAAMuqC,KAEtBA,EAAKrsC,GAAQ+c,EACbjgB,KAAKskB,SAAS,CAACirB,KAAOA,IACtBzlC,EAAM,SAAS9J,KAAKgF,MAAMuqC,KAAKl+B,GAAG,IAAKrR,KAAKgF,MAAMuqC,MAAMhmC,MACtD,SAACC,GACC,EAAK8a,SAAS,CAACirB,KAAO/lC,EAAS/I,UAChCkoB,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,sCAI1BiD,EAAOuB,GACrB,IAAIgb,EAAMvc,EAAMyc,OAAOpX,MACR,WAAX9D,IACFgb,EAAMvd,SAASud,GACfjgB,KAAKskB,SAAS,CAACqW,aAAuB,IAAR1a,EAAY,EAAE,KAE9CjgB,KAAKskB,SAAS,CAACrf,OAAQA,IACvBjF,KAAKskB,SAAS,CAAEkW,WAAW,M,yCAI5Bx6B,KAAKskB,SAAS,CAAEkW,WAAW,M,gCAGjB,IAAD,OACiB,WAAtBx6B,KAAKgF,MAAMC,SACZjF,KAAKgF,MAAMuqC,KAAK5U,aAAe36B,KAAKgF,MAAM21B,aAC1C7wB,EAAM,SAAS9J,KAAKgF,MAAMuqC,KAAKl+B,GAAG,IAAK,CAACspB,aAAc36B,KAAKgF,MAAM21B,eAAepxB,MAC9E,SAACC,UACQA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CAACirB,KAAO/lC,EAAS/I,OAC/B,EAAK6jB,SAAS,CAACkW,WAAY,OAC5B7R,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,MACpC,EAAK6jB,SAAS,CAACkW,WAAY,U,+BAKzB,IAAD,EACqBx6B,KAAKgF,MAAduqC,GADZ,EACCtgB,UADD,EACYsgB,MACboB,EAAWpB,EAAKt5B,KAAQs5B,EAAKt5B,KAAKka,QAAUof,EAAKt5B,KAAKka,QAAQC,WAAa,IAAMmf,EAAKt5B,KAAKka,QAAQE,UAAYkf,EAAKt5B,KAAK62B,MAAS,GACxI,OACI,6BACE,kBAACvlB,GAAA,EAAD,CAAM0T,WAAS,EAAChY,QAAS,GACnB,kBAACsE,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACrB,yBAAKvb,UAAU,sBACL,yBAAKA,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,QACA,6BAAM+/B,EAAKt5B,KAAO,kBAAC,QAAD,CAAMkK,OAAO,SACPiZ,GAAI,YAAcmW,EAAKt5B,KAAK5E,GAAK,KAAMs/B,GAAmB,UAEtF,yBAAKnhC,UAAU,mBACX,yBAAKA,UAAU,yBAAf,eACA,6BAAM+/B,EAAK7H,YAAc6H,EAAK7H,YAAc,WAGpD,yBAAKl4B,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,yBACA,6BAAM+/B,EAAKiB,sBAAwBjB,EAAKiB,sBAAwB,UAEpE,yBAAKhhC,UAAU,mBACX,yBAAKA,UAAU,yBAAf,aACA,6BAAM+/B,EAAKF,UAAYE,EAAKF,UAAU7rC,KAAO,MAGrD,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,WACA,6BAAM+/B,EAAKc,QAAUd,EAAKc,QAAQ7sC,KAAO,UAE7C,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,YACA,6BAAM+/B,EAAKkB,SAAWlB,EAAKkB,SAAW,WAG9C,yBAAKjhC,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,mBACA,6BAAM+/B,EAAK3b,gBAAkB2b,EAAK3b,gBAAgBxD,WAAa,IAAMmf,EAAK3b,gBAAgBvD,UAAY,UAE1G,yBAAK7gB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,YACA,6BAAM+/B,EAAK59B,SAAW49B,EAAK59B,SAASnO,KAAO,WAGnD,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAM+/B,EAAKW,aAAeX,EAAKW,aAAe,UAElD,yBAAK1gC,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAM+/B,EAAKtX,MAAQsX,EAAKtX,MAAQ,WAGxC,yBAAKzoB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,SACA,6BAAM+/B,EAAKzb,MAAQyb,EAAKzb,MAAMtwB,KAAO,UAEzC,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,UACA,6BAAM+/B,EAAKrU,OAASqU,EAAKrU,OAAO13B,KAAO,WAG/C,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,oBACA,6BAAM+/B,EAAK5U,aAAe,MAAQ,OAEtC,yBAAKnrB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAMxP,KAAKgF,MAAMy1B,WAAaz6B,KAAKgF,MAAMy1B,WAAa,WAG9D,yBAAKjrB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMxP,KAAKgF,MAAM01B,WAAa16B,KAAKgF,MAAM01B,WAAa,cAOhF,kBAAC9R,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAMw1B,UAAWzR,OAAQ/oB,KAAK8uB,kBAC9C,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASva,KAAKkyB,SAAvC,OAGA,kBAACtS,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAK8uB,kBAAxC,a,GAlLOjU,IAAMM,WA4LrBkhB,G,YACJ,WAAY1nB,GAAQ,IAAD,wBACjB,8CAAMA,KAaN+7B,aAAe,SAAC9jC,EAAOyE,GACnB,IAAI+9B,EAAWxiC,EAAMR,cAEjBgjC,EADDA,EAAS7iC,SAAS,SACN6iC,EAAShvB,MAAM,SAAS,GAAGvX,QAAQ,KAAK,KAExCumC,EAASvmC,QAAQ,KAAK,KAErC,EAAKyb,SAAS,CAACssB,WAAWxB,EAAUyB,SAAUx/B,EAAG,IAAIzE,EAAMR,iBAnB/D,IAAIlH,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFb,OAGjB,EAAKF,MAAQ,CAACouB,OAAO,GAAIsG,WAAU,GACnC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALA,E,yEAQTzd,GACLjG,OAAOC,KAAKgG,GAAO/S,QACpB3B,KAAKskB,SAAS,CAACoV,WAAU,IAE3B15B,KAAKskB,SAAS,CAAC8O,OAAO1e,M,+BAWd,IAAD,OACP,OACE,oCACA,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCAAmCzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAE7FjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACvC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAExC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAMa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA3D,MAAkEgI,UAK/E,yBAAKlF,UAAU,OACb,yBAAKA,UAAU,aACb,kBAACyS,GAAD,CACEE,gBAAiB,wBAAIsa,MAAM,yBAAyBn1B,MAAO,CAACo1B,cAAe,eAC3E,uBAAGvc,OAAO,SAASN,KAAM,SAAS7f,KAAKgF,MAAM6rC,UAAW7wC,KAAKgF,MAAM4rC,aAEnE1uB,OAAY,yBAAK1S,UAAU,4BAC3B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACf,kBAAC,QAAD,CAAM4pB,GAAI,mBAA4B5pB,UAAU,6BAC1C,uBAAGA,UAAU,0BADnB,QAIE,kBAAC,QAAD,CAC4B4pB,GAAI,oBAA8Bp5B,KAAK2U,MAAM+e,MAAMtqB,OAAOkmC,QAAU,QACpE9/B,UAAU,mBACV,uBAAGA,UAAU,eAHzC,aAWN,yBAAKA,UAAU,cACb,kBAAC,GAAD,CAAQ/O,KAAMT,KAAK2U,MAAO+7B,aAAc,SAAC9jC,EAAOyE,GAAR,OAAc,EAAKq/B,aAAa9jC,EAAOyE,IAAK8hB,UAAWnzB,KAAKmzB,qB,GA/D3FtY,IAAMM,WAyEhBye,gBAAWyC,IChQpB7P,GAAuBvY,aAAe,CACxCU,MAAO,CACH8X,SAAU,CACNC,kBAAkB,GAEtBC,aAAc,CACVrlB,MAAO,CACHhB,QAAS,UAGjBsmB,aAAc,CACVtlB,MAAO,CACHhB,QAAS,SAEbomB,kBAAkB,EAClBG,WAAY,CACRvlB,MAAO,CACHhB,QAAS,QACTwX,OAAQ,6BACR2N,QAAS,eACTjP,SAAU,OACVsQ,WAAY,MACZC,WAAY,MACZnO,MAAO,UACP3C,gBAAiB,OACjB+Q,eAAgB,cAChBnO,OAAQ,oBACRoO,aAAc,MACdC,WAAY,+DACZC,UAAW,mBAOzBM,G,YAEF,WAAY9Y,GAAQ,IAAD,+BACf,8CAAMA,KA4LVia,UAAY,SAACvd,GACT,EAAKsD,MAAMlU,KAAK+Q,QAAQ3I,QAAQ,sBAChC,EAAK8L,MAAMlU,KAAK+Q,QAAQ3I,QAAQ,8BA7LhC,EAAK7D,MAAQ,CACTiqB,WAAW,EACX6hB,OAAQ,CACJ5hB,IAAK,IAAIlf,KACTiG,KAAKtB,EAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAChCuiB,gBAAgBjf,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQ9e,IAEvDid,aAAc,KACdkB,aAAc,GACdE,UAAW,GACXgF,OAAQ,GACR5E,SAAU,GACVH,MAAO,GACPO,yBAA0B,CACtB7e,GAAGsD,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQ9e,GACtCnL,MAAMyO,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQC,WAAW,IAAIzb,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQE,UAC3FtnB,OAAM,GAEVwnB,cAAe,CAACxnB,MAAO,IACvBgoC,gBAAiB,CAAChoC,MAAO,IACzB0nB,sBAAuB,CAAC1nB,MAAO,IAC/BugC,iBAAkB,CAACvgC,MAAO,IAC1B6nB,eAAgB,CAAC7nB,MAAO,IACxBioC,eAAgB,CAACjoC,MAAO,IACxBmmB,IAAK,IAAIlf,KACThE,cAAc,GAGlB,EAAKimB,aA9BU,E,4EAiCNvuB,EAAOwB,GAChB,IAAI4rC,EAAS9wC,KAAKgF,MAAM8rC,OACxB,GAAa,SAAT5rC,GAA4B,QAATA,EACnB,IAAIhC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,WACpB,GAAY,OAAR7D,EAAe,CAClBhC,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,OAAO,QAC/BpvB,KAAKskB,SAAS,CAAC4K,IAAKxrB,QACjB,CACCR,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,OAAO,cAC/BpvB,KAAKskB,SAAS,CAACgX,KAAM53B,IAEZ,cAATR,IACA+c,EAAMvd,SAASud,IACnB6wB,EAAO5tC,GAAQ+c,EACfjgB,KAAKskB,SAAS,CAACwsB,OAAQA,M,mCAGdptC,GAAQ,IAAD,OACHA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAC2K,WAAW,IACrBjvB,KAAKgF,MAAMspB,qBACLtuB,KAAKgF,MAAM8rC,OAAOtoB,KAC7Bze,EAAK,UAAW/J,KAAKgF,MAAM8rC,QAAQvnC,MAC/B,SAACC,GACG,EAAK8a,SAAS,CAACwsB,OAAQtnC,EAAS/I,OAChC,EAAKkU,MAAMlU,KAAK+Q,QAAQzN,KAA0B,YAArB,EAAKiB,MAAMC,OAAuB,EAAK2pB,UAAU,eAAiB,yBAChGjG,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,mCAUxCsJ,EAAK,WAAY,CAACqoB,OALL,CACT,QAAW,GACX,WAAc,GACd,YAAe,MAEgB7oB,KAAK,SAAUC,GAAW,IAAD,WAC/C6oB,GAEL7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACb,eAARkvB,GAAgC,YAARA,IACxBC,EAAI9uB,KAAO8uB,EAAIlC,WAAa,IAAMkC,EAAIjC,WAE9B,YAARgC,IACAC,EAAIjhB,GAAKihB,EAAI+K,SAEjB7zB,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,OAV1C,IAAK,IAAIghB,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,GAaTryB,KAAKskB,SAAS,CACV2L,MAAOzmB,EAAS/I,KAAK8xB,QACrBzC,SAAUtmB,EAAS/I,KAAKgyB,WACxB/C,UAAWlmB,EAAS/I,KAAKmyB,YACzB5mB,cAAc,KAEpBmmB,KAAKnyB,S,4CAGY,IAAD,OACd2zB,EAAY,CAEZC,gBAAiB,WACjBoW,QAAS,YACT/zB,KAAM,QACNuZ,aAAc,eAEdG,MAAO,SAGPoE,EAAwB,GAExBC,EAAgBvlB,OAAOC,KAAKilB,GAbd,WAcT5uB,GAELmE,EAAKyqB,EAAUK,EAAcjvB,IADhB,CAACs8B,QAAQ,QACsB93B,KAAK,SAAUC,GAAW,IAAD,EAC7D/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,EAaZ,GAXsC,aAAlCkzB,EAAUK,EAAcjvB,IACxBtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKjC,WAAa,IAAM3vB,EAAK4xB,GAAKhC,UACjB,UAAlCsD,EAAUK,EAAcjvB,MAC7BtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKlC,QAAQC,WAAa,IAAM3vB,EAAK4xB,GAAKlC,QAAQE,WAE5E5vB,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,QAEiB1I,GAAzC3I,KAAKgF,MAAM8rC,OAAO9c,EAAcjvB,KAAsBtE,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAM8rC,OAAO9c,EAAcjvB,IAAMsM,KAC7G4iB,EAAWxzB,EAAK4xB,SAEwC1pB,GAAxDorB,EAAsBJ,EAAUK,EAAcjvB,KAC9C,IAAK,IAAIzC,KAASyxB,EAAsBJ,EAAUK,EAAcjvB,KAAQ,CACpE,IAAImvB,EAAgBH,EAAsBJ,EAAUK,EAAcjvB,KAAOzC,QACjCqG,GAApC3I,KAAKgF,MAAM8rC,OAAO5c,IAA+BzzB,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAM8rC,OAAO5c,GAAe7iB,IACnGrR,KAAKskB,SAAL,gBAAgB,YAAc4P,EAAgBD,IAI9Dj0B,KAAKskB,UAAL,oBAAgBqP,EAAUK,EAAcjvB,IAAQtE,GAAhD,eAAuD,YAAcuzB,EAAcjvB,GAAOkvB,GAA1F,KAEF9B,KAAK,KA5BX,IAAK,IAAIptB,KAAOivB,EAAgB,EAAvBjvB,K,mCAgCAgE,EAAOhE,GAAM,IAAD,EACjB+rC,EAAS9wC,KAAKgF,MAAM8rC,OACxBA,EAAO/rC,GAAOgE,GAASA,EAAMA,MAAQA,EAAMA,MAAQ,GACnD/I,KAAKskB,UAAL,oBAAgB,YAAcvf,EAAMgE,GAAgB,IAApD,wBAAgE+nC,GAAhE,IAEA,IAAI5rC,EAAO6D,GAAgB,GAK3B,GAJY,SAARhE,IACAG,EAAOlF,KAAKgF,MAAMurB,eAGlB,CAAC,eAAgB,OAAQ,UAAUhb,QAAQxQ,IAAQ,GAAc,KAATG,GAAe6D,GACnE,CAAC,WAAY,SAAU,OAAOwM,QAAQrQ,EAAK6D,QAAU,EAAG,CACxD,IAAII,EAAW,GAAIC,EAAS,CAACi4B,QAAQ,OAAQhN,EAAgB,GACjD,iBAARtvB,GACAoE,EAAW,OACXC,EAAM,eAAOA,EAAP,GAAkB,CAACwX,UAAW,EAAG4T,gBAAiBzrB,EAAMsI,GAAInM,KAAMA,EAAK6D,QAC7EsrB,EAAgB,UACD,WAARtvB,GACPoE,EAAW,QACXC,EAAM,eAAOA,EAAP,GAAkB,CAACwX,UAAW,EAAG8T,OAAQ3rB,EAAMsI,GAAInM,KAAMA,EAAK6D,QACpEsrB,EAAgB,SACD,SAARtvB,IACPoE,EAAW,eACXC,EAAM,eAAOA,EAAP,GAAkB,CAACwX,UAAW,EAAG1b,KAAMA,EAAK6D,QAClDsrB,EAAgB,gBAGpBnrB,EAAKC,EAAUC,GAAQG,KAAK,SAAUC,GAAW,IAAD,EACxC/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,OAC4BkI,GAApC3I,KAAKgF,MAAM8rC,OAAOzc,IAA+B5zB,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAM8rC,OAAOzc,GAAehjB,KACnG4iB,EAAQ,MAAYxzB,EAAK4xB,GAAK7uB,KAC9BywB,EAAQ,MAAYxzB,EAAK4xB,GAAKhhB,IAElC5Q,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,GAEhCrR,KAAKskB,UAAL,oBAAgB+P,EAAgB5zB,GAAhC,eAAuC,YAAc4zB,EAAgBJ,GAArE,KAEF9B,KAAKnyB,U,+BAUT,IAAD,SAMDA,KAAKgF,MAJLs2B,EAFC,EAEDA,KAAMwV,EAFL,EAEKA,OAAsBrgB,GAF3B,EAEanC,aAFb,EAE2BmC,uBAAuBjB,EAFlD,EAEkDA,aACnD8Z,EAHC,EAGDA,iBAAkB5Z,EAHjB,EAGiBA,UAAWa,EAH5B,EAG4BA,cAAemE,EAH3C,EAG2CA,OAAQqc,EAHnD,EAGmDA,gBACpD7gB,EAJC,EAIDA,yBAA0BJ,EAJzB,EAIyBA,SAAUH,EAJnC,EAImCA,MAAOiB,EAJ1C,EAI0CA,eAC3CogB,EALC,EAKDA,eAAgB9hB,EALf,EAKeA,IAAKljB,EALpB,EAKoBA,aAEzB,OACI,kBAAC0d,GAAA,EAAD,CACIyM,YAAU,EACV9kB,GAAG,cACHgI,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KAEjC,kBAAC2nB,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,KAAKvD,GAAG,MAC5B,kBAACkC,GAAA,EAAK2B,MAAN,qBACA,kBAAC,KAAD,CACItiB,MAAOwnB,EAAcxnB,MAAMwnB,EAAc,YACzCZ,MAAM,OACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,SACpCjC,QAAS+K,KAGQ,UAAxB0lB,EAAcxnB,OAA6C,KAAxBwnB,EAAcxnB,MAC9C,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,KAAakF,EAAcrqB,MAA3B,gBACA,kBAAC,KAAD,CACI6C,MAAO0nB,EAAsB1nB,MAAM0nB,EAAsB,YACzDd,MAAM,eACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS0vB,KAED,GACK,UAAxBe,EAAcxnB,OAA6C,KAAxBwnB,EAAcxnB,MAC9C,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,KAAakF,EAAcrqB,MAA3B,SACA,kBAAC,KAAD,CACI6C,MAAOgoC,EAAgBhoC,MAAMgoC,EAAgB,YAC7CphB,MAAM,SACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpCjC,QAAS40B,KAED,GACK,UAAxBnE,EAAcxnB,OAA6C,KAAxBwnB,EAAcxnB,MAC9C,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,KAAakF,EAAcrqB,MAA3B,UACA,kBAAC,KAAD,CACI6C,MAAO6nB,EAAe7nB,MAAM6nB,EAAe,YAC3CjB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAAS6vB,KAED,GACK,aAAxBY,EAAcxnB,MACX,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,YACA,kBAACrW,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MACxB,kBAACC,GAAA,EAAD,CACIrW,MAAO,CAAC,QACRsW,QAAS,IAAI7mB,KAAK,QAClBxM,KAAK,MACLuF,MAAOmmB,EACPnV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,aAKtD,GAEmB,UAAxBwuB,EAAcxnB,OAA6C,QAAxBwnB,EAAcxnB,MAC9C,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,oBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,cACLkzB,aAAcoa,EAASA,EAAOpJ,YAAc,GAC5C3tB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAEzB,GACpB,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,wBACA,kBAAC,KAAD,CACIsE,MAAM,kBACN2G,aAAa,EACbC,mBAAmB,EACnBxtB,MAAOmnB,EAAyBnnB,MAAMmnB,EAAyB,YAC/D1sB,KAAK,OACLqI,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa+jB,EAAU9jB,IACjF+N,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,uBAG5C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAAC,KAAD,CACIsE,MAAM,UACN2G,aAAa,EACbC,mBAAmB,EACnBxtB,MAAOugC,EAAiBvgC,MAAMugC,EAAiB,YAC/C9lC,KAAK,OACLqI,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,IAClF+N,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,eAG5C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,kBACA,kBAACrW,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CACIC,QAAS,IAAI7mB,KACbjH,MAAOuyB,EACPlM,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,SACpCq1B,sBAAoB,OAKX,KAAxB7G,EAAcxnB,MACX,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,sBACA,kBAAC,KAAD,CACId,UAAQ,EACRxhB,MAAOioC,EAAejoC,MAAMioC,EAAe,YAC3CrhB,MAAM,QACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAAiC,aAAxBywB,EAAcxnB,MAAuB+B,EAA0C,UAAxBylB,EAAcxnB,MAAoBiC,EAAsC,WAAxBulB,EAAcxnB,OAA8C,QAAxBwnB,EAAcxnB,MAAkBgC,EAAe,MAE3L,GACpB,kBAAC2e,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAAC3B,GAAA,EAAKY,QAAN,CAAcD,GAAG,WAAWrM,KAAK,IACnBuM,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,WACLkzB,aAAcoa,EAASA,EAAOG,SAAW,GACzCl3B,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAIvD,kBAAC6d,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,UAAUuK,UAAU,mBAC7E,uBAAGA,UAAU,eADjB,gBAxJJ,WA8JI,kBAACoQ,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,cAAcuK,UAAU,mBACjF,uBAAGA,UAAU,eADjB,cA9JJ,WAoKI,kBAAC,QAAD,CAAM4pB,GAAI,qBAAkC5pB,UAAU,kBAClD,uBAAGA,UAAU,iBADjB,e,GAhXKqL,IAAMM,WAyXrBse,G,YACF,WAAY9kB,GAAQ,IAAD,uBACf,8CAAMA,IACN,IAAIzP,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFf,OAGf,EAAKF,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,GACrC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALF,E,yEAQTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAGjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GACtC,OAAO,wBAAI4B,IAAKzC,EAAQa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA7D,MAAoEgI,UAM3F,yBAAKlF,UAAU,OACX,yBAAKA,UAAU,aACX,kBAACyS,GAAD,CACIE,gBAAiB,SACjBD,OAAQ,yBAAK1S,UAAU,4BACnB,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACX,kBAAC,QAAD,CAAM4pB,GAAI,qBACJ5pB,UAAU,6BACZ,uBAAGA,UAAU,0BAFjB,aAUhB,yBAAKA,UAAU,cACX,kBAAC,GAAD,CAAQ/O,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,qB,GAjDjDtY,IAAMM,WA2DhBye,gBAAWH,IC7dpBY,G,YAEJ,WAAY1lB,GAAQ,IAAD,8BACjB,8CAAMA,KAC2BA,MAAMlU,KAAKizB,MAAMtqB,OAA1C8nC,EAFS,EAETA,UAAWhsC,EAFF,EAEEA,KAFF,OAMjB,EAAKq1B,WAAa,CAACzN,WAAW,KAC9B,EAAK2J,gBAAkB,EAAKA,gBAAgBtE,KAArB,iBACvB,EAAKrD,iBAAmB,EAAKA,iBAAiBqD,KAAtB,iBACxB,EAAKD,QAAU,EAAKA,QAAQC,KAAb,iBACf,EAAKntB,MAAQ,CACXE,KAAOA,EACP4rC,OAAO,GACP7rC,OAAO,GACPu1B,WAAW,EACXC,WAAY,GACZC,WAAY,GACZC,aAAc,IAGhB,EAAKwW,UAAUD,GACf,EAAKrW,SAlBY,CACfpP,QAAU,QAJK,E,yEAwBTylB,GAAY,IAAD,OACnBhoC,EAAK,WAAWgoC,EAAU,KAAK3nC,MAC7B,SAACC,UACUA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CACVmW,YAAa,IAAIK,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKg6B,aACrEC,YAAa,IAAII,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKi6B,eAEzE,EAAK/lB,MAAMy8B,eAAe5nC,EAAS/I,KAAKmM,MAAOskC,GAC/C,EAAK5sB,SAAS,CAACwsB,OAAStnC,EAAS/I,Y,mCAI5Bwf,EAAK/c,GAAO,IAAD,OAClB4tC,EAAS9wC,KAAKgF,MAAM8rC,OAExBA,EAAO5tC,GAAQ+c,EACfjgB,KAAKskB,SAAS,CAACwsB,OAASA,IACxBhnC,EAAM,WAAW9J,KAAKgF,MAAM8rC,OAAOz/B,GAAG,IAAKrR,KAAKgF,MAAM8rC,QAAQvnC,MAC5D,SAACC,GACC,EAAK8a,SAAS,CAACwsB,OAAStnC,EAAS/I,UAClCkoB,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,sCAI1BiD,EAAOuB,GACrB,IAAIgb,EAAMvc,EAAMyc,OAAOpX,MACR,WAAX9D,IACFgb,EAAMvd,SAASud,GACfjgB,KAAKskB,SAAS,CAACqW,aAAuB,IAAR1a,EAAY,EAAE,KAE9CjgB,KAAKskB,SAAS,CAACrf,OAAQA,IACvBjF,KAAKskB,SAAS,CAAEkW,WAAW,M,yCAI5Bx6B,KAAKskB,SAAS,CAAEkW,WAAW,M,gCAGjB,IAAD,OACiB,WAAtBx6B,KAAKgF,MAAMC,SACZjF,KAAKgF,MAAM8rC,OAAOnW,aAAe36B,KAAKgF,MAAM21B,aAC5C7wB,EAAM,WAAW9J,KAAKgF,MAAM8rC,OAAOz/B,GAAG,IAAK,CAACspB,aAAc36B,KAAKgF,MAAM21B,eAAepxB,MAClF,SAACC,UACQA,EAAS/I,KAAKyE,KACrB,EAAKof,SAAS,CAACwsB,OAAStnC,EAAS/I,OACjC,EAAK6jB,SAAS,CAACkW,WAAY,OAC5B7R,OAAM,SAAAjU,GACL,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,MACpC,EAAK6jB,SAAS,CAACkW,WAAY,U,+BAOzB,IACAsW,EAAW9wC,KAAKgF,MAAhB8rC,OACFH,EAAWG,EAAO76B,KAAQ66B,EAAO76B,KAAKka,QAAU2gB,EAAO76B,KAAKka,QAAQC,WAAa,IAAM0gB,EAAO76B,KAAKka,QAAQE,UAAYygB,EAAO76B,KAAK62B,MAAS,GAClJ,OACI,6BACE,kBAACvlB,GAAA,EAAD,CAAM0T,WAAS,EAAChY,QAAS,GACnB,kBAACsE,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACrB,yBAAKvb,UAAU,sBACL,yBAAKA,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAMshC,EAAOpc,OAASoc,EAAOpc,OAAOxvB,KAAO,UAE/C,yBAAKsK,UAAU,mBACX,yBAAKA,UAAU,yBAAf,QACA,6BAAMshC,EAAO76B,KAAO,kBAAC,QAAD,CAAMkK,OAAO,SACPiZ,GAAI,YAAc0X,EAAO76B,KAAKka,QAAQ9e,GAAK,KAAMs/B,GAAmB,WAGtG,yBAAKnhC,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,wBACA,6BAAMshC,EAAOthB,aAAeshB,EAAOthB,aAAahsB,KAAO,UAE3D,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMshC,EAAOpc,OAASoc,EAAOpc,OAAOlxB,KAAO,WAGnD,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,kBACA,6BAAMshC,EAAOnhB,MAAQmhB,EAAOnhB,MAAMnsB,KAAO,UAE7C,yBAAKgM,UAAU,mBACX,yBAAKA,UAAU,yBAAf,OACA,6BAAMshC,EAAO5hB,IAAM4hB,EAAO5hB,IAAM,WAGxC,yBAAK1f,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,mBACA,6BAAMshC,EAAOld,gBAAkBkd,EAAOld,gBAAgBxD,WAAa,IAAM0gB,EAAOld,gBAAgBvD,UAAY,UAEhH,yBAAK7gB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,YACA,6BAAMshC,EAAO9G,QAAU8G,EAAO9G,QAAQxmC,KAAO,WAGrD,yBAAKgM,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,aACA,6BAAMshC,EAAOO,UAAYP,EAAOO,UAAY,UAEhD,yBAAK7hC,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAMshC,EAAO5Y,MAAQ4Y,EAAO5Y,MAAQ,WAG5C,yBAAK1oB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,YACA,6BAAMshC,EAAOG,SAAWH,EAAOG,SAAW,UAE9C,yBAAKzhC,UAAU,mBACX,yBAAKA,UAAU,yBAAf,oBACA,6BAAMshC,EAAOnW,aAAe,MAAQ,QAG5C,yBAAKnrB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBAAf,gBACA,6BAAMxP,KAAKgF,MAAMy1B,WAAaz6B,KAAKgF,MAAMy1B,WAAa,UAE1D,yBAAKjrB,UAAU,mBACX,yBAAKA,UAAU,yBAAf,iBACA,6BAAMxP,KAAKgF,MAAM01B,WAAa16B,KAAKgF,MAAM01B,WAAa,cAOhF,kBAAC9R,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAMw1B,UAAWzR,OAAQ/oB,KAAK8uB,kBAC9C,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASva,KAAKkyB,SAAvC,OAGA,kBAACtS,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAK8uB,kBAAxC,a,GA9KOjU,IAAMM,WAwLrBkhB,G,YACJ,WAAY1nB,GAAQ,IAAD,wBACjB,8CAAMA,KAaNy8B,eAAiB,SAACxkC,EAAOyE,GACrB,IAAIigC,EAAa1kC,EAAMR,cAEnBklC,EADDA,EAAW/kC,SAAS,SACN+kC,EAAWlxB,MAAM,SAAS,GAAGvX,QAAQ,KAAK,KAE1CyoC,EAAWzoC,QAAQ,KAAK,KAEzC,EAAKyb,SAAS,CAACitB,aAAaD,EAAYE,WAAYngC,EAAG,IAAIzE,EAAMR,iBAnBrE,IAAIlH,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFb,OAGjB,EAAKF,MAAQ,CAACouB,OAAO,GAAIsG,WAAU,GACnC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALA,E,yEAQTzd,GACLjG,OAAOC,KAAKgG,GAAO/S,QACpB3B,KAAKskB,SAAS,CAACoV,WAAU,IAE3B15B,KAAKskB,SAAS,CAAC8O,OAAO1e,M,+BAWd,IAAD,OACP,OACE,oCACA,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCAAmCzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAE7FjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACvC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAExC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAMa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA3D,MAAkEgI,UAK/E,yBAAKlF,UAAU,OACb,yBAAKA,UAAU,aACb,kBAACyS,GAAD,CACEE,gBAAiB,wBAAIsa,MAAM,yBAAyBn1B,MAAO,CAACo1B,cAAe,eAC3E,uBAAGvc,OAAO,SAASN,KAAM,WAAW7f,KAAKgF,MAAMwsC,YAAaxxC,KAAKgF,MAAMusC,eAEvErvB,OAAY,yBAAK1S,UAAU,4BAC3B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACf,kBAAC,QAAD,CAAM4pB,GAAI,qBAA8B5pB,UAAU,6BAC5C,uBAAGA,UAAU,0BADnB,QAIE,kBAAC,QAAD,CAC4B4pB,GAAI,sBAAgCp5B,KAAK2U,MAAM+e,MAAMtqB,OAAO8nC,UAAY,QACxE1hC,UAAU,mBACV,uBAAGA,UAAU,eAHzC,aAWN,yBAAKA,UAAU,cACb,kBAAC,GAAD,CAAQ/O,KAAMT,KAAK2U,MAAOy8B,eAAgB,SAACxkC,EAAOyE,GAAR,OAAc,EAAK+/B,eAAexkC,EAAOyE,IAAK8hB,UAAWnzB,KAAKmzB,qB,GA/D/FtY,IAAMM,WAyEhBye,gBAAWyC,IClPpB7P,GAAuBvY,aAAe,CACxCU,MAAO,CACH8X,SAAU,CACNC,kBAAkB,GAEtBC,aAAc,CACVrlB,MAAO,CACHhB,QAAS,UAGjBsmB,aAAc,CACVtlB,MAAO,CACHhB,QAAS,SAEbomB,kBAAkB,EAClBG,WAAY,CACRvlB,MAAO,CACHhB,QAAS,QACTwX,OAAQ,6BACR2N,QAAS,eACTjP,SAAU,OACVsQ,WAAY,MACZC,WAAY,MACZnO,MAAO,UACP3C,gBAAiB,OACjB+Q,eAAgB,cAChBnO,OAAQ,oBACRoO,aAAc,MACdC,WAAY,+DACZC,UAAW,mBAQzBwP,G,YAEF,WAAYhoB,GAAQ,IAAD,8BACf,8CAAMA,KACyBA,MAAMlU,KAAKizB,MAAMtqB,OAAzC8nC,EAFQ,EAERA,UAFQ,EAEGhsC,KAFH,OAGf,EAAKF,MAAQ,CACTiqB,WAAW,EACX6hB,OAAQ,CACJ5hB,IAAK,IAAIlf,KACTiG,KAAKtB,EAAMlU,KAAKiJ,WAAWuM,KAAK5E,GAChCuiB,gBAAgBjf,EAAMlU,KAAKiJ,WAAWuM,KAAKka,QAAQ9e,IAEvDid,aAAc,KACdkB,aAAc,GACdE,UAAW,GACXgF,OAAQ,GACR5E,SAAU,GACVH,MAAO,GACPM,MAAO,GACPC,yBAA0B,CAACnnB,MAAO,IAClCwnB,cAAe,CAACxnB,MAAO,IACvBqoB,cAAe,GACf2f,gBAAiB,CAAChoC,MAAO,IACzB0nB,sBAAuB,CAAC1nB,MAAO,IAC/BugC,iBAAkB,CAACvgC,MAAO,IAC1B6nB,eAAgB,CAAC7nB,MAAO,IACxBioC,eAAgB,CAACjoC,MAAO,IACxBmmB,IAAK,IAAIlf,KACThE,cAAc,GAElB,EAAKmlC,UAAUD,GA5BA,E,yEA+BTA,GAAY,IAAD,OACjBhoC,EAAK,WAAagoC,EAAY,KAAK3nC,MAC/B,SAACC,GACG,EAAK8a,SAAS,CACVwsB,OAAQtnC,EAAS/I,KACjByuB,IAAKC,KAAO3lB,EAAS/I,KAAKyuB,IAAK,QAC/BoM,KAAM9xB,EAAS/I,KAAK4wC,YAGxB,EAAKpf,aAEL,EAAKwL,oBAAoB,EAAKz4B,MAAMurB,cAAe,OAAQ,MAEvD/mB,EAAS/I,KAAK+uB,mBAAiD7mB,GAAjCa,EAAS/I,KAAK+uB,aAAane,IAAoD,IAAjC7H,EAAS/I,KAAK+uB,aAAane,IACvG,EAAKosB,oBAAoB,EAAKz4B,MAAMurB,cAAe,eAAgB/mB,EAAS/I,KAAK+uB,aAAane,IAE9F7H,EAAS/I,KAAKi0B,aAAqC/rB,GAA3Ba,EAAS/I,KAAKi0B,OAAOrjB,IAA8C,IAA3B7H,EAAS/I,KAAKi0B,OAAOrjB,IACrF,EAAKosB,oBAAoB,EAAKz4B,MAAMurB,cAAe,SAAU/mB,EAAS/I,KAAKi0B,OAAOrjB,S,mCAIrF3N,EAAOwB,GAChB,IAAI4rC,EAAS9wC,KAAKgF,MAAM8rC,OACxB,GAAa,cAAT5rC,GAAiC,QAATA,EACxB,IAAIhC,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,WACpB,GAAY,OAAR7D,EAAe,CAClBhC,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,OAAO,QAC/BpvB,KAAKskB,SAAS,CAAC4K,IAAKxrB,QACjB,CACCR,EAAOgC,EACP+a,EAAMkP,KAAOzrB,GAAO0rB,SACxBpvB,KAAKskB,SAAS,CAACgX,KAAM53B,IAEZ,cAATR,IACA+c,EAAMvd,SAASud,IACnB6wB,EAAO5tC,GAAQ+c,EACfjgB,KAAKskB,SAAS,CAACwsB,OAAQA,M,mCAIdptC,GAAQ,IAAD,OACHA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAC2K,WAAW,IAC1BjvB,KAAKg9B,kBACAh9B,KAAKgF,MAAMspB,qBACLtuB,KAAKgF,MAAM8rC,OAAOtoB,KAC7B1e,EAAM,WAAa9J,KAAKgF,MAAM8rC,OAAOz/B,GAAK,IAAKrR,KAAKgF,MAAM8rC,QAAQvnC,MAC9D,SAACC,GACG,EAAK8a,SAAS,CAACwsB,OAAQtnC,EAAS/I,OAChC,EAAKkU,MAAMlU,KAAK+Q,QAAQzN,KAA0B,YAArB,EAAKiB,MAAMC,OAAuB,4BAA0C,yBAC1G0jB,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,mCAKxC,IAAIgxC,EAAczxC,KAAKgF,MAAM8rC,OAIzB5T,EAAmB,CACnBh4B,KAAM2F,GAEoB,YAA1B7K,KAAKgF,MAAM8rC,OAAO5rC,KAClBg4B,EAAiBhF,MAAQptB,EACM,UAA1B9K,KAAKgF,MAAM8rC,OAAO5rC,MAA8C,OAA1BlF,KAAKgF,MAAM8rC,OAAO5rC,KAC7Dg4B,EAAiBhF,MAAQntB,EACM,SAA1B/K,KAAKgF,MAAM8rC,OAAO5rC,OACvBg4B,EAAiBhF,MAAQltB,GAE7B,IAAIgpB,EAAgBvlB,OAAOC,KAAKwuB,GAChC,IAAK,IAAIn4B,KAAOivB,EACZ,IAAK,IAAI1xB,KAAS46B,EAAiBlJ,EAAcjvB,IAC7C,GAAIm4B,EAAiBlJ,EAAcjvB,IAAMzC,GAAOyG,QAAU0oC,EAAYzd,EAAcjvB,IAAO,CACvF/E,KAAKskB,SAAL,gBAAgB,YAAc0P,EAAcjvB,GAAOm4B,EAAiBlJ,EAAcjvB,IAAMzC,KACxF,MAKZ,IAAI8vB,EAAS,CACT,QAAW,GACX,WAAc,GACd,YAAe,GACf,gBAAmB,CAACltB,KAAMlF,KAAKgF,MAAM8rC,OAAO5rC,OAI5Ci4B,EAAkB,CAClB5K,QAAS,CAAC,QACVE,WAAY,CAAC,mBACbG,YAAa,CAAC,YAGlB7oB,EAAK,WAAY,CAACqoB,OAAQA,IAAS7oB,KAAK,SAAUC,GAC9C,IAAI4zB,EAAY,GADwC,WAE/C/K,GAEL7oB,EAAS/I,KAAK4xB,GAAKrS,KAAI,SAACsS,EAAKnvB,GACb,eAARkvB,GAAgC,YAARA,IACxBC,EAAI9uB,KAAO8uB,EAAIlC,WAAa,IAAMkC,EAAIjC,WAC9B,YAARgC,IACAC,EAAIjhB,GAAKihB,EAAI+K,SAEjB7zB,EAAS/I,KAAK4xB,GAAKlvB,GAAG+C,MAAQosB,EAAI9uB,KAClCgG,EAAS/I,KAAK4xB,GAAKlvB,GAAG4F,MAAQupB,EAAIjhB,GAElC5C,OAAOC,KAAKyuB,GAAiBnd,KAAI,SAACjb,EAAK5B,GACnCg6B,EAAgBp4B,GAAKib,KAAI,SAAChb,EAAO1C,GACzB+vB,IAAQttB,GAA8B,OAAvB0sC,EAAYzsC,SAA6C2D,IAA1B8oC,EAAYzsC,GAAOqM,IAAoBogC,EAAYzsC,GAAOqM,KAAOihB,EAAIjhB,KACnH+rB,EAAU,YAAcp4B,GAASstB,aAdrD,IAAK,IAAID,KAAO7oB,EAAS/I,KAAO,EAAvB4xB,GAoBT+K,EAAS,MAAY5zB,EAAS/I,KAAK8xB,QACnC6K,EAAS,SAAe5zB,EAAS/I,KAAKgyB,WACtC2K,EAAS,UAAgB5zB,EAAS/I,KAAKmyB,YACvCwK,EAAS,aAAmB5zB,EAAS/I,KAAKkyB,gBAE1CyK,EAAS,cAAmB,EAC5Bp9B,KAAKskB,SAAS8Y,IAChBjL,KAAKnyB,S,wCAGQ,IAAD,OACV8wC,EAAS9wC,KAAKgF,MAAM8rC,OACL,CAAC,OAAQ,kBAAmB,UAAW,eAAgB,SAAU,SACvE9wB,KAAI,SAACC,EAAK9c,GACnB2tC,EAAO7wB,GAAO,EAAKjb,MAAM,YAAcib,GAAKlX,SAEhD/I,KAAKskB,SAAS,CAACwsB,OAAQA,M,4CAIJ,IAAD,OACdW,EAAczxC,KAAKgF,MAAM8rC,OACzBnd,EAAY,CAEZC,gBAAiB,WACjBoW,QAAS,YACTxa,aAAc,eACdG,MAAO,QACP1Z,KAAM,SAGN8d,EAAwB,GAGxBmJ,EAAmB,CAEnBh4B,KAAM2F,GAEoB,YAA1B7K,KAAKgF,MAAM8rC,OAAO5rC,KAClBg4B,EAAiBhF,MAAQptB,EACM,UAA1B9K,KAAKgF,MAAM8rC,OAAO5rC,MAA8C,OAA1BlF,KAAKgF,MAAM8rC,OAAO5rC,KAC7Dg4B,EAAiBhF,MAAQntB,EACM,SAA1B/K,KAAKgF,MAAM8rC,OAAO5rC,OACvBg4B,EAAiBhF,MAAQltB,GAE7B,IAAIgpB,EAAgBvlB,OAAOC,KAAKwuB,GAChC,IAAK,IAAIn4B,KAAOivB,EACZ,IAAK,IAAI1xB,KAAS46B,EAAiBlJ,EAAcjvB,IAC7C,GAAIm4B,EAAiBlJ,EAAcjvB,IAAMzC,GAAOyG,QAAU0oC,EAAYzd,EAAcjvB,IAAO,CACvF/E,KAAKskB,SAAL,gBAAgB,YAAc0P,EAAcjvB,GAAOm4B,EAAiBlJ,EAAcjvB,IAAMzC,KACxF,MAKZ0xB,EAAgBvlB,OAAOC,KAAKilB,GAnCV,eAoCT5uB,GAELmE,EAAKyqB,EAAUK,EAAcjvB,IADhB,CAACs8B,QAAQ,QACsB93B,KAAK,SAAUC,GAAW,IAAD,EAC7D/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,EAaZ,GAXsC,aAAlCkzB,EAAUK,EAAcjvB,IACxBtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKjC,WAAa,IAAM3vB,EAAK4xB,GAAKhC,UACjB,UAAlCsD,EAAUK,EAAcjvB,MAC7BtE,EAAK4xB,GAAK7uB,KAAO/C,EAAK4xB,GAAKlC,QAAQC,WAAa,IAAM3vB,EAAK4xB,GAAKlC,QAAQE,WAE5E5vB,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,QAEW1I,GAAnC8oC,EAAYzd,EAAcjvB,KAAsBtE,EAAK4xB,GAAKhhB,KAAOogC,EAAYzd,EAAcjvB,IAAMsM,KACjG4iB,EAAWxzB,EAAK4xB,SAEwC1pB,GAAxDorB,EAAsBJ,EAAUK,EAAcjvB,KAC9C,IAAK,IAAIzC,KAASyxB,EAAsBJ,EAAUK,EAAcjvB,KAAQ,CACpE,IAAImvB,EAAgBH,EAAsBJ,EAAUK,EAAcjvB,KAAOzC,QAEvCqG,GAA9B8oC,EAAYvd,IAA+BzzB,EAAK4xB,GAAKhhB,KAAOogC,EAAYvd,GAAe7iB,IACvFrR,KAAKskB,SAAL,gBAAgB,YAAc4P,EAAgBzzB,EAAK4xB,KAMnEryB,KAAKskB,UAAL,oBACKqP,EAAUK,EAAcjvB,IAAQtE,GADrC,eAEK,YAAcuzB,EAAcjvB,GAAOkvB,GAFxC,sBAGUwd,GAHV,KAMFtf,KAAK,KAnCX,IAAK,IAAIptB,KAAOivB,EAAgB,EAAvBjvB,K,mCAuCAgE,EAAOhE,GAAM,IAAD,EACjB+rC,EAAS9wC,KAAKgF,MAAM8rC,OACxBA,EAAO/rC,GAAOgE,GAASA,EAAMA,MAAQA,EAAMA,MAAQ,GACnD/I,KAAKskB,UAAL,oBAAgB,YAAcvf,EAAMgE,GAAgB,IAApD,wBAAgE+nC,GAAhE,IAEA,IAAI5rC,EAAO6D,GAAgB,GACf,SAARhE,IACAG,EAAOlF,KAAKgF,MAAMurB,eAEtBvwB,KAAKy9B,oBAAoBv4B,EAAMH,EAAKgE,EAAQA,EAAMsI,GAAK,M,0CAGvCnM,EAAMH,EAAKsM,GAC3B,GAAI,CAAC,eAAgB,OAAQ,UAAUkE,QAAQxQ,IAAQ,GAAc,KAATG,GAAsB,KAAPmM,GACnE,CAAC,WAAY,SAAU,OAAOkE,QAAQrQ,EAAK6D,QAAU,EAAG,CACxD,IAAII,EAAW,GAAIC,EAAS,CAACi4B,QAAQ,OAAQhN,EAAgB,GACjD,iBAARtvB,GACAoE,EAAW,OACXC,EAAM,eAAOA,EAAP,GAAkB,CAACwX,UAAW,EAAG4T,gBAAiBnjB,EAAInM,KAAMA,EAAK6D,QACvEsrB,EAAgB,UACD,WAARtvB,GACPoE,EAAW,QACXC,EAAM,eAAOA,EAAP,GAAkB,CAACwX,UAAW,EAAG8T,OAAQrjB,EAAInM,KAAMA,EAAK6D,QAC9DsrB,EAAgB,SACD,SAARtvB,IACPoE,EAAW,eACXC,EAAM,eAAOA,EAAP,GAAkB,CAACwX,UAAW,EAAG1b,KAAMA,EAAK6D,QAClDsrB,EAAgB,gBAGpBnrB,EAAKC,EAAUC,GAAQG,KAAK,SAAUC,GAAW,IAAD,EACxC/I,EAAO+I,EAAS/I,KAChBwzB,EAAW,GACf,IAAK,IAAI5B,KAAO5xB,OAC4BkI,GAApC3I,KAAKgF,MAAM8rC,OAAOzc,IAA+B5zB,EAAK4xB,GAAKhhB,KAAOrR,KAAKgF,MAAM8rC,OAAOzc,GAAehjB,KACnG4iB,EAAQ,MAAYxzB,EAAK4xB,GAAK7uB,KAC9BywB,EAAQ,MAAYxzB,EAAK4xB,GAAKhhB,IAElC5Q,EAAK4xB,GAAKnsB,MAAQzF,EAAK4xB,GAAK7uB,KAC5B/C,EAAK4xB,GAAKtpB,MAAQtI,EAAK4xB,GAAKhhB,GAGhCrR,KAAKskB,UAAL,oBAAgB+P,EAAgB5zB,GAAhC,eAAuC,YAAc4zB,EAAgBJ,GAArE,KAEF9B,KAAKnyB,U,+BAMT,IAAD,SAMDA,KAAKgF,MAJLs2B,EAFC,EAEDA,KAAMwV,EAFL,EAEKA,OAAQrgB,EAFb,EAEaA,sBAAuBjB,EAFpC,EAEoCA,aACrC8Z,EAHC,EAGDA,iBAAkB5Z,EAHjB,EAGiBA,UAAWa,EAH5B,EAG4BA,cAAemE,EAH3C,EAG2CA,OAAQqc,EAHnD,EAGmDA,gBACpD7gB,EAJC,EAIDA,yBAA0BJ,EAJzB,EAIyBA,SAAUH,EAJnC,EAImCA,MAAOiB,EAJ1C,EAI0CA,eAC3CogB,GALC,EAI0D5f,cAJ1D,EAIyEnB,MAJzE,EAKD+gB,gBAAgB9hB,EALf,EAKeA,IAAKljB,EALpB,EAKoBA,aAEzB,OACI,kBAAC0d,GAAA,EAAD,CACIyM,YAAU,EACV9c,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KAEjC,kBAAC2nB,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,KAAKvD,GAAG,MAC5B,kBAACkC,GAAA,EAAK2B,MAAN,sBACA,kBAAC,KAAD,CACItiB,MAAOwnB,EAAcxnB,MAAMwnB,EAAc,YACzCZ,MAAM,OACNnsB,KAAK,OACL8yB,aAAa,EACbC,mBAAmB,EACnBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,SACpCjC,QAAS+K,KAGQ,UAAxB0lB,EAAcxnB,OAA6C,KAAxBwnB,EAAcxnB,MAC9C,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,KAAakF,EAAcrqB,MAA3B,gBACA,kBAAC,KAAD,CACI6C,MAAO0nB,EAAsB1nB,MAAM0nB,EAAsB,YACzDd,MAAM,eACNnsB,KAAK,OACL8yB,aAAe,EACfC,mBAAqB,EACrBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,iBACpCjC,QAAS0vB,KAED,GACK,UAAxBe,EAAcxnB,OAA6C,KAAxBwnB,EAAcxnB,MAC9C,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,KAAakF,EAAcrqB,MAA3B,SACA,kBAAC,KAAD,CACI6C,MAAOgoC,EAAgBhoC,MAAMgoC,EAAgB,YAC7CphB,MAAM,SACNnsB,KAAK,OACL8yB,aAAe,EACfC,mBAAqB,EACrBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,WACpCjC,QAAS40B,KAED,GACK,UAAxBnE,EAAcxnB,OAA6C,KAAxBwnB,EAAcxnB,MAC9C,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,KAAakF,EAAcrqB,MAA3B,UACA,kBAAC,KAAD,CACI6C,MAAO6nB,EAAe7nB,MAAM6nB,EAAe,YAC3CjB,MAAM,QACNnsB,KAAK,OACL8yB,aAAe,EACfC,mBAAqB,EACrBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAAS6vB,KAED,GACK,aAAxBY,EAAcxnB,MACX,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,YACA,kBAACrW,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MACxB,kBAACC,GAAA,EAAD,CACIrW,MAAO,CAAC,QACRsW,QAAS,IAAI7mB,KAAK,QAClBxM,KAAK,MACLuF,MAAOmmB,EACPnV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,aAIxC,GAEK,UAAxBwuB,EAAcxnB,OAA6C,QAAxBwnB,EAAcxnB,MAC9C,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,oBACA,kBAAC3B,GAAA,EAAKY,QAAN,CACIC,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,MACLkzB,aAAcoa,EAASA,EAAOpJ,YAAc,GAC5C3tB,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,OAEzB,GACpB,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,wBACA,kBAAC,KAAD,CACIsE,MAAM,kBACN2G,aAAa,EACbC,mBAAmB,EACnBxtB,MAAOmnB,EAAyBnnB,MAAMmnB,EAAyB,YAC/D1sB,KAAK,OACLqI,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa+jB,EAAU9jB,IACjF+N,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,uBAG5C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAAC,KAAD,CACIsE,MAAM,UACN2G,aAAa,EACbC,mBAAmB,EACnBxtB,MAAOugC,EAAiBvgC,MAAMugC,EAAiB,YAC/C9lC,KAAK,OACLqI,YAAa,SAACC,EAAQC,GAAT,OAAyBF,GAAYC,EAAQC,EAAa2jB,EAAW1jB,IAClF+N,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,eAG5C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,kBACA,kBAACrW,GAAA,EAAD,CAAehB,MAAOwY,IAClB,kBAAC,KAAD,CAAyBnX,MAAOshB,MAC5B,kBAACC,GAAA,EAAD,CACIC,QAAS,IAAI7mB,KACbjH,MAAOuyB,EACPlM,OAAO,aACPrV,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,EAAG,cACpCq1B,sBAAoB,OAKX,KAAxB7G,EAAcxnB,MACX,kBAAC2gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,qBACA,kBAAC,KAAD,CACItiB,MAAOioC,EAAejoC,MAAMioC,EAAe,YAC3CrhB,MAAM,QACNnsB,KAAK,OACL8yB,aAAe,EACfC,mBAAqB,EACrBxc,SAAU,SAAAhY,GAAC,OAAI,EAAKy0B,aAAaz0B,EAAG,UACpCjC,QAAiC,aAAxBywB,EAAcxnB,MAAuB+B,EAA0C,UAAxBylB,EAAcxnB,MAAoBiC,EAAsC,WAAxBulB,EAAcxnB,OAA8C,QAAxBwnB,EAAcxnB,MAAkBgC,EAAe,MAE3L,GACpB,kBAAC2e,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKpC,GAAG,MACpB,kBAACkC,GAAA,EAAK2B,MAAN,iBACA,kBAAC3B,GAAA,EAAKY,QAAN,CAAcD,GAAG,WAAWrM,KAAK,IACnBuM,UAAQ,EACRrlB,KAAK,OACLslB,YAAY,GACZmF,MAAM,SACNnsB,KAAK,WACLkzB,aAAcoa,EAASA,EAAOG,SAAW,GACzCl3B,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAIvD,kBAAC6d,GAAA,EAAD,CAAQ1a,KAAK,SAASqV,QAAS,SAACxY,GAAD,OAAO,EAAKuiB,SAAS,CAACrf,OAAQ,UAAUuK,UAAU,mBAC7E,uBAAGA,UAAU,eADjB,UArJJ,WA2JI,kBAAC,QAAD,CAAM4pB,GAAI,qBAAkC5pB,UAAU,kBAClD,uBAAGA,UAAU,iBADjB,e,GA7cGqL,IAAMM,WAsdnB4iB,G,YACF,WAAYppB,GAAQ,IAAD,uBACf,8CAAMA,IACN,IAAIzP,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAFf,OAGf,EAAKF,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,GACrC,EAAK10B,MAAME,KAAOA,EAClB,EAAKiuB,UAAY,EAAKA,UAAUhB,KAAf,iBALF,E,yEAQTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAGjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAEtC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAQa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA7D,MAAoEgI,UAM3F,yBAAKlF,UAAU,OACX,yBAAKA,UAAU,aACX,kBAACyS,GAAD,CACIE,gBAAiB,SACjBD,OAAQ,yBAAK1S,UAAU,4BACnB,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACX,kBAAC,QAAD,CAAM4pB,GAAI,qBACJ5pB,UAAU,6BACZ,uBAAGA,UAAU,0BAFjB,aAUhB,yBAAKA,UAAU,cACX,kBAAC,GAAD,CAAM/O,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,qB,GAlDjDtY,IAAMM,WA4Ddye,gBAAWmE,ICvjBpB2B,GAA6B7kB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAChD,4BACIQ,IAAKA,EACLR,QAAS,SAAAxY,GACPA,EAAEC,iBACFuY,EAAQxY,IAEVyN,UAAU,8BANd,UASE,kBAAC,GAAD,CAAcA,UAAU,oCAIxB6S,GAAc,CAClBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MAGFC,GAA2BC,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAClE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,IAYV,IAAMqc,GAAmBhd,cAAW,SAAA3O,GAAK,MAAK,CAC5CnH,KAAM,CACJ+yB,YAAa5rB,EAAMiP,QAAQ,GAC3BzK,aAAcxE,EAAMiP,QAAQ,GAC5B3c,QAAS,SAEXu5B,UACyB,UAAvB7rB,EAAMK,QAAQnP,KACV,CACE0Z,MAAO5K,EAAMK,QAAQG,UAAUD,KAC/B0H,gBAAiB6jB,aAAQ9rB,EAAMK,QAAQG,UAAU9O,MAAO,MAE1D,CACEkZ,MAAO5K,EAAMK,QAAQoI,KAAK7W,QAC1BqW,gBAAiBjI,EAAMK,QAAQG,UAAU7O,MAEjDo6B,OAAQ,CACNC,KAAM,YAER56B,QAAS,CACPwZ,MAAO5K,EAAMK,QAAQoI,KAAKjI,WAE5B5H,MAAO,CACLozB,KAAM,gBAIJC,GAAuB,SAAAtrB,GAC3B,IAAM0O,EAAUsc,KACRO,EAAwIvrB,EAAxIurB,cAAcC,EAA0HxrB,EAA1HwrB,WAAYC,EAA8GzrB,EAA9GyrB,QAASC,EAAqG1rB,EAArG0rB,WAAWC,EAA0F3rB,EAA1F2rB,YAAmBrM,GAAuEtf,EAA7EzP,KAA6EyP,EAAvEsf,UAAUsM,EAA6D5rB,EAA7D4rB,YAAaC,EAAgD7rB,EAAhD6rB,gBAAiBviB,EAA+BtJ,EAA/BsJ,YAAaD,EAAkBrJ,EAAlBqJ,KAAMyiB,EAAY9rB,EAAZ8rB,QAkDpI,OACE,kBAACC,GAAA,EAAD,CACElxB,UAAWgL,aAAK6I,EAAQxW,KAAT,gBACZwW,EAAQwc,UAAYS,EAAc,KAGrC,yBAAK9wB,UAAU,yCACb,yBAAKA,UAAU,0BACb,0BAAMA,UAAU,yBACd,uBAAGA,UAAU,sCAEd8wB,EAAc,EACb,kBAACK,GAAA,EAAD,CAAY/hB,MAAM,UAAUkB,QAAQ,aACjCwgB,EADH,aAIA,wBAAI9wB,UAAU,0BAAd,kBAGJ,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACZ8wB,EAAc,EACb,kBAAC3e,GAAA,EAAD,CAAS/U,MAAM,UACb,kBAAC8W,GAAA,EAAD,CACEnJ,QAAS,SAACxY,GAAD,OAxE3B,SAAsB2B,GACpB,GAAGuwB,EAAStyB,OAAQ,CAClB,IAAIlB,EAAO,CAAC4mB,IAAI4M,GAChBjqB,EAAI,WAAWiqB,EAAS,GAAG,IAAKxzB,GAAM8I,MAAK,SAAUC,GAEnD,IAAI,IAAIrG,KAAK6a,EACRiW,EAAS1e,QAAQyI,EAAK7a,GAAGkO,KAAO,UAC1B2M,EAAK7a,GAGhB8a,EAAYD,GACZiW,EAAStyB,OAAS,EAClB4+B,EAAYtM,GACZuM,GAAgB,GAGhB,IAAMI,EAAS,GACfA,EAAO78B,KAAK,GACZ08B,EAAQG,GACRC,SAqD4BC,IAChBnd,aAAW,UAEX,kBAAC,KAAD,QAIJ,yBAAKnU,UAAU,aACb,uBACE+K,QAASsmB,GACTrxB,UAAU,gEAEV,uBAAGA,UAAU,gBAAgBuxB,cAAY,SAJ3C,WAOA,kBAAC,QAAD,CACE3H,GAAI,4BACJ5pB,UAAU,2DAEV,uBAAGA,UAAU,eAJf,cAOA,kBAACwxB,GAAA,EAAD,CAAUxxB,UAAU,kBAAkByxB,KAAK,OAAOC,YAAU,GAC1D,kBAACF,GAAA,EAASG,OAAV,CACE9W,GAAIqV,GACJruB,GAAG,4CAGL,kBAAC2vB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,0DACvB,wBAAIA,UAAU,UACZ,wBAAIA,UAAU,gBACZ,uBAAG+K,QA/E3B,WACE4lB,EAAW,IACXj3B,EAAK,UAAW,CAACm4B,QAAQ,QAAQ93B,MAAK,SAAAC,GACpC,IAAI83B,EAAiB,CAAC,SAAS,QAAQ,eAAe,kBAAkB,QAEpEC,EAAgB,CAAC,MAAM,iBAAkB,QAAS,QAAQ,YAAa,QAAS,aAAc,aAAc,aAAc,cAAe,gBAE3IpB,EAAW,UACb,IAAIqB,EAAeh4B,EAAS/I,KAAKuf,KAAI,SAACyhB,EAAGt+B,GAQvC,OANAo+B,EAAcvhB,KAAI,SAAA0hB,GAAK,cAAWD,EAAEC,MAEpCJ,EAAethB,KAAI,SAAC2P,GAClB8R,EAAE9R,GAAS8R,EAAE9R,GAAS8R,EAAE9R,GAAOnsB,KAAOi+B,EAAE9R,MAE1C8R,EAAE7N,gBAAkB6N,EAAE7N,gBAAkB6N,EAAE7N,gBAAgBxD,WAAW,IAAIqR,EAAE7N,gBAAgBvD,UAAUoR,EAAE7N,gBAChG6N,KAETpB,EAAWmB,GACXtvB,SAASC,eAAe,kBAAkBsV,YA4DIjY,UAAU,gBAClC,uBAAGA,UAAU,mCACb,0BAAMA,UAAU,qBAAhB,UACA,yBACEA,UAAW,gBAAkB0wB,KAGjC,kBAAC,WAAD,CACEz/B,KAAM2/B,EACNuB,SAAS,cACTnyB,UAAU,SACV6B,GAAG,iBACH8O,OAAO,sBAqB7ByhB,GAAYjf,cAAW,SAAA3O,GAAK,MAAK,CACrCnH,KAAM,CACJpG,MAAO,OACP+4B,UAAWxrB,EAAMiP,QAAQ,IAE3B4e,MAAO,CACLp7B,MAAO,OACP8iB,aAAcvV,EAAMiP,QAAQ,IAE9B6e,MAAO,CACLC,SAAU,KAEZC,aAAc,CACZC,UAAW,QAEbC,MAAO,CACLzW,QAASzX,EAAMiP,QAAQ,SAIrBkf,GAAIC,EAAQ,IAGlB,SAASvB,KACSsB,GAAE,WAAWnI,YACrBqI,KAAKppB,OAAO,MAAM,GAJ5BkpB,GAAEnI,UAAYoI,EAAQ,KAgBtB,IAAME,GAAwBznB,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAC3C,uBACEQ,IAAKA,EACLR,QAAS,SAAAxY,GACTA,EAAEC,iBACFuY,EAAQxY,IAERsP,GAAG,+BACH7B,UAAU,6CAET,IACD,uBAAGA,UAAU,yBAIJ,SAAS+yB,GAAc5tB,GACpC,IAAM0O,EAAUue,KAD2B,EAEjB/mB,IAAM3C,SAAS,OAFE,iCAGb2C,IAAM3C,SAAS,aAHF,iCAIX2C,IAAM3C,SAAS,KAJJ,oBAIpC+b,EAJoC,KAI1BsM,EAJ0B,OAKnB1lB,IAAM3C,SAAS,GALI,iCAMjB2C,IAAM3C,UAAS,IANE,iCAOL2C,IAAM3C,SAAS,KAPV,iCAQf2C,IAAM3C,SAAS,KARA,oBAQpC8F,EARoC,KAQ9BC,EAR8B,OASjBpD,IAAM3C,SAAS,GATE,iCAUX2C,IAAM3C,UAAS,IAVJ,oBAUpC4Q,EAVoC,KAU9B0Z,EAV8B,OAWd3nB,IAAM3C,SAAS,GAXD,oBAWpCuqB,EAXoC,KAWzBC,EAXyB,OAYf7nB,IAAM3C,SAAS,IAZA,oBAYpCjT,EAZoC,KAY5B09B,EAZ4B,OAanB9nB,IAAM3C,SAAS,IAbI,oBAapC0qB,EAboC,KAa9BnC,EAb8B,OAcD5lB,IAAM3C,UAAS,GAdd,oBAcpC2qB,EAdoC,KAcpBrC,EAdoB,OAenB3lB,IAAM3C,UAAS,GAfI,oBAepC2J,EAfoC,KAe9BihB,EAf8B,QAgBbjoB,IAAM3C,SAAS,iCAhBF,sBAgBpCgL,GAhBoC,MAgB3B6f,GAhB2B,SAiBPloB,IAAM3C,SAAS,UAjBR,sBAiBpCgoB,GAjBoC,MAiBrBC,GAjBqB,SAkBbtlB,IAAM3C,SAAS,IAlBF,sBAkBpCkoB,GAlBoC,MAkB3BC,GAlB2B,SAmBLxlB,IAAM3C,SAAS,WAnBV,sBAmBpCoN,GAnBoC,MAmBvB0d,GAnBuB,SAoBdnoB,IAAM3C,SAASjP,EAAoB,YApBrB,sBAoBpCg6B,GApBoC,MAoB3BC,GApB2B,SAsBjBroB,IAAM3C,UAAS,GAtBE,sBAsBpC4pB,GAtBoC,MAsB7BqB,GAtB6B,MAuBvC3xB,GAAU4xB,eACVl+B,GAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAqP9B,SAAS4pB,GAAiBprB,GACxB8+B,GAAgB,GAGlB,SAAS/L,GAAgB/yB,EAAOpB,EAAOghC,GACrCZ,EAAQpgC,GACRqgC,EAAUW,GACVd,GAAgB,GAzPlB3nB,IAAMhJ,WAAU,WACTswB,GAAEoB,GAAGC,UAAUC,YAAa,aACjBtB,GAAE,WAAWnI,YACnBnc,UACNslB,IAAS,GACTllB,EAAY,KAEd,OAAO,WACLA,EAAY,IACGkkB,GAAE,WAAWnI,YACnBnc,SAAQ,GACfslB,IAAS,MAEd,IAEHtoB,IAAMhJ,WAAU,WACViwB,IAASK,GAAEoB,GAAGC,UAAUC,YAAa,WAClC37B,KAAKE,UAAUgW,KAAUlW,KAAKE,UAAUsP,OAAOosB,YAChDpsB,OAAOosB,SAAW1lB,IAGpBmlB,IAAS,GAMf,WACE,IACIQ,EAAa,CACf,CAAE,UAAY,EAAO,SAAY,CAAC,IAClC,CACEC,QAAS,EACTn9B,MAAO,OACPo9B,WAAW,EACXC,YAAW,EACX,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnDC,IAASC,OACT,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWod,EAAQ5yB,IAC5B0I,SAAU,SAAArW,GAAK,OA8JvB,SAAS2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,GAClC,IAAMlQ,EAAgBH,EAAS1e,QAAQlE,GAGjCkzB,EAAKtQ,GAEW,IAAnBG,EACCmQ,EAAIxgC,KAAKsN,GAETkzB,EAAIpQ,OAAOC,EAAe,GAE9BmM,EAAYgE,GACZ,IAAM3D,EAAM,aAAOgC,GACnBhC,EAAO78B,KAAK,GACZ08B,EAAQG,GAEMuB,GAAE,WAAWnI,YACrBwK,KAAMT,GAAKK,OAAOD,IAASC,OAC3B,kBAACpM,GAAA,EAAD,CACA3d,QAASwM,GAAWxV,GACpB0I,SAAU,SAAArW,GAAK,OAAI2gC,EAAY3gC,EAAO2N,EAAI0yB,EAAIO,IAC9CzX,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyX,MAE1DP,IArLiBM,CAAY3gC,EAAOugC,EAAQ5yB,GAAI0yB,EAAIzR,IACtDzF,WAAY,CAAE,kBAAkB,2BAAlB,OAA8CyF,MAE1DyR,KAIN,CACEH,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjD,IAAIoN,EAAatN,EAAS53B,cACtBslC,EAAazN,EAAQr3B,MAAMR,cAG3BklC,EADDA,EAAW/kC,SAAS,SACN+kC,EAAWlxB,MAAM,SAAS,GAAGvX,QAAQ,KAAK,KAE1CyoC,EAAWzoC,QAAQ,KAAK,KAE3Cs7B,IAASC,OACT,uBAAG98B,MAAO,CAACo1B,cAAe,cAAe7c,KAAM,WAAWokB,EAAQ5yB,GAAG,IAAIqgC,EAAYvxB,OAAO,UAC3FmxB,GAEKvN,KAIV,CACEH,QAAS,EACTC,WAAW,EACX,YAAe,SAAUE,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnDC,IAASC,OACL,0BAAM7pB,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,gBAAgB9iB,UAAwB,IAAbw0B,EAAiB,6CAA6C,6CACzI,+BACE,2BACI9+B,KAAK,WAAWmV,QAAsB,IAAb2pB,EAAiB,iBAAiB,GAC3DxgC,KAAK,gCAET,iCAEWugC,KAInB,CACEH,QAAS,EACTh3B,MAAO,SACPi3B,WAAW,EACX,YAAe,SAAUE,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACH,0BAAM7pB,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,WAAW9iB,UAAwB,IAAbw0B,EAAiB,6CAA6C,6CAClI,+BACE,2BACE9+B,KAAK,WAAWmV,QAAsB,IAAb2pB,EAAiB,iBAAiB,GAC3DxgC,KAAK,gCAEP,iCAEKugC,KAGhB,CACDH,QAAS,EACTE,YAAW,GACX,CACEF,QAAS,EACTh3B,MAAO,UACPi3B,WAAW,EACbC,YAAW,EACT,YAAe,SAAUC,EAAIC,EAAUC,EAAS3R,EAAK4R,GACjDC,IAASC,OACT,kBAACpD,GAAA,EAAD,CAAUxxB,UAAU,yBAAyByxB,KAAK,OAAOwD,WAAS,GAClE,kBAACzD,GAAA,EAASG,OAAV,CAAiB9W,GAAIiY,KACjB,kBAACtB,GAAA,EAASI,KAAV,CAAgB5xB,UAAU,kEAC1B,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,kBAAM/I,GAAQzN,KAAK,sBAA8BkgC,EAAQ5yB,MAC/E,uBAAG7B,UAAU,iBADf,kBAGA,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,kBAAM/I,GAAQzN,KAAK,sBAA8BkgC,EAAQ5yB,GAAG,WAAW,uBAAG7B,UAAU,mBAA5G,iBACJ,kBAACwxB,GAAA,EAASjX,KAAV,CAAexP,QAAS,SAACxY,GAAD,OAAO00B,GAAgB10B,EAAGuwB,EAAK,YAAW,uBAAG9iB,UAAU,oBAA/E,aAGMu0B,MAKhB5B,GAAE,WAAWnI,UAAU,CACrB7d,WAAY,CACVuoB,QAAS,CACPC,SAAUxC,GAAEoB,GAAGC,UAAUoB,WAAWD,SAASE,oBAGjDC,YAAW,EACXC,aAAe5K,GAAW,UAAWxlB,GACrC0tB,KAAM,CACJtN,IA1GM9sB,0DA2GN+8B,OAAQ,MACR18B,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,SAASR,KAAKC,MAAMU,aAAaC,QAAQN,IAAgBQ,UAAUC,QAAQ,SAAU,KACpJ,WAAc,SAASpI,GACrB,IAAIwkC,EAAOn9B,KAAKC,MAAMtH,GAClBwjC,EA9Ld,SAAsBA,GAMpB,OALMtzB,MAAMC,QAAQqzB,IAAYA,EAAQtiC,OAAS,GAC/CsiC,EAAQiB,SAAQ,SAASr0B,EAAMvO,GAC7B2hC,EAAQ3hC,GAAR,QAA4B2hC,EAAQ3hC,GAAR,SAA6B,MAGtD2hC,EAwLekB,CAAaF,EAAKxkC,MAGhC,OAFAwd,EAAYgmB,GACZgB,EAAKxkC,KAAOwjC,EACLn8B,KAAKE,UAAUi9B,KAKtBG,IAAI,2GAGJC,WAAY,CAAC,EAAG,GAAI,GAAI,IAE5BC,WAAY,GACZC,WAAY,UACZC,aAAcxnB,EAAKwnB,aACnBC,gBAAiBznB,EAAKynB,gBAEtB/qB,SAAU,CACR,WAAc,kBAIhBgrB,MAAO,CAAC,CAAC,EAAG,SACZ/B,WAAWA,IAEbxB,GAAE,WAAW9/B,GAAI,WAAW,WAC1Bw3B,GAAWsI,GAAE,WAAY,UAAWxtB,MAhJlCgxB,MAED,CAAC3nB,IAkSNnD,IAAMhJ,WAAU,WACd/I,EAAoB,UAAWm6B,MAChC,CAACA,KAEF,IAAM2C,GAAsB,SAACliC,EAAOmiC,GAClC/C,GAAQ,IAGJjc,GAAa,SAAAxV,GAAE,OAA8B,IAA1B4iB,EAAS1e,QAAQlE,IAE1C,OAEE,yBAAK7B,UAAW6T,EAAQxW,MAEtB,kBAACi5B,GAAA,EAAD,CAAOt2B,UAAW6T,EAAQwe,OACxB,yBAAKryB,UAAW6T,EAAQ2e,cACxB,yBAAKxyB,UAAU,iCACX,kBAAC,GAAD,CAAsBixB,QAASA,EAASP,cAAeA,GAAeC,WAAYA,GAAYliB,YAAaA,EAAaD,KAAMA,EAAMwiB,gBAAiBA,EAAiBD,YAAaA,EAAatM,SAAUA,EAAUqM,YAAarM,EAAStyB,OAAQuD,KAAMA,GAAMk7B,QAASA,GAASC,WAAYA,KAC9R,yBAAK7wB,UAAU,oBAEb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,uDACb,yBAAKA,UAAU,qCACb,2BAAOu2B,QAvG7B,SAAsBriC,GACNy+B,GAAE,WAAWnI,YACrBluB,OAAQpI,EAAMyc,OAAOpX,OAAQi9B,QAqGgB9gC,KAAK,OAAOsK,UAAU,eAAegb,YAAY,YAAYnZ,GAAG,kBAC/F,0BAAM7B,UAAU,iDACd,8BAAM,uBAAGA,UAAU,yBASjC,yBAAKA,UAAU,cACX,6BACE,2BAAOA,UAAU,kEAAkE6B,GAAI,UACnF,+BACA,4BACI,wBAAI40B,YAAU,YACV,kBAACjO,GAAA,EAAD,CACE3d,QAASwoB,EACT9oB,SAvL9B,SAA8BrW,GAE5B,GAAIA,EAAMyc,OAAO9F,QAAS,CACtB,IAAMkqB,EAAMtQ,EACOjW,EAAKgC,KAAI,SAAAkmB,GAAC,OAAIA,EAAE70B,MACtB6zB,SAAQ,SAAAzD,GACpB8C,EAAIxgC,KAAK09B,MAEZlB,EAAYgE,QAEVtQ,EAAStyB,OAAS,EAClB4+B,EAAYtM,GAGduM,GADCqC,GAKHhC,MAsK4BhU,WAAY,CACV,aAAc,uBAItB,wBAAIoZ,YAAU,MAAd,MACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,SAAd,eACA,wBAAIA,YAAU,eAAd,WACA,wBAAIA,YAAU,aAAd,UACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,SAAd,SACA,wBAAIA,YAAU,WAAd,oBAUpB,kBAACrd,GAAA,EAAD,CAAOE,KAAMA,EAAMC,OAAQ+F,IACzB,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,GAAA,EAAMO,MAAP,iBAEF,kBAACP,GAAA,EAAM4Q,OAAP,KACE,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAvIlC,SAAiB7W,GACf,GAAa,UAAVuB,EAAoB,CACrB,IAAIxE,EAAO,CAAC,UAA2C,IAA9Bud,EAAKykB,GAAW7hB,UAAkB,EAAE,GAC7D9W,EAAM,WAAWkU,EAAKykB,GAAWpxB,GAAG,IAAK5Q,GAAM8I,MAAK,SAAUC,GAC5DwU,EAAKykB,GAAaj5B,EAAS/I,KAC3Bwd,EAAYD,GACZwkB,GAAgB,GAChB3B,KACAiC,GAAQ,GACR,IAAMsD,EAAyC,IAA5B58B,EAAS/I,KAAKmgB,UAAkB,YAAc,cACjEoiB,GACsC,IAApCx5B,EAAS/I,KAAK0lC,kBAA0B,UAAY,SAEtDpD,GAAW,uBAAuBqD,WAGjC,GAAc,gBAAXnhC,EAA0B,CAC5BxE,EAAO,CAAC4uB,YAA6C,IAAhCrR,EAAKykB,GAAWpT,YAAoB,EAAI,GAEjEtlB,EAAK,WAAWiU,EAAKykB,GAAWpxB,GAAG,YAAa5Q,GAAM8I,MAAK,SAAUC,GACnEwU,EAAKykB,GAAaj5B,EAAS/I,KAC3Bwd,EAAYD,GACZwkB,GAAgB,GAChB3B,KACAiC,GAAQ,GACR,IAAIuD,EAAc,GAAIC,EAAa,GACV,WAAtB98B,EAAS/I,KAAKyE,OACf+9B,GAAQjjB,KAAI,SAACumB,EAAQpjC,GACnBmjC,EAAa,GACb73B,OAAOC,KAAK63B,GAAQvmB,KAAI,SAAAjb,GACtBuhC,EAAWvhC,GAAOwhC,EAAOxhC,GAEP,UAAfwhC,EAAO/iC,MAA2B,YAAPuB,IACL,GAApBtE,EAAK4uB,YACNiX,EAAWvhC,IAAQ,EAEnBuhC,EAAWvhC,IAAQ,MAIzBshC,EAAYtiC,KAAKuiC,MAInBpD,GAAUmD,IAGZrD,GAAex5B,EAAS/I,KAAKyE,MAC7B69B,GAAWv5B,EAAS/I,KAAKyiB,gBAET,UAAVje,GACR+E,EAAI,WAAWgU,EAAKykB,GAAWpxB,GAAG,KAAK9H,MAAK,SAAUC,GACpDwU,EAAKmW,OAAOsO,EAAU,GACtBxkB,EAAYD,GACZwkB,GAAgB,GACd3B,KACFiC,GAAQ,GACRC,GAAW,oCA8ET,OAGA,kBAACnjB,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASuU,IAAlC,QAKJ,kBAAC3C,GAAA,EAAD,CACIC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAMA,EACN0K,iBAAkB,KAClBzK,QAAS8jB,IAET,kBAAC,GAAD,CACE9jB,QAAS8jB,GACT9lB,QAASwF,GACTpC,QAASA,OC/tBcrI,IAAMC,YAAW,WAAwBC,GAAxB,EAAGtJ,SAAH,IAAa8I,EAAb,EAAaA,QAAb,OAChD,4BACIQ,IAAKA,EACLR,QAAS,SAAAxY,GACPA,EAAEC,iBACFuY,EAAQxY,IAEVyN,UAAU,8BANd,UASE,kBAAC,GAAD,CAAcA,UAAU,oCAKnB8S,KACAC,KACFC,KACDC,KAGyBE,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAoChB,IAAMwc,GAAmBhd,cAAW,SAAA3O,GAAK,MAAK,CAC5CnH,KAAM,CACJ+yB,YAAa5rB,EAAMiP,QAAQ,GAC3BzK,aAAcxE,EAAMiP,QAAQ,GAC5B3c,QAAS,SAEXu5B,UACyB,UAAvB7rB,EAAMK,QAAQnP,KACV,CACE0Z,MAAO5K,EAAMK,QAAQG,UAAUD,KAC/B0H,gBAAiB6jB,aAAQ9rB,EAAMK,QAAQG,UAAU9O,MAAO,MAE1D,CACEkZ,MAAO5K,EAAMK,QAAQoI,KAAK7W,QAC1BqW,gBAAiBjI,EAAMK,QAAQG,UAAU7O,MAEjDo6B,OAAQ,CACNC,KAAM,YAER56B,QAAS,CACPwZ,MAAO5K,EAAMK,QAAQoI,KAAKjI,WAE5B5H,MAAO,CACLozB,KAAM,gBAIJC,GAAuB,SAAAtrB,GAC3B,IAAM0O,EAAUsc,KACRW,EAA0F3rB,EAA1F2rB,YAA0F3rB,EAA7EzP,KAA6EyP,EAAvEsf,SAAuEtf,EAA7D4rB,YAA6D5rB,EAAhD6rB,gBAAgD7rB,EAA/BsJ,YAA+BtJ,EAAlBqJ,KAAkBrJ,EAAZ8rB,QAGtF,OACE,kBAACC,GAAA,EAAD,CACElxB,UAAWgL,aAAK6I,EAAQxW,KAAT,gBACZwW,EAAQwc,UAAYS,EAAc,KAGnC,yBAAK9wB,UAAU,yCACX,yBAAKA,UAAU,0BACb,0BAAMA,UAAU,yBACd,uBAAGA,UAAU,mCAEZ8wB,EAAc,EACb,kBAACK,GAAA,EAAD,CAAY/hB,MAAM,UAAUkB,QAAQ,aACjCwgB,EADH,aAIA,wBAAI9wB,UAAU,0BAAd,gBAeZoyB,GAAYjf,cAAW,SAAA3O,GAAK,MAAK,CACrCnH,KAAM,CACJpG,MAAO,OACP+4B,UAAWxrB,EAAMiP,QAAQ,IAE3B4e,MAAO,CACLp7B,MAAO,OACP8iB,aAAcvV,EAAMiP,QAAQ,IAE9B6e,MAAO,CACLC,SAAU,KAEZC,aAAc,CACZC,UAAW,QAEbC,MAAO,CACLzW,QAASzX,EAAMiP,QAAQ,SAIrBkf,GAAIC,EAAQ,IAkBH,SAASG,GAAc5tB,GACpC,IAAM0O,EAAUue,KAD2B,EAEjB/mB,IAAM3C,SAAS,OAFE,iCAGb2C,IAAM3C,SAAS,aAHF,iCAIX2C,IAAM3C,SAAS,KAJJ,oBAIpC+b,EAJoC,KAI1BsM,EAJ0B,OAKnB1lB,IAAM3C,SAAS,GALI,iCAMjB2C,IAAM3C,UAAS,IANE,iCAOL2C,IAAM3C,SAAS,KAPV,iCAQf2C,IAAM3C,SAAS,KARA,oBAQpC8F,EARoC,KAQ9BC,EAR8B,OASjBpD,IAAM3C,SAAS,GATE,iCAUX2C,IAAM3C,UAAS,IAVJ,iCAWd2C,IAAM3C,SAAS,IAXD,iCAYf2C,IAAM3C,SAAS,KAZA,iCAanB2C,IAAM3C,SAAS,KAbI,oBAa9BuoB,GAb8B,aAcD5lB,IAAM3C,UAAS,GAdd,oBAcpBsoB,GAdoB,aAenB3lB,IAAM3C,UAAS,GAfI,iCAgBb2C,IAAM3C,SAAS,kCAhBF,iCAiBjB2C,IAAM3C,UAAS,IAjBE,oBAiBpC4pB,EAjBoC,KAiB7BqB,EAjB6B,KAkBvC3xB,EAAU4xB,eACVl+B,EAAOyP,EAAM+e,MAAMtqB,OAAOlE,KAE9B2V,IAAMhJ,WAAU,WACTswB,GAAEoB,GAAGC,UAAUC,YAAa,uBACjBtB,GAAE,qBAAqBnI,YAC7Bnc,UACNslB,GAAS,GACTllB,EAAY,KAEd,OAAO,WACHA,EAAY,IACCkkB,GAAE,qBAAqBnI,YAC7Bnc,SAAQ,GACfslB,GAAS,MAGd,IAEHtoB,IAAMhJ,WAAU,WACViwB,GAASK,GAAEoB,GAAGC,UAAUC,YAAa,qBAClC37B,KAAKE,UAAUgW,KAAUlW,KAAKE,UAAUsP,OAAOosB,YAChDpsB,OAAOosB,SAAW1lB,IAGpBmlB,GAAS,GAMf,WACE,IACIQ,EAAa,CACb,CACEC,QAAS,EACT,YAAe,SAAUG,EAAIC,EAAUC,EAAS3R,EAAK4R,GACnDC,IAASC,OACT,uBAAGjkB,OAAO,SAAS7Y,MAAO,CAAEkhC,OAAQ,WAAajuB,QAAS,kBAAM/I,EAAQzN,KAAK,kBAA0BkgC,EAAQ0N,kBAC9G3N,GAEKD,MAMd5B,GAAE,qBAAqBnI,UAAU,CAC/B7d,WAAY,CACVuoB,QAAS,CACPC,SAAUxC,GAAEoB,GAAGC,UAAUoB,WAAWD,SAASE,oBAGjDC,YAAW,EACXC,aAAe5K,GAAW,mBAAoBxlB,GAC9C0tB,KAAM,CACJtN,IAxBM9sB,mEAyBN+8B,OAAQ,MACR18B,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,SAASR,KAAKC,MAAMU,aAAaC,QAAQN,IAAgBQ,UAAUC,QAAQ,SAAU,KACpJ,WAAc,SAASpI,GACrB,IAAIwkC,EAAOn9B,KAAKC,MAAMtH,GAClBwjC,EAzFd,SAAsBA,GAOpB,OANMtzB,MAAMC,QAAQqzB,IAAYA,EAAQtiC,OAAS,GAC/CsiC,EAAQiB,SAAQ,SAASr0B,EAAMvO,GAC3B2hC,EAAQ3hC,GAAR,OAA2BuO,EAAKga,OAAS,UAAW,SACpDoZ,EAAQ3hC,GAAR,mBAAuC,IAAIuO,EAAK+gC,sBAG/C3N,EAkFekB,CAAaF,EAAKxkC,MAGhC,OAFAwd,EAAYgmB,GACZgB,EAAKxkC,KAAOwjC,EACLn8B,KAAKE,UAAUi9B,KAK1BG,IAAI,2GAGJC,WAAY,CAAC,EAAG,GAAI,GAAI,IAExBC,WAAY,GACZC,WAAY,UACZC,aAAcxnB,EAAKwnB,aACnBC,gBAAiBznB,EAAKynB,gBAEtB/qB,SAAU,CACR,WAAc,kBAEhBgrB,MAAO,CAAC,CAAC,EAAG,SACZ/B,WAAWA,IAEbxB,GAAE,qBAAqB9/B,GAAI,WAAW,WACpCw3B,GAAWsI,GAAE,qBAAsB,mBAAoBxtB,MA5DrDgxB,MAED,CAAC3nB,IAiGN,OAEE,yBAAKxO,UAAW6T,EAAQxW,MAEtB,kBAACi5B,GAAA,EAAD,CAAOt2B,UAAW6T,EAAQwe,OACxB,yBAAKryB,UAAW6T,EAAQ2e,cACxB,yBAAKxyB,UAAU,iCACX,kBAAC,GAAD,CAAsBixB,QAASA,EAASxiB,YAAaA,EAAaD,KAAMA,EAAMwiB,gBAAiBA,EAAiBD,YAAaA,EAAatM,SAAUA,EAAUqM,YAAarM,EAAStyB,OAAQuD,KAAMA,IACpM,yBAAKsK,UAAU,oBAEb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,6CACb,yBAAKA,UAAU,qCACb,2BAAOu2B,QArC7B,SAAsBriC,GACNy+B,GAAE,qBAAqBnI,YAC/BluB,OAAQpI,EAAMyc,OAAOpX,OAAQi9B,QAmCgB9gC,KAAK,OAAOsK,UAAU,eAAegb,YAAY,YAAYnZ,GAAG,kBAC/F,0BAAM7B,UAAU,iDACd,8BAAM,uBAAGA,UAAU,yBASjC,yBAAKA,UAAU,cACX,6BACE,2BAAOA,UAAU,kEAAkE6B,GAAI,oBACnF,+BACA,4BACI,wBAAI40B,YAAU,kBAAd,kBACA,wBAAIA,YAAU,iBAAd,QACA,wBAAIA,YAAU,kBAAd,SACA,wBAAIA,YAAU,sBAAd,UACA,wBAAIA,YAAU,cAAd,QACA,wBAAIA,YAAU,UAAd,oBArM1B9D,GAAEnI,UAAYoI,EAAQ,K,cC7KT/H,I,QAAb,YAEE,WAAY1lB,GAAQ,IAAD,+BACjB,8CAAMA,KACD3P,MAAQ,CACX6sC,QAAQ,CAAC5O,QAAQ,KAHF,EAFrB,kFASqB6O,GAEZrjC,OAAOC,KAAKojC,EAAUC,UAAUF,SAASlwC,QAC5C3B,KAAKskB,SAAS,CAACutB,QAAQ7xC,KAAK2U,MAAMo9B,UAAUF,YAZlD,+BAgBY,IACHA,EAAW7xC,KAAKgF,MAAhB6sC,QACL,OACI,yBAAKriC,UAAU,gBACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,qBACb,wBAAIA,UAAU,qBAAd,WACA,yBAAKqQ,KAAK,IAAIrQ,UAAU,oBACtB,uBAAGqQ,KAAK,KAAI,yBAAKvY,MAAO,CAACb,MAAM,QAASqX,OAAO,QAAS0I,IAAI,qCAC5D,0BAAMhX,UAAU,oBACd,iFACA,8CACA,yDACA,yDAIN,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,oBACb,0BAAMA,UAAU,wBAAhB,QACA,0BAAMA,UAAU,oBAAoBqiC,EAAQG,gBAE9C,yBAAKxiC,UAAU,oBACb,0BAAMA,UAAU,wBAAhB,QACA,0BAAMA,UAAU,oBAAoBqiC,EAAQI,aAE9C,yBAAKziC,UAAU,oBACb,0BAAMA,UAAU,wBAAhB,eACA,0BAAMA,UAAU,oBAAoBqiC,EAAQF,iBAE9C,yBAAKniC,UAAU,oBACb,0BAAMA,UAAU,wBAAhB,eACA,0BAAMA,UAAU,oBAAoBqiC,EAAQK,oBAKpD,yBAAK1iC,UAAU,oBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,oBACb,2BAAOA,UAAU,SACf,+BACE,4BACE,qCACA,uCACA,0CACA,uCAGJ,+BAEKqiC,EAAQ5O,QAAQjjB,KAAI,SAAAumB,GACnB,GAAsB,GAAnBA,EAAOkK,SACR,OAAO,4BACC,4BAAKlK,EAAOrhC,MACZ,4BAAKqhC,EAAOkK,UACZ,4BAAKlK,EAAO4L,YACZ,4BAAK5L,EAAO4L,WAAa5L,EAAOkK,mBASxD,yBAAKjhC,UAAU,sBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,oBACb,2BAAOA,UAAU,oBACf,+BACE,4BACE,6BACA,6BACA,6BACA,8CAGJ,+BACE,4BACE,6BACA,6BACA,6BACA,wBAAIA,UAAU,6CAA6CqiC,EAAQD,mBAAnE,mBApGtB,GAA4B/2B,IAAMM,YAgH5BkhB,G,YACJ,WAAY1nB,GAAQ,IAAD,wBACjB,8CAAMA,KACD3P,MAAQ,CACX4H,MAAO,UACPilC,QAAS,GACT5O,QAAQ,CAAClV,SAAS,EAAG0f,OAAO,EAAG1G,IAAI,IALpB,IAOTqL,EAAc,EAAKz9B,MAAM+e,MAAMtqB,OAA/BgpC,WAPS,OAQjB,EAAKC,WAAWD,GARC,E,0EAWRA,GAAa,IAAD,OACrBlpC,EAAK,oBAAoBkpC,EAAW,KAAK7oC,MACvC,SAACC,GACG,IAAIqoC,EAAUroC,EAAS/I,KACvBoxC,EAAQI,YAAa,IAAInX,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAK6hC,EAAQI,aACvE,EAAK3tB,SAAS,CAACutB,QAAUroC,EAAS/I,Y,+BAKxC,OACE,oCACE,yBAAK+O,UAAU,OACb,yBAAKA,UAAU,aACb,kBAACyS,GAAD,CACEE,gBAAiB,+BAA+BniB,KAAKgF,MAAM6sC,QAAQG,cACnE9vB,OAAY,yBAAK1S,UAAU,4BAC3B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BACX,kBAAC,QAAD,CAAM4pB,GAAI,kBAA2B5pB,UAAU,6BAC7C,uBAAGA,UAAU,0BADf,QAIC,kBAAC,QAAD,CAAM+K,QAAS,kBAAI+3B,iBAAM,kBAAmB,qBAAqB9iC,UAAU,2DACtE,uBAAGA,UAAU,mBADlB,iBAST,yBAAKA,UAAU,cACb,kBAAC,WAAD,CAAS6B,GAAI,oBACX,kBAAC,GAAD,CAAQ5Q,KAAMT,KAAK2U,MAAOo9B,UAAW/xC,KAAKgF,kB,GA/CnC6V,IAAMM,WA0DhBye,gBAAWyC,IC7KpBhC,G,YAEF,WAAY1lB,GAAQ,IAAD,uBACf,8CAAMA,IACN,IAAM0oB,EAAU1oB,EAAMlU,KAAKssC,SAAS5c,QAAUxb,EAAMlU,KAAKssC,SAAS5c,QAAQ9e,GAAM,KAFjE,OAMf,EAAKkpB,WAAa,CAACzN,WAAY,KAC/B,EAAK2J,gBAAkB,EAAKA,gBAAgBtE,KAArB,iBACvB,EAAKrD,iBAAmB,EAAKA,iBAAiBqD,KAAtB,iBACxB,EAAKD,QAAU,EAAKA,QAAQC,KAAb,iBACf,EAAKntB,MAAQ,CACTmrB,QAAS,GACTlrB,OAAQ,GACRu1B,WAAW,EACXC,WAAY,GACZC,WAAY,GACZ3W,MAAO,KACP4W,aAAc,IAGlB,EAAK4X,QAAQlV,GACb,EAAKxC,SAlBY,CACbpP,QAAS,QAJE,E,uEAwBX+f,GAAa,IAAD,OAChBtiC,EAAK,YAAcsiC,EAAa,KAAKjiC,MACjC,SAACC,GACG,EAAK8a,SAAS,CACVmW,YAAY,IAAIK,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKg6B,aACpEC,YAAY,IAAII,KAAKC,gBAAiB3L,OAAO,IAAIpf,KAAKxG,EAAS/I,KAAKi6B,aACpE3W,MAAOva,EAAS/I,KAAK0mB,MAAQ3d,EAAS/I,KAAK0mB,MAAMnB,mBAAqB,OAG1E,EAAK1B,SAAS,CAAC6L,QAAS3mB,EAAS/I,Y,mCAIhCwf,EAAK/c,GAAO,IAAD,OAChBitB,EAAUnwB,KAAKgF,MAAMmrB,QAEzBA,EAAQjtB,GAAQ+c,EAChBjgB,KAAKskB,SAAS,CAAC6L,QAASA,IACxBrmB,EAAM,YAAc9J,KAAKgF,MAAMmrB,QAAQ9e,GAAK,IAAKrR,KAAKgF,MAAMmrB,SAAS5mB,MACjE,SAACC,GACG,EAAK8a,SAAS,CAAC6L,QAAS3mB,EAAS/I,UAClCkoB,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,W,sCAI5BiD,EAAOuB,GACnB,IAAIgb,EAAMvc,EAAMyc,OAAOpX,MACR,WAAX9D,IACAgb,EAAMvd,SAASud,GACfjgB,KAAKskB,SAAS,CAACqW,aAAsB,IAAR1a,EAAY,EAAI,KAEjDjgB,KAAKskB,SAAS,CAACrf,OAAQA,IACvBjF,KAAKskB,SAAS,CAACkW,WAAW,M,yCAI1Bx6B,KAAKskB,SAAS,CAACkW,WAAW,M,gCAGnB,IAAD,OACoB,WAAtBx6B,KAAKgF,MAAMC,SACXjF,KAAKgF,MAAMmrB,QAAQwK,aAAe36B,KAAKgF,MAAM21B,aAC7C7wB,EAAM,YAAc9J,KAAKgF,MAAMmrB,QAAQ9e,GAAK,IAAK,CAACspB,aAAc36B,KAAKgF,MAAM21B,eAAepxB,MACtF,SAACC,GACG,EAAK8a,SAAS,CAAC6L,QAAS3mB,EAAS/I,OACjC,EAAK6jB,SAAS,CAACkW,WAAW,OAC3B7R,OAAM,SAAAjU,GACT,EAAKC,MAAMwe,UAAUze,EAAMlL,SAAS/I,MACpC,EAAK6jB,SAAS,CAACkW,WAAW,U,+BAM5B,IAAD,EACwBx6B,KAAKgF,MAAhBmrB,GADb,EACElB,UADF,EACakB,SAElB,OADAvgB,QAAQC,IAAI7P,KAAKgF,MAAM+e,OAEnB,6BACI,kBAACwD,GAAA,EAAD,CAAM0T,WAAS,EAAChY,QAAS,GACrB,kBAACsE,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACnB,kBAACrB,GAAA,EAAD,KACI,kBAACA,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,aAA6B,6BAC7B,kBAAC3B,GAAA,EAAK2B,MAAN,CACI/jB,MAAOtH,KAAKu6B,YAAapK,EAAQC,WAAa,IAAMD,EAAQE,YAEpE,kBAAC3G,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,iBAAiC,6BACjC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQ+Z,YAGrD,6BACA,kBAACxgB,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,gBAAgC,6BAChC,kBAAC3B,GAAA,EAAK2B,MAAN,CACI/jB,MAAOtH,KAAKu6B,YAAapK,EAAQuY,QAAUvY,EAAQuY,QAAQllC,KAAO,KAE1E,kBAACkmB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,kBAAkC,6BAClC,kBAAC3B,GAAA,EAAK2B,MAAN,CACI/jB,MAAOtH,KAAKu6B,YAAapK,EAAQyY,UAAYzY,EAAQyY,UAAUplC,KAAO,KAE9E,kBAACkmB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,mBAAmC,6BACnC,kBAAC3B,GAAA,EAAK2B,MAAN,CACI/jB,MAAOtH,KAAKu6B,YAAapK,EAAQ4Z,WAAa5Z,EAAQ4Z,WAAWvmC,KAAO,MAGpF,6BACA,kBAACkmB,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,qBAAqC,6BACrC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQua,eAEjD,kBAAChhB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,uBAAuC,6BACvC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQsa,iBAEjD,kBAAC/gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,cAA8B,6BAC9B,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQwa,QAEjD,kBAACjhB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,iBAAiC,6BACjC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQya,YAGrD,6BACA,kBAAClhB,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,gBAAgC,6BAChC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQqa,UAEjD,kBAAC9gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,aAA6B,6BAC7B,kBAAC3B,GAAA,EAAK2B,MAAN,CACI/jB,MAAOtH,KAAKu6B,YAAapK,EAAQ8Z,KAAO9Z,EAAQ8Z,KAAKzmC,KAAO,KAEpE,kBAACkmB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,cAA8B,6BAC9B,kBAAC3B,GAAA,EAAK2B,MAAN,CACI/jB,MAAOtH,KAAKu6B,YAAapK,EAAQnrB,MAAQmrB,EAAQnrB,MAAMxB,KAAO,KAEtE,kBAACkmB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,gBAAgC,6BAChC,kBAAC3B,GAAA,EAAK2B,MAAN,CACI/jB,MAAOtH,KAAKu6B,YAAapK,EAAQ6Z,QAAU7Z,EAAQ6Z,QAAQxmC,KAAO,MAG9E,6BACA,kBAACkmB,GAAA,EAAKC,IAAN,KACI,kBAACD,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,iCAAiD,6BACjD,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAapK,EAAQia,2BAEjD,kBAAC1gB,GAAA,EAAKU,MAAN,CAAYC,GAAIT,KAAKmB,GAAG,IAAIvD,GAAG,MAC3B,kBAACkC,GAAA,EAAK2B,MAAN,uBAAuC,6BACvC,kBAAC3B,GAAA,EAAK2B,MAAN,CAAY/jB,MAAOtH,KAAKu6B,YAAmC,GAAtBpK,EAAQ0a,WAAkB,KAAO,WAMtF,kBAACtjB,GAAA,EAAD,CAAM1W,MAAI,EAAC2W,GAAI,GAAIuD,GAAI,GACnB,yBAAKzjB,MAAO,CAACykC,UAAW,QAASjgB,SAAU,SACtCtF,IAAKxmB,KAAKgF,MAAM+e,MAAQ5b,EAAYnI,KAAKgF,MAAM+e,MAAQ5b,EAAY,sBAIhF,kBAACygB,GAAA,EAAD,CAAOE,KAAM9oB,KAAKgF,MAAMw1B,UAAWzR,OAAQ/oB,KAAK8uB,kBAC5C,kBAAClG,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACrB,kBAACN,GAAA,EAAMO,MAAP,iBAEJ,kBAACP,GAAA,EAAM4Q,OAAP,KACI,kBAAC5Z,GAAA,EAAD,CAAQE,QAAQ,SAASvF,QAASva,KAAKkyB,SAAvC,OAGA,kBAACtS,GAAA,EAAD,CAAQE,QAAQ,UAAUvF,QAASva,KAAK8uB,kBAAxC,a,GA3LHjU,IAAMM,WAqMrBkhB,G,YACF,WAAY1nB,GAAQ,IAAD,+BACf,8CAAMA,KAYVq3B,aAAe,SAACjjC,GACZ,EAAKub,SAAS,CAAC1X,MAAO7D,KAZtB,EAAK/D,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,EAAO9sB,MAAO,mBACnD,EAAKumB,UAAY,EAAKA,UAAUhB,KAAf,iBAHF,E,yEAMTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAOjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GAEtC,OADAyM,QAAQC,IAAI6E,GACL,wBAAI3P,IAAKzC,EAAQa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA7D,MAAoEgI,UAK3F,yBAAKlF,UAAU,OACX,yBAAKA,UAAU,aACX,kBAACyS,GAAD,CACIE,gBAAiBniB,KAAKgF,MAAM4H,MAC5BsV,OAAQ,yBAAK1S,UAAU,4BACnB,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACX,4BAAQ+K,QAAS,kBAAM,EAAK5F,MAAMnD,QAAQzN,KAAK,kCAAkCyL,UAAU,6CAA3F,mBAGA,4BAAQ+K,QAAS,kBAAM,EAAK5F,MAAMnD,QAAQzN,KAAK,kBAAoB,EAAK4Q,MAAMo4B,SAAS5c,QAAQ9e,GAAK,UAC5F7B,UAAU,mBACd,uBAAGA,UAAU,eAFjB,aAUhB,yBAAKA,UAAU,cACX,kBAAC,GAAD,CAAQ/O,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,UAAW2Y,SAAU9rC,KAAKgsC,wB,GAtD3EnxB,IAAMM,WAgEhBye,gBAAWyC,I,SC9PpBha,GAAc,CAChBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MA0DV,IAAMW,GAAyBovB,cAxDE,SAAAx+B,GAAK,MAAK,CACvCnO,QAAS,CACLoW,gBAAiB2G,KAAM,MAE3BlO,MAAO,CACHuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEzCG,KAAM,CACFmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAE3CxO,QAAS,CACLkW,gBAAiB4G,KAAM,MAE3B9V,KAAM,CACFyP,SAAU,IAEdsG,YAAa,CACTC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE/BC,QAAS,CACL5c,QAAS,OACT6c,WAAY,aAkCWqvB,EA9B/B,SAA6B79B,GAAQ,IAC1B0O,EAA2D1O,EAA3D0O,QAAS7T,EAAkDmF,EAAlDnF,UAAW0T,EAAuCvO,EAAvCuO,QAASpB,EAA8BnN,EAA9BmN,QAAShC,EAAqBnL,EAArBmL,QAAYwD,EADzB,aACkC3O,EADlC,uDAE1B4O,EAAOlB,GAAYvC,GACzB,OACI,kBAAC0D,GAAA,EAAD,eACIhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACI,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAChD,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eACrCI,GAGTje,OAAQ,CACJ,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAChE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAGlCuW,OAcVqZ,G,YAEF,WAAYhoB,GAAQ,IAAD,wBACf,8CAAMA,KA8DVixB,oBAAsB,WAClB,EAAKthB,SAAS,CAACmuB,cAAc,KA7D7B,IAAMpV,EAAU1oB,EAAMlU,KAAKssC,SAAWp4B,EAAMlU,KAAKssC,SAAS17B,GAAK,KAHhD,OAKf,EAAKrM,MAAQ,CACTiqB,WAAW,EACXhZ,KAAM,GACNw8B,cAAc,EACd3yB,QAAS,WAGb,EAAKyyB,QAAQlV,GAZE,E,uEAeXA,GAAU,IAAD,OACbn0B,EAAK,SAAWm0B,EAAU,KAAK9zB,MAC3B,SAACC,GACG,EAAK8a,SAAS,CAACrO,KAAMzM,EAAS/I,Y,mCAI7BiD,GACT,IAAIuS,EAAOjW,KAAKgF,MAAMiR,KAClB/S,EAAOQ,EAAMyc,OAAO3c,KACpByc,EAAMvc,EAAMyc,OAAOpX,MAEX,oBAAR7F,GAAsC,mBAARA,IACnB,IAAP+c,GAAaA,EAAIte,OAAS,EAC1B3B,KAAKskB,SAAS,CACVmuB,cAAc,EACd3yB,QAAS,QACT4yB,aAAc,sDAGlB1yC,KAAKskB,SAAS,CAACmuB,cAAc,KAKrCx8B,EAAK/S,GAAQ+c,EACbjgB,KAAKskB,SAAS,CAACrO,KAAMA,M,mCAGZvS,GAAQ,IAAD,OACHA,EAAMsvB,cACnBtvB,EAAM1B,iBACN0B,EAAMuvB,kBACNjzB,KAAKskB,SAAS,CAAC2K,WAAW,IAE1BllB,EAAK,iBADM/J,KAAKgF,MAAMiR,MACO1M,MACzB,SAACC,GACG,EAAKmL,MAAMlU,KAAK+Q,QAAQzN,KAAK,sBAC9B4kB,OAAM,SAAAjU,GACT,EAAK4P,SAAS,CACVmuB,cAAc,EACd3yB,QAAS,QACT4yB,aAAch+B,EAAMlL,SAAS/I,KAAKiU,a,+BAUpC,IAAD,OACU1U,KAAKgF,MAAbiR,KACP,OACI,6BACI,kBAACyT,GAAA,EAAD,CACIyM,YAAU,EACV9c,SAAU,SAAAtX,GAAC,OAAI,EAAK0X,aAAa1X,KAEjC,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,oBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIplB,KAAK,WACLslB,YAAY,GACZhnB,KAAK,mBACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAI7C,kBAAC2nB,GAAA,EAAKU,MAAN,CAAYC,GAAIV,MACZ,kBAACD,GAAA,EAAK2B,MAAN,CAAY+K,QAAM,EAACvM,GAAG,IACVra,UAAU,2BADtB,gBAEA,kBAACoa,GAAA,EAAD,CAAKC,GAAG,IAAIwM,GAAG,KACX,kBAAC3M,GAAA,EAAKY,QAAN,CACIplB,KAAK,WACLslB,YAAY,GACZhnB,KAAK,kBACLuW,SAAU,SAAAhY,GAAC,OAAI,EAAK2X,aAAa3X,QAI7C,kBAAC6d,GAAA,EAAD,CAAQ1a,KAAK,SAASsK,UAAU,mBAC5B,uBAAGA,UAAU,eADjB,UA5BJ,WAkCI,kBAAC,QAAD,CAAM4pB,GAAG,wBAAwB5pB,UAAU,kBACvC,uBAAGA,UAAU,iBADjB,WAMJ,kBAAC2c,GAAA,EAAD,CACIC,aAAc,CACVC,SAAU,SACVC,WAAY,SAEhBzK,KAAM7hB,KAAKgF,MAAMytC,aACjBlmB,iBAAkB,KAClBzK,QAAS9hB,KAAK4lC,qBAEd,kBAAC,GAAD,CACI9jB,QAAS9hB,KAAK4lC,oBACd9lB,QAAS9f,KAAKgF,MAAM8a,QACpBoD,QAASljB,KAAKgF,MAAM0tC,qB,GA7HzB73B,IAAMM,WAsInBmwB,GAAU,kBAAC,QAAD,CAAMlS,GAAG,wBAAwB5pB,UAAU,6BACvD,uBAAGA,UAAU,0BADD,QAKVuuB,G,YACF,WAAYppB,GAAQ,IAAD,+BACf,8CAAMA,KACD3P,MAAQ,CAACouB,OAAQ,GAAIsG,WAAW,GACrC,EAAKvG,UAAY,EAAKA,UAAUhB,KAAf,iBAHF,E,yEAMTzd,GACFjG,OAAOC,KAAKgG,GAAO/S,QACnB3B,KAAKskB,SAAS,CAACoV,WAAW,IAE9B15B,KAAKskB,SAAS,CAAC8O,OAAQ1e,M,+BAGjB,IAAD,OACL,OACI,oCACI,kBAAC0E,GAAA,EAAD,CAAQrM,KAAK,mCACLzF,MAAO,CAAChB,QAAStG,KAAKgF,MAAM00B,UAAY,OAAS,SAEjDjrB,OAAOC,KAAK1O,KAAKgF,MAAMouB,QAAQpT,KAAI,SAACjb,EAAKzC,GACrC,OAAO,EAAK0C,MAAMouB,OAAOruB,GAAKib,KAAI,SAACtL,EAAOvR,GACtC,OAAO,wBAAI4B,IAAKzC,EAAQa,GAAI4B,EAAIu0B,OAAO,GAAGC,cAAgBx0B,EAAI2H,MAAM,GAA7D,MAAoEgI,UAM3F,yBAAKlF,UAAU,OACX,yBAAKA,UAAU,aACX,kBAACyS,GAAD,CACIE,gBAAgB,kBAChBD,OAAQ,yBAAK1S,UAAU,4BACnB,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,4BACV87B,QAMjB,yBAAK97B,UAAU,cACX,kBAAC,GAAD,CAAM/O,KAAMT,KAAK2U,MAAOwe,UAAWnzB,KAAKmzB,qB,GA3CjDtY,IAAMM,WAqDdye,gBAAWmE,IC/Qb4U,GAAuB93B,IAAMC,YAAW,SAACnG,EAAOoG,GACzD,OACI,yBACIA,IAAKA,EACLvL,UAAU,4BACV+K,QAAS,SAAAxY,GACLA,EAAEC,iBACF2S,EAAM4F,QAAQxY,KAGjB4S,EAAMlD,aAKnBkhC,GAAqBC,YAAc,uBACpBD,UClBf,SAAS,KAA2Q,OAA9P,GAAWlkC,OAAOwvB,QAAU,SAAU9d,GAAU,IAAK,IAAIhd,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAAK,CAAE,IAAIunB,EAASwT,UAAU/6B,GAAI,IAAK,IAAI4B,KAAO2lB,EAAcjc,OAAO0vB,UAAUC,eAAev6B,KAAK6mB,EAAQ3lB,KAAQob,EAAOpb,GAAO2lB,EAAO3lB,IAAY,OAAOob,IAA2B7b,MAAMtE,KAAMk+B,WAEhT,SAAS,GAAyBxT,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAAkE3lB,EAAK5B,EAAnEgd,EAEzF,SAAuCuK,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAA2D3lB,EAAK5B,EAA5Dgd,EAAS,GAAQoe,EAAa9vB,OAAOC,KAAKgc,GAAqB,IAAKvnB,EAAI,EAAGA,EAAIo7B,EAAW58B,OAAQwB,IAAO4B,EAAMw5B,EAAWp7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,IAAaob,EAAOpb,GAAO2lB,EAAO3lB,IAAQ,OAAOob,EAFxM,CAA8BuK,EAAQ4T,GAAuB,GAAI7vB,OAAOgwB,sBAAuB,CAAE,IAAIC,EAAmBjwB,OAAOgwB,sBAAsB/T,GAAS,IAAKvnB,EAAI,EAAGA,EAAIu7B,EAAiB/8B,OAAQwB,IAAO4B,EAAM25B,EAAiBv7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,GAAkB0J,OAAO0vB,UAAUQ,qBAAqB96B,KAAK6mB,EAAQ3lB,KAAgBob,EAAOpb,GAAO2lB,EAAO3lB,IAAU,OAAOob,EAMne,IAAI,GAEJ,IAAM0H,cAAc,QAAS,KAAM,sCAE/B,GAEJ,IAAMA,cAAc,OAAQ,KAAM,wBAE9B,GAEJ,IAAMA,cAAc,OAAQ,MAExB,GAEJ,IAAMA,cAAc,IAAK,CACvBxW,GAAI,qCACJskB,OAAQ,OACRC,YAAa,EACbC,KAAM,OACNC,SAAU,WACT,IAAMjO,cAAc,OAAQ,CAC7BxW,GAAI,QACJ+W,EAAG,EACHC,EAAG,EACH5hB,MAAO,GACPqX,OAAQ,KACN,IAAM+J,cAAc,OAAQ,CAC9BkO,EAAG,waACH1kB,GAAI,UACJwkB,KAAM,UACNC,SAAU,UACV/S,QAAS,KACP,IAAM8E,cAAc,OAAQ,CAC9BkO,EAAG,8gBACH1kB,GAAI,iBACJwkB,KAAM,aAGJ,GAAc,SAAqBgJ,GACrC,IAAIC,EAASD,EAAKC,OACdlyB,EAAQiyB,EAAKjyB,MACb+H,EAAQ,GAAyBkqB,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMhX,cAAc,MAAO,GAAS,CACzCphB,MAAO,OACPqX,OAAQ,OACR2X,QAAS,YACT1a,IAAK+jB,GACJnqB,QAAkBhM,IAAViE,EAAsB,GAAQA,EAAQ,IAAMib,cAAc,QAAS,KAAMjb,GAAS,KAAM,GAAO,GAAO,KAG/G,GAAa,IAAMkO,YAAW,SAAUnG,EAAOoG,GACjD,OAAO,IAAM8M,cAAc,GAAa,GAAS,CAC/CiX,OAAQ/jB,GACPpG,O,IAEU,I,mBCrCF2N,KACAC,KACFC,KACDC,KAGyBE,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAoCX,IA8OQ0vB,GA9Of,YACE,WAAYl+B,GAAQ,IAAD,+BACjB,8CAAMA,KAsBRm+B,YAAc,SAAC3vC,EAAE4vC,GACf,IAAIC,EAAW,EAAKhuC,MAAMguC,SAChB,MAAPD,EACDC,EAAS7vC,GAAG8/B,QAAQgQ,UAAY,EAE7BD,EAAS7vC,GAAG8/B,QAAQgQ,SAAW,IAChCD,EAAS7vC,GAAG8/B,QAAQgQ,UAAY,GAGjC,OAAQD,EAAS7vC,GAAG8/B,QACrBn5B,EAAM,WAAWkpC,EAAS7vC,GAAG8/B,QAAQ5xB,GAAG,IAAK,CAC3C4hC,SAASD,EAAS7vC,GAAG8/B,QAAQgQ,WAC5B1pC,MACD,SAACC,OAIHO,EAAK,UAAU,CACbkpC,SAASD,EAAS7vC,GAAG8/B,QAAQgQ,SAC7BC,QAAQF,EAAS7vC,GAAGkO,KACnB9H,MACD,SAACC,GACCwpC,EAAS7vC,GAAG8/B,QAAQ5xB,GAAK7H,EAAS/I,KAAK4Q,GACvC,EAAKiT,SAAS,CAAC0uB,SAASA,IAAW,WACjC,EAAKG,uBAIb,EAAK7uB,SAAS,CAAC0uB,SAASA,IAAW,WACjC,EAAKG,qBApDU,EAwDnBA,eAAiB,WACf,IAAIC,EAAQ,EAAG3C,EAAW,EAAc,EAAKzrC,MAAMguC,SAC1ChzB,KAAI,SAAAqzB,GACXD,GAAUC,EAAQpQ,QAAQgQ,SAAWI,EAAQpb,MAC7CwY,GAAY4C,EAAQpQ,QAAQgQ,YAG9B,EAAK3uB,SAAS,CAAC8uB,MAAMA,EAAO3C,cA/DX,EAmEnB7K,oBAAsB,SAACliC,EAAOmiC,GAC5B,EAAKvhB,SAAS,CAACzC,MAAK,KAjEpB,EAAK7c,MAAQ,CACXguC,SAAW,GACXI,MAAO,EACP3C,SAAS,EACT5uB,MAAK,EACLyxB,cAAa,EACbpwB,QAAQ,0BACRqwB,aAAa,SAEf,EAAKtsC,OAAS,EAAKA,OAAOkrB,KAAZ,iBAZG,EADrB,mFAgBuB,IAAD,OAClBjpB,EAAK,WAAWK,MAAK,SAACC,GACpB,EAAK8a,SAAS,CAAE0uB,SAAUxpC,EAAS/I,OACnC,EAAK0yC,iBACLrqC,EAAoB,UAAWU,EAAS/I,WApB9C,6BAwESsB,KACD/B,KAAKgF,MAAMwuC,cAAiBzxC,EAAEoe,SAAWngB,KAAK4H,SAASgW,SAAY5d,KAAK4H,SAASgW,QAAQ61B,SAAS1xC,EAAEoe,UACxGngB,KAAKskB,UAAS,SAAAovB,GAAS,MAAK,CAC1BF,cAAeE,EAAUF,mBA3E/B,+BAgFY,IAAD,SACqCxzC,KAAK2U,MAD1C,KACCg/B,QADD,EACUC,OADV,EACkB7mC,KADlB,EACwB8mC,SACH7zC,KAAKgF,OAAzBguC,EAFD,EAECA,SAAUI,EAFX,EAEWA,MAkElB,OACE,yBAAK9rC,MAAO,CAACwsC,aAAa,SAAUtkC,UAAU,QACzC,0BAAMA,UAAU,mBACf,yBAAKA,UAAU,aACb,yBACEA,UAAU,0BACVlI,MAAO,CAAEysC,gBAAgB,OAAD,OAAStkC,GAAc,wBAAvB,OAExB,yBAAKD,UAAU,mBACb,0BAAMA,UAAU,mBACd,uBAAGA,UAAU,+CAEf,wBAAIA,UAAU,oBAAd,YAEF,yBAAKA,UAAU,qBACb,4BAAQtK,KAAK,SAASsK,UAAU,0BAC7BxP,KAAKgF,MAAMyrC,SADd,YAMF,yBAAKjhC,UAAU,2BAA2BlI,MAAO,CAACkV,SAAS,SAExDw2B,EAAShzB,KAAI,SAACqzB,EAASlwC,GACtB,OAAO,yBAAKqM,UAAU,mBACpB,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,mBACb,kBAAC,QAAD,CAAM4pB,GAAG,YAAY5pB,UAAU,oBAC5B6jC,EAAQ7vC,MAGX,0BAAMgM,UAAU,mBACb6jC,EAAQpiC,aAGX,yBAAKzB,UAAU,qBACb,0BAAMA,UAAU,oBAAhB,KAAsC6jC,EAAQpb,MAAQob,EAAQpQ,QAAQgQ,UACtE,0BAAMzjC,UAAU,mBAAhB,OACA,0BAAMA,UAAU,uBAAuB6jC,EAAQpQ,QAAQgQ,UACvD,0BAAMzjC,UAAU,0BAA0B+K,QAAS,kBAAI,EAAKu4B,YAAY3vC,EAAG,MAAMmE,MAAO,CAACgV,SAAS,WAAY2uB,WAAW,UAAzH,UAGA,0BAAMz7B,UAAU,2BAA2B+K,QAAS,kBAAI,EAAKu4B,YAAY3vC,EAAG,MAAMmE,MAAO,CAACgV,SAAS,WAAY2uB,WAAW,UAA1H,OAKJ,yBAAKz7B,UAAU,mBACb,kBAAC,QAAD,CAAM4pB,GAAG,YAAY5pB,UAAU,oBAA/B,oBAIA,0BAAMA,UAAU,mBACb6jC,EAAQpQ,QAAQl6B,MAAQsqC,EAAQpQ,QAAQl6B,MAAM,UAS7D,yBAAKyG,UAAU,6BAA6Bsd,WAAW,kBACrD,yBAAKtd,UAAU,sBACb,yBAAKA,UAAU,uCAAuCsd,WAAW,kBAC/D,2CACA,0CACA,wCAGF,yBAAKtd,UAAU,qBACb,mCAAS4jC,GACT,qCACA,0BAAM5jC,UAAU,iBAAhB,KAAmC4jC,KAGvC,yBAAK5jC,UAAU,oCACZ4jC,EAAQ,EACP,kBAAC,KAAD,CAAkBY,IAvFxB9rC,UAuFkC+rC,OAlF7B,CACXC,QAAYhsC,mFACZisC,WAAY,0BAgF4CC,SAtF7C,MAsFiEhB,MAAOA,EAAOxoB,QAnG9E,SAACypB,GAEbzkC,QAAQC,IAAI,SAAUwkC,GACtB,EAAK/vB,SAAS,CACZivB,aAAa,QACbrwB,QAAS,WAAWmxB,EAAInxB,QACxBrB,MAAM,KA6FoG8I,UA9I9F,SAAC2pB,GACjB,EAAKhwB,SAAS,CACNivB,aAAc,OACdrwB,QAAS,0BACTrB,MAAM,EACNyxB,cAAa,IAErBvpC,EAAK,kCAAkCuqC,GAAS/qC,MAC9C,SAACC,GACC,GAAyB,WAAtBA,EAAS/I,KAAKyE,KAAmB,CAClC,EAAKof,SAAS,CACZivB,aAAc/pC,EAAS/I,KAAKyE,KAC5Bge,QAAS1Z,EAAS/I,KAAKyiB,UAEzB,IAAIqxB,EAAe,GAAIC,EAAc,GACrC,EAAKxvC,MAAMguC,SAAShzB,KAAI,SAAAqzB,GACtBmB,EAAc,GACd/lC,OAAOC,KAAK2kC,GAASrzB,KAAI,SAAAjb,GACvByvC,EAAYzvC,GAAOsuC,EAAQtuC,GACjB,WAAPA,IACDyvC,EAAYzvC,GAAKgE,MAAQsqC,EAAQtuC,GAAKkuC,SAAWI,EAAQtuC,GAAKgE,MAC9DyrC,EAAYzvC,GAAKkuC,SAAW,MAGhCsB,EAAaxwC,KAAKywC,MAEpB,EAAKlwB,SAAS,CAAC0uB,SAASuB,EAAcnB,MAAM,EAAG3C,SAAS,IACxD,EAAK97B,MAAM8/B,UAAUjjC,QAAQzN,KAAK,kBAA0ByF,EAAS/I,KAAKkxC,qBAmHoD+C,SA9GrH,SAACj0C,GAEd,EAAK6jB,SAAS,CACRivB,aAAa,QACbrwB,QAAS,qCACTrB,MAAM,EACNyxB,cAAa,OAyGP,YAnOpB,GAA0Bn4B,aCtCpBw5B,GAAqBC,gBAAK,kBAC9B,wDAEIC,GAAqBD,gBAAK,kBAC9B,wDAGa,SAASE,GAASngC,GAC/B,IAAIjL,EAAaiL,EAAMjL,WAIvB,OAHAA,EAAWuM,KAAOtB,EAAMsB,KACxBtB,EAAMulB,aAAaxwB,GAGjB,kBAAC,WAAD,CAAUqrC,SAAU,kBAACniC,GAAD,OAClB,kBAAC,KAAD,KAGI,kBAAC,KAAD,CAAUoiC,OAAK,EAACC,KAAK,IAAI7b,GAAI,oBAE/B,kBAAC,KAAD,CAAOtrB,KAAK,WAAWgM,UAAW9B,KAClC,kBAAC,KAAD,CAAOlK,KAAM,kBAA2BgM,UAAWiE,KACnD,kBAAC,KAAD,CAAOjQ,KAAK,mBAAmBgM,UAAW66B,KAC1C,kBAAC,KAAD,CAAO7mC,KAAK,mBAAmBgM,UAAW+6B,KAC1C,kBAAC,KAAD,CAAO/mC,KAAK,QAAQgM,UAAWwH,KAE/B,kBAAC,KAAD,CAAO0zB,OAAK,EACVlnC,KAAM,uBACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAwBA,EAAxB,CAAoChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAGlH,kBAAC,KAAD,CACEoE,KAAM,8BACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAA0BA,EAA1B,CAAsChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAGpH,kBAAC,KAAD,CACEoE,KAAM,yCACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAwBA,EAAxB,CAAoChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAElH,kBAAC,KAAD,CAAOoE,KAAM,oCAA6CgM,UAAWq7B,KAErE,kBAAC,KAAD,CAAOH,OAAK,EACVlnC,KAAM,kBACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAmBA,EAAnB,CAA+Bhb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAG7G,kBAAC,KAAD,CACEoE,KAAM,yBACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAqBA,EAArB,CAAiChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAG/G,kBAAC,KAAD,CAAOoE,KAAM,+BACXs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAmBA,EAAnB,CAA+Bhb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAE7G,kBAAC,KAAD,CAAOoE,KAAM,0BAAmCgM,UAAWs7B,KAE3D,kBAAC,KAAD,CAAOJ,OAAK,EAAClnC,KAAM,iBAA0BgM,UAAWu7B,KACxD,kBAAC,KAAD,CAAOvnC,KAAM,wBAAiCgM,UAAWw7B,KACzD,kBAAC,KAAD,CAAOxnC,KAAM,kCAA2CgM,UAAWy7B,KACnE,kBAAC,KAAD,CAAOznC,KAAM,6BAAsCgM,UAAW07B,KAE7D,kBAAC,KAAD,CACC1nC,KAAM,mBACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAoBA,EAApB,CAAgChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAG9G,kBAAC,KAAD,CACEoE,KAAM,kBACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAmBA,EAAnB,CAA+Bhb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAG7G,kBAAC,KAAD,CAAOoE,KAAM,qBAA8Bs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAiBA,EAAjB,CAA6BnI,SAAUp4B,EAAMsB,WAEhH,kBAAC,KAAD,CAAO++B,OAAK,EACVlnC,KAAM,qBACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAsBA,EAAtB,CAAkChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAGhH,kBAAC,KAAD,CACEoE,KAAM,4BACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAwBA,EAAxB,CAAoChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAGlH,kBAAC,KAAD,CAAOoE,KAAM,qCACbs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAsBA,EAAtB,CAAkChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAE9G,kBAAC,KAAD,CAAOoE,KAAM,gCAAyCgM,UAAW27B,KAEjE,kBAAC,KAAD,CAAOT,OAAK,EACVlnC,KAAM,mBACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAoBA,EAApB,CAAgChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAE9G,kBAAC,KAAD,CAAOoE,KAAM,0BACXs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAsBA,EAAtB,CAAkChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAEhH,kBAAC,KAAD,CAAOoE,KAAM,iCACXs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAoBA,EAApB,CAAgChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAE9G,kBAAC,KAAD,CAAOoE,KAAM,4BAAqCgM,UAAW47B,KAI7D,kBAAC,KAAD,CACE5nC,KAAM,aACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAcA,EAAd,CAA0Bhb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAExG,kBAAC,KAAD,CAAOsrC,OAAK,EAAClnC,KAAM,uBAAgCgM,UAAW67B,KAE9D,kBAAC,KAAD,CAAOX,OAAK,EACVlnC,KAAM,qBACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAsBA,EAAtB,CAAkChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAEhH,kBAAC,KAAD,CAAOoE,KAAM,4BACXs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAwBA,EAAxB,CAAoChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAElH,kBAAC,KAAD,CAAOoE,KAAM,qCACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAsBA,EAAtB,CAAkChb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAErH,kBAAC,KAAD,CAAOoE,KAAM,gCAAyCgM,UAAW87B,KAEjE,kBAAC,KAAD,CAAOZ,OAAK,EACVlnC,KAAM,iBACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAiBA,EAAjB,CAA6Bhb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,WAAYuM,KAAMtB,EAAMsB,WAEnI,kBAAC,KAAD,CAAOnI,KAAM,6BACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,iBAAmBA,EAAnB,CAA+Bhb,aAAcvlB,EAAMulB,aAAcxwB,WAAYiL,EAAMjL,iBAElH,kBAAC,KAAD,CAAOoE,KAAM,aACNs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAAC,GAAD,SAE7B,kBAAC,KAAD,CAAOF,OAAK,EAAClnC,KAAM,wBAAiCs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAACW,GAAD,iBAAqBX,EAArB,CAAiCnI,SAAUp4B,EAAMsB,WAC7H,kBAAC,KAAD,CAAOnI,KAAM,kCAA2CgM,UAAWy7B,KACnE,kBAAC,KAAD,CAAOP,OAAK,EAAClnC,KAAM,gCAAyCs2B,OAAQ,SAAC8Q,GAAD,OAAgB,kBAACY,GAAD,iBAAwBZ,EAAxB,CAAoCnI,SAAUp4B,EAAMsB,WAC1I,kBAAC,KAAD,CAAUmjB,GAAG,iB,gDCtLd,SAAS2c,KACd,OACE,oCACE,yBAAKvmC,UAAU,sCACb,yBACEA,UAAU,0DACVlI,MAAO,CACLysC,gBAAgB,OAAD,OAAStkC,GAAc,yBAAvB,OAGjB,yBAAKD,UAAU,sBACb,yBAAKA,UAAU,mCACb,wCAGF,uBAAGA,UAAU,sCAAb,mCAEE,6BAFF,2BCVG,SAASwmC,KACtB,OACI,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAUf,KAAK,SAASD,OAAO,EAAM5b,GAAG,eAOxC,kBAAC,KAAD,CAAOtrB,KAAK,aAAagM,UAAWi8B,M,ICXtCE,G,iMACiB,IAAD,OlEwBb3sC,IAAMS,KAAK9B,GAAQ,UkEvBXsB,MAAK,SAAAC,GAClB0I,SAASmE,OAAT,4DACC,EAAK1B,MAAM6B,c,+BAOZ,OAFyBxW,KAAK2U,MAAtBuhC,aAEc,kBAACtjC,GAAD,MAAyB0E,OAAO3F,SAASssB,OAAO/1B,kC,GAXrDiT,aAeNg7B,iBACb,gBAAGh/B,EAAH,EAAGA,KAAH,MAAe,CAAE++B,aAAcE,QAAQj/B,EAAKvO,cAC5CuO,GAFag/B,CAGbF,ICtBmBI,G,sLACT,IACA51C,EAAST,KAAK2U,MAAdlU,KAER,OAAKA,EAIe,IAAhBA,EAAKkB,OAEL,yBAAK6N,UAAU,2BACb,yBAAKA,UAAU,sCAAf,oBAQJ,yBAAKA,UAAU,2BACZ/O,EAAKuf,KAAI,SAACnP,EAAMvO,GAAP,OACR,kBAAC,IAAMg0C,SAAP,CAAgBvxC,IAAKzC,GACJ,IAAduO,EAAK3L,MACJ,yBAAKsK,UAAU,yBACb,yBAAKA,UAAWgL,aAAK,CAAC,4BAA6B3J,EAAK0lC,UAAW,6BAA8B1lC,EAAK2lC,iBACnG3lC,EAAK2lC,cACJ,uBAAGhnC,UAAWqB,EAAK2lC,gBACjB3lC,EAAK0lC,UACP,yBAAK/vB,IAAK3V,EAAK0lC,UAAWrqB,IAAI,KAC5B,MAGN,yBAAK1c,UAAU,iCACb,uBAAGqQ,KAAK,IAAIrQ,UAAU,+BACnBqB,EAAK4L,MAER,yBAAKjN,UAAU,8BACZqB,EAAKI,eAMC,IAAdJ,EAAK3L,MACJ,yBAAKsK,UAAU,6BAA6BqB,EAAK4L,WAvClD,S,GAL6B5B,IAAMM,WCJhD,SAAS,KAA2Q,OAA9P,GAAW1M,OAAOwvB,QAAU,SAAU9d,GAAU,IAAK,IAAIhd,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAAK,CAAE,IAAIunB,EAASwT,UAAU/6B,GAAI,IAAK,IAAI4B,KAAO2lB,EAAcjc,OAAO0vB,UAAUC,eAAev6B,KAAK6mB,EAAQ3lB,KAAQob,EAAOpb,GAAO2lB,EAAO3lB,IAAY,OAAOob,IAA2B7b,MAAMtE,KAAMk+B,WAEhT,SAAS,GAAyBxT,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAAkE3lB,EAAK5B,EAAnEgd,EAEzF,SAAuCuK,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAA2D3lB,EAAK5B,EAA5Dgd,EAAS,GAAQoe,EAAa9vB,OAAOC,KAAKgc,GAAqB,IAAKvnB,EAAI,EAAGA,EAAIo7B,EAAW58B,OAAQwB,IAAO4B,EAAMw5B,EAAWp7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,IAAaob,EAAOpb,GAAO2lB,EAAO3lB,IAAQ,OAAOob,EAFxM,CAA8BuK,EAAQ4T,GAAuB,GAAI7vB,OAAOgwB,sBAAuB,CAAE,IAAIC,EAAmBjwB,OAAOgwB,sBAAsB/T,GAAS,IAAKvnB,EAAI,EAAGA,EAAIu7B,EAAiB/8B,OAAQwB,IAAO4B,EAAM25B,EAAiBv7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,GAAkB0J,OAAO0vB,UAAUQ,qBAAqB96B,KAAK6mB,EAAQ3lB,KAAgBob,EAAOpb,GAAO2lB,EAAO3lB,IAAU,OAAOob,EAMne,IAAI,GAEJ,IAAM0H,cAAc,QAAS,KAAM,sCAE/B,GAEJ,IAAMA,cAAc,OAAQ,KAAM,wBAE9B,GAEJ,IAAMA,cAAc,OAAQ,MAExB,GAEJ,IAAMA,cAAc,IAAK,CACvBxW,GAAI,qCACJskB,OAAQ,OACRC,YAAa,EACbC,KAAM,OACNC,SAAU,WACT,IAAMjO,cAAc,OAAQ,CAC7BxW,GAAI,QACJ+W,EAAG,EACHC,EAAG,EACH5hB,MAAO,GACPqX,OAAQ,KACN,IAAM+J,cAAc,OAAQ,CAC9BkO,EAAG,qVACH1kB,GAAI,SACJwkB,KAAM,UACNC,SAAU,UACV/S,QAAS,KACP,IAAM8E,cAAc,OAAQ,CAC9BkO,EAAG,gSACH1kB,GAAI,OACJwkB,KAAM,UACNC,SAAU,aAGR,GAAY,SAAmB+I,GACjC,IAAIC,EAASD,EAAKC,OACdlyB,EAAQiyB,EAAKjyB,MACb+H,EAAQ,GAAyBkqB,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMhX,cAAc,MAAO,GAAS,CACzCphB,MAAO,OACPqX,OAAQ,OACR2X,QAAS,YACT1a,IAAK+jB,GACJnqB,QAAkBhM,IAAViE,EAAsB,GAAQA,EAAQ,IAAMib,cAAc,QAAS,KAAMjb,GAAS,KAAM,GAAO,GAAO,KAG/G,GAAa,IAAMkO,YAAW,SAAUnG,EAAOoG,GACjD,OAAO,IAAM8M,cAAc,GAAW,GAAS,CAC7CiX,OAAQ/jB,GACPpG,OCtDC8hC,IDwDS,ICxDiB,CAC9BC,WAAY,EACZC,kBAAkB,IAGdC,GAAW,CACf,CACE1xC,KAAM,EACNuX,KAAM,WAER,CACEvX,KAAM,EACNuX,KAAM,uBACNxL,YAAa,eACbslC,UAAW9mC,GAAc,yBAE3B,CACEvK,KAAM,EACNuX,KAAM,wBACNxL,YAAa,gBACbslC,UAAW9mC,GAAc,yBAE3B,CACEvK,KAAM,EACNuX,KAAM,qBACNxL,YAAa,eACbslC,UAAW9mC,GAAc,yBAE3B,CACEvK,KAAM,EACNuX,KAAM,uBACNxL,YAAa,eACbslC,UAAW9mC,GAAc,yBAE3B,CACEgN,KAAM,YACNvX,KAAM,GAER,CACEA,KAAM,EACNuX,KAAM,cACNxL,YAAa,qBACbslC,UAAW9mC,GAAc,4BAE3B,CACEvK,KAAM,EACNuX,KAAM,gBACNxL,YAAa,cACbslC,UAAW9mC,GAAc,4BAE3B,CACEvK,KAAM,EACNuX,KAAM,oBACNxL,YAAa,oBACbslC,UAAW9mC,GAAc,4BAE3B,CACEvK,KAAM,EACNuX,KAAM,cACNxL,YAAa,qBACbslC,UAAW9mC,GAAc,2BAE3B,CACEvK,KAAM,EACNuX,KAAM,SAER,CACEvX,KAAM,EACNuX,KAAM,wBACNxL,YAAa,oBACbulC,cAAe,gCAEjB,CACEtxC,KAAM,EACNuX,KAAM,yBACNxL,YAAa,eACbulC,cAAe,8BAEjB,CACEtxC,KAAM,EACNuX,KAAM,4BACNxL,YAAa,kBACbulC,cAAe,yCAEjB,CACEtxC,KAAM,EACNuX,KAAM,wBACNxL,YAAa,oBACbulC,cAAe,iDAIyB37B,IAAMM,UCrGlD,SAAS,KAA2Q,OAA9P,GAAW1M,OAAOwvB,QAAU,SAAU9d,GAAU,IAAK,IAAIhd,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAAK,CAAE,IAAIunB,EAASwT,UAAU/6B,GAAI,IAAK,IAAI4B,KAAO2lB,EAAcjc,OAAO0vB,UAAUC,eAAev6B,KAAK6mB,EAAQ3lB,KAAQob,EAAOpb,GAAO2lB,EAAO3lB,IAAY,OAAOob,IAA2B7b,MAAMtE,KAAMk+B,WAEhT,SAAS,GAAyBxT,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAAkE3lB,EAAK5B,EAAnEgd,EAEzF,SAAuCuK,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAA2D3lB,EAAK5B,EAA5Dgd,EAAS,GAAQoe,EAAa9vB,OAAOC,KAAKgc,GAAqB,IAAKvnB,EAAI,EAAGA,EAAIo7B,EAAW58B,OAAQwB,IAAO4B,EAAMw5B,EAAWp7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,IAAaob,EAAOpb,GAAO2lB,EAAO3lB,IAAQ,OAAOob,EAFxM,CAA8BuK,EAAQ4T,GAAuB,GAAI7vB,OAAOgwB,sBAAuB,CAAE,IAAIC,EAAmBjwB,OAAOgwB,sBAAsB/T,GAAS,IAAKvnB,EAAI,EAAGA,EAAIu7B,EAAiB/8B,OAAQwB,IAAO4B,EAAM25B,EAAiBv7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,GAAkB0J,OAAO0vB,UAAUQ,qBAAqB96B,KAAK6mB,EAAQ3lB,KAAgBob,EAAOpb,GAAO2lB,EAAO3lB,IAAU,OAAOob,EAMne,IAAI,GAEJ,IAAM0H,cAAc,QAAS,KAAM,sCAE/B,GAEJ,IAAMA,cAAc,OAAQ,KAAM,wBAE9B,GAEJ,IAAMA,cAAc,OAAQ,MAExB,GAEJ,IAAMA,cAAc,IAAK,CACvBxW,GAAI,qCACJskB,OAAQ,OACRC,YAAa,EACbC,KAAM,OACNC,SAAU,WACT,IAAMjO,cAAc,OAAQ,CAC7BxW,GAAI,QACJ+W,EAAG,EACHC,EAAG,EACH5hB,MAAO,GACPqX,OAAQ,KACN,IAAM+J,cAAc,OAAQ,CAC9BkO,EAAG,4vBACH1kB,GAAI,iBACJwkB,KAAM,UACN9S,QAAS,KACP,IAAM8E,cAAc,OAAQ,CAC9BkO,EAAG,4vBACH1kB,GAAI,iBACJwkB,KAAM,aAGJ,GAAe,SAAsBgJ,GACvC,IAAIC,EAASD,EAAKC,OACdlyB,EAAQiyB,EAAKjyB,MACb+H,EAAQ,GAAyBkqB,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMhX,cAAc,MAAO,GAAS,CACzCphB,MAAO,OACPqX,OAAQ,OACR2X,QAAS,YACT1a,IAAK+jB,GACJnqB,QAAkBhM,IAAViE,EAAsB,GAAQA,EAAQ,IAAMib,cAAc,QAAS,KAAMjb,GAAS,KAAM,GAAO,GAAO,KAG/G,GAAa,IAAMkO,YAAW,SAAUnG,EAAOoG,GACjD,OAAO,IAAM8M,cAAc,GAAc,GAAS,CAChDiX,OAAQ/jB,GACPpG,OCtDC8hC,IDwDS,ICxDiB,CAC9BC,WAAY,EACZC,kBAAkB,ICYdF,IDTyC57B,IAAMM,UCSrB,CAC9Bu7B,WAAY,EACZC,kBAAkB,IAGdt0B,GAAc,CAClBxc,QAASyc,KACTvc,QAASwc,KACT7N,MAAO8N,KACP1c,KAAM2c,MAGFC,GAA2BC,cAAW,SAAA3O,GAAK,MAAK,CACpDnO,QAAS,CACPoW,gBAAiB2G,KAAM,MAEzBlO,MAAO,CACLuH,gBAAiBjI,EAAMK,QAAQK,MAAM/O,MAEvCG,KAAM,CACJmW,gBAAiBjI,EAAMK,QAAQzO,QAAQ2O,MAEzCxO,QAAS,CACPkW,gBAAiB4G,KAAM,MAEzB9V,KAAM,CACJyP,SAAU,IAEZsG,YAAa,CACXC,QAAS,GACTC,YAAahP,EAAMiP,QAAQ,IAE7BC,QAAS,CACP5c,QAAS,OACT6c,WAAY,cAIhB,SAASC,GAAuBzO,GAC9B,IAAM0O,EAAUX,KACRlT,EAAmDmF,EAAnDnF,UAAW0T,EAAwCvO,EAAxCuO,QAASpB,EAA+BnN,EAA/BmN,QAAShC,EAAsBnL,EAAtBmL,QAAYwD,EAFZ,aAEsB3O,EAFtB,6CAG/B4O,EAAOlB,GAAYvC,GAEzB,OACE,kBAAC0D,GAAA,EAAD,eACEhU,UAAWgL,aAAK6I,EAAQvD,GAAUtQ,GAClCiU,mBAAiB,kBACjBP,QACE,0BAAM7R,GAAG,kBAAkB7B,UAAW6T,EAAQH,SAC5C,kBAACK,EAAD,CAAM/T,UAAWgL,aAAK6I,EAAQtW,KAAMsW,EAAQP,eAC3CI,GAGLje,OAAQ,CACN,kBAACye,GAAA,EAAD,CAAY3e,IAAI,QAAQ4e,aAAW,QAAQ/E,MAAM,UAAUrE,QAASuH,GAClE,kBAAC8B,GAAA,EAAD,CAAWpU,UAAW6T,EAAQtW,UAG9BuW,I,IAYWuzB,G,YAEnB,WAAYliC,GAAQ,IAAD,+BACjB,8CAAMA,KAwBRm+B,YAAc,SAAC3vC,EAAE4vC,GACf,IAAIC,EAAW,EAAKhuC,MAAMguC,SAChB,MAAPD,EACDC,EAAS7vC,GAAG8/B,QAAQgQ,UAAY,EAE7BD,EAAS7vC,GAAG8/B,QAAQgQ,SAAW,IAChCD,EAAS7vC,GAAG8/B,QAAQgQ,UAAY,GAGjC,OAAQD,EAAS7vC,GAAG8/B,QACrBn5B,EAAM,WAAWkpC,EAAS7vC,GAAG8/B,QAAQ5xB,GAAG,IAAK,CAC3C4hC,SAASD,EAAS7vC,GAAG8/B,QAAQgQ,WAC5B1pC,MACD,SAACC,OAIHO,EAAK,UAAU,CACbkpC,SAASD,EAAS7vC,GAAG8/B,QAAQgQ,SAC7BC,QAAQF,EAAS7vC,GAAGkO,KACnB9H,MACD,SAACC,GACCwpC,EAAS7vC,GAAG8/B,QAAQ5xB,GAAK7H,EAAS/I,KAAK4Q,GACvC,EAAKiT,SAAS,CAAC0uB,SAASA,IAAW,WACjC,EAAKG,uBAIb,EAAK7uB,SAAS,CAAC0uB,SAASA,IAAW,WACjC,EAAKG,qBAtDU,EA0DnBA,eAAiB,WACf,IAAIC,EAAQ,EAAG3C,EAAW,EAAc,EAAKzrC,MAAMguC,SAC1ChzB,KAAI,SAAAqzB,GACXD,GAAUC,EAAQpQ,QAAQgQ,SAAWI,EAAQpb,MAC7CwY,GAAY4C,EAAQpQ,QAAQgQ,YAG9B,EAAK3uB,SAAS,CAAC8uB,MAAMA,EAAO3C,cAjEX,EAqEnB7K,oBAAsB,SAACliC,EAAOmiC,GAC5B,EAAKvhB,SAAS,CAACzC,MAAK,KAnEpB,EAAK7c,MAAQ,CACXguC,SAAW,EAAKr+B,MAAMq+B,SACtBI,MAAO,EACP3C,SAAS,EACT5uB,MAAK,EACLyxB,cAAa,EACbpwB,QAAQ,0BACRqwB,aAAa,SAEf,EAAKtsC,OAAS,EAAKA,OAAOkrB,KAAZ,iBAZG,E,yFAeO2kB,GAAY,IAAD,OAChC92C,KAAK2U,OAASmiC,GACf92C,KAAKskB,SAAS,CACZ0uB,SAAU8D,EAAU9D,WACnB,WACD,EAAKG,sB,6BAqDJpxC,KACD/B,KAAKgF,MAAMwuC,cAAiBzxC,EAAEoe,SAAWngB,KAAK4H,SAASgW,SAAY5d,KAAK4H,SAASgW,QAAQ61B,SAAS1xC,EAAEoe,UACxGngB,KAAKskB,UAAS,SAAAovB,GAAS,MAAK,CAC1BF,cAAeE,EAAUF,mB,+BAInB,IAAD,SACuCxzC,KAAK2U,MAAzCg/B,EADH,EACGA,QAASC,EADZ,EACYA,OAAQ7mC,EADpB,EACoBA,KAAM8mC,EAD1B,EAC0BA,SAD1B,EAEuB7zC,KAAKgF,MAAzBguC,EAFH,EAEGA,SAAUI,EAFb,EAEaA,MAmEpB,OACE,kBAACpS,GAAA,EAAD,CAAU/5B,OAAQjH,KAAKiH,OAAQ6hB,KAAM9oB,KAAKgF,MAAMsuC,aAAc9jC,UAAU,yBAAyByxB,KAAK,OAAOC,YAAU,GACrH,kBAACF,GAAA,EAASG,OAAV,CAAiB9W,GAAIsoB,GAAsBthC,GAAG,2BAC5C,0BAAMkJ,QAAS,kBAAM,EAAK+J,SAAS,CAACgvB,cAAc,EAAKtuC,MAAMsuC,gBAC3D9jC,UAAWgL,aAAK,yBAA0B,CACxC,gCAA8C,UAAbq5B,MAGjCD,GAAU,uBAAGpkC,UAAWzC,IAEzB6mC,GACC,0BACEpkC,UAAWgL,aAAK,cAAe,CAC7B,oBAAkC,UAAbq5B,KAGvB,kBAAC,GAAD,CAAcrkC,UAAU,wCAKhC,kBAACwxB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,uGACvB,0BAAMA,UAAU,mBACd,yBAAKA,UAAU,aACb,yBACEA,UAAU,0BACVlI,MAAO,CAAEysC,gBAAgB,OAAD,OAASJ,EAAT,OAExB,yBAAKnkC,UAAU,mBACb,0BAAMA,UAAU,mBACd,uBAAGA,UAAU,+CAEf,wBAAIA,UAAU,oBAAd,YAEF,yBAAKA,UAAU,qBACb,4BAAQtK,KAAK,SAASsK,UAAU,0BAC7BxP,KAAKgF,MAAMyrC,SADd,YAMJ,kBAAC,KAAD,CACE3wC,QAAS22C,GACTnvC,MAAO,CAAEykC,UAAW,OAAQzvB,SAAU,aAEtC,yBAAK9M,UAAU,mBAEZwjC,EAAShzB,KAAI,SAACqzB,EAASlwC,GACtB,OAAO,yBAAKqM,UAAU,mBACpB,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,mBACb,kBAAC,QAAD,CAAM4pB,GAAG,YAAY5pB,UAAU,oBAC5B6jC,EAAQ7vC,MAGX,0BAAMgM,UAAU,mBACb6jC,EAAQpiC,aAGX,yBAAKzB,UAAU,qBACb,0BAAMA,UAAU,oBAAhB,KAAsC6jC,EAAQpb,MAAQob,EAAQpQ,QAAQgQ,UACtE,0BAAMzjC,UAAU,mBAAhB,OACA,0BAAMA,UAAU,uBAAuB6jC,EAAQpQ,QAAQgQ,UACvD,0BAAMzjC,UAAU,0BAA0B+K,QAAS,kBAAI,EAAKu4B,YAAY3vC,EAAG,MAAMmE,MAAO,CAACgV,SAAS,WAAY2uB,WAAW,UAAzH,UAGA,0BAAMz7B,UAAU,2BAA2B+K,QAAS,kBAAI,EAAKu4B,YAAY3vC,EAAG,MAAMmE,MAAO,CAACgV,SAAS,WAAY2uB,WAAW,UAA1H,OAKJ,yBAAKz7B,UAAU,mBACb,kBAAC,QAAD,CAAM4pB,GAAG,YAAY5pB,UAAU,oBAA/B,oBAIA,0BAAMA,UAAU,mBACb6jC,EAAQpQ,QAAQl6B,MAAQsqC,EAAQpQ,QAAQl6B,MAAM,WAU7D,yBAAKyG,UAAU,qBACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,uBACb,2CACA,0CACA,wCAGF,yBAAKA,UAAU,qBACb,mCAAS4jC,GACT,qCACA,0BAAM5jC,UAAU,iBAAhB,KAAmC4jC,KAGvC,yBAAK5jC,UAAU,oCACZ4jC,EAAQ,EACP,kBAAC,KAAD,CAAkBY,IAjHtB9rC,UAiHgC+rC,OA5G3B,CACXC,QAAYhsC,mFACZisC,WAAY,0BA0G0CC,SAhH3C,MAgH+DhB,MAAOA,EAAOxoB,QA7H5E,SAACypB,GAEbzkC,QAAQC,IAAI,SAAUwkC,GACtB,EAAK/vB,SAAS,CACZivB,aAAa,QACbrwB,QAAS,WAAWmxB,EAAInxB,QACxBrB,MAAM,KAuHkG8I,UAxK5F,SAAC2pB,GACjB,EAAKhwB,SAAS,CACNivB,aAAc,OACdrwB,QAAS,0BACTrB,MAAM,EACNyxB,cAAa,IAErBvpC,EAAK,kCAAkCuqC,GAAS/qC,MAC9C,SAACC,GACC,GAAyB,WAAtBA,EAAS/I,KAAKyE,KAAmB,CAClC,EAAKof,SAAS,CACZivB,aAAc/pC,EAAS/I,KAAKyE,KAC5Bge,QAAS1Z,EAAS/I,KAAKyiB,UAEzB,IAAIqxB,EAAe,GAAIC,EAAc,GACrC,EAAKxvC,MAAMguC,SAAShzB,KAAI,SAAAqzB,GACtBmB,EAAc,GACd/lC,OAAOC,KAAK2kC,GAASrzB,KAAI,SAAAjb,GACvByvC,EAAYzvC,GAAOsuC,EAAQtuC,GACjB,WAAPA,IACDyvC,EAAYzvC,GAAKgE,MAAQsqC,EAAQtuC,GAAKkuC,SAAWI,EAAQtuC,GAAKgE,MAC9DyrC,EAAYzvC,GAAKkuC,SAAW,MAGhCsB,EAAaxwC,KAAKywC,MAEpB,EAAKlwB,SAAS,CAAC0uB,SAASuB,EAAcnB,MAAM,EAAG3C,SAAS,IACxD,EAAK97B,MAAM8/B,UAAUjjC,QAAQzN,KAAK,kBAA0ByF,EAAS/I,KAAKkxC,qBA6IkD+C,SAxInH,SAACj0C,GAEd,EAAK6jB,SAAS,CACRivB,aAAa,QACbrwB,QAAS,qCACTrB,MAAM,EACNyxB,cAAa,OAmIT,QAOV,kBAACnnB,GAAA,EAAD,CACIC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdzK,KAAM7hB,KAAKgF,MAAM6c,KACjB0K,iBAAkB,IAClBzK,QAAS9hB,KAAK4lC,qBAEd,kBAAC,GAAD,CACE9jB,QAAS9hB,KAAK4lC,oBACd9lB,QAAS9f,KAAKgF,MAAMuuC,aACpBrwB,QAASljB,KAAKgF,MAAMke,gB,GAlRArI,IAAMM,WC3F1C,SAAS,KAA2Q,OAA9P,GAAW1M,OAAOwvB,QAAU,SAAU9d,GAAU,IAAK,IAAIhd,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAAK,CAAE,IAAIunB,EAASwT,UAAU/6B,GAAI,IAAK,IAAI4B,KAAO2lB,EAAcjc,OAAO0vB,UAAUC,eAAev6B,KAAK6mB,EAAQ3lB,KAAQob,EAAOpb,GAAO2lB,EAAO3lB,IAAY,OAAOob,IAA2B7b,MAAMtE,KAAMk+B,WAEhT,SAAS,GAAyBxT,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAAkE3lB,EAAK5B,EAAnEgd,EAEzF,SAAuCuK,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAA2D3lB,EAAK5B,EAA5Dgd,EAAS,GAAQoe,EAAa9vB,OAAOC,KAAKgc,GAAqB,IAAKvnB,EAAI,EAAGA,EAAIo7B,EAAW58B,OAAQwB,IAAO4B,EAAMw5B,EAAWp7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,IAAaob,EAAOpb,GAAO2lB,EAAO3lB,IAAQ,OAAOob,EAFxM,CAA8BuK,EAAQ4T,GAAuB,GAAI7vB,OAAOgwB,sBAAuB,CAAE,IAAIC,EAAmBjwB,OAAOgwB,sBAAsB/T,GAAS,IAAKvnB,EAAI,EAAGA,EAAIu7B,EAAiB/8B,OAAQwB,IAAO4B,EAAM25B,EAAiBv7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,GAAkB0J,OAAO0vB,UAAUQ,qBAAqB96B,KAAK6mB,EAAQ3lB,KAAgBob,EAAOpb,GAAO2lB,EAAO3lB,IAAU,OAAOob,EAMne,IAAI,GAEJ,IAAM0H,cAAc,QAAS,KAAM,uCAE/B,GAEJ,IAAMA,cAAc,OAAQ,KAAM,wBAE9B,GAEJ,IAAMA,cAAc,OAAQ,MAExB,GAEJ,IAAMA,cAAc,IAAK,CACvBxW,GAAI,sCACJskB,OAAQ,OACRC,YAAa,EACbC,KAAM,OACNC,SAAU,WACT,IAAMjO,cAAc,OAAQ,CAC7BxW,GAAI,QACJ+W,EAAG,EACHC,EAAG,EACH5hB,MAAO,GACPqX,OAAQ,KACN,IAAM+J,cAAc,OAAQ,CAC9BxW,GAAI,oBACJwkB,KAAM,UACN9S,QAAS,GACTqF,EAAG,GACHC,EAAG,EACH5hB,MAAO,EACPqX,OAAQ,GACR8gB,GAAI,MACF,IAAM/W,cAAc,OAAQ,CAC9BxW,GAAI,sBACJwkB,KAAM,UACNzN,EAAG,EACHC,EAAG,EACH5hB,MAAO,EACPqX,OAAQ,GACR8gB,GAAI,MACF,IAAM/W,cAAc,OAAQ,CAC9BxW,GAAI,sBACJwkB,KAAM,UACNzN,EAAG,GACHC,EAAG,GACH5hB,MAAO,EACPqX,OAAQ,EACR8gB,GAAI,MACF,IAAM/W,cAAc,OAAQ,CAC9BxW,GAAI,sBACJwkB,KAAM,UACNzN,EAAG,EACHC,EAAG,GACH5hB,MAAO,EACPqX,OAAQ,EACR8gB,GAAI,OAGF,GAAe,SAAsBC,GACvC,IAAIC,EAASD,EAAKC,OACdlyB,EAAQiyB,EAAKjyB,MACb+H,EAAQ,GAAyBkqB,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMhX,cAAc,MAAO,GAAS,CACzCphB,MAAO,OACPqX,OAAQ,OACR2X,QAAS,YACT1a,IAAK+jB,GACJnqB,QAAkBhM,IAAViE,EAAsB,GAAQA,EAAQ,IAAMib,cAAc,QAAS,KAAMjb,GAAS,KAAM,GAAO,GAAO,KAG/G,GAAa,IAAMkO,YAAW,SAAUnG,EAAOoG,GACjD,OAAO,IAAM8M,cAAc,GAAc,GAAS,CAChDiX,OAAQ/jB,GACPpG,OAEU,ICvFf,SAAS,KAA2Q,OAA9P,GAAWlG,OAAOwvB,QAAU,SAAU9d,GAAU,IAAK,IAAIhd,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAAK,CAAE,IAAIunB,EAASwT,UAAU/6B,GAAI,IAAK,IAAI4B,KAAO2lB,EAAcjc,OAAO0vB,UAAUC,eAAev6B,KAAK6mB,EAAQ3lB,KAAQob,EAAOpb,GAAO2lB,EAAO3lB,IAAY,OAAOob,IAA2B7b,MAAMtE,KAAMk+B,WAEhT,SAAS,GAAyBxT,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAAkE3lB,EAAK5B,EAAnEgd,EAEzF,SAAuCuK,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAA2D3lB,EAAK5B,EAA5Dgd,EAAS,GAAQoe,EAAa9vB,OAAOC,KAAKgc,GAAqB,IAAKvnB,EAAI,EAAGA,EAAIo7B,EAAW58B,OAAQwB,IAAO4B,EAAMw5B,EAAWp7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,IAAaob,EAAOpb,GAAO2lB,EAAO3lB,IAAQ,OAAOob,EAFxM,CAA8BuK,EAAQ4T,GAAuB,GAAI7vB,OAAOgwB,sBAAuB,CAAE,IAAIC,EAAmBjwB,OAAOgwB,sBAAsB/T,GAAS,IAAKvnB,EAAI,EAAGA,EAAIu7B,EAAiB/8B,OAAQwB,IAAO4B,EAAM25B,EAAiBv7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,GAAkB0J,OAAO0vB,UAAUQ,qBAAqB96B,KAAK6mB,EAAQ3lB,KAAgBob,EAAOpb,GAAO2lB,EAAO3lB,IAAU,OAAOob,EAMne,IAAI,GAEJ,IAAM0H,cAAc,QAAS,KAAM,qCAE/B,GAEJ,IAAMA,cAAc,OAAQ,KAAM,wBAE9B,GAEJ,IAAMA,cAAc,OAAQ,MAExB,GAEJ,IAAMA,cAAc,IAAK,CACvBxW,GAAI,oCACJskB,OAAQ,OACRC,YAAa,EACbC,KAAM,OACNC,SAAU,WACT,IAAMjO,cAAc,OAAQ,CAC7BxW,GAAI,QACJ+W,EAAG,EACHC,EAAG,EACH5hB,MAAO,GACPqX,OAAQ,KACN,IAAM+J,cAAc,OAAQ,CAC9BkO,EAAG,g2BACH1kB,GAAI,iBACJwkB,KAAM,UACN9S,QAAS,KACP,IAAM8E,cAAc,OAAQ,CAC9BkO,EAAG,29CACH1kB,GAAI,IACJwkB,KAAM,aAGJ,GAAU,SAAiBgJ,GAC7B,IAAIC,EAASD,EAAKC,OACdlyB,EAAQiyB,EAAKjyB,MACb+H,EAAQ,GAAyBkqB,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMhX,cAAc,MAAO,GAAS,CACzCphB,MAAO,OACPqX,OAAQ,OACR2X,QAAS,YACT1a,IAAK+jB,GACJnqB,QAAkBhM,IAAViE,EAAsB,GAAQA,EAAQ,IAAMib,cAAc,QAAS,KAAMjb,GAAS,KAAM,GAAO,GAAO,KAG/G,GAAa,IAAMkO,YAAW,SAAUnG,EAAOoG,GACjD,OAAO,IAAM8M,cAAc,GAAS,GAAS,CAC3CiX,OAAQ/jB,GACPpG,OAEU,IC/Df,SAAS,KAA2Q,OAA9P,GAAWlG,OAAOwvB,QAAU,SAAU9d,GAAU,IAAK,IAAIhd,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAAK,CAAE,IAAIunB,EAASwT,UAAU/6B,GAAI,IAAK,IAAI4B,KAAO2lB,EAAcjc,OAAO0vB,UAAUC,eAAev6B,KAAK6mB,EAAQ3lB,KAAQob,EAAOpb,GAAO2lB,EAAO3lB,IAAY,OAAOob,IAA2B7b,MAAMtE,KAAMk+B,WAEhT,SAAS,GAAyBxT,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAAkE3lB,EAAK5B,EAAnEgd,EAEzF,SAAuCuK,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAA2D3lB,EAAK5B,EAA5Dgd,EAAS,GAAQoe,EAAa9vB,OAAOC,KAAKgc,GAAqB,IAAKvnB,EAAI,EAAGA,EAAIo7B,EAAW58B,OAAQwB,IAAO4B,EAAMw5B,EAAWp7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,IAAaob,EAAOpb,GAAO2lB,EAAO3lB,IAAQ,OAAOob,EAFxM,CAA8BuK,EAAQ4T,GAAuB,GAAI7vB,OAAOgwB,sBAAuB,CAAE,IAAIC,EAAmBjwB,OAAOgwB,sBAAsB/T,GAAS,IAAKvnB,EAAI,EAAGA,EAAIu7B,EAAiB/8B,OAAQwB,IAAO4B,EAAM25B,EAAiBv7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,GAAkB0J,OAAO0vB,UAAUQ,qBAAqB96B,KAAK6mB,EAAQ3lB,KAAgBob,EAAOpb,GAAO2lB,EAAO3lB,IAAU,OAAOob,EAMne,IAAI,GAEJ,IAAM0H,cAAc,QAAS,KAAM,qDAE/B,GAEJ,IAAMA,cAAc,OAAQ,KAAM,wBAE9B,GAEJ,IAAMA,cAAc,OAAQ,MAExB,GAEJ,IAAMA,cAAc,IAAK,CACvBxW,GAAI,oDACJskB,OAAQ,OACRC,YAAa,EACbC,KAAM,OACNC,SAAU,WACT,IAAMjO,cAAc,OAAQ,CAC7BxW,GAAI,QACJ+W,EAAG,EACHC,EAAG,EACH5hB,MAAO,GACPqX,OAAQ,KACN,IAAM+J,cAAc,OAAQ,CAC9BkO,EAAG,+hCACH1kB,GAAI,iBACJwkB,KAAM,UACN9S,QAAS,KACP,IAAM8E,cAAc,OAAQ,CAC9BkO,EAAG,4sBACH1kB,GAAI,iBACJwkB,KAAM,aAGJ,GAAoB,SAA2BgJ,GACjD,IAAIC,EAASD,EAAKC,OACdlyB,EAAQiyB,EAAKjyB,MACb+H,EAAQ,GAAyBkqB,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMhX,cAAc,MAAO,GAAS,CACzCphB,MAAO,OACPqX,OAAQ,OACR2X,QAAS,YACT1a,IAAK+jB,GACJnqB,QAAkBhM,IAAViE,EAAsB,GAAQA,EAAQ,IAAMib,cAAc,QAAS,KAAMjb,GAAS,KAAM,GAAO,GAAO,KAG/G,GAAa,IAAMkO,YAAW,SAAUnG,EAAOoG,GACjD,OAAO,IAAM8M,cAAc,GAAmB,GAAS,CACrDiX,OAAQ/jB,GACPpG,OAEU,IC/Df,SAAS,KAA2Q,OAA9P,GAAWlG,OAAOwvB,QAAU,SAAU9d,GAAU,IAAK,IAAIhd,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAAK,CAAE,IAAIunB,EAASwT,UAAU/6B,GAAI,IAAK,IAAI4B,KAAO2lB,EAAcjc,OAAO0vB,UAAUC,eAAev6B,KAAK6mB,EAAQ3lB,KAAQob,EAAOpb,GAAO2lB,EAAO3lB,IAAY,OAAOob,IAA2B7b,MAAMtE,KAAMk+B,WAEhT,SAAS,GAAyBxT,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAAkE3lB,EAAK5B,EAAnEgd,EAEzF,SAAuCuK,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAA2D3lB,EAAK5B,EAA5Dgd,EAAS,GAAQoe,EAAa9vB,OAAOC,KAAKgc,GAAqB,IAAKvnB,EAAI,EAAGA,EAAIo7B,EAAW58B,OAAQwB,IAAO4B,EAAMw5B,EAAWp7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,IAAaob,EAAOpb,GAAO2lB,EAAO3lB,IAAQ,OAAOob,EAFxM,CAA8BuK,EAAQ4T,GAAuB,GAAI7vB,OAAOgwB,sBAAuB,CAAE,IAAIC,EAAmBjwB,OAAOgwB,sBAAsB/T,GAAS,IAAKvnB,EAAI,EAAGA,EAAIu7B,EAAiB/8B,OAAQwB,IAAO4B,EAAM25B,EAAiBv7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,GAAkB0J,OAAO0vB,UAAUQ,qBAAqB96B,KAAK6mB,EAAQ3lB,KAAgBob,EAAOpb,GAAO2lB,EAAO3lB,IAAU,OAAOob,EAMne,IAAI,GAEJ,IAAM0H,cAAc,QAAS,KAAM,qCAE/B,GAEJ,IAAMA,cAAc,OAAQ,KAAM,wBAE9B,GAEJ,IAAMA,cAAc,OAAQ,MAExB,GAEJ,IAAMA,cAAc,IAAK,CACvBxW,GAAI,oCACJskB,OAAQ,OACRC,YAAa,EACbC,KAAM,OACNC,SAAU,WACT,IAAMjO,cAAc,OAAQ,CAC7BxW,GAAI,QACJ+W,EAAG,EACHC,EAAG,EACH5hB,MAAO,GACPqX,OAAQ,KACN,IAAM+J,cAAc,OAAQ,CAC9BkO,EAAG,+aACH1kB,GAAI,iBACJwkB,KAAM,YACJ,IAAMhO,cAAc,OAAQ,CAC9BkO,EAAG,ocACH1kB,GAAI,OACJwkB,KAAM,UACN9S,QAAS,MAGP,GAAa,SAAoB8b,GACnC,IAAIC,EAASD,EAAKC,OACdlyB,EAAQiyB,EAAKjyB,MACb+H,EAAQ,GAAyBkqB,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMhX,cAAc,MAAO,GAAS,CACzCphB,MAAO,OACPqX,OAAQ,OACR2X,QAAS,YACT1a,IAAK+jB,GACJnqB,QAAkBhM,IAAViE,EAAsB,GAAQA,EAAQ,IAAMib,cAAc,QAAS,KAAMjb,GAAS,KAAM,GAAO,GAAO,KAG/G,GAAa,IAAMkO,YAAW,SAAUnG,EAAOoG,GACjD,OAAO,IAAM8M,cAAc,GAAY,GAAS,CAC9CiX,OAAQ/jB,GACPpG,OAEU,IC/Df,SAAS,KAA2Q,OAA9P,GAAWlG,OAAOwvB,QAAU,SAAU9d,GAAU,IAAK,IAAIhd,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAAK,CAAE,IAAIunB,EAASwT,UAAU/6B,GAAI,IAAK,IAAI4B,KAAO2lB,EAAcjc,OAAO0vB,UAAUC,eAAev6B,KAAK6mB,EAAQ3lB,KAAQob,EAAOpb,GAAO2lB,EAAO3lB,IAAY,OAAOob,IAA2B7b,MAAMtE,KAAMk+B,WAEhT,SAAS,GAAyBxT,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAAkE3lB,EAAK5B,EAAnEgd,EAEzF,SAAuCuK,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAA2D3lB,EAAK5B,EAA5Dgd,EAAS,GAAQoe,EAAa9vB,OAAOC,KAAKgc,GAAqB,IAAKvnB,EAAI,EAAGA,EAAIo7B,EAAW58B,OAAQwB,IAAO4B,EAAMw5B,EAAWp7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,IAAaob,EAAOpb,GAAO2lB,EAAO3lB,IAAQ,OAAOob,EAFxM,CAA8BuK,EAAQ4T,GAAuB,GAAI7vB,OAAOgwB,sBAAuB,CAAE,IAAIC,EAAmBjwB,OAAOgwB,sBAAsB/T,GAAS,IAAKvnB,EAAI,EAAGA,EAAIu7B,EAAiB/8B,OAAQwB,IAAO4B,EAAM25B,EAAiBv7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,GAAkB0J,OAAO0vB,UAAUQ,qBAAqB96B,KAAK6mB,EAAQ3lB,KAAgBob,EAAOpb,GAAO2lB,EAAO3lB,IAAU,OAAOob,EAMne,IAAI,GAEJ,IAAM0H,cAAc,QAAS,KAAM,2CAE/B,GAEJ,IAAMA,cAAc,OAAQ,KAAM,wBAE9B,GAEJ,IAAMA,cAAc,OAAQ,MAExB,GAEJ,IAAMA,cAAc,IAAK,CACvBxW,GAAI,0CACJskB,OAAQ,OACRC,YAAa,EACbC,KAAM,OACNC,SAAU,WACT,IAAMjO,cAAc,UAAW,CAChCxW,GAAI,QACJ0lC,OAAQ,wBACN,IAAMlvB,cAAc,OAAQ,CAC9BkO,EAAG,gRACH1kB,GAAI,iBACJwkB,KAAM,UACNC,SAAU,UACV/S,QAAS,KACP,IAAM8E,cAAc,OAAQ,CAC9BkO,EAAG,ofACH1kB,GAAI,iBACJwkB,KAAM,UACNC,SAAU,aAGR,GAAW,SAAkB+I,GAC/B,IAAIC,EAASD,EAAKC,OACdlyB,EAAQiyB,EAAKjyB,MACb+H,EAAQ,GAAyBkqB,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMhX,cAAc,MAAO,GAAS,CACzCphB,MAAO,OACPqX,OAAQ,OACR2X,QAAS,YACT1a,IAAK+jB,GACJnqB,QAAkBhM,IAAViE,EAAsB,GAAQA,EAAQ,IAAMib,cAAc,QAAS,KAAMjb,GAAS,KAAM,GAAO,GAAO,KAG/G,GAAa,IAAMkO,YAAW,SAAUnG,EAAOoG,GACjD,OAAO,IAAM8M,cAAc,GAAU,GAAS,CAC5CiX,OAAQ/jB,GACPpG,O,IAEU,ICnDgCkG,IAAMM,U,8BCJ/C67B,ICFyCn8B,IAAMM,UDEnC,CAChB,CACExW,KAAM,KACNnB,KAAM,UACNyzC,KAAMxnC,GAAc,wCAEtB,CACE9K,KAAM,KACNnB,KAAM,WACNyzC,KAAMxnC,GAAc,+BAEtB,CACE9K,KAAM,KACNnB,KAAM,UACNyzC,KAAMxnC,GAAc,+BAEtB,CACE9K,KAAM,KACNnB,KAAM,WACNyzC,KAAMxnC,GAAc,+BAEtB,CACE9K,KAAM,KACNnB,KAAM,SACNyzC,KAAMxnC,GAAc,iCAEtB,CACE9K,KAAM,KACNnB,KAAM,SACNyzC,KAAMxnC,GAAc,kCAIlBynC,G,sLACM,IAAD,SACiCl3C,KAAK2U,MAArChQ,EADD,EACCA,KAAMkvC,EADP,EACOA,SAAUxuC,EADjB,EACiBA,YAClB8xC,EAAkBH,GAAU71C,MAAK,SAAAinB,GAAC,OAAIA,EAAEzjB,OAASA,KACvD,OACE,kBAACq8B,GAAA,EAAD,CACExxB,UAAU,uDACVyxB,KAAK,OAAOC,YAAU,GAEtB,kBAACF,GAAA,EAASG,OAAV,CAAiB9W,GAAIsoB,GAAsBthC,GAAG,2BAC5C,0BACE7B,UAAWgL,aAAK,yBAA0B,CACxC,gCAA8C,UAAbq5B,KAGnC,yBAAKrtB,IAAK2wB,EAAgBF,KAAM/qB,IAAKirB,EAAgB3zC,SAGzD,kBAACw9B,GAAA,EAASI,KAAV,CAAe5xB,UAAU,sFACvB,wBAAIA,UAAU,wCACXwnC,GAAUh3B,KAAI,SAAAtF,GAAQ,OACrB,wBACE3V,IAAK2V,EAAS/V,KACd6K,UAAWgL,aAAK,eAAgB,CAC9B,uBAAwBE,EAAS/V,OAASwyC,EAAgBxyC,QAG5D,0BACE4V,QAAS,WACPlV,EAAYqV,EAAS/V,MACrB,EAAK2f,SAAS,CAAEzC,MAAM,IACtBjW,YAAW,kBAAK0L,OAAO3F,SAASsH,WAAU,MAE5CzJ,UAAWgL,aAAK,eAAgB,CAC9B,uBACEE,EAAS/V,OAASwyC,EAAgBxyC,QAGtC,0BAAM6K,UAAU,qBACd,yBAAKgX,IAAK9L,EAASu8B,KAAM/qB,IAAKxR,EAASlX,QAEzC,0BAAMgM,UAAU,qBAAqBkL,EAASlX,kB,GAzCjCqX,IAAMM,WE/B/Bi8B,IFqFSjB,cAFS,SAAC,GAAD,MAAe,CAAExxC,KAAjB,EAAGmP,KAAyBnP,QAIlDsQ,GAASnB,KAAK1O,QAFD+wC,CAGbe,I,sLEvFU,IAAD,EACyCl3C,KAAK2U,MAA7CsB,EADD,EACCA,KAAMohC,EADP,EACOA,OADP,EACeC,WADf,EAC2BC,UAElC,OACE,kBAACvW,GAAA,EAAD,CAAUxxB,UAAU,sDAAsDyxB,KAAK,OAAOC,YAAU,GAC9F,kBAACF,GAAA,EAASG,OAAV,CAAiB9W,GAAIsoB,GACnBthC,GAAG,gCAGH,yBAAK7B,UAAU,0BACZ6nC,GACC,0BAAM7nC,UAAU,8CAAhB,OAKD6nC,GACC,0BAAM7nC,UAAU,+CACbyG,EAAKka,QAAUla,EAAKka,QAAQC,WAAa,QAI7C,yBAAKlE,IAAI,MAAM1F,IAAmB,MAAdvQ,EAAKkR,MAAiBhf,EAAU8N,EAAKkR,MAAMnB,mBAA3C,UAAkEvW,GAAc,iCAIzG,kBAACuxB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,uGAEvB,yBACEA,UAAU,8EACVlI,MAAO,CACLysC,gBAAgB,OAAD,OAAStkC,GAAc,wBAAvB,OAGhBwG,EAAKkR,OACN,yBAAK3X,UAAU,wBACb,yBAAK0c,IAAI,MAAM1c,UAAU,YAAYgX,IAAKvQ,EAAKuhC,MAC9CvhC,EAAKka,SAAWla,EAAKka,QAAQC,WAC1B,0BAAM5gB,UAAU,0EACfyG,EAAKka,SAAWla,EAAKka,QAAQC,WAAWkJ,OAAO,IAC1C,IAIZ,yBAAK9pB,UAAU,sBACZyG,EAAKka,SAAWla,EAAKka,QAAQC,WAAana,EAAKka,QAAQC,WAAW,IAAM,GACxEna,EAAKka,SAAWla,EAAKka,QAAQE,UAAYpa,EAAKka,QAAQE,UAAY,IAErE,yBAAK7gB,UAAU,yBACZyG,EAAKka,SAAWla,EAAKka,QAAQyY,UAAY3yB,EAAKka,QAAQyY,UAAUplC,KAAO,GACxE,6BACCyS,EAAKka,SAAWla,EAAKka,QAAQuY,QAAUzyB,EAAKka,QAAQuY,QAAQllC,KAAO,KAQxE,yBAAKgM,UAAU,mBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,0CAEf,yBAAKA,UAAU,iCACb,kBAAC,QAAD,CAAMlI,MAAO,CAACsX,MAAO,WAAYwa,GAAI,yBACrC,yBAAK5pB,UAAU,4CAAf,cAGI,yBAAKA,UAAU,8BAAf,gCA6CR,yBAAKA,UAAU,2BACb,kBAAC,QAAD,CACE4pB,GAAI,eACJ5pB,UAAU,uCAFZ,oB,GApHYqL,IAAMM,YAsIjBg7B,iBAJS,SAAC,GAAD,MAAyB,CAC/ClgC,KADsB,EAAGkB,KAAQlB,QAIpBkgC,CAAyBiB,ICpInBK,G,YAEnB,WAAY9iC,GAAQ,IAAD,+BACjB,8CAAMA,KACD3P,MAAQ,CACXguC,SAAU,IAHK,E,mFAOC,IAAD,OACjB9pC,EAAK,WAAWK,MACd,SAACC,GACC,EAAK8a,SAAS,CAAC0uB,SAASxpC,EAAS/I,OACjCqI,EAAoB,UAAWU,EAAS/I,W,+BAK5C,OACE,yBAAK+O,UAAU,qBAmBb,kBAAC,GAAD,CACEqkC,SAAS,GACTb,SAAUhzC,KAAKgF,MAAMguC,SACrByB,UAAWz0C,KAAK2U,MAAM8/B,UACtB/tC,KAAK,QACLqG,KAAK,4BACL4mC,QAASlkC,GAAc,0BAMzB,kBAAC,GAAD,CAAa8nC,WAAW,S,GAlDI18B,IAAMM,WCTrBu8B,G,oMAEI7mC,EAAM8mC,GAC3B,OAAI9mC,EAAK5D,OACD,yBAAN,OAAgC4D,EAAK5D,QAGnC0qC,GAAcA,EAAW1qC,OACrB,yBAAN,OAAgC0qC,EAAW1qC,QAGtC,K,+BAGC,IAAD,EACqBjN,KAAK2U,MAAzB9D,EADD,EACCA,KAAM8mC,EADP,EACOA,WACd,OACE,oCAEG9mC,EAAK9D,MACJ,uBAAGyC,UAAS,6BAAwBqB,EAAK9D,SAIxC8D,EAAK9D,OAAS8D,EAAK5D,QAAW0qC,GAAcA,EAAW1qC,SACzD,uBAAGuC,UAAS,+BAA0BxP,KAAK43C,uBAAuB/mC,EAAM8mC,KAAe,gCAGtF9mC,EAAKgnC,MAOL,oCAEE,0BAAMroC,UAAU,sBAAsBqB,EAAKjE,OAC3C,0BAAM4C,UAAU,uBACd,0BAAMA,UAAS,mEAA8DqB,EAAKgnC,MAAM3yC,KAAzE,MACZ2L,EAAKgnC,MAAM9uC,SAXlB,oCACE,0BAAMyG,UAAU,uBAEhB,0BAAMA,UAAU,sBAAsBqB,EAAKjE,a,GAhCXiO,IAAMM,WCC7B28B,G,sLACT,IAAD,EACsB93C,KAAK2U,MAA1B9D,EADD,EACCA,KAAMknC,EADP,EACOA,WACd,OACE,wBAAIvoC,UAAU,iBACXqB,EAAKmnC,SACJ,wBAAIxoC,UAAU,oCACZ,0BAAMA,UAAU,sBAAsBqB,EAAKmnC,QAAQprC,OACnD,uBAAG4C,UAAU,0CAGhBqB,EAAKlE,OAASkE,EAAKlE,MAAMhL,QACxB,wBAAI6N,UAAU,kBACXqB,EAAKlE,MAAMqT,KAAI,SAACi4B,EAAO31C,GACtB,OACE,kBAAC,IAAMg0C,SAAP,CAAgBvxC,IAAG,gCAA2BzC,IAC5C,kBAAC,GAAD,CACEuO,KAAMonC,EACNN,WAAY9mC,EACZknC,WAAYA,c,GAnBSl9B,IAAMM,WCK1B+8B,G,8MAKnBC,yBAA2B,SAAAtnC,GAEzB,MAAoB,UADA1C,IAAWhO,IAAI0Q,EAAM,UAEhC,QAGoC,SAAzC1C,IAAWhO,IAAI0Q,EAAM,gBAChB,OAGF,S,EAOTunC,mBAAqB,SAAAvnC,GACnB,OAAIA,EAAK3J,QACA,EAAKmxC,uBAAuBxnC,KAGhCA,EAAK3D,OAI2C,IAA9C,EAAKyH,MAAMojC,WAAWxiC,QAAQ1E,EAAK3D,O,EAO5CmrC,uBAAyB,SAAAxnC,GACvB,GAAIA,EAAK3J,UAAY2J,EAAK3J,QAAQhC,KAAM,CAAC,IAAD,uBACtC,YAAuB2L,EAAK3J,QAA5B,+CAAqC,CAAC,IAA3BoxC,EAA0B,QAEnC,GADiB,EAAKF,mBAAmBE,GAEvC,OAAO,GAJ2B,kFAOtC,OAAO,EAGT,GAAIznC,EAAK3J,SAAW2J,EAAK3J,QAAQqxC,QAAS,CAAC,IAAD,uBACxC,YAAsB1nC,EAAK3J,QAAQqxC,QAAnC,+CAA4C,CAAC,IAAlCC,EAAiC,+BAC1C,YAAuBA,EAAQ7rC,MAA/B,+CACA,CAAC,IADU2rC,EACX,QAEE,GADiB,EAAKF,mBAAmBE,GAEvC,OAAO,GAL+B,oFADJ,kFAUxC,OAAO,EAGT,OAAO,G,EAOTG,kBAAoB,SAAA5nC,GAClB,IAAIwS,EAAU,gBAEVlV,IAAWhO,IAAI0Q,EAAM,aACvBwS,GAAW,2BAGb,IAAMq1B,EAAW,EAAKN,mBAAmBvnC,IACpCA,EAAK3J,SAAWwxC,IACnBr1B,GAAW,8CAGTxS,EAAK3J,SAAWwxC,IAClBr1B,GAAW,4CAGTlV,IAAWhO,IAAI0Q,EAAM,aACvBwS,GAAW,0BAGb,IAAMs1B,EAAWxqC,IAAWhO,IAAI0Q,EAAM,iBAAmB,WAEtD1C,IAAWhO,IAAI0Q,EAAM,SAAwB,YAAb8nC,GACjCj2C,SAASyL,IAAWhO,IAAI0Q,EAAM,iBAAkB,IAAM,KAEtDwS,GAAW,uBAGb,IAAMu1B,EAAczqC,IAAWhO,IAAI0Q,EAAM,gBASzC,OARI+nC,IACFv1B,GAAW,IAAMu1B,GAGfzqC,IAAWhO,IAAI0Q,EAAM,eACvBwS,GAAW,6BAGNA,G,EAOTw1B,wBAA0B,SAAAhoC,GACxB,IAAIwS,EAAU,GAERvW,EAAYqB,IAAWhO,IAAI0Q,EAAM,cAAgB,QAEnD/D,IACFuW,GAAW,sBAAwBvW,GAGrC,IAAM5H,EAAOiJ,IAAWhO,IAAI0Q,EAAM,SAAW,UAiB7C,MAhBa,YAAT3L,IACFme,GAAW,8BAEA,SAATne,IACFme,GAAW,2BAEA,SAATne,GACEiJ,IAAWhO,IAAI0Q,EAAM,WACvBwS,GAAW,4BAIXlV,IAAWhO,IAAI0Q,EAAM,UACvBwS,GAAW,2BAGNA,G,0EAGC,IAAD,EACoDrjB,KAAK2U,MAAxD9D,EADD,EACCA,KAAM8mC,EADP,EACOA,WAAYI,EADnB,EACmBA,WAAYe,EAD/B,EAC+BA,iBACtC,OACE,wBACEtpC,UAAWxP,KAAKy4C,kBAAkB5nC,GAClCoK,gBAAc,OACd89B,6BAA4B/4C,KAAKm4C,yBAAyBtnC,GAC1DmoC,2BAA0BnoC,EAAKmM,KAC/Bi8B,oCAAmCpoC,EAAK,0BAGvCA,EAAK3J,SACJ,uBACEsI,UAAS,wBAAmBgL,aAAK,CAC/B,kBAAmB3J,EAAKhE,MAAQgE,EAAK3J,YAGvC,kBAAC,GAAD,CACE2J,KAAMA,EACN8mC,WAAYA,EACZI,WAAYA,IAEbe,GACC,oCACGjoC,EAAK3J,SAAW2J,EAAKhE,MACpB,oCACE,uBAAG2C,UAAU,wCACb,uBAAGA,UAAU,2CAMpBqB,EAAK3J,UAAY2J,EAAKhE,MACrB,oCACE,uBAAG2C,UAAU,yCACb,uBAAGA,UAAU,4CAOnBqB,EAAK3J,SACL,kBAAC,QAAD,CAAMkyB,GAAE,WAAMvoB,EAAK3D,MAAQ,IAAMsC,UAAU,iBACzC,kBAAC,GAAD,CACEqB,KAAMA,EACN8mC,WAAYA,EACZI,WAAYA,KAMjBlnC,EAAK3J,SACJ,yBACEsI,UAAS,2BAAsBxP,KAAK64C,wBAAwBhoC,IAC5DvJ,MAAO,CAAEb,MAAOoK,EAAK3J,QAAQT,QAE7B,0BACE+I,UAAS,yBAAoBgL,aAAK,CAChC,yBAA0B3J,EAAKhE,UAIlCgE,EAAK3J,SAAW2J,EAAK3J,QAAQvF,QAC5B,wBAAI6N,UAAU,mBACXqB,EAAK3J,QAAQ8Y,KAAI,SAACi4B,EAAO31C,GACxB,OACE,kBAAC,IAAMg0C,SAAP,CAAgBvxC,IAAG,wBAAmBzC,IACpC,kBAAC41C,EAAD,CACErnC,KAAMonC,EACNN,WAAY9mC,EACZknC,WAAYA,SAQvBlnC,EAAK3J,QAAQyF,OAASkE,EAAK3J,QAAQyF,MAAMhL,QACxC,wBAAI6N,UAAU,mBACXqB,EAAK3J,QAAQyF,MAAMqT,KAAI,SAACi4B,EAAO31C,GAC9B,OACE,kBAAC,IAAMg0C,SAAP,CAAgBvxC,IAAG,yBAAoBzC,IACrC,kBAAC41C,EAAD,CACErnC,KAAMonC,EACNN,WAAY9mC,EACZknC,WAAYA,SAQD,SAAtBlnC,EAAK3J,QAAQhC,MACX2L,EAAK3J,QAAQqxC,SAAW1nC,EAAK3J,QAAQqxC,QAAQ52C,QAC5C,yBAAK6N,UAAU,mBACb,wBAAIA,UAAU,oBACXqB,EAAK3J,QAAQqxC,QAAQv4B,KAAI,SAACi4B,EAAO31C,GAChC,OACE,kBAAC,IAAMg0C,SAAP,CAAgBvxC,IAAG,0BAAqBzC,IACtC,kBAAC,GAAD,CACEuO,KAAMonC,EACNN,WAAY9mC,EACZknC,WAAYA,gB,GAzPDl9B,IAAMM,W,UCEvC+9B,GAAmB,CACvBC,SAAS,EACTC,UAAW,yBACXC,QAAS,kCACTC,SAAU,CACRn5B,OAAQ,2BACRnb,MAAO,8CAILu0C,G,8MACJC,mBAAqB3+B,IAAM8S,Y,EAC3B8rB,gBAAkB5+B,IAAM8S,Y,EAsBxB+rB,cAAgB,WAEd,IAAIC,KAAY,EAAKH,mBAAmB57B,QAASs7B,K,EAGnDU,WAAa,WACX,IAAIC,EAAc,CAChB3yC,QAAS,CACPL,QAAS,WACTizC,OAAQ,YACRhzC,OAAQ,aAEVK,UAAW,CACT4yC,WAAY,IACZC,WAAW,GAEbpyC,SAAU,CACR2K,QAAS,KAIT0nC,EAAkB,YAEkD,MAAtE,EAAKR,gBAAgB77B,QAAQs8B,aAAa,0BAE1CD,EAAkB,YAG0C,kBAAnD9rC,IAAWhO,IAAI05C,EAAa,qBACrCA,EAAY3yC,QAAQL,QAAU,CAC5Ba,QAASuyC,IAKb,IAAIE,KAAO,EAAKV,gBAAgB77B,QAASi8B,I,iFAtDzC,IAAIlrB,EAAS,iBAKb,OAJA/e,QAAQC,IAAI,4BAA6B7P,KAAK2U,MAAMylC,gBAChDp6C,KAAK2U,MAAMylC,gBAAgD,SAA9Bp6C,KAAK2U,MAAMylC,iBAC1CzrB,EAAS,iBAEJlf,GAAc,gBAAD,OAAiBkf,M,0CASrC3uB,KAAK05C,gBAEL15C,KAAK45C,e,+BAyCG,IAAD,SAMH55C,KAAK2U,MAJP0lC,EAFK,EAELA,yBACAC,EAHK,EAGLA,cACAC,EAJK,EAILA,UACAzB,EALK,EAKLA,iBAEInsC,EAAQ3M,KAAK2U,MAAM/F,WAAWrI,OAAOoG,MAC3C,OACE,oCACE,4BACE6C,UAAU,+BACV6B,GAAG,mCAEH,uBAAG7B,UAAU,iBAEf,yBACEA,UAAU,yBACV6B,GAAG,yBACH0J,IAAK/a,KAAKw5C,oBAETa,GACC,yBAAK7qC,UAAU,kBACb,kBAAC,QAAD,CAAM4pB,GAAG,KACP,yBAAKlN,IAAI,OAAO1F,IAAKxmB,KAAKw6C,oBAKhC,yBACEnpC,GAAG,iBACH7B,UAAS,+CAA0C8qC,GACnDv/B,IAAK/a,KAAKy5C,iBAEV,wBAAIjqC,UAAS,uBAAkB+qC,IAC5B5tC,EAAMqT,KAAI,SAACnP,EAAMvO,GAChB,OACE,kBAAC,IAAMg0C,SAAP,CAAgBvxC,IAAG,mBAAczC,IAC9BuO,EAAKjE,OACJ,kBAAC,GAAD,CACEiE,KAAMA,EACNknC,WAAY,EAAKA,WACjBe,iBAAkBA,c,iCA1FtC,OAAO94C,KAAK2U,MAAMhD,SAASjC,SAAS0Q,MAAM,QAAQ,O,GAdlCvF,IAAMM,WA0IXye,gBAAWuc,cApBF,SAAAxoC,GAAK,MAAK,CAChCtE,OAAQsE,EAAME,QAAQK,aACtBU,WAAYjB,EAAME,QAAQe,WAC1B0rC,cAAezsC,GAAkBH,WAAWC,EAAO,CACjDG,KAAM,cACNC,UAAU,IAEZ+qC,iBAAkBjrC,GAAkBI,UAClCN,EACA,+BAEFysC,eAAgBvsC,GAAkBI,UAAUN,EAAO,oBACnD4sC,UAAW1sC,GAAkBH,WAAWC,EAAO,CAC7CG,KAAM,kBACNC,UAAU,IAEZssC,0BACuE,IAArElsC,IAAWhO,IAAIwN,EAAME,QAAQK,aAAc,yBAGrBioC,CAAyBoD,K,WC1J7CkB,G,8MAGJz1C,MAAQ,CACNyB,MAAO,EACPi0C,cAAc,G,oFAGG5D,GACb92C,KAAK2U,MAAMhD,SAASjC,WAAaonC,EAAUnlC,SAASjC,UACtD1P,KAAK26C,Y,gCAIE,IAAD,OACR36C,KAAK46C,eAAiBhvC,YAAW,WAC3B,EAAK5G,MAAMyB,OAAS,KACtB,EAAK6d,SAAS,CAAE7d,MAAO,EAAKzB,MAAMyB,MAAQ,KAC1C,EAAKk0C,WAEL,EAAKE,gBAEN,M,oCAEU,IAAD,OACZroC,aAAaxS,KAAK86C,iBAClB96C,KAAK+6C,mBAAqBnvC,YAAW,WACnC,EAAK0Y,SAAS,CAAE7d,MAAO,MACtB,O,6CAGCzG,KAAK+6C,oBACPvoC,aAAaxS,KAAK+6C,oBAEhB/6C,KAAK46C,gBACPpoC,aAAaxS,KAAK46C,kB,+BAIpB,OACE,yBACEprC,UAAU,sBACVlI,MAAO,CAAEwW,OAAQ,MAAOrX,MAAO,SAE9BzG,KAAKgF,MAAMyB,MAAQ,GAClB,kBAACu0C,GAAA,EAAD,CAAUjyC,MAAO/I,KAAKgF,MAAMyB,MAAOa,MAAO,CAAEwW,OAAQ,c,GA7CjCjD,IAAMM,WAoDpBye,gBAAW6gB,I,UC/CpBxxB,G,8MACJgyB,gBAAkBpgC,IAAM8S,Y,qFAGtB,IAAI7tB,EAAU,GAGZ,MADAE,KAAKi7C,gBAAgBr9B,QAAQs8B,aAAa,4BAG1Cp6C,EAAQ,uBAAyB,sBACjCA,EAAQ,kBAAoB,KAI9B,IAAIo7C,KAASl7C,KAAKi7C,gBAAgBr9B,QAAS9d,K,+BAGnC,IAAD,EACwDE,KAAK2U,MAA5DwmC,EADD,EACCA,kBAAmBC,EADpB,EACoBA,iBAAkBC,EADtC,EACsCA,cAC7C,OACE,uCACE7rC,UAAS,kCAA6B6rC,GACtChqC,GAAG,YACH0J,IAAK/a,KAAKi7C,iBACNG,GAEJ,kBAAC,GAAD,MAECD,GAAqB,kBAAC,GAAD,OAIpBA,GAAqB,8BACvB,kBAAC,GAAD,CAAQ1G,UAAWz0C,KAAK2U,MAAM8/B,iB,GAjCjB55B,IAAMM,WAsDZg7B,iBAdS,SAAAxoC,GAAK,MAAK,CAChCytC,iBAAkBvtC,GAAkBG,cAAcL,EAAO,CAAEG,KAAM,WACjEutC,cAAextC,GAAkBH,WAAWC,EAAO,CACjDG,KAAM,SACNC,UAAU,IAEZotC,kBAAmBhtC,IAAWhO,IAC5BwN,EAAME,QAAQK,aACd,4BAEF+Q,MACsE,UAApE9Q,IAAWhO,IAAIwN,EAAME,QAAQK,aAAc,wBAGhCioC,CAAyBltB,IC/DxC,SAAS,KAA2Q,OAA9P,GAAWxa,OAAOwvB,QAAU,SAAU9d,GAAU,IAAK,IAAIhd,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAAK,CAAE,IAAIunB,EAASwT,UAAU/6B,GAAI,IAAK,IAAI4B,KAAO2lB,EAAcjc,OAAO0vB,UAAUC,eAAev6B,KAAK6mB,EAAQ3lB,KAAQob,EAAOpb,GAAO2lB,EAAO3lB,IAAY,OAAOob,IAA2B7b,MAAMtE,KAAMk+B,WAEhT,SAAS,GAAyBxT,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAAkE3lB,EAAK5B,EAAnEgd,EAEzF,SAAuCuK,EAAQ4T,GAAY,GAAc,MAAV5T,EAAgB,MAAO,GAAI,IAA2D3lB,EAAK5B,EAA5Dgd,EAAS,GAAQoe,EAAa9vB,OAAOC,KAAKgc,GAAqB,IAAKvnB,EAAI,EAAGA,EAAIo7B,EAAW58B,OAAQwB,IAAO4B,EAAMw5B,EAAWp7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,IAAaob,EAAOpb,GAAO2lB,EAAO3lB,IAAQ,OAAOob,EAFxM,CAA8BuK,EAAQ4T,GAAuB,GAAI7vB,OAAOgwB,sBAAuB,CAAE,IAAIC,EAAmBjwB,OAAOgwB,sBAAsB/T,GAAS,IAAKvnB,EAAI,EAAGA,EAAIu7B,EAAiB/8B,OAAQwB,IAAO4B,EAAM25B,EAAiBv7B,GAAQm7B,EAAS/oB,QAAQxQ,IAAQ,GAAkB0J,OAAO0vB,UAAUQ,qBAAqB96B,KAAK6mB,EAAQ3lB,KAAgBob,EAAOpb,GAAO2lB,EAAO3lB,IAAU,OAAOob,EAMne,IAAI,GAEJ,IAAM0H,cAAc,QAAS,KAAM,uCAE/B,GAEJ,IAAMA,cAAc,OAAQ,KAAM,wBAE9B,GAEJ,IAAMA,cAAc,OAAQ,MAExB,GAEJ,IAAMA,cAAc,IAAK,CACvBxW,GAAI,sCACJskB,OAAQ,OACRC,YAAa,EACbC,KAAM,OACNC,SAAU,WACT,IAAMjO,cAAc,UAAW,CAChCxW,GAAI,QACJ0lC,OAAQ,wBACN,IAAMlvB,cAAc,OAAQ,CAC9BkO,EAAG,2UACH1kB,GAAI,iBACJwkB,KAAM,UACNC,SAAU,UACV/S,QAAS,KACP,IAAM8E,cAAc,OAAQ,CAC9BkO,EAAG,mVACH1kB,GAAI,iBACJwkB,KAAM,aAGJ,GAAc,SAAqBgJ,GACrC,IAAIC,EAASD,EAAKC,OACdlyB,EAAQiyB,EAAKjyB,MACb+H,EAAQ,GAAyBkqB,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMhX,cAAc,MAAO,GAAS,CACzCphB,MAAO,OACPqX,OAAQ,OACR2X,QAAS,YACT1a,IAAK+jB,GACJnqB,QAAkBhM,IAAViE,EAAsB,GAAQA,EAAQ,IAAMib,cAAc,QAAS,KAAMjb,GAAS,KAAM,GAAO,GAAO,KAG/G,GAAa,IAAMkO,YAAW,SAAUnG,EAAOoG,GACjD,OAAO,IAAM8M,cAAc,GAAa,GAAS,CAC/CiX,OAAQ/jB,GACPpG,OCrDC+qB,IDuDS,ICvDoB7kB,IAAMC,YAAW,SAACnG,EAAOoG,GAC1D,OACE,uBACEA,IAAKA,EACL8E,KAAK,IACLtF,QAAS,SAAAxY,GACPA,EAAEC,iBACF2S,EAAM4F,QAAQxY,IAEhBsP,GAAG,+BACH7B,UAAU,gBAET,IACD,kBAAC,GAAD,CAAcA,UAAU,0DAKjB8rC,GAAb,sLAEI,OACE,oCACE,kBAACC,GAAA,EAAD,CACE35B,UAAU,OACVu3B,QAAS,kBAAC,KAAD,CAAS9nC,GAAG,yBAAZ,kBAET,kBAAC2vB,GAAA,EAAD,CAAUxxB,UAAU,kBAAkByxB,KAAK,OAAOC,YAAU,GAC1D,kBAACF,GAAA,EAASG,OAAV,CACE9W,GAAIqV,GACJruB,GAAG,4CAGL,kBAAC2vB,GAAA,EAASI,KAAV,CAAe5xB,UAAU,0DACvB,wBAAIA,UAAU,UACZ,wBAAIA,UAAU,gBAAd,2BAEE,uBACEA,UAAU,wBACVwL,cAAY,aACZwgC,iBAAe,QACf5uC,MAAM,GACN6uC,sBAAoB,4BAGxB,wBAAIjsC,UAAU,sBACd,wBAAIA,UAAU,gBACZ,uBAAGqQ,KAAK,IAAIrQ,UAAU,gBACpB,uBAAGA,UAAU,qCACb,0BAAMA,UAAU,qBAAhB,WAGJ,wBAAIA,UAAU,gBACZ,uBAAGqQ,KAAK,IAAIrQ,UAAU,gBACpB,uBAAGA,UAAU,2CACb,0BAAMA,UAAU,qBAAhB,YAGJ,wBAAIA,UAAU,gBACZ,uBAAGqQ,KAAK,IAAIrQ,UAAU,gBACpB,uBAAGA,UAAU,8CACb,0BAAMA,UAAU,qBAAhB,UAGJ,wBAAIA,UAAU,gBACZ,uBAAGqQ,KAAK,IAAIrQ,UAAU,gBACpB,uBAAGA,UAAU,0CACb,0BAAMA,UAAU,qBAAhB,gBACA,0BAAMA,UAAU,sBACd,0BAAMA,UAAU,8CAAhB,QAMN,wBAAIA,UAAU,sBACd,wBAAIA,UAAU,gBACZ,uBAAGA,UAAU,sCAAsCqQ,KAAK,KAAxD,gBAGA,uBACErQ,UAAU,0CACVqQ,KAAK,IACL7E,cAAY,aACZwgC,iBAAe,QACf5uC,MAAM,GACN6uC,sBAAoB,0BANtB,wBA7DlB,GAAkC5gC,IAAMM,WCdlCugC,G,sLACM,IAOaC,EAPd,EAKH37C,KAAK2U,MAHPinC,EAFK,EAELA,oBACAC,EAHK,EAGLA,6BACAC,EAJK,EAILA,sBAEIC,EAAQ,IAAI/rC,KAmBlB,OACE,yBACEqB,GAAG,eACH7B,UAAS,uBAAkBosC,EAAlB,mBAET,yBAAKpsC,UAAS,uBAAkBqsC,IAC9B,yBAAKrsC,UAAU,sBACZssC,GACC,4BACEtsC,UAAU,gEACV6B,GAAG,8BAEH,gCAIJ,kBAACqB,GAAD,MAEG,gBAAgB9F,EAAhB,EAAGxF,UAAawF,MAAhB,OACG,oCACA,wBAAI4C,UAAU,uBAAuB5C,OAO3C,0BAAM4C,UAAU,uDAChB,0BAAMA,UAAU,sBAAhB,cACA,uBACEqQ,KAAK,IACLrQ,UAAU,mEAFZ,YAQF,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,yBACb,uBAAGqQ,KAAK,IAAIrQ,UAAU,mCAAtB,SADF,OAKE,uBAAGqQ,KAAK,IAAIrQ,UAAU,mCAAtB,SALF,OASE,uBAAGqQ,KAAK,IAAIrQ,UAAU,mCAAtB,QATF,OAaE,4BAAQtK,KAAK,SAASsK,UAAU,mCAC9B,0BACEA,UAAU,oCACV6B,GAAG,sCAFL,UADF,OAQE,0BACE7B,UAAU,mCACV6B,GAAG,sCA/EIsqC,EAiFOI,EAhF1B/rC,KAAKgsC,YAAc,CACjB,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEKhsC,KAAKgsC,YAAYL,EAAGhgB,aA8DjB,IAIyBogB,EAAMtgB,UAAU1tB,YAZ3C,OAeE,uBAAGyB,UAAU,0BA5BjB,OA+BE,kBAAC,GAAD,c,GA/FUqL,IAAMM,WAyHfye,gBAAWuc,cAjBF,SAAAxoC,GAAK,MAAK,CAChCiuC,oBAAqB/tC,GAAkBH,WAAWC,EAAO,CACvDG,KAAM,YACNC,UAAU,IAEZ8tC,6BAA8BhuC,GAAkBH,WAAWC,EAAO,CAChEG,KAAM,sBACNC,UAAU,IAEZ1E,OAAQsE,EAAME,QAAQK,aACtBU,WAAYjB,EAAME,QAAQe,WAC1BktC,sBAAuB3tC,IAAWhO,IAChCwN,EAAME,QAAQK,aACd,8BAIsBioC,CAAyBuF,K,UC3H7CO,G,8MACJC,gBAAkBrhC,IAAM8S,Y,EACxBwuB,uBAAyB,G,EACzBjuC,aAAe,EAAKyG,MAAMzG,a,qFAExB,IAAIkuC,KAASp8C,KAAKk8C,gBAAgBt+B,QAAS5d,KAAK2U,MAAM0nC,iB,+BAG9C,IAAD,EAKHr8C,KAAK2U,MAHP2nC,EAFK,EAELA,aACAH,EAHK,EAGLA,uBACAI,EAJK,EAILA,uBAEF,OACE,uCACElrC,GAAG,mBACH7B,UAAS,2BAAsB2sC,IAC3BI,GAEJ,yBAAK/sC,UAAU,0BACb,uBAAGqQ,KAAM3X,6RAAYs0C,iBACnB,yBAAKl1C,MAAO,CAACwW,OAAO,QAASoO,IAAI,OAAO1F,IAAK/W,GAAc,0CAI/D,yBAAKD,UAAU,6BACZ8sC,GACC,4BACE9sC,UAAU,4EACV6B,GAAG,2BAEH,gCAWJ,4BACE0J,IAAK/a,KAAKk8C,gBACV1sC,UAAU,mCACV6B,GAAG,mCAEH,uBAAG7B,UAAU,yB,GAhDEqL,IAAMM,WA2ElBg7B,iBAnBS,SAAAxoC,GAAK,MAAK,CAChCwuC,uBAAwBtuC,GAAkBH,WAAWC,EAAO,CAC1DG,KAAM,gBACNC,UAAU,IAEZwuC,uBAAwB1uC,GAAkBG,cAAcL,EAAO,CAC7DG,KAAM,kBAERwuC,aAAcnuC,IAAWhO,IACvBwN,EAAME,QAAQK,aACd,sBAEFmuC,cAAe,CACbl8B,OAAQ,OACRs8B,YAAa,+BACbC,aAAc,uDAIHvG,CAAyB8F,IC5ElCU,G,mOAMF,OACE,yBACEntC,UAAS,wCAAmCxP,KAAK2U,MAAMioC,cACvDvrC,GAAG,kBAEH,yBAAK7B,UAAU,wBACb,uBAAGqQ,KAAM3X,8BACP,yBAAKZ,MAAO,CAACwW,OAAO,QAASoO,IAAI,OAAO1F,IAAK/W,GAAc,+C,GAbnDoL,IAAMM,WA8BXg7B,iBATS,SAAAxoC,GACtB,MAAO,CACLivC,aAAc/uC,GAAkBH,WAAWC,EAAO,CAChDG,KAAM,QACNC,UAAU,OAKDooC,CAAyBwG,ICnCnBE,G,sLACT,IACAhsC,EAAS7Q,KAAK2U,MAAd9D,KACR,OACE,wBAAIrB,UAAU,oBACZ,wBAAIA,UAAU,yBAAyBqB,EAAKisC,SAC5C,uBAAGttC,UAAU,gD,GANoBqL,IAAMM,WCA1B4hC,G,sLAEjB,OACE,wBAAIvtC,UAAU,sBACZ,oC,GAJuCqL,IAAMM,W,WCChC6hC,G,sLACT,IAAD,EACsBh9C,KAAK2U,MAA1B9D,EADD,EACCA,KAAM8mC,EADP,EACOA,WAEd,OACE,oCACG9mC,EAAK9D,MAAQ,uBAAGyC,UAAS,6BAAwBqB,EAAK9D,QAEtD4qC,GAAoC,QAAtBA,EAAW1qC,QACxB,uBAAGuC,UAAU,kDACX,gCAIHmoC,GAAoC,SAAtBA,EAAW1qC,QACxB,uBAAGuC,UAAU,mDACX,gCAIJ,0BAAMA,UAAU,qBAAqBlI,MAAO,CAAE21C,WAAY,WACtDpsC,EAAKzD,UAGL,kBAAC,KAAD,CAAkBiE,GAAIR,EAAKzD,UAAW8vC,eAAgBrsC,EAAKjE,QAF3DiE,EAAKjE,OAMRiE,EAAKgnC,OACJ,0BAAMroC,UAAU,uBACd,0BAAMA,UAAS,mBAAcqB,EAAKgnC,MAAM3yC,OACrC2L,EAAKgnC,MAAM9uC,a,GA/BgB8R,IAAMM,WCE3BgiC,G,sLACT,IAAD,EACoCn9C,KAAK2U,MAAxC9D,EADD,EACCA,KAAMknC,EADP,EACOA,WAAY7pC,EADnB,EACmBA,aAE1B,OACE,wBAAIsB,UAAU,mBACXqB,EAAK3J,QAAQ8Y,KAAI,SAACi4B,EAAO31C,GAAR,OAChB,kBAAC,IAAMg0C,SAAP,CAAgBvxC,IAAKzC,GAClB21C,EAAM6E,SACL,kBAAC,GAAD,CACEjsC,KAAMonC,EACNN,WAAY9mC,EACZknC,WAAYA,IAIfE,EAAMmF,WACL,kBAAC,GAAD,CACEvsC,KAAMonC,EACNN,WAAY9mC,EACZknC,WAAYA,IAIfE,EAAMrrC,OACL,kBAAC,GAAD,CACEiE,KAAMonC,EACNN,WAAY9mC,EACZknC,WAAYA,EACZ7pC,aAAcA,a,GA7BW2M,IAAMM,WCE1BkiC,G,8MACnBC,eAAiBziC,IAAM8S,Y,EACvB4vB,WAAcrrC,SAAS0iB,KAAKxiB,UAAUqhC,SAAS,2B,EAE/C+J,cAC6B,UAA3B,EAAK7oC,MAAM9D,KAAK5J,OACZ,QACoD,SAApDkH,IAAWhO,IAAI,EAAKwU,MAAM9D,KAAM,gBAChC,OACA,Q,EAMN4sC,WAAa,SAAA/5C,GACN,EAAK65C,YAIN,EAAK5oC,MAAM9D,KAAK3J,UAClB,EAAKo2C,eAAe1/B,QAAQxL,UAAUE,IAAI,wBAC1C,EAAKgrC,eAAe1/B,QAAQ8/B,aAC1B,6BACA,EAAKF,iB,EASXG,WAAa,SAAAj6C,GACN,EAAK65C,YAIN,EAAK5oC,MAAM9D,KAAK3J,SAAkC,UAAvB,EAAKs2C,gBAClC,EAAKF,eAAe1/B,QAAQxL,UAAUC,OAAO,wBAC7C,EAAKirC,eAAe1/B,QAAQggC,gBAAgB,gC,EAIhDxF,mBAAqB,SAAAvnC,GACnB,OAAIA,EAAK3J,QACA,EAAKmxC,uBAAuBxnC,KAGhCA,EAAK3D,OAI2C,IAA9C,EAAKyH,MAAMojC,WAAWxiC,QAAQ1E,EAAK3D,O,EAG5CmrC,uBAAyB,SAAAxnC,GAAS,IAAD,uBAC/B,YAAsBA,EAAK3J,QAA3B,+CAAoC,CAAC,IAA1B22C,EAAyB,QAClC,GAAI,EAAKzF,mBAAmByF,GAC1B,OAAO,GAHoB,kFAO/B,OAAO,G,0EAGC,IAAD,EACgD79C,KAAK2U,MAApD9D,EADD,EACCA,KAAMknC,EADP,EACOA,WAAYJ,EADnB,EACmBA,WAAYzpC,EAD/B,EAC+BA,aAChCwqC,EAAW14C,KAAKo4C,mBAAmBvnC,GAEzC,OACE,wBACEkK,IAAK/a,KAAKs9C,eACVriC,gBAAc,OACdugC,iBAAe,QACfxC,2BAA0BnoC,EAAKmM,KAC/B8gC,aAAc99C,KAAKy9C,WACnBM,aAAc/9C,KAAK29C,WACnBnuC,UAAWgL,aACT,gBACA,CACE,yBAA0B3J,EAAK3J,QAC/B,0CAA2CwxC,GAAY7nC,EAAK3J,QAC5D,4CACEwxC,IAAa7nC,EAAK3J,QACpB,2BAA4B2J,EAAK,cAEnCA,EAAK,iBAEPooC,oCAAmCpoC,EAAK,2BAEtCA,EAAK3J,SACL,kBAAC,QAAD,CAAMkyB,GAAE,WAAMvoB,EAAK3D,MAAQsC,UAAU,iCACnC,kBAAC,GAAD,CAAcqB,KAAMA,EAAM8mC,WAAYA,KAIzC9mC,EAAK3J,SAEJ,uBAAGsI,UAAU,iCACX,kBAAC,GAAD,CAAcqB,KAAMA,EAAM8mC,WAAYA,KAIzC9mC,EAAK3J,SACJ,yBAAKsI,UAAU,oBACb,0BAAMA,UAAU,mBAEU,sCAAzBqB,EAAK,iBACJ,yBAAKrB,UAAU,oBACb,kBAAC,GAAD,CACEqB,KAAMA,EACN8mC,WAAY9mC,EACZknC,WAAYA,KAKQ,sCAAzBlnC,EAAK,iBACJ,kBAAC,GAAD,CACEA,KAAMA,EACN8mC,WAAY9mC,EACZknC,WAAYA,EACZ7pC,aAAcA,U,GA3HQ2M,IAAMM,WCFvB6iC,G,sLACT,IAAD,EAC0Ch+C,KAAK2U,MAA9CojC,EADD,EACCA,WAAYnpC,EADb,EACaA,WAAYV,EADzB,EACyBA,aAEhC,OAAOU,EAAWpH,MAAMmF,MAAMqT,KAAI,SAACi4B,EAAO31C,GACxC,OACI,kBAAC,IAAMg0C,SAAP,CAAgBvxC,IAAG,kBAAazC,IAC7B21C,EAAM6E,SAAW,kBAAC,GAAD,CAAajsC,KAAMonC,IACpCA,EAAMmF,WAAa,kBAAC,GAAD,CAAmBvsC,KAAMonC,IAC5CA,EAAMrrC,OACH,kBAAC,GAAD,CACIiE,KAAMonC,EACNF,WAAYA,EACZ7pC,aAAcA,Y,GAbI2M,IAAMM,W,QCMtC8iC,G,8MACJC,aAAerjC,IAAM8S,Y,EAyErB8vB,WAAa,SAAA17C,GAEPmQ,SAAS0iB,KAAKxiB,UAAUqhC,SAAS,qBAC/B,EAAK0K,YACP3rC,aAAa,EAAK2rC,WAClB,EAAKA,UAAY,MAGnB,EAAKC,SAAWxyC,YAAW,WAGvBsG,SAAS0iB,KAAKxiB,UAAUqhC,SAAS,uBAEjCvzC,KAAOm+C,oBAAoB,aAE3BlvC,GAAe+C,SAAS0iB,KAAM,sBAC9B1iB,SAAS0iB,KAAKxiB,UAAUE,IAAI,+BAE7B,M,EAQPqrC,WAAa,SAAA57C,GACPmQ,SAAS0iB,KAAKxiB,UAAUqhC,SAAS,qBAC/B,EAAK2K,WACP5rC,aAAa,EAAK4rC,UAClB,EAAKA,SAAW,MAGlB,EAAKD,UAAYvyC,YAAW,WAG1B,IAAM0yC,EAAyBp+C,KAAOm+C,oBAAoB,WACjCnsC,SAAS0iB,KAAKxiB,UAAUqhC,SAC/C,6BAKA6K,IAGAnvC,GAAe+C,SAAS0iB,KAAM,4BAC9B1iB,SAAS0iB,KAAKxiB,UAAUE,IAAI,yBAE7B,O,qFApHLtS,KAAKu+C,WAEL,IAAMz+C,EAAUE,KAAKw+C,mBACN,IAAIrE,KAAOn6C,KAAKk+C,aAAatgC,QAAS9d,K,iCAG3C,IACFuJ,EAAWrJ,KAAK2U,MAAhBtL,OAE4C,SAAlD8E,IAAWhO,IAAIkJ,EAAQ,wBACvB8E,IAAWhO,IAAIkJ,EAAQ,qBAEvBrJ,KAAKk+C,aAAatgC,QAAQ8/B,aAAa,qBAAsB,KAGT,SAAlDvvC,IAAWhO,IAAIkJ,EAAQ,yBACzBrJ,KAAKk+C,aAAatgC,QAAQ8/B,aAAa,uBAAwB,KAC/D19C,KAAKk+C,aAAatgC,QAAQ8/B,aACxB,+BACAvvC,IAAWhO,IAAIkJ,EAAQ,iD,yCAM3B,IAAIwwC,EAAc,CAEhB4E,OAAQ,KAERv3C,QAAS,CACPL,QAAS,CAEPa,QAAS,YAEXoyC,OAAQ,YACRhzC,OAAQ,aAGVK,UAAW,CACT6yC,WAAW,IAKXC,EAAkB,YAYtB,MAR2B,MAHAj6C,KAAKk+C,aAAatgC,QAAQs8B,aACnD,0BAGAD,EAAkB,YAG0C,kBAAnD9rC,IAAWhO,IAAI05C,EAAa,qBACrCA,EAAY3yC,QAAQL,QAAQa,QAAUuyC,GAGjCJ,I,+BAgEC,IAAD,EAQH75C,KAAK2U,MANP4lC,EAFK,EAELA,UACA3rC,EAHK,EAGLA,WACAV,EAJK,EAILA,aACAwwC,EALK,EAKLA,uBACAC,EANK,EAMLA,cACYjvC,EAPP,EAOLiC,SAAYjC,SAGd,OACE,oCACE,uCACE2B,GAAG,gBACH0J,IAAK/a,KAAKk+C,aACV52C,MAAO,CAAEykC,UAAW,OAAQzvB,SAAU,YACtCwhC,aAAc99C,KAAKy9C,WACnBM,aAAc/9C,KAAK29C,WACnBiB,uBAAqB,IACrBpvC,UAAWgL,aAAK,gBAAiBkkC,IAC7BC,GAEH3+C,KAAK2U,MAAMkqC,yBACV,yBAAKrvC,UAAU,kBACb,kBAAC,QAAD,CAAM4pB,GAAG,IACP,yBAAKlN,IAAI,OAAO1F,IAAKxmB,KAAK2U,MAAMmqC,eAItC,wBAAItvC,UAAWgL,aAAK,eAAgB+/B,IAClC,kBAAC,GAAD,CACExC,WAAYroC,EACZd,WAAYA,EACZV,aAAcA,S,iCA7FxB,OAAOlO,KAAK2U,MAAMhD,SAASjC,SAAS0Q,MAAM,QAAQ,O,GAnE9BvF,IAAMM,WA4Lfye,gBAAWuc,cAnBF,SAAAxoC,GAAK,MAAK,CAChCiB,WAAYjB,EAAME,QAAQe,WAC1BV,aAAcP,EAAME,QAAQK,aAC5B4wC,WAAYjxC,GAAkBO,QAAQT,GACtCgxC,cAAe9wC,GAAkBG,cAAcL,EAAO,CAAEG,KAAM,eAC9D+wC,yBAC+D,IAA7DhxC,GAAkBI,UAAUN,EAAO,sBAErC4sC,UAAW1sC,GAAkBH,WAAWC,EAAO,CAC7CG,KAAM,iBACNC,UAAU,IAGZ2wC,uBAAwB7wC,GAAkBH,WAAWC,EAAO,CAC1DG,KAAM,aACNC,UAAU,OAIYooC,CAAyB8H,KChM7CA,G,8MACJc,kBAAoBlkC,IAAM8S,Y,qFAIJ,IAAIgsB,KACtB35C,KAAK++C,kBAAkBnhC,QACvB5d,KAAK2U,MAAMqqC,qB,+BAKb,OACE,oCACE,4BAAQxvC,UAAU,iBAAiB6B,GAAG,sBACpC,uBAAG7B,UAAU,iBAEf,yBACE6B,GAAG,WACH0J,IAAK/a,KAAK++C,kBACVvvC,UAAS,mBAAcxP,KAAK2U,MAAM+pC,uBAAzB,iEAET,kBAAC,GAAD,MACA,yBACErtC,GAAG,wBACH7B,UAAU,4DAEV,kBAAC4xB,GAAD,a,GA3BYvmB,IAAMM,WAqDfg7B,iBAlBS,SAAAxoC,GAAK,MAAK,CAChCkxC,yBAC+D,IAA7DhxC,GAAkBI,UAAUN,EAAO,sBACrC+wC,uBAAwB7wC,GAAkBH,WAAWC,EAAO,CAC1DG,KAAM,QACNC,UAAU,IAEZixC,kBAAmB,CACjB5F,UAAW,WACXD,SAAS,EACTE,QAAS,qBACTC,SAAU,CACRn5B,OAAQ,0BACRnb,MAAO,iDAKEmxC,CAAyB8H,ICxDlCzkB,G,sLAEF,IAAMuiB,GAAQ,IAAI/rC,MAAO6rB,cACzB,OACE,yBACErsB,UAAS,oBAAexP,KAAK2U,MAAMsqC,cAA1B,gEACT5tC,GAAG,aAEH,yBAAK7B,UAAS,uBAAkBxP,KAAK2U,MAAMuqC,yBACzC,yBAAK1vC,UAAU,wBACZusC,EAAMhuC,WADT,eAEE,uBACE8R,KAAK,uBACLM,OAAO,SACPY,IAAI,sBACJvR,UAAU,IAJZ,kB,GAXSqL,IAAMM,WA+DZg7B,iBAXS,SAAAxoC,GAAK,MAAK,CAChCsxC,cAAepxC,GAAkBH,WAAWC,EAAO,CACjDG,KAAM,SACNC,UAAU,IAEZmxC,uBAAwBrxC,GAAkBH,WAAWC,EAAO,CAC1DG,KAAM,mBACNC,UAAU,OAICooC,CAAyB3c,I,UChEnB2lB,G,8MACnBC,mBAAqBvkC,IAAM8S,Y,qFAQzB,IAAI0xB,KAAYr/C,KAAKo/C,mBAAmBxhC,QALf,CACvB0hC,OAAQ,IACRC,MAAO,Q,+BAOT,OACE,yBACEluC,GAAG,eACH7B,UAAU,eACVuL,IAAK/a,KAAKo/C,oBAEV,uBAAG5vC,UAAU,wB,GAnBkBqL,IAAMM,WCExBqkC,G,sLAEjB,OACE,oCACE,wBAAIhwC,UAAU,oBAAoBlI,MAAO,CAAEk4B,UAAW,SAEpD,kBAAC+b,GAAA,EAAD,CACE35B,UAAU,OACVu3B,QAAS,kBAAC,KAAD,CAAS9nC,GAAG,kBAAZ,mBAET,wBACE7B,UAAU,yDACVgsC,iBAAe,QAEf,kBAAC,QAAD,CAAMpiB,GAAG,YACP,uBAAG5pB,UAAU,sBAKnB,kBAAC+rC,GAAA,EAAD,CACE35B,UAAU,OACVu3B,QAAS,kBAAC,KAAD,CAAS9nC,GAAG,0BAAZ,kBAET,wBACE7B,UAAU,2DACVgsC,iBAAe,QAEf,uBACEr7B,OAAO,SACPY,IAAI,sBACJlB,KAAK,8CAEL,uBAAGrQ,UAAU,qC,GAjCcqL,IAAMM,WCH5BskC,G,oGAUTvxC,GACRlO,KAAKqJ,OAAS6E,EAGdlO,KAAKqjB,QAAU,CACb9c,OAAQ,GACRm5C,iBAAkB,GAClBC,cAAe,GACfC,YAAa,GACbp4C,MAAO,GACPq4C,WAAY,GACZz4C,UAAW,GACX04C,oBAAqB,GACrBv4C,QAAS,GACTw4C,kBAAmB,GACnBC,iBAAkB,IAGpBhgD,KAAKigD,WAAa,CAChBJ,WAAY,GACZF,cAAe,GACfC,YAAa,IAIf5/C,KAAKkgD,aACLlgD,KAAKmgD,aAMLngD,KAAKogD,aACLpgD,KAAKqgD,gBAELrgD,KAAKsgD,cAELtgD,KAAKugD,YAGLvgD,KAAKwgD,e,iCASI1yC,EAAMC,GACf,GAAID,EAAM,CACR,IAAMuV,EAAUlV,IAAWhO,IAAIH,KAAKqjB,QAASvV,IAAS,GACtD,OAAIC,GAAY4C,MAAMC,QAAQyS,GACrBA,EAAQjP,KAAK,KAEfiP,EAAQtV,WAEjB,OAAO/N,KAAKqjB,U,oCAGAvV,GACZ,OAAIA,GACiBK,IAAWhO,IAAIH,KAAKigD,WAAYnyC,IAG9C,K,kCAIP,MAAmD,UAA/CK,IAAWhO,IAAIH,KAAKqJ,OAAQ,eACvB,QAGF,Y,mCAOH8E,IAAWzN,IAAIV,KAAKqJ,OAAQ,gCAC9B6I,SAAS0iB,KAAKttB,MAAMysC,gBAClB,QACA5lC,IAAWhO,IAAIH,KAAKqJ,OAAQ,8BAC5B,MAGJ,IAAMo3C,EAAiBtyC,IAAWhO,IAAIH,KAAKqJ,OAAQ,mBAC/Co3C,GACkBA,EAAe1yC,WAAWqS,MAAM,KACxC8kB,SAAQ,SAAA8J,GAAQ,OAAI98B,SAAS0iB,KAAKxiB,UAAUE,IAAI08B,MAI9D98B,SAAS0iB,KAAKxiB,UAAUE,IAAI,yBAC5BJ,SAAS0iB,KAAKxiB,UAAUE,IAAI,wBAC5BJ,SAAS0iB,KAAKxiB,UAAUE,IAAI,+B,yEAaxBnE,IAAWhO,IAAIH,KAAKqJ,OAAQ,8BAC9B6I,SAAS0iB,KAAKxiB,UAAUE,IAAI,oBAC5BnE,IAAWpK,KAAK/D,KAAKqjB,QAAS,SAAU,qBAExCnR,SAAS0iB,KAAKxiB,UAAUE,IAAI,qBAG1BnE,IAAWhO,IAAIH,KAAKqJ,OAAQ,8BAC9B6I,SAAS0iB,KAAKxiB,UAAUE,IAAI,2BAC5BnE,IAAWpK,KAAK/D,KAAKqjB,QAAS,gBAAiB,4BAGQ,UAArDlV,IAAWhO,IAAIH,KAAKqJ,OAAQ,sBAC9B8E,IAAWpK,KAAK/D,KAAKqjB,QAAS,mBAAoB,uBAGpD,IAAMq9B,EAA2BvyC,IAAWhO,IAC1CH,KAAKqJ,OACL,2BAEEq3C,GACFvyC,IAAWpK,KACT/D,KAAKqjB,QACL,cACA,0BAA4Bq9B,K,sCAW9BvyC,IAAWhO,IAAIH,KAAKqJ,OAAQ,oBAC5B8E,IAAWhO,IAAIH,KAAKqJ,OAAQ,8BAE5B6I,SAAS0iB,KAAKxiB,UAAUE,IAAI,uBAG1BnE,IAAWhO,IAAIH,KAAKqJ,OAAQ,sBAC9B6I,SAAS0iB,KAAKxiB,UAAUE,IAAI,yBAG1BnE,IAAWzN,IAAIV,KAAKqJ,OAAQ,oBAC9B6I,SAAS0iB,KAAKxiB,UAAUE,IACtB,iBAAmBnE,IAAWhO,IAAIH,KAAKqJ,OAAQ,oBAII,UAAnD8E,IAAWhO,IAAIH,KAAKqJ,OAAQ,oBAC9B8E,IAAWpK,KACT/D,KAAKqjB,QACL,sBACA,uBAIAlV,IAAWhO,IAAIH,KAAKqJ,OAAQ,oBAC9B8E,IAAWpK,KAAK/D,KAAKqjB,QAAS,YAAa,yB,oCAQzClV,IAAWhO,IAAIH,KAAKqJ,OAAQ,oBAC9B8E,IAAWpK,KAAK/D,KAAKqjB,QAAS,UAAW,uBAGvClV,IAAWhO,IAAIH,KAAKqJ,OAAQ,uBAC9B8E,IAAWpK,KAAK/D,KAAKqjB,QAAS,UAAW,0BAGU,UAAjDlV,IAAWhO,IAAIH,KAAKqJ,OAAQ,kBAC9B8E,IAAWpK,KAAK/D,KAAKqjB,QAAS,oBAAqB,yB,kCAQrD,IAA0D,IAAtDlV,IAAWhO,IAAIH,KAAKqJ,OAAQ,sBAAhC,CAIA6I,SAAS0iB,KAAKxiB,UAAUE,IAAI,qBAGxBnE,IAAWhO,IAAIH,KAAKqJ,OAAQ,qBAC9B6I,SAAS0iB,KAAKxiB,UAAUE,IAAI,mBAC5BnE,IAAWpK,KAAK/D,KAAKqjB,QAAS,QAAS,oBAEvCnR,SAAS0iB,KAAKxiB,UAAUE,IAAI,oBAK6B,SAAvDnE,IAAWhO,IAAIH,KAAKqJ,OAAQ,wBAC9B8E,IAAWpK,KAAK/D,KAAKqjB,QAAS,aAAc,2BAC5CnR,SAAS0iB,KAAKxiB,UAAUE,IAAI,2BAC5BtS,KAAKigD,WAAWJ,WAAW,wBAA0B,IACrD7/C,KAAKigD,WAAWJ,WAAW,sBAAwB,KAEnD7/C,KAAKigD,WAAWJ,WAAW,sBAAwB,IAGrD,IAAMc,EAA4BxyC,IAAWhO,IAC3CH,KAAKqJ,OACL,6CAEEs3C,IACF3gD,KAAKigD,WAAWJ,WACd,gCACEc,M,mCASFxyC,IAAWhO,IAAIH,KAAKqJ,OAAQ,sBAC9B6I,SAAS0iB,KAAKxiB,UAAUE,IAAI,oBAG2B,UAArDnE,IAAWhO,IAAIH,KAAKqJ,OAAQ,sBAC9B8E,IAAWpK,KAAK/D,KAAKqjB,QAAS,mBAAoB,2B,KCzNxD,IAOe8yB,iBAPS,SAAAxoC,GAAK,MAAK,CAChCizC,wBAAyB/yC,GAAkBH,WAAWC,EAAO,CAC3DG,KAAM,oBACNC,UAAU,OAICooC,EArCf,YAA2D,IAAtC1kC,EAAqC,EAArCA,SAAUmvC,EAA2B,EAA3BA,wBACvBltB,EAAQmtB,gBAAmB,GADuB,EAGV3oC,mBAAS,CACrD,0BACA,eACA0oC,EAAwBxgC,MAAM,KAC9B,qCALwB,qCAF8B,oBAGjD0gC,EAHiD,KAGhCC,EAHgC,KA2BxD,OAhBAlvC,qBAAU,WAGR,IAAMmvC,EAAW,aAAOF,GAClBG,EAAiBD,EAAY10C,QAAO,SAAAwtB,GAAE,MAbpB,qCAawBA,KAChDinB,EAAmBE,GACnB,IAAMC,EAAYt1C,YAAW,WAC3Bm1C,EAAmBC,KAClB,KAEH,OAAO,WACLxuC,aAAa0uC,MAGd,CAACxtB,EAAMqB,MAEH,yBAAKvlB,UAAWsxC,EAAgB1sC,KAAK,MAAO3C,MC3B/CglC,GAA0B,CAC9BC,WAAY,EACZC,kBAAkB,GAGCwK,G,8MACnBn8C,MAAQ,CAAEo8C,YAAa,iB,EACvBhpC,OAAS,SAAAipC,GACP,EAAK/8B,SAAS,CAAE88B,YAAaC,K,0EAI7B,OACE,yBAAKhwC,GAAG,iBAAiB7B,UAAU,kBACjC,uBACEqQ,KAAK,IACLrQ,UAAU,wBACV6B,GAAG,4BAEH,uBAAG7B,UAAU,sBAEf,kBAAC,KAAIga,UAAL,CAAeC,iBAAkBzpB,KAAKgF,MAAMo8C,aAC1C,yBAAK5xC,UAAU,uBACb,kBAACsa,GAAA,EAAD,CACEw3B,SAAUthD,KAAKoY,OACf5I,UAAU,gHAEV,kBAACsa,GAAA,EAAIC,KAAL,CAAUva,UAAU,YAClB,kBAACsa,GAAA,EAAIE,KAAL,CAAUC,SAAS,gBAAgBza,UAAU,iBAA7C,kBAIF,kBAACsa,GAAA,EAAIC,KAAL,KACE,kBAACD,GAAA,EAAIE,KAAL,CAAUC,SAAS,YAAYza,UAAU,iBAAzC,eAIF,kBAACsa,GAAA,EAAIC,KAAL,KACE,kBAACD,GAAA,EAAIE,KAAL,CAAUC,SAAS,WAAWza,UAAU,iBAAxC,eAMN,yBAAKA,UAAU,2BACb,kBAAC,KAAI0a,QAAL,KACE,kBAAC,KAAIC,KAAL,CAAUF,SAAS,iBACjB,kBAAC,KAAD,CACEnqB,QAAS22C,GACTnvC,MAAO,CACLykC,UAAW,sBACXzvB,SAAU,aAGZ,yBAAK9M,UAAU,mBACb,uBAAGqQ,KAAK,IAAIrQ,UAAU,yBACpB,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,0CAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,+BAGA,yBAAKA,UAAU,8BAAf,eAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,yBACpB,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,mCAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,8BAGA,yBAAKA,UAAU,8BAAf,eAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,yBACpB,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,qCAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,iCAGA,yBAAKA,UAAU,8BAAf,eAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,yBACpB,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,0CAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,8BAGA,yBAAKA,UAAU,8BAAf,eAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,yBACpB,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,iCAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,8BAGA,yBAAKA,UAAU,8BAAf,eAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,yBACpB,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,2CAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,iDAGA,yBAAKA,UAAU,8BAAf,gBAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,yBACpB,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,wCAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,6BAGA,yBAAKA,UAAU,8BAAf,gBAKJ,uBACEqQ,KAAK,IACLrQ,UAAU,qDAEV,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,oCAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,4BAGA,yBAAKA,UAAU,8BAAf,gBAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,yBACpB,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,mCAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,gCAGA,yBAAKA,UAAU,8BAAf,gBAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,yBACpB,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,wCAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,qCAGA,yBAAKA,UAAU,8BAAf,gBAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,yBACpB,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,uCAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,iCAGA,yBAAKA,UAAU,8BAAf,gBAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,yBACpB,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,yCAEf,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,+BAAf,8BAGA,yBAAKA,UAAU,8BAAf,mBAQV,kBAAC,KAAI2a,KAAL,CAAUF,SAAS,aACjB,kBAAC,KAAD,CACEnqB,QAAS22C,GACTnvC,MAAO,CACLykC,UAAW,sBACXzvB,SAAU,aAGZ,yBAAK9M,UAAU,sBACb,uBAAGqQ,KAAK,IAAIrQ,UAAU,4BACpB,yBAAKA,UAAU,iCACb,uBAAGA,UAAU,iCAEf,yBAAKA,UAAU,oCACb,yBAAKA,UAAU,kCAAf,+BAGA,yBAAKA,UAAU,iCAAf,4BAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,4BACpB,yBAAKA,UAAU,iCACb,uBAAGA,UAAU,kCAEf,yBAAKA,UAAU,oCACb,yBAAKA,UAAU,kCAAf,wBAGA,yBAAKA,UAAU,iCAAf,kBAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,4BACpB,yBAAKA,UAAU,iCACb,uBAAGA,UAAU,gCAEf,yBAAKA,UAAU,oCACb,yBAAKA,UAAU,kCAAf,0BAGA,yBAAKA,UAAU,iCAAf,4BAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,4BACpB,yBAAKA,UAAU,iCACb,uBAAGA,UAAU,2CAEf,yBAAKA,UAAU,oCACb,yBAAKA,UAAU,kCAAf,6BAGA,yBAAKA,UAAU,iCAAf,qBAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,4BACpB,yBAAKA,UAAU,iCACb,uBAAGA,UAAU,4CAEf,yBAAKA,UAAU,oCACb,yBAAKA,UAAU,kCAAf,8BAGA,yBAAKA,UAAU,iCAAf,sBAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,4BACpB,yBAAKA,UAAU,iCACb,uBAAGA,UAAU,0CAEf,yBAAKA,UAAU,oCACb,yBAAKA,UAAU,kCAAf,2BAGA,yBAAKA,UAAU,iCAAf,iBAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,4BACpB,yBAAKA,UAAU,iCACb,uBAAGA,UAAU,oCAEf,yBAAKA,UAAU,oCACb,yBAAKA,UAAU,kCAAf,oCAGA,yBAAKA,UAAU,iCAAf,sBAKJ,uBAAGqQ,KAAK,IAAIrQ,UAAU,4BACpB,yBAAKA,UAAU,iCACb,uBAAGA,UAAU,6CAEf,yBAAKA,UAAU,oCACb,yBAAKA,UAAU,kCAAf,8BAGA,yBAAKA,UAAU,iCAAf,yBAQV,kBAAC,KAAI2a,KAAL,CAAUF,SAAS,YACjB,kBAAC,KAAD,CACEnqB,QAAS22C,GACTnvC,MAAO,CACLykC,UAAW,sBACXzvB,SAAU,aAGZ,yBAAK9M,UAAU,qCACb,0BAAMA,UAAU,WACd,yBAAKA,UAAU,kDAAf,iBAGA,yBAAKA,UAAU,gCACb,2BAAOA,UAAU,wBAAjB,yBAGA,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,8CACd,+BACE,2BACEtK,KAAK,WACL1B,KAAK,gCAEP,mCAKR,yBAAKgM,UAAU,gCACb,2BAAOA,UAAU,wBAAjB,yBAGA,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,8CACd,+BACE,2BACEtK,KAAK,WACL1B,KAAK,gCAEP,mCAKR,yBAAKgM,UAAU,gDACb,2BAAOA,UAAU,wBAAjB,mBAGA,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,8CACd,+BACE,2BACEtK,KAAK,WACL1B,KAAK,gCAEP,mCAKR,yBAAKgM,UAAU,oEACf,yBAAKA,UAAU,kDAAf,WAGA,yBAAKA,UAAU,gCACb,2BAAOA,UAAU,wBAAjB,qBAGA,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,6CACd,+BACE,2BACEtK,KAAK,WACL1B,KAAK,gCAEP,mCAKR,yBAAKgM,UAAU,gCACb,2BAAOA,UAAU,wBAAjB,yBAGA,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,6CACd,+BACE,2BACEtK,KAAK,WACL1B,KAAK,gCAEP,mCAKR,yBAAKgM,UAAU,gDACb,2BAAOA,UAAU,wBAAjB,0BAGA,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,6CACd,+BACE,2BACEtK,KAAK,WACL1B,KAAK,gCAEP,mCAKR,yBAAKgM,UAAU,oEACf,yBAAKA,UAAU,kDAAf,WAGA,yBAAKA,UAAU,gCACb,2BAAOA,UAAU,wBAAjB,yBAGA,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,4CACd,+BACE,2BACEtK,KAAK,WACL1B,KAAK,gCAEP,mCAKR,yBAAKgM,UAAU,gCACb,2BAAOA,UAAU,wBAAjB,yBAGA,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,4CACd,+BACE,2BACEtK,KAAK,WACL1B,KAAK,gCAEP,mCAKR,yBAAKgM,UAAU,gDACb,2BAAOA,UAAU,wBAAjB,2BAGA,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,4CACd,+BACE,2BACEtK,KAAK,WACL1B,KAAK,gCAEP,+C,GAxeUqX,IAAMM,WCSxClI,I,QAAmB,IAAIsuC,IA6E7B,IAQe3nB,gBAAWuc,cARF,SAAC,EAA+BxhC,GAAhC,IAAczG,EAAd,EAAGL,QAAWK,aAAd,MAA2C,CACjEumC,UAAY9/B,EACZzG,eACAszC,WAAYrzC,IAAWhO,IAAI+N,EAAc,eACzCouC,aAAcnuC,IAAWhO,IAAI+N,EAAc,sBAC3CuzC,kBAAkB,KAGMtL,EAnF1B,YAOI,IANF1B,EAMC,EANDA,UACAhjC,EAKC,EALDA,SACA6qC,EAIC,EAJDA,aACAmF,EAGC,EAHDA,iBACAD,EAEC,EAFDA,WACAtzC,EACC,EADDA,aAEA+E,GAAiByuC,UAAUxzC,GAE3BoJ,OAAOqqC,SAAS,EAAG,GAEnB,IAAMC,EAAoB3uC,GAAiBoQ,QAAQ9b,QAAQ6M,KAAK,KAEhE,MAAsB,UAAfotC,EACL,kBAACxuC,GAAD,CACE4lB,OAAQ,GACRhqB,WAAYC,GACZX,aAAcrG,EACdoL,iBAAkBA,IAGlB,kBAAC,GAAD,MAGA,yBAAKzD,UAAU,sCAEb,yBAAKA,UAAU,mEAEZ8sC,GACC,oCACE,kBAAC,GAAD,OAIJ,yBACE9sC,UAAU,qEACV6B,GAAG,cAIH,kBAAC,GAAD,CAAQojC,UAAWA,IAInB,yBACEpjC,GAAG,aACH7B,UAAS,qBAAgBoyC,EAAhB,6DAGRH,GAAoB,kBAAC,GAAD,MAIrB,kBAAC,GAAD,KAAYhwC,IAId,kBAAC,GAAD,SAKN,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,OAIF,yBAAKjC,UAAU,8CACb,kBAAC,GAAD,KAAYiC,Q,8BCiGHowC,aACb1L,aACE,KACAh/B,GAFFg/B,EAlLF,SAAexhC,GAAQ,IACbmtC,EAASntC,EAATmtC,KADY,EAEU5pC,oBAAS,GAFnB,oBAEb4M,EAFa,KAEJi9B,EAFI,OAGgC7pC,mBAAS,CAC3DM,aAAc,WAJI,oBAGbwpC,EAHa,KAGOC,EAHP,KAOpBpnC,IAAMhJ,WAAU,eAKhB,IAKMqwC,EAAiB,WACrBH,GAAW,GACXE,EAAsB,CAAEzpC,aAAc,YAGxC,OACE,oCACE,yBAAKhJ,UAAU,kBACb,0BAAMA,UAAU,0BAAhB,8BADF,WAKE,kBAAC,QAAD,CAAM4pB,GAAI,0BAAmC5pB,UAAU,iCAAvD,aAKF,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mBACb,4BAEE,kBAAC,KAAD,CAAkB6B,GAAG,uBAIzB,kBAAC,KAAD,CACE6H,cAAe,CACb4zB,MAAO,iBACPqV,SAAU,QAEZC,SAAU,SAAA9oC,GACR,IAAM8Z,EAAS,GAqBf,OAnBK9Z,EAAOwzB,MAMT,2CAA2CuV,KAAK/oC,EAAOwzB,SAExD1Z,EAAO0Z,MAAQgV,EAAKQ,cAAc,CAChCjxC,GAAI,mCAPN+hB,EAAO0Z,MAAQgV,EAAKQ,cAAc,CAChCjxC,GAAI,mCAUHiI,EAAO6oC,WACV/uB,EAAO+uB,SAAWL,EAAKQ,cAAc,CACnCjxC,GAAI,oCAID+hB,GAET/Z,SAAU,SAACC,EAAD,GAA2C,IAAhCipC,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,cA3DxCT,GAAW,GACXE,EAAsB,CAAEzpC,aAAc,WA4D5B5M,YAAW,W7GzElB,IAAekhC,EAAOqV,GAAPrV,E6G0EAxzB,EAAOwzB,M7G1EAqV,E6G0EO7oC,EAAO6oC,S7GzElC74C,IAAMS,KAAK9B,GAVK,QAUc,CAAE6kC,QAAOqV,c6G0E7B54C,MAAK,YAA0B,IAAff,EAAc,EAAtB/H,KAAQ+H,MACf05C,IACAvtC,EAAM2B,MAAM9N,MAEbmgB,OAAM,WACLu5B,IACAM,GAAc,GACdD,EACET,EAAKQ,cAAc,CACjBjxC,GAAI,wCAIX,QAGJ,gBACCiI,EADD,EACCA,OACAuR,EAFD,EAECA,OACAuI,EAHD,EAGCA,OACAqvB,EAJD,EAICA,QACA/oC,EALD,EAKCA,aACAC,EAND,EAMCA,WACAF,EAPD,EAOCA,aACAipC,EARD,EAQCA,aARD,OAUC,0BACEvsB,YAAY,EACZwsB,aAAa,MACbnzC,UAAU,UACV6J,SAAUI,GAEToR,EACC,yBAAK+3B,KAAK,QAAQpzC,UAAU,sBAC1B,yBAAKA,UAAU,cAAcqb,IAG7B,8BAGJ,yBAAKrb,UAAU,cACb,kBAACqzC,GAAA,EAAD,CACE39C,KAAK,QACLgB,MAAM,QACNqyB,OAAO,SACP/oB,UAAU,gBACVhM,KAAK,QACL4W,OAAQT,EACRI,SAAUL,EACV3Q,MAAOuQ,EAAOwzB,MACdgW,WAAYL,EAAQ3V,OAAS1Z,EAAO0Z,MACpCp4B,MAAO0hC,QAAQqM,EAAQ3V,OAAS1Z,EAAO0Z,UAI3C,yBAAKt9B,UAAU,cACb,kBAACqzC,GAAA,EAAD,CACE39C,KAAK,WACLqzB,OAAO,SACPryB,MAAM,WACNsJ,UAAU,gBACVhM,KAAK,WACL4W,OAAQT,EACRI,SAAUL,EACV3Q,MAAOuQ,EAAO6oC,SACdW,WAAYL,EAAQN,UAAY/uB,EAAO+uB,SACvCztC,MAAO0hC,QAAQqM,EAAQN,UAAY/uB,EAAO+uB,aAI9C,yBAAK3yC,UAAU,qBACb,kBAAC,QAAD,CACE4pB,GAAI,6BACJ5pB,UAAU,iCAEV,kBAAC,KAAD,CAAkB6B,GAAG,gCAGvB,4BACEA,GAAG,yBACHnM,KAAK,SACLyyB,SAAU+qB,EACVlzC,UAAS,4DAAuDgL,aAC9D,CACE,gEAAiEsK,KAGrExd,MAAO06C,GATT,uBCgFHH,aACb1L,aACE,KACAh/B,GAFFg/B,EA5OF,SAAsBxhC,GAAQ,IACpBmtC,EAASntC,EAATmtC,KAER,OACE,yBAAKtyC,UAAU,kBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mBACb,4BACE,kBAAC,KAAD,CAAkB6B,GAAG,0BAIzB,kBAAC,KAAD,CACE6H,cAAe,CACb4zB,MAAO,GACPiW,SAAU,GACVpS,SAAU,GACVwR,SAAU,GACVa,aAAa,EACbC,gBAAiB,IAEnBb,SAAU,SAAA9oC,GACR,IAAM8Z,EAAS,GA6Cf,OA3CK9Z,EAAOwzB,MAKT,2CAA2CuV,KAAK/oC,EAAOwzB,SAExD1Z,EAAO0Z,MAAQgV,EAAKQ,cAAc,CAChCjxC,GAAI,mCAPN+hB,EAAO0Z,MAAQgV,EAAKQ,cAAc,CAChCjxC,GAAI,mCAUHiI,EAAOypC,WACV3vB,EAAO2vB,SAAWjB,EAAKQ,cAAc,CACnCjxC,GAAI,oCAIHiI,EAAOq3B,WACVvd,EAAOud,SAAWmR,EAAKQ,cAAc,CACnCjxC,GAAI,oCAIHiI,EAAO6oC,WACV/uB,EAAO+uB,SAAWL,EAAKQ,cAAc,CACnCjxC,GAAI,oCAIHiI,EAAO2pC,gBAID3pC,EAAO6oC,WAAa7oC,EAAO2pC,kBACpC7vB,EAAO6vB,gBACL,+CALF7vB,EAAO6vB,gBAAkBnB,EAAKQ,cAAc,CAC1CjxC,GAAI,mCAOHiI,EAAO0pC,cACV5vB,EAAO4vB,YAAc,gBAGhB5vB,GAET/Z,SAAU,SAACC,EAAD,GAA2C,I9G/DtCwzB,EAAOiW,EAAUpS,EAAUwR,E8G+DrBI,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,e9G/DjB1V,E8GiEXxzB,EAAOwzB,M9GjEWiW,E8GkElBzpC,EAAOypC,S9GlEqBpS,E8GmE5Br3B,EAAOq3B,S9GnE+BwR,E8GoEtC7oC,EAAO6oC,S9GnEZ74C,IAAMS,KAZa,WAYM,CAAE+iC,QAAOiW,WAAUpS,WAAUwR,c8GqEhD54C,MAAK,YAAgC,IAArB25C,EAAoB,EAA5BziD,KAAQyiD,YACfvuC,EAAM4B,SAAS2sC,MAEhBv6B,OAAM,WACL65B,GAAc,GACdD,EACET,EAAKQ,cAAc,CACjBjxC,GAAI,yCAMb,gBACCiI,EADD,EACCA,OACAuR,EAFD,EAECA,OACAuI,EAHD,EAGCA,OACAqvB,EAJD,EAICA,QACA/oC,EALD,EAKCA,aACAC,EAND,EAMCA,WACAF,EAPD,EAOCA,aACAipC,EARD,EAQCA,aARD,OAUC,0BAAMrpC,SAAUI,EAAc0c,YAAU,EAACwsB,aAAa,OACnD93B,GACC,yBAAK+3B,KAAK,QAAQpzC,UAAU,sBAC1B,yBAAKA,UAAU,cAAcqb,IAIjC,yBAAKrb,UAAU,mBACb,kBAACqzC,GAAA,EAAD,CACEtqB,OAAO,SACPryB,MAAM,WACNsJ,UAAU,gBACVhM,KAAK,WACL4W,OAAQT,EACRI,SAAUL,EACV3Q,MAAOuQ,EAAOypC,SACdD,WAAYL,EAAQM,UAAY3vB,EAAO2vB,SACvCruC,MAAO0hC,QAAQqM,EAAQM,UAAY3vB,EAAO2vB,aAI9C,yBAAKvzC,UAAU,mBACb,kBAACqzC,GAAA,EAAD,CACE38C,MAAM,QACNqyB,OAAO,SACP/oB,UAAU,gBACVhM,KAAK,QACL4W,OAAQT,EACRI,SAAUL,EACV3Q,MAAOuQ,EAAOwzB,MACdgW,WAAYL,EAAQ3V,OAAS1Z,EAAO0Z,MACpCp4B,MAAO0hC,QAAQqM,EAAQ3V,OAAS1Z,EAAO0Z,UAI3C,yBAAKt9B,UAAU,mBACb,kBAACqzC,GAAA,EAAD,CACEtqB,OAAO,SACPryB,MAAM,WACNsJ,UAAU,gBACVhM,KAAK,WACL4W,OAAQT,EACRI,SAAUL,EACV3Q,MAAOuQ,EAAOq3B,SACdmS,WAAYL,EAAQ9R,UAAYvd,EAAOud,SACvCj8B,MAAO0hC,QAAQqM,EAAQ9R,UAAYvd,EAAOud,aAI9C,yBAAKnhC,UAAU,mBACb,kBAACqzC,GAAA,EAAD,CACE39C,KAAK,WACLqzB,OAAO,SACPryB,MAAM,WACNsJ,UAAU,gBACVhM,KAAK,WACL4W,OAAQT,EACRI,SAAUL,EACV3Q,MAAOuQ,EAAO6oC,SACdW,WAAYL,EAAQN,UAAY/uB,EAAO+uB,SACvCztC,MAAO0hC,QAAQqM,EAAQN,UAAY/uB,EAAO+uB,aAI9C,yBAAK3yC,UAAU,cACb,kBAACqzC,GAAA,EAAD,CACE39C,KAAK,WACLqzB,OAAO,SACPryB,MAAM,mBACNsJ,UAAU,gBACVhM,KAAK,kBACL4W,OAAQT,EACRI,SAAUL,EACV3Q,MAAOuQ,EAAO2pC,gBACdH,WAAYL,EAAQQ,iBAAmB7vB,EAAO6vB,gBAC9CvuC,MAAO0hC,QACLqM,EAAQQ,iBAAmB7vB,EAAO6vB,oBAKxC,yBAAKzzC,UAAU,mBACb,kBAACsoB,GAAA,EAAD,CACE5xB,MACE,kDACc,IACZ,kBAAC,QAAD,CACEkzB,GAAI,cACJjZ,OAAO,SACPY,IAAI,uBAHN,uBASJgX,QACE,kBAACC,GAAA,EAAD,CACEpZ,MAAM,UACNpb,KAAK,cACL4W,OAAQT,EACRI,SAAUL,EACVW,QAASf,EAAO0pC,iBAMxB,yBAAKxzC,UAAU,qBACb,kBAAC,QAAD,CACE4pB,GAAI,6BACJ5pB,UAAU,iCAEV,kBAAC,KAAD,CAAkB6B,GAAG,gCAGvB,kBAAC,QAAD,CAAM+nB,GAAI,cACR,4BAAQl0B,KAAK,SAASsK,UAAU,yDAAhC,SAKF,4BACEmoB,SAAU+qB,IAAiBppC,EAAO0pC,YAClCxzC,UAAU,qDAFZ,qBAeDqyC,IC3OTsB,G,8MACJn+C,MAAQ,CAAEo+C,aAAa,G,0EAEb,IAAD,OACCtB,EAAS9hD,KAAK2U,MAAdmtC,KAGR,OAFwB9hD,KAAKgF,MAArBo+C,YAGC,kBAAC,KAAD,CAAUhqB,GAAI,eAInB,yBAAK5pB,UAAU,mGACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mBACb,4BACE,kBAAC,KAAD,CAAkB6B,GAAG,wBAIzB,kBAAC,KAAD,CACI6H,cAAe,CAAE4zB,MAAO,IACxBsV,SAAU,SAAA9oC,GACR,IAAM8Z,EAAS,GAcf,OAZK9Z,EAAOwzB,MAKP,2CAA2CuV,KAAK/oC,EAAOwzB,SAE1D1Z,EAAO0Z,MAAQgV,EAAKQ,cAAc,CAChCjxC,GAAI,mCAPN+hB,EAAO0Z,MAAQgV,EAAKQ,cAAc,CAChCjxC,GAAI,mCAUD+hB,GAET/Z,SAAU,SAACC,EAAD,GAA2C,I/G9BvCwzB,E+G8BOyV,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,e/G9BlB1V,E+G+BIxzB,EAAOwzB,M/G9BlCxjC,IAAMS,KAAK9B,GAfgB,kBAec,CAAE6kC,W+G+B3BvjC,MAAK,WACJ,EAAK+a,SAAS,CAAE8+B,aAAa,OAE9Bz6B,OAAM,WACL65B,GAAc,GACdD,EACIT,EAAKQ,cACD,CAAEjxC,GAAI,6BACN,CAAE7N,KAAM8V,EAAOwzB,eAMhC,gBACGxzB,EADH,EACGA,OACAuR,EAFH,EAEGA,OACAuI,EAHH,EAGGA,OACAqvB,EAJH,EAIGA,QACA/oC,EALH,EAKGA,aACAC,EANH,EAMGA,WACAF,EAPH,EAOGA,aACAipC,EARH,EAQGA,aARH,OAUG,0BAAMrpC,SAAUI,EAAcjK,UAAU,WACrCqb,GACG,yBAAK+3B,KAAK,QAAQpzC,UAAU,sBAC1B,yBAAKA,UAAU,cAAcqb,IAInC,yBAAKrb,UAAU,cACb,kBAACqzC,GAAA,EAAD,CACI39C,KAAK,QACLgB,MAAM,QACNqyB,OAAO,SACPhB,WAAW,EACX/zB,KAAK,QACL4W,OAAQT,EACRI,SAAUL,EACV3Q,MAAOuQ,EAAOwzB,MACdgW,WAAYL,EAAQ3V,OAAS1Z,EAAO0Z,MACpCp4B,MAAO0hC,QAAQqM,EAAQ3V,OAAS1Z,EAAO0Z,UAI7C,yBAAKt9B,UAAU,qBACb,kBAAC,QAAD,CAAM4pB,GAAI,cACR,4BACIl0B,KAAK,SACLsK,UAAU,yDAFd,SAQF,4BACItK,KAAK,SACLsK,UAAU,oDACVmoB,SAAU+qB,GAHd,sB,GAlGKvnC,aAoHd0mC,aAAW1L,aAAQ,KAAMh/B,GAAdg/B,CAA4BgN,KC0DvCtB,aACb1L,aACE,KACAh/B,GAFFg/B,EA/KF,SAAuBxhC,GAAQ,IACrBmtC,EAASntC,EAATmtC,KADoB,EAEOjnC,IAAM3C,SAAS,gBAFtB,oBAETmrC,GAFS,WAItBC,EAAgB3uC,EAAM+e,MAAMtqB,OAAOk6C,cAEzC,OACE,yBAAK9zC,UAAU,kBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mBACb,4BACE,kBAAC,KAAD,CAAkB6B,GAAG,4BAIzB,kBAAC,KAAD,CACE6H,cAAe,CACb4zB,MAAO,GACPqV,SAAU,GACVc,gBAAiB,IAEnBb,SAAU,SAAA9oC,GACR,IAAM8Z,EAAS,GA6Bf,OA3BK9Z,EAAOwzB,MAKT,2CAA2CuV,KAAK/oC,EAAOwzB,SAExD1Z,EAAO0Z,MAAQgV,EAAKQ,cAAc,CAChCjxC,GAAI,mCAPN+hB,EAAO0Z,MAAQgV,EAAKQ,cAAc,CAChCjxC,GAAI,mCAUHiI,EAAO6oC,WACV/uB,EAAO+uB,SAAWL,EAAKQ,cAAc,CACnCjxC,GAAI,oCAIHiI,EAAO2pC,gBAID3pC,EAAO6oC,WAAa7oC,EAAO2pC,kBACpC7vB,EAAO6vB,gBACL,+CALF7vB,EAAO6vB,gBAAkBnB,EAAKQ,cAAc,CAC1CjxC,GAAI,mCAOD+hB,GAET/Z,SAAU,SAACC,EAAD,GAA2C,IAAhCipC,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,ehHvCnC,SAAsB1V,EAAOqV,EAAUmB,GAC5C,OAAOh6C,IAAMS,KAAK9B,GAlBc,iBAkBc,CAAE6kC,QAAOqV,WAAUmB,mBgHuCvDC,CACEjqC,EAAOwzB,MACPxzB,EAAO6oC,SACPmB,GAEC/5C,MAAK,YAAc,EAAX9I,KACCoF,SAEJw9C,EAAa,iBACbd,EAAUT,EAAKQ,cACX,CAAEjxC,GAAI,sBACN,CAAE7N,KAAM8V,EAAOwzB,SAErBn4B,EAAMnD,QAAQzN,KAAK,sBAGjBs/C,EAAa,gBACbd,EAAUT,EAAKQ,cACX,CAAEjxC,GAAI,oBACN,CAAE7N,KAAM8V,EAAOwzB,aAIxBnkB,OAAM,WACL65B,GAAc,GACdD,EACET,EAAKQ,cAAc,CACjBjxC,GAAI,4BAMb,gBACCiI,EADD,EACCA,OACAuR,EAFD,EAECA,OACAuI,EAHD,EAGCA,OACAqvB,EAJD,EAICA,QACA/oC,EALD,EAKCA,aACAC,EAND,EAMCA,WACAF,EAPD,EAOCA,aACAipC,EARD,EAQCA,aARD,OAUC,0BAAMrpC,SAAUI,EAAc0c,YAAU,EAACwsB,aAAa,OACnD93B,GACC,yBAAK+3B,KAAK,QAAQpzC,UAAU,sBAC1B,yBAAKA,UAAU,cAAcqb,IAKjC,yBAAKrb,UAAU,mBACb,kBAACqzC,GAAA,EAAD,CACE38C,MAAM,QACNqyB,OAAO,SACP/oB,UAAU,gBACVhM,KAAK,QACL4W,OAAQT,EACRI,SAAUL,EACV3Q,MAAOuQ,EAAOwzB,MACdgW,WAAYL,EAAQ3V,OAAS1Z,EAAO0Z,MACpCp4B,MAAO0hC,QAAQqM,EAAQ3V,OAAS1Z,EAAO0Z,UAI3C,yBAAKt9B,UAAU,mBACb,kBAACqzC,GAAA,EAAD,CACE39C,KAAK,WACLqzB,OAAO,SACPryB,MAAM,WACNsJ,UAAU,gBACVhM,KAAK,WACL4W,OAAQT,EACRI,SAAUL,EACV3Q,MAAOuQ,EAAO6oC,SACdW,WAAYL,EAAQN,UAAY/uB,EAAO+uB,SACvCztC,MAAO0hC,QAAQqM,EAAQN,UAAY/uB,EAAO+uB,aAI9C,yBAAK3yC,UAAU,cACb,kBAACqzC,GAAA,EAAD,CACE39C,KAAK,WACLqzB,OAAO,SACPryB,MAAM,mBACNsJ,UAAU,gBACVhM,KAAK,kBACL4W,OAAQT,EACRI,SAAUL,EACV3Q,MAAOuQ,EAAO2pC,gBACdH,WAAYL,EAAQQ,iBAAmB7vB,EAAO6vB,gBAC9CvuC,MAAO0hC,QACLqM,EAAQQ,iBAAmB7vB,EAAO6vB,oBAMxC,yBAAKzzC,UAAU,qBACb,kBAAC,QAAD,CAAM4pB,GAAI,cACR,4BAAQl0B,KAAK,SAASsK,UAAU,yDAAhC,SAKF,4BACEmoB,SAAU+qB,EACVlzC,UAAU,qDAFZ,qBCrJT,IAAMg0C,GAAS5pB,cAAW,YAAkB,IAAfpoB,EAAc,EAAdA,QAEhC4E,GADqBqtC,8BADyB,MAGerwC,cACzD,gBAAG+D,EAAH,EAAGA,KAAH,EAASusC,KAAT,MAA8C,CAC1C90C,WADJ,EAAef,QAAWe,WAEtB+0C,aAA2B,MAAbxsC,EAAKlB,KACnBA,KAAMkB,EAAKlB,KACX2tC,iBAAkBxtC,QAEtBiC,MAPIsrC,EAHsC,EAGtCA,aAAc/0C,EAHwB,EAGxBA,WAAYg1C,EAHY,EAGZA,iBAAkB3tC,EAHN,EAGMA,KAHN,EAab4E,IAAM3C,SAASxO,GAAwB,IAb1B,oBAazCA,EAbyC,KAa7BwwB,EAb6B,KAc9C,OAEI,kBAAC3oB,GAAD,CAAuBC,QAASA,EAAS5C,WAAYA,GACjD,kBAAC,KAAD,KACM+0C,EAME,kBAAC,KAAD,CAAU1O,KAAM,aAAsB7b,GAAIwqB,IAH1CtsC,OAAO3F,SAASssB,OAAhB,UAA0B/1B,6BAA1B,UAMJ,kBAAC,KAAD,CAAO4F,KAAK,SAASgM,UAAWk8B,KAChC,kBAAC,KAAD,CAAOloC,KAAM,eAAwBgM,UAAW+pC,KAE9CF,EAKE,kBAAC,GAAD,KACI,kBAAC7O,GAAD,CAAUprC,WAAYA,EAAYwwB,aAAcA,EAAcjkB,KAAMA,EAAM2tC,iBAAkBA,KAHhGtsC,OAAO3F,SAASssB,OAAhB,UAA0B/1B,6BAA1B,e,InH1COoB,GAAOqE,G,gDAAPrE,GoH4BhBA,IpH5BuBqE,GoH4BhBA,GpH3BhBrE,GAAMw6C,aAAaC,QAAQC,KACzB,SAAA36C,GAAW,IAECT,EACN+E,GAAMs2C,WADR9sC,KAAQvO,UAOV,OAJIA,IACFS,EAAOf,QAAQs+B,cAAf,gBAAwCh+B,IAGnCS,KAET,SAAAgrC,GAAG,OAAI3oC,QAAQw4C,OAAO7P,MoHiB1BlQ,IAASC,OACP,mBC9Ba,YAA8C,IAA/Bz2B,EAA8B,EAA9BA,MAAOkK,EAAuB,EAAvBA,UAAWssC,EAAY,EAAZA,SAC9C,OAEE,kBAAC,KAAD,CAAUx2C,MAAOA,EAAOmX,QAAS,kBAAClS,GAAD,OAE/B,kBAAC,KAAD,CAAaiF,UAAWA,GAEtB,kBAAC,IAAMusC,SAAP,CAAgBrP,SAAU,kBAACniC,GAAD,OAExB,kBAAC,iBAAD,CAAeuxC,SAAUA,GAEvB,kBAAC,wBAAD,KAEE,kBAAC,GAAD,KAEE,kBAACvwC,GAAD,KAEE,kBAAC4vC,GAAD,eDahB,CACE71C,MAAOA,GACPkK,UAAWA,GACXssC,SArBmBj8C,KAuBrBgK,SAASC,eAAe,U,6PEvCbkyC,GAJoBvpC,sBAAW,WAAgBC,GAAhB,IAAGvL,EAAH,EAAGA,UAAH,OAC1C,0BAAMuL,IAAKA,EAAKvL,UAAWgL,YAAK,wBAAyBhL,QAGzBsL,sBAAW,WAA0BC,GAA1B,IAAGvL,EAAH,EAAGA,UAAcmF,EAAjB,oCAE3C,wCACMA,EADN,CAEEoG,IAAKA,EACLvL,UAAWgL,YAAK,yBAA0BhL,UAIjC80C,EAAuBxpC,sBAClC,WAA0BC,GAA1B,IAAGvL,EAAH,EAAGA,UAAcmF,EAAjB,oCACE,yCACMA,EADN,CAEEoG,IAAKA,EACLvL,UAAWgL,YAAK,2BAA4BhL,SAKrC+0C,EAAgBzpC,sBAC3B,WAEEC,GACI,IAFFhO,EAEC,EAFDA,KAAMH,EAEL,EAFKA,MAAOvG,EAEZ,EAFYA,QAASmJ,EAErB,EAFqBA,UAErB,IAFgCg1C,cAEhC,SAFgDC,EAEhD,EAFgDA,SAEhD,6EACmBvsC,mBAAS,IAD5B,mBACIwsC,EADJ,KACSC,EADT,OAEqCzsC,mBAAS,GAF9C,mBAEI0sC,EAFJ,KAEkBC,EAFlB,KAqDH,OAjDAhzC,qBAAU,WAGR,SAASizC,IACPD,EAAgBvtC,OAAOytC,YAKzB,OARAD,IAMAxtC,OAAO0tC,iBAAiB,SAAUF,GAE3B,WACLxtC,OAAO2tC,oBAAoB,SAAUH,OAIzCjzC,qBAAU,WAER,GAAK2yC,GAA2B,IAAjBI,EAAf,CAIA,IAAMM,EAAgBhzC,SAASizC,cAAc,cACvCC,EAAmBlzC,SAASizC,cAAc,iBAC1CE,EAAsBnzC,SAASizC,cAAc,qBAE/CG,EAAgB,EAGkC,QAAlDhuC,OAAOiuC,iBAAiBL,GAAepnC,OACzCwnC,EAAgBD,EAAoBG,aAGhCtzC,SAAS0iB,KAAKxiB,UAAUqhC,SAAS,8BAEnC6R,EAAgB,IAGZpzC,SAAS0iB,KAAKxiB,UAAUqhC,SAAS,sBACnC6R,GAAiBJ,EAAcM,cAG7BtzC,SAAS0iB,KAAKxiB,UAAUqhC,SAAS,yBACnC6R,GAAiBF,EAAiBI,eAKxCb,EAAOW,MACN,CAACd,EAAQI,IAGV,yBACE7pC,IAAKA,EACLvL,UAAU,mBACVlI,MACGk9C,EAEG,CAAEE,MAAKpoC,SAAU,SAAUL,gBAAiB,aAD5CtT,GAII,MAATiE,GACC,yBACEmO,IAAK0pC,EACLj1C,UAAWgL,YAAK,yBAA0BhL,IAEzCzC,EAGgB,kBAAVH,GAAsB64C,qBAAW74C,GACtC,kBAACy3C,EAAD,KAAqBz3C,GAErBA,GAKLvG,MAMIq/C,EAAc5qC,sBACzB,WAAsCC,GAAtC,IAAG4qC,EAAH,EAAGA,IAAK1mC,EAAR,EAAQA,MAAOzP,EAAf,EAAeA,UAAcmF,EAA7B,kDACE,yCACMA,EADN,CAEEoG,IAAKA,EACLvL,UAAWgL,YACT,mBACA,CACE,wBAAyBmrC,EACzB,0BAA2B1mC,GAE7BzP,SAMKo2C,EAAgB9qC,sBAAW,WAA0BC,GAA1B,IAAGvL,EAAH,EAAGA,UAAcmF,EAAjB,oCACtC,yCAASA,EAAT,CAAgBoG,IAAKA,EAAKvL,UAAWgL,YAAK,mBAAoBhL,SAGnDoK,EAAUkB,sBACrB,WAAuCC,GAAvC,IAAG4E,EAAH,EAAGA,YAAanQ,EAAhB,EAAgBA,UAAcmF,EAA9B,kDACE,yCACMA,EADN,CAEEoG,IAAKA,EACLvL,UAAWgL,YACT,aACA,CAAE,2BAA4BmF,GAC9BnQ,U,kCCjJR,uBAIImqC,EAAc,SAAS95C,EAAWC,GAElC,IAAIC,EAAMC,KAINC,EAAUC,IAAOC,IAAIN,GACrB+0B,EAAO10B,IAAOC,IAAI,QAEtB,GAAKF,EAAL,CAKA,IAAIG,EAAiB,GAMjBG,EAAS,CACTC,UAAW,SAASV,GAahB,OAZII,IAAOO,KAAKR,GAASS,IAAI,aACzBX,EAAMG,IAAOO,KAAKR,GAASE,IAAI,cAG/BI,EAAOI,KAAKb,GAGZS,EAAOK,QAEPV,IAAOO,KAAKR,GAASY,IAAI,YAAad,IAGnCA,GAGXY,KAAM,SAASb,GACXC,EAAIe,OAAS,GAGbf,EAAID,QAAUI,IAAOa,WAAW,GAAIX,EAAgBN,GACpDC,EAAIo5C,QAEJp5C,EAAI8lD,UAAY9lD,EAAID,QAAQs5C,UAC5Br5C,EAAI+lD,WAAa/lD,EAAI8lD,UAAY,OACjC9lD,EAAIgmD,aAAehmD,EAAI8lD,UAAY,WAEnC9lD,EAAIiF,MAAQ9E,IAAO8lD,SAAS/lD,EAASF,EAAI+lD,YAAc,QAAU,UAGrEllD,MAAO,WAEH,GAAIb,EAAID,QAAQw5C,SACZ,GAAoC,kBAAzBv5C,EAAID,QAAQw5C,SACnBp5C,IAAO4B,SAAU/B,EAAID,QAAQw5C,SAAU,SAAS,SAASv3C,GACrDA,EAAEC,iBACFzB,EAAO0G,iBAER,GAAIlH,EAAID,QAAQw5C,UAAYv5C,EAAID,QAAQw5C,SAAS,GACpD,GAAIv5C,EAAID,QAAQw5C,SAAS,GAAGn5B,OACxB,IAAK,IAAIhd,KAAKpD,EAAID,QAAQw5C,SACtBp5C,IAAO4B,SAAU/B,EAAID,QAAQw5C,SAASn2C,GAAGgd,OAAQ,SAAS,SAASpe,GAC/DA,EAAEC,iBACFzB,EAAO0G,iBAIf,IAAK,IAAI9D,KAAKpD,EAAID,QAAQw5C,SACtBp5C,IAAO4B,SAAU/B,EAAID,QAAQw5C,SAASn2C,GAAI,SAAS,SAASpB,GACxDA,EAAEC,iBACFzB,EAAO0G,iBAKZlH,EAAID,QAAQw5C,UAAYv5C,EAAID,QAAQw5C,SAASn5B,QACpDjgB,IAAO4B,SAAU/B,EAAID,QAAQw5C,SAASn5B,OAAQ,SAAS,SAASpe,GAC5DA,EAAEC,iBACFzB,EAAO0G,YAMnB,IAAIoyC,EAAUn5C,IAAOC,IAAIJ,EAAID,QAAQu5C,SACjCA,GACAn5C,IAAO4B,SAASu3C,EAAS,SAAS,SAASt3C,GACvCA,EAAEC,iBACFzB,EAAO0lD,WAcnBC,QAAS,SAAS/lC,GACd,MAAqB,SAAbpgB,EAAIiF,OAGhBiC,OAAQ,WACJ1G,EAAOoC,aAAa,UAEH,SAAb5C,EAAIiF,MACJzE,EAAO0lD,KAAKjmD,MAEZO,EAAOuoB,KAAK9oB,OAIpB8oB,KAAM,SAAS3I,GACM,SAAbpgB,EAAIiF,QAIRzE,EAAOoC,aAAa,cAEpBpC,EAAO4lD,aAAahmC,EAAQ,QAG5BjgB,IAAOkmD,SAASxxB,EAAM70B,EAAI+lD,YAC1B5lD,IAAOkmD,SAASnmD,EAASF,EAAI+lD,YAG7B/lD,EAAIiF,MAAQ,QAERjF,EAAID,QAAQq5C,UACZp5C,EAAIo5C,QAAUj5C,IAAOmmD,YAAYn0C,SAAS2V,cAAc,OAAS5nB,GACjEC,IAAOkmD,SAASrmD,EAAIo5C,QAASp5C,EAAIgmD,cACjC7lD,IAAO4B,SAAS/B,EAAIo5C,QAAS,SAAS,SAASp3C,GAC3CA,EAAEkxB,kBACFlxB,EAAEC,iBACFzB,EAAO0lD,KAAK9lC,OAIpB5f,EAAOoC,aAAa,eAGxBsjD,KAAM,SAAS9lC,GACM,UAAbpgB,EAAIiF,QAIRzE,EAAOoC,aAAa,cAEpBpC,EAAO4lD,aAAahmC,EAAQ,QAE5BjgB,IAAOomD,YAAY1xB,EAAM70B,EAAI+lD,YAC7B5lD,IAAOomD,YAAYrmD,EAASF,EAAI+lD,YAEhC/lD,EAAIiF,MAAQ,SAERjF,EAAID,QAAQq5C,SAAWp5C,EAAIo5C,SAC3Bj5C,IAAOmS,OAAOtS,EAAIo5C,SAStB54C,EAAOoC,aAAa,eAGxBwjD,aAAc,SAAShmC,EAAQnD,GAE3B,IACIs8B,EADAjoC,EAAKnR,IAAOgD,KAAKid,EAAQ,MAG7B,GAAIpgB,EAAID,QAAQw5C,UAAYv5C,EAAID,QAAQw5C,SAAS,IAAMv5C,EAAID,QAAQw5C,SAAS,GAAGn5B,OAC3E,IAAK,IAAIhd,KAAKpD,EAAID,QAAQw5C,SAClBv5C,EAAID,QAAQw5C,SAASn2C,GAAGgd,SAAW9O,IACnCioC,EAAWv5C,EAAID,QAAQw5C,SAASn2C,SAGjCpD,EAAID,QAAQw5C,UAAYv5C,EAAID,QAAQw5C,SAASn5B,SACpDm5B,EAAWv5C,EAAID,QAAQw5C,UAG3B,GAAIA,EAAU,CACV,IAAIxf,EAAK55B,IAAOC,IAAIm5C,EAASn5B,QAEhB,SAATnD,GACA9c,IAAOkmD,SAAStsB,EAAIwf,EAASt0C,OAGpB,SAATgY,GACA9c,IAAOomD,YAAYxsB,EAAIwf,EAASt0C,SAK5CrC,aAAc,SAASa,EAAM+iD,GACzB,IAAK,IAAIpjD,EAAI,EAAGA,EAAIpD,EAAIe,OAAOa,OAAQwB,IAAK,CACxC,IAAIO,EAAQ3D,EAAIe,OAAOqC,GACvB,GAAIO,EAAMF,MAAQA,EAAM,CACpB,GAAiB,GAAbE,EAAMC,IAMN,OAAOD,EAAME,QAAQC,KAAK7D,KAAMD,EAAKwmD,GALrC,GAAmB,GAAf7iD,EAAMI,MAEN,OADA/D,EAAIe,OAAOqC,GAAGW,OAAQ,EACfJ,EAAME,QAAQC,KAAK7D,KAAMD,EAAKwmD,MASzDzkD,SAAU,SAAS0B,EAAMI,EAASD,GAC9B5D,EAAIe,OAAOiD,KAAK,CACZP,KAAMA,EACNI,QAASA,EACTD,IAAKA,EACLG,OAAO,MA2CnB,OAnCA/D,EAAIiE,YAAc,SAASlE,GACvBM,EAAiBN,GAGrBC,EAAImmD,QAAU,WACV,OAAO3lD,EAAO2lD,WAGlBnmD,EAAIkmD,KAAO,WACP,OAAO1lD,EAAO0lD,QAGlBlmD,EAAI+oB,KAAO,WACP,OAAOvoB,EAAOuoB,QAGlB/oB,EAAIsC,GAAK,SAASmB,EAAMI,GACpB,OAAOrD,EAAOuB,SAAS0B,EAAMI,IAGjC7D,EAAI4D,IAAM,SAASH,EAAMI,GACrB,OAAOrD,EAAOuB,SAAS0B,EAAMI,GAAS,IAQ1CrD,EAAOC,UAAU8D,MAAMvE,EAAK,CAACD,KAGtB,EAGAC,IAIoD,qBAAnBwE,EAAOC,UAC/CD,EAAOC,QAAUm1C,GAGJA,Q,yFClRXvgC,EAAS0B,sBACb,WAEEC,GACI,IAFFhO,EAEC,EAFDA,KAAMy5C,EAEL,EAFKA,QAASC,EAEd,EAFcA,QAASC,EAEvB,EAFuBA,eAAgBl3C,EAEvC,EAFuCA,UAAWiC,EAElD,EAFkDA,SAAakD,EAE/D,oFACH,OACE,yCACMA,EADN,CAEEoG,IAAKA,EACL6nC,KAAK,QACLpzC,UAAWgL,YAAK,kCAAmChL,KAElDzC,GACC,yBAAKgO,IAAK2rC,EAAgBl3C,UAAU,6BAClC,uBAAGuL,IAAKyrC,EAASh3C,UAAWzC,KAIhC,yBAAKyC,UAAU,aAAauL,IAAK0rC,GAC9Bh1C,OAOI2H,O,kCC7Bf,uBAII+gC,EAAS,SAASt6C,EAAWC,GAE7B,IAAIC,EAAMC,KACNW,GAAO,EAGPV,EAAUC,IAAOC,IAAIN,GACrB+0B,EAAO10B,IAAOC,IAAI,QAEtB,GAAKF,EAAL,CAKA,IAAIG,EAAiB,CAEjBq+C,OAAQ,CACJkI,kBAAkB,GAItBx/C,UAAW,CACP4yC,WAAY,IACZ6M,YAAY,EACZC,gBAAiB,KACjB7M,WAAW,GAIfpyC,SAAU,CACN2K,QAAS,MAQbhS,EAAS,CAKTC,UAAW,SAASV,GAgBhB,OAfII,IAAOO,KAAKR,GAASS,IAAI,QACzBX,EAAMG,IAAOO,KAAKR,GAASE,IAAI,SAG/BI,EAAOI,KAAKb,GAGZS,EAAOsuB,QAGPtuB,EAAOK,QAEPV,IAAOO,KAAKR,GAASY,IAAI,OAAQd,IAG9BA,GAOXY,KAAM,SAASb,GACXC,EAAIe,OAAS,GAEbf,EAAI+mD,cAAgB,GAGpB/mD,EAAID,QAAUI,IAAOa,WAAW,GAAIX,EAAgBN,GAGpDC,EAAIgnD,uBAAyB,EAE7BhnD,EAAIinD,IAAM9mD,IAAO+mD,eAGrBC,OAAQ,SAASpnD,GAEbC,EAAID,QAAUI,IAAOa,WAAW,GAAIX,EAAgBN,GAGpDC,EAAIgnD,uBAAyB,EAG7BxmD,EAAOsuB,QAEP9uB,EAAI+mD,cAAgB,GAGpBvmD,EAAOK,QAEPV,IAAOO,KAAKR,GAASY,IAAI,OAAQd,IAGrCkZ,OAAQ,WAEJ1Y,EAAOsuB,QAGPtuB,EAAOK,QAGPL,EAAO4mD,qBAOXvmD,MAAO,WAEHb,EAAI+mD,cAAJ,QAA+B5mD,IAAOmC,GAAIpC,EAAS,mBAAoB,QAASM,EAAO6mD,yBAGvD,aAA5B7mD,EAAO8mD,kBAAmC9mD,EAAO+mD,kCAEjDvnD,EAAI+mD,cAAJ,QAA+B5mD,IAAOmC,GAAIpC,EAAS,uCAAwC,YAAaM,EAAOgnD,gCAC/GxnD,EAAI+mD,cAAJ,QAA+B5mD,IAAOmC,GAAIpC,EAAS,uCAAwC,WAAYM,EAAOinD,+BAG9GznD,EAAI+mD,cAAJ,QAA+B5mD,IAAOmC,GAAIpC,EAAS,kIAAmI,QAASM,EAAOknD,4BACtM1nD,EAAI+mD,cAAJ,QAA+B5mD,IAAOmC,GAAIpC,EAAS,8HAA+H,QAASM,EAAOmnD,gCAItM3nD,EAAI+mD,cAAJ,QAA+B5mD,IAAOmC,GAAGpC,EAAS,yFAA0F,QAASM,EAAOonD,iBAGxJ5nD,EAAID,QAAQ2+C,QAAU1+C,EAAID,QAAQ2+C,OAAO3gC,QACzCvd,EAAOqnD,cAQf/4B,MAAO,WACH3uB,IAAO2nD,IAAK5nD,EAAS,QAASF,EAAI+mD,cAAJ,SAG9B5mD,IAAO2nD,IAAK5nD,EAAS,YAAaF,EAAI+mD,cAAJ,SAClC5mD,IAAO2nD,IAAK5nD,EAAS,WAAYF,EAAI+mD,cAAJ,SAGjC5mD,IAAO2nD,IAAK5nD,EAAS,QAASF,EAAI+mD,cAAJ,SAC9B5mD,IAAO2nD,IAAK5nD,EAAS,QAASF,EAAI+mD,cAAJ,SAG9B5mD,IAAO2nD,IAAI5nD,EAAS,QAASF,EAAI+mD,cAAJ,UAOjCc,WAAY,WACH7nD,EAAID,QAAQ2+C,QAAU1+C,EAAID,QAAQ2+C,OAAO3gC,QAC1C5d,IAAO4nD,cAAc7nD,GACrBC,IAAO0nD,WAAW3nD,EAAS,CAAC8nD,oBAAoB,EAAMC,cAAc,EAAOC,sBAAsB,EAAMC,oBAAoB,EAAMpqC,OAAQ/d,EAAID,QAAQ2+C,OAAO3gC,OAAQ6oC,iBAAkB5mD,EAAID,QAAQ2+C,OAAOkI,oBAEzMzmD,IAAO4nD,cAAc7nD,IAO7BkoD,aAAc,WACLpoD,EAAID,QAAQ2+C,QAAU1+C,EAAID,QAAQ2+C,OAAO3gC,QAC1C5d,IAAOioD,aAAaloD,IAO5BmoD,UAAW,WACFroD,EAAID,QAAQ2+C,QAAU1+C,EAAID,QAAQ2+C,OAAO3gC,QAC1C5d,IAAOkoD,UAAUnoD,IAQzBonD,eAAgB,SAASvtB,GACrB,OAAK55B,IAAOm+C,oBAAoB,WACxBvkB,GAAM55B,IAAOmoD,QAAQvuB,EAAI,+BAAkF,SAAjD55B,IAAOgD,KAAK42B,EAAI,8BACnE,WAGN55B,IAAOooD,MAAMvoD,EAAID,QAAQoH,QAAS,sBAC9BhH,IAAOqoD,WAAW3zB,EAAM70B,EAAID,QAAQoH,QAAQL,QAAQ7B,MAAM4vB,MACpD70B,EAAID,QAAQoH,QAAQL,QAAQ7B,MAAMgY,KAElCjd,EAAID,QAAQoH,QAAQL,QAAQa,QAE/BxH,IAAOooD,MAAMvoD,EAAID,QAAQoH,QAAS,WACnCnH,EAAID,QAAQoH,QAAQL,aADxB,EAGC3G,IAAOm+C,oBAAoB,WAAan+C,IAAOooD,MAAMvoD,EAAID,QAAQoH,QAAS,UAC3EnH,EAAID,QAAQoH,QAAQ4yC,UACnB55C,IAAOm+C,oBAAoB,YAAan+C,IAAOooD,MAAMvoD,EAAID,QAAQoH,QAAS,YAC3EnH,EAAID,QAAQoH,QAAQJ,QAUnCwgD,6BAA8B,WAC1B,SAAKpnD,IAAOm+C,oBAAoB,aAAcn+C,IAAOooD,MAAMvoD,EAAID,QAAQoH,QAAS,wBAYpFigD,kBAAmB,SAASplD,GACxB,IAAIymD,EAAWtoD,IAAOe,QAAQhB,EAAS,qBACvC,GAAKuoD,EACD,IAAK,IAAIrlD,EAAI,EAAGC,EAAMolD,EAAS7mD,OAAQwB,EAAIC,EAAKD,IAC5CjD,IAAOuoD,IAAID,EAAS,GAAI,UAAW,IACnCtoD,IAAOuoD,IAAID,EAAS,GAAI,WAAY,KAShDjB,+BAAgC,SAASxlD,GACrC,GAAqC,cAAhCxB,EAAO8mD,eAAernD,QAIQ,IAA9BD,EAAI2oD,sBAAT,CAMwC,KAF7B1oD,KAEDk6C,aAAa,gBAFZl6C,KAGF49C,gBAAgB,cACrBprC,aAJOxS,KAIYk6C,aAAa,iBAJzBl6C,KAKF49C,gBAAgB,iBAGzBr9C,EAAOooD,oBARI3oD,QAefwnD,8BAA+B,SAASzlD,GACpC,IAAmC,IAA9BhC,EAAI2oD,uBAI4B,cAAhCnoD,EAAO8mD,eAAernD,MAA3B,CAIA,IAAI6Q,EAAO7Q,KACP4oD,EAAO7oD,EAAID,QAAQ8H,SAAS2K,QAE5BA,EAAU3G,YAAW,WACmB,KAAnCiF,EAAKqpC,aAAa,eACnB35C,EAAOsoD,oBAAoBh4C,GAAM,KAEtC+3C,GAEH/3C,EAAK6sC,aAAa,aAAc,KAChC7sC,EAAK6sC,aAAa,eAAgBnrC,KAOtCk1C,2BAA4B,SAAS1lD,GACjC,GAAqC,cAAhCxB,EAAO8mD,eAAernD,MAA3B,CAIA,IAAI6Q,EAAO7Q,KAAK8oD,QAAQ,kBAE8B,aAAjDj4C,EAAKqpC,aAAa,+BAIgC,IAAlDh6C,IAAO8lD,SAASn1C,EAAM,yBACvB3Q,IAAOkmD,SAASv1C,EAAM,gCACtBtQ,EAAOooD,oBAAoB93C,KAE3B3Q,IAAOomD,YAAYz1C,EAAM,gCACzBtQ,EAAOsoD,oBAAoBh4C,GAAM,IAGrC9O,EAAEC,oBAON0lD,8BAA+B,SAAS3lD,GACpC,GAAoC,cAAhCxB,EAAO8mD,eAAernD,MAA1B,CAIA,IAAI6Q,EAAO7Q,KAAK8oD,QAAQ,kBAE6B,aAAjDj4C,EAAKqpC,aAAa,8BAI+B,GAAjDh6C,IAAO8lD,SAASn1C,EAAM,0BACtB3Q,IAAOkmD,SAASv1C,EAAM,gCACtBtQ,EAAOooD,oBAAoB93C,IAG/B9O,EAAEC,oBAON2lD,gBAAiB,SAAS5lD,GACtB,IAAImF,EAAUlH,KAAK8oD,QAAQ,0CAGZ,IADFvoD,EAAOoC,aAAa,YAAa3C,KAAM+B,IAK/CmF,GAA8C,aAAnC3G,EAAO8mD,eAAengD,IAClC3G,EAAOwoD,wBAQfC,2BAA4B,SAASjnD,EAAG+3B,GAEpC,GAAkC,cAA9Bv5B,EAAO8mD,eAAevtB,GAA1B,CAIA,IAAImvB,EAAQhpD,EAAQipD,iBAAiB,wFAGrC,GAAID,EAAMtnD,OAAS,IAAgD,IAA3CzB,IAAO8lD,SAASlsB,EAAI,oBAAmF,IAAnDA,EAAGovB,iBAAiB,oBAAoBvnD,OAEhH,IAAK,IAAIwB,EAAI,EAAGC,EAAM6lD,EAAMtnD,OAAQwB,EAAIC,EAAKD,IACzC5C,EAAOsoD,oBAAoBI,EAAM,IAAI,KASjD7B,uBAAwB,SAASrlD,EAAG+3B,GAChC,IAAIqvB,EACAt4C,EAAOipB,GAAU95B,KAErB,GAAmC,aAA9BO,EAAO8mD,eAAevtB,KAAuBqvB,EAAQt4C,EAAKi4C,QAAQ,oBACb,aAAlDK,EAAMjP,aAAa,4BACnBn4C,EAAEC,qBAFV,CAOA,IAAIonD,EAAKv4C,EAAKi4C,QAAQ,kBAClB5hD,EAAUhH,IAAO+3C,MAAMmR,EAAI,sCAE/B,IAAIlpD,IAAO8lD,SAASn1C,EAAKi4C,QAAQ,kBAAmB,+BAI/CM,GAAMliD,EAAU,CACjBnF,EAAEC,iBACF,IAAIu9C,EAAQx/C,EAAID,QAAQqH,UAAU4yC,WAGlC,IAAoD,IAA/C75C,IAAO8lD,SAASoD,EAAI,uBAAmC,CAExD,IAAyC,IAApCrpD,EAAID,QAAQqH,UAAU6yC,UAAsB,CAC7C,IAAIqP,EAASx4C,EAAKi4C,QAAQ,mCACtBQ,EAAYppD,IAAOuR,SAAS43C,EAAQ,wHAExC,GAAKA,GAAUC,EACX,IAAK,IAAInmD,EAAI,EAAGC,EAAMkmD,EAAU3nD,OAAQwB,EAAIC,EAAKD,IAAK,CAClD,IAAIomD,EAAMD,EAAU,GAChBE,EAAWtpD,IAAO+3C,MAAMsR,EAAK,qBAC5BC,GACDtpD,IAAOupD,QAAQD,EAAUjK,GAAO,WAC5Bh/C,EAAO4nD,eACPjoD,IAAOomD,YAAYiD,EAAK,2BAO5CrpD,IAAOwpD,UAAUxiD,EAASq4C,GAAO,WAC7Bh/C,EAAOopD,aAAa94C,GACpBtQ,EAAO4nD,eAEP5nD,EAAOoC,aAAa,gBAAiBuE,EAASnF,MAGlD7B,IAAOkmD,SAASgD,EAAI,4BAGpBlpD,IAAOupD,QAAQviD,EAASq4C,GAAO,WAC3Bh/C,EAAOopD,aAAa94C,GACpBtQ,EAAOoC,aAAa,gBAAiBuE,EAASnF,MAGlD7B,IAAOomD,YAAY8C,EAAI,0BASnCO,aAAc,SAAS94C,GAEd3Q,IAAOm+C,oBAAoB,YAAct+C,EAAID,QAAQqH,UAAUy/C,YAA6D,MAA/C3mD,EAAQi6C,aAAa,uBACnGh6C,IAAOyhD,SAAS9wC,EAAM9Q,EAAID,QAAQqH,UAAU0/C,kBAQpDgC,oBAAqB,SAASh4C,EAAM+4C,GAE3BA,IACD1pD,IAAOomD,YAAYz1C,EAAM,wBACzB3Q,IAAOomD,YAAYz1C,EAAM,8BAI7BA,EAAK+sC,gBAAgB,cAEhB/sC,EAAKqpC,aAAa,sCACnBh6C,IAAOomD,YAAY1xB,EAAM/jB,EAAKqpC,aAAa,sCAG/C,IAAI3nC,EAAU1B,EAAKqpC,aAAa,gBAChCrpC,EAAK+sC,gBAAgB,gBACrBprC,aAAaD,IAOjBw2C,qBAAsB,WAClB,IAAIp8C,EACJ,GAAKA,EAAQ1M,EAAQipD,iBAAiB,kHAClC,IAAK,IAAIW,EAAI,EAAGC,EAAMn9C,EAAMhL,OAAQkoD,EAAIC,EAAKD,IACzCtpD,EAAOsoD,oBAAoBl8C,EAAMk9C,IAAI,IASjDlB,oBAAqB,SAAS93C,GAE1B,IAAI3H,EAAOjJ,EAAQipD,iBAAiB,mGAEpC,GAAKhgD,EACD,IAAK,IAAI/F,EAAI,EAAGC,EAAM8F,EAAKvH,OAAQwB,EAAIC,EAAKD,IAAK,CAC7C,IAAI22B,EAAK5wB,EAAK/F,GACT0N,IAASipB,IAA4B,IAAtBA,EAAG2Z,SAAS5iC,KAAyC,IAAtBA,EAAK4iC,SAAS3Z,IAC7Dv5B,EAAOsoD,oBAAoB/uB,GAAI,GAM3C55B,IAAOkmD,SAASv1C,EAAM,wBAEjBA,EAAKqpC,aAAa,sCACnBh6C,IAAOkmD,SAASxxB,EAAM/jB,EAAKqpC,aAAa,uCAQhD6P,kCAAmC,SAASjwB,GACxC,IAAIqvB,EACAa,GAAUb,EAAQjpD,IAAO+3C,MAAMne,EAAI,qBAAuB55B,IAAOuoD,IAAIU,EAAO,WAAa,GAAK,EAE9Fc,EAAU/3C,SAAS2V,cAAc,iIAAmImiC,EAAS,YAEjLp1B,EAAKs1B,YAAYD,GAEjB/pD,IAAO4B,SAASmoD,EAAS,SAAS,SAASloD,GACvCA,EAAEkxB,kBACFlxB,EAAEC,iBACF9B,IAAOmS,OAAOrS,MACdO,EAAOsoD,oBAAoB/uB,GAAI,OAQvCqwB,mBAAoB,SAASvB,GACzB,IAAIttB,EAAO,IAAItrB,KAEfjQ,EAAIgnD,uBAAyBzrB,EAAK8uB,UAAYxB,GAOlDF,oBAAqB,WAGjB,OAFW,IAAI14C,MAEFo6C,UAAYrqD,EAAIgnD,wBAOjCsD,gBAAiB,SAASx5C,GAMtB,IALA,IAAI3H,EACAohD,EAIKnnD,EAAI,EAAGC,GAFhB8F,EAAOjJ,EAAQipD,iBAAiB,2BAELvnD,OAAQwB,EAAIC,EAAKD,IAAK,CAC7C,IAAI22B,EAAK5wB,EAAK,GACdhJ,IAAOomD,YAAYxsB,EAAI,yBACvB55B,IAAO+lD,KAAM/lD,IAAO+3C,MAAMne,EAAI,sBAG9B,IAAK,IAAIywB,EAAK,EAAGC,GAFjBF,EAAUpqD,IAAOoqD,QAAQxwB,EAAI,4BAA8B,IAE3Bn4B,OAAQ4oD,EAAKC,EAAMD,IAAM,CACrD,IAAIhB,EAAMe,EAAQnnD,GAClBjD,IAAOomD,YAAYiD,EAAK,uBACxBrpD,IAAO+lD,KAAM/lD,IAAO+3C,MAAMsR,EAAK,uBAKvC,IAAyC,IAApCxpD,EAAID,QAAQqH,UAAU6yC,YAClB9wC,EAAOjJ,EAAQipD,iBAAiB,yBACjC,IAAS/lD,EAAI,EAAGC,EAAM8F,EAAKvH,OAAQwB,EAAIC,EAAKD,IACxCjD,IAAOomD,YAAYgE,EAAQ,GAAI,wBAU/CG,cAAe,SAAS55C,GAEpBtQ,EAAO8pD,kBAGP,IADA,IAAIC,EAAUpqD,IAAOoqD,QAAQz5C,EAAM,4BAA8B,GACxD1N,EAAI,EAAGC,EAAMknD,EAAQ3oD,OAAQwB,EAAIC,EAAKD,IAC3CjD,IAAOkmD,SAASlmD,IAAOC,IAAImqD,EAAQnnD,IAAK,uBAG5CjD,IAAOkmD,SAASlmD,IAAOC,IAAI0Q,GAAO,0BAOtC65C,eAAgB,SAAS75C,GACrB,IAAIs4C,EACAz4C,EAAc,GACdi6C,EAAOzqD,IAAO+3C,MAAMpnC,EAAM,kBAE9BH,EAAY3M,KAAK,CACb0Y,KAAO0sC,EAAQjpD,IAAO+3C,MAAM0S,EAAM,uBAAyBxB,EAAMyB,UAAY,GAC7Eh+C,MAAO+9C,EAAKzQ,aAAa,SACzBr6B,KAAM8qC,EAAKzQ,aAAa,UAI5B,IADA,IAAIoQ,EAAUpqD,IAAOoqD,QAAQz5C,EAAM,2BAC1B1N,EAAI,EAAGC,EAAMknD,EAAQ3oD,OAAQwB,EAAIC,EAAKD,IAAK,CAChD,IAAI0nD,EAAc3qD,IAAO+3C,MAAMqS,EAAQnnD,GAAI,kBAE3CuN,EAAY3M,KAAK,CACb0Y,KAAO0sC,EAAQjpD,IAAO+3C,MAAM4S,EAAa,uBAAyB1B,EAAMyB,UAAY,GACpFh+C,MAAOi+C,EAAY3Q,aAAa,SAChCr6B,KAAMgrC,EAAY3Q,aAAa,UAIvC,OAAQxpC,EAAYK,WAOxB+5C,aAAc,SAASj6C,GACnB,IAAIs4C,EAEJ,OAAgBjpD,IAAO+3C,MAAMpnC,EAAM,uBAAyBs4C,EAAMyB,UAAY,IAMlFjoD,aAAc,SAASa,EAAM2c,EAAQpe,GACjC,IAAK,IAAIoB,EAAI,EAAGA,EAAIpD,EAAIe,OAAOa,OAAQwB,IAAM,CACzC,IAAIO,EAAQ3D,EAAIe,OAAOqC,GACvB,GAAKO,EAAMF,MAAQA,EAAO,CACtB,GAAkB,GAAbE,EAAMC,IAMP,OAAOD,EAAME,QAAQC,KAAK7D,KAAMmgB,EAAQpe,GALxC,GAAoB,GAAf2B,EAAMI,MAEP,OADA/D,EAAIe,OAAOqC,GAAGW,OAAQ,EACfJ,EAAME,QAAQC,KAAK7D,KAAMmgB,EAAQpe,MAS5DD,SAAU,SAAS0B,EAAMI,EAASD,GAC9B5D,EAAIe,OAAOiD,KAAK,CACZP,KAAMA,EACNI,QAASA,EACTD,IAAKA,EACLG,OAAO,KAIfinD,YAAa,SAASvnD,GACdzD,EAAIe,OAAO0C,WACJzD,EAAIe,OAAO0C,KA2I9B,OA9HAzD,EAAIiE,YAAc,SAASlE,GACvBM,EAAiBN,GAMrBC,EAAIooD,aAAe,WACf,OAAO5nD,EAAO4nD,gBAMlBpoD,EAAIirD,aAAe,WACf,OAAOzqD,EAAOqnD,cAMlB7nD,EAAIqoD,UAAY,WACZ,OAAO7nD,EAAO6nD,aAMlBroD,EAAI0qD,cAAgB,SAAS55C,GACzB,OAAOtQ,EAAOkqD,cAAc55C,IAGhC9Q,EAAIkZ,OAAS,WACT,OAAO1Y,EAAO0Y,UAGlBlZ,EAAImnD,OAAS,SAASpnD,GAClB,OAAOS,EAAO2mD,OAAOpnD,IAMzBC,EAAI2qD,eAAiB,SAAS75C,GAC1B,OAAOtQ,EAAOmqD,eAAe75C,IAMjC9Q,EAAI+qD,aAAe,SAASj6C,GACxB,OAAOtQ,EAAOuqD,aAAaj6C,IAM/B9Q,EAAIsnD,eAAiB,SAASvtB,GAC1B,OAAOv5B,EAAO8mD,eAAevtB,IAOjC/5B,EAAIkrD,aAAe,SAASp6C,GACxBtQ,EAAOsoD,oBAAoBh4C,GAAM,IAOrC9Q,EAAImrD,cAAgB,WAChB3qD,EAAOwoD,wBAOXhpD,EAAIoqD,mBAAqB,SAASvB,GAC9BroD,EAAO4pD,mBAAmBvB,IAO9B7oD,EAAI2oD,oBAAsB,WACtB,OAAOnoD,EAAOmoD,uBAMlB3oD,EAAIsC,GAAK,SAASmB,EAAMI,GACpB,OAAOrD,EAAOuB,SAAS0B,EAAMI,IAGjC7D,EAAI8nD,IAAM,SAASrkD,GACf,OAAOjD,EAAOwqD,YAAYvnD,IAG9BzD,EAAI4D,IAAM,SAASH,EAAMI,GACrB,OAAOrD,EAAOuB,SAAS0B,EAAMI,GAAS,IAQ1CrD,EAAOC,UAAU8D,MAAMvE,EAAK,CAACD,IAG7BI,IAAOirD,kBAAiB,WAChBxqD,GACAZ,EAAIkZ,YAKZtY,GAAO,EAGAZ,IAIoD,qBAAnBwE,EAAOC,UAC/CD,EAAOC,QAAU21C,GAIrBjoC,SAAS8yC,iBAAiB,SAAS,SAAUjjD,GACzC,IACIonD,EACJ,GAAKA,EAFMjpD,IAAOC,IAAI,QAEJ+oD,iBAAiB,0IAC/B,IAAK,IAAI/lD,EAAI,EAAGC,EAAM+lD,EAAMxnD,OAAQwB,EAAIC,EAAKD,IAAK,CAC9C,IAAIlD,EAAUkpD,EAAMhmD,GAAG2lD,QAAQ,iBAAiBsC,WAEhD,GAAKnrD,EAAU,CACX,IAAIF,EAAMG,IAAOO,KAAKR,GAASE,IAAI,QAEnC,IAAMJ,EACF,MAGJ,IAAMA,GAAgC,aAAzBA,EAAIsnD,iBACb,MAGCtlD,EAAEoe,SAAWlgB,IAA0C,IAA/BA,EAAQwzC,SAAS1xC,EAAEoe,SAC5CpgB,EAAImrD,qBAOR/Q,Q,sDCt1BhB,YAWKkR,QAAQltB,UAAUmtB,UACtBD,QAAQltB,UAAUmtB,QAAUD,QAAQltB,UAAUotB,mBAAqBF,QAAQltB,UAAUqtB,uBAOjFH,QAAQltB,UAAU2qB,UACjBuC,QAAQltB,UAAUmtB,UACtBD,QAAQltB,UAAUmtB,QAAUD,QAAQltB,UAAUotB,mBAAqBF,QAAQltB,UAAUqtB,uBAEtFH,QAAQltB,UAAU2qB,QAAU,SAAU2C,GACrC,IACIC,EAAW1rD,KACf,IAAKkS,SAASy5C,gBAAgBlY,SAFrBzzC,MAEmC,OAAO,KACnD,EAAG,CACF,GAAI0rD,EAASJ,QAAQG,GAAI,OAAOC,EAChCA,EAAWA,EAASE,oBACC,OAAbF,GACT,OAAO,OAUT,SAAWG,GACV,IAAK,IAAI1oD,EAAI,EAAGA,EAAI0oD,EAAKlqD,OAAQwB,KAC3BmU,OAAOu0C,EAAK1oD,KAAO,WAAYmU,OAAOu0C,EAAK1oD,IAAIg7B,YACpD7mB,OAAOu0C,EAAK1oD,IAAIg7B,UAAU9rB,OAAS,WAClCrS,KAAKorD,WAAWU,YAAY9rD,QAJ/B,CAOG,CAAC,UAAW,gBAAiB,iBAW/B,WAGG,IAFA,IAAI+rD,EAAW,EACXC,EAAU,CAAC,SAAU,OAChB5jC,EAAI,EAAGA,EAAI4jC,EAAQrqD,SAAW2V,OAAO20C,wBAAyB7jC,EACnE9Q,OAAO20C,sBAAwB30C,OAAO00C,EAAQ5jC,GAAK,yBACnD9Q,OAAO40C,qBACH50C,OAAO00C,EAAQ5jC,GAAK,yBAA2B9Q,OAAO00C,EAAQ5jC,GAAK,+BAGtE9Q,OAAO20C,wBACR30C,OAAO20C,sBAAwB,SAASxpD,GACpC,IAAI0pD,GAAW,IAAIn8C,MAAOo6C,UACtBgC,EAAal8C,KAAKm8C,IAAI,EAAG,IAAMF,EAAWJ,IAC1C16C,EAAKiG,OAAO1L,YAAW,WACvBnJ,EAAS0pD,EAAWC,KACrBA,GAEH,OADAL,EAAWI,EAAWC,EACf/6C,IAGViG,OAAO40C,uBACR50C,OAAO40C,qBAAuB,SAAS76C,GACnCmB,aAAanB,KAtBxB,GAiDE,CAACg6C,QAAQltB,UAAWmuB,SAASnuB,UAAWouB,iBAAiBpuB,WArBpD+G,SAAQ,SAASr0B,GACbA,EAAKutB,eAAe,YAGxB3vB,OAAO+9C,eAAe37C,EAAM,UAAW,CACnC47C,cAAc,EACdC,YAAY,EACZC,UAAU,EACV5jD,MAAO,WACH,IAAI6jD,EAASj8C,MAAMwtB,UAAUzxB,MAAM7I,KAAKq6B,WACpC2uB,EAAU36C,SAAS46C,yBAEvBF,EAAO1nB,SAAQ,SAAS6nB,GACpB,IAAIC,EAASD,aAAmBE,KAChCJ,EAAQ3C,YAAY8C,EAASD,EAAU76C,SAASg7C,eAAeC,OAAOJ,QAG1E/sD,KAAKotD,aAAaP,EAAS7sD,KAAKqtD,kBAOhD/1C,OAAOg2C,uBAAyB,GAChCh2C,OAAOi2C,yBAA2B,EAClCj2C,OAAOk2C,6BAA+B,GAEtC,IAAIttD,EAAS,WACT,IAAIutD,EAAiB,GAGjBC,EAAc,CACd7jC,GAAI,IACJkB,GAAI,IACJsL,GAAI,KACJvL,GAAI,MAOJ6iC,EAAuB,WACvB,IAQIp7C,GAAU,EAGd+E,OAAO0tC,iBAAiB,UAAU,WAC9BxyC,aAAaD,GACbA,EAAU3G,YAAW,YAbA,WAErB,IAAK,IAAIzI,EAAI,EAAGA,EAAIsqD,EAAe9rD,OAAQwB,IAAK,CACjCsqD,EAAetqD,GACrBU,QAUL+pD,KALI,SAUhB,MAAO,CAOHjtD,KAAM,SAASb,GACPA,GAAWA,EAAQ4tD,cACnBA,EAAc5tD,EAAQ4tD,aAG1BC,KAOJxC,iBAAkB,SAAS1oD,GACvBgrD,EAAe1pD,KAAKtB,IAOxBorD,oBAAqB,SAASprD,GAC1B,IAAK,IAAIU,EAAI,EAAGA,EAAIsqD,EAAe9rD,OAAQwB,IACnCV,IAAagrD,EAAetqD,WACrBsqD,EAAetqD,IAQlC2qD,kBAAmB,WACfF,sBAGJG,OAAQ,WACJ,GAAsB,oBAAXC,MAEP12C,OAAO22C,cAAc,IAAID,MAAM,eAC5B,CAGH,IAAIE,EAAM52C,OAAOpF,SAASi8C,YAAY,YACtCD,EAAIE,YAAY,UAAU,GAAM,EAAO92C,OAAQ,GAC/CA,OAAO22C,cAAcC,KAS7BG,YAAa,SAASC,GAClB,IACInrD,EAAG8c,EAAK7W,EADOkO,OAAO3F,SAAS7F,OAAOyiD,UAAU,GAClBnuC,MAAM,KAExC,IAAKjd,EAAI,EAAGA,EAAIiG,EAAOzH,OAAQwB,IAE3B,IADA8c,EAAM7W,EAAOjG,GAAGid,MAAM,MACd,IAAMkuC,EACV,OAAOE,SAASvuC,EAAI,IAI5B,OAAO,MAOXwuC,eAAgB,WACZ,OAAQzuD,KAAK0uD,cAAcjoD,MAAQzG,KAAK2uD,cAAc,OAO1DC,gBAAiB,WACb,OAAO1uD,EAAOuuD,kBAQlBC,YAAa,WACT,IAAI3sD,EAAIuV,OACJrL,EAAI,QAMR,MALM,eAAgBqL,SAClBrL,EAAI,SACJlK,EAAImQ,SAASy5C,iBAAmBz5C,SAAS0iB,MAGtC,CACHnuB,MAAO1E,EAAEkK,EAAI,SACb6R,OAAQ/b,EAAEkK,EAAI,YAUtBoyC,oBAAqB,SAASrhC,GAC1B,IAAI6xC,EAAa7uD,KAAK0uD,cAAcjoD,MAEpC,MAAY,WAARuW,IAEe,WAARA,GAAqB6xC,GAAe7uD,KAAK2uD,cAAc,MAAQ,IAEvD,UAAR3xC,GAAqB6xC,GAAe7uD,KAAK2uD,cAAc,MAAQ,GAAME,EAAa7uD,KAAK2uD,cAAc,QAE7F,UAAR3xC,GAAoB6xC,GAAc7uD,KAAK2uD,cAAc,QAE7C,sBAAR3xC,GAAgC6xC,GAAe7uD,KAAK2uD,cAAc,MAAQ,IAElE,qBAAR3xC,GAA+B6xC,GAAc7uD,KAAK2uD,cAAc,OAExD,6BAAR3xC,GAAuC6xC,GAAc7uD,KAAK2uD,cAAc,YAYvF1H,YAAa,SAAS6H,GAClB,OAAOA,EAAS5+C,KAAK6+C,MAAM7+C,KAAK6C,UAAY,IAAI/C,MAAQo6C,YAQ5DuE,cAAe,SAAS3xC,GACpB,OAAO0wC,EAAY1wC,IASvBsrC,MAAO,SAAS0G,EAAKtgD,GACjB,IAAIugD,EAIJ,IAA2B,KAF3BvgD,EAAOA,GAAQ,IAEN6G,QAAQ,KACb,MAAM,IAAI25C,MAAM,qCAGpBxgD,EAAOA,EAAK0R,MAAM,KAElB,EAAG,CACC,QAAYzX,IAARqmD,EACA,OAAO,EAKX,GAFAC,EAAQvgD,EAAKygD,SAERH,EAAI5wB,eAAe6wB,GACpB,OAAO,EAGXD,EAAMA,EAAIC,SAELvgD,EAAK/M,QAEd,OAAO,GAQXytD,iBAAkB,SAASt1B,GAIvB,IAHA,IACIxd,EAAUvT,EADV8iD,EAAO3rD,EAAOC,IAAI25B,GAGf+xB,GAAQA,IAAS35C,UAAU,CAM9B,IAAiB,cAFjBoK,EAAWpc,EAAOuoD,IAAIoD,EAAM,cAEgB,aAAbvvC,GAAwC,UAAbA,KAKtDvT,EAAQrG,SAASxC,EAAOuoD,IAAIoD,EAAM,aAE7BwD,MAAMtmD,IAAoB,IAAVA,GACjB,OAAOA,EAIf8iD,EAAOA,EAAKT,WAGhB,OAAO,MAQXkE,yBAA0B,SAASx1B,GAG/B,KAAOA,GAAMA,IAAO5nB,UAAU,CAG1B,GAAiB,UAFNhS,EAAOuoD,IAAI3uB,EAAI,YAGtB,OAAO,EAGXA,EAAKA,EAAGsxB,WAGZ,OAAO,GAMX5/C,MAAO,SAAS+jD,GAEZ,IADA,IAAI1sD,GAAQ,IAAImN,MAAOo6C,UACdjnD,EAAI,EAAGA,EAAI,QACX,IAAI6M,MAAOo6C,UAAYvnD,EAAS0sD,GADhBpsD,OAa7BqsD,aAAc,SAASC,EAAKpD,GACxB,OAAOn8C,KAAK6+C,MAAM7+C,KAAK6C,UAAYs5C,EAAMoD,EAAM,IAAMA,GAOzDC,iBAAkB,WACd,YAAuB/mD,IAAhB2O,OAAOq4C,MAMlB5uD,WAAY,SAAS6uD,GACjBA,EAAMA,GAAO,GAEb,IAAK,IAAIzsD,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAAK,CACvC,IAAI6rD,EAAM9wB,UAAU/6B,GAEpB,GAAK6rD,EAGL,IAAK,IAAIjqD,KAAOiqD,EACRA,EAAI5wB,eAAer5B,KACK,kBAAbiqD,EAAIjqD,GACX6qD,EAAI7qD,GAAO7E,EAAOa,WAAW6uD,EAAI7qD,GAAMiqD,EAAIjqD,IAE3C6qD,EAAI7qD,GAAOiqD,EAAIjqD,IAK/B,OAAO6qD,GAIXC,OAAQ,SAASD,GACbA,EAAMA,GAAO,GAEb,IAAK,IAAIzsD,EAAI,EAAGA,EAAI+6B,UAAUv8B,OAAQwB,IAClC,GAAK+6B,UAAU/6B,GAGf,IAAK,IAAI4B,KAAOm5B,UAAU/6B,GAClB+6B,UAAU/6B,GAAGi7B,eAAer5B,KAC5B6qD,EAAI7qD,GAAOm5B,UAAU/6B,GAAG4B,IAIpC,OAAO6qD,GAGXzvD,IAAK,SAASgpD,GACV,IAAIrvB,EAEJ,OAAIqvB,IAAUj3C,SACHA,SAGJi3C,GAA4B,IAAnBA,EAAM2G,SACX3G,GAGPrvB,EAAK5nB,SAASC,eAAeg3C,IACtBrvB,GACAA,EAAK5nB,SAAS69C,qBAAqB5G,IAAWxnD,OAAS,EACvDm4B,EAAG,IACHA,EAAK5nB,SAAS89C,uBAAuB7G,IAAWxnD,OAAS,EACzDm4B,EAAG,GAEH,MAIfm2B,QAAS,SAAS9G,GACd,OAAOA,GAA4B,IAAnBA,EAAM2G,SACX3G,EAGJj3C,SAASC,eAAeg3C,IAGnC+G,SAAU,SAAS/G,GACf,IAAIrvB,EAEJ,OAAIA,EAAK5nB,SAAS69C,qBAAqB5G,IAC5BrvB,EAAG,GAEH,MAIfq2B,WAAY,SAAShH,GACjB,IAAIrvB,EAEJ,OAAIA,EAAK5nB,SAAS89C,uBAAuB7G,IAC9BrvB,EAAG,GAEH,MAUfyuB,WAAY,SAASzuB,EAAIzW,GACrB,GAAKyW,EAAL,CAMA,IAFA,IAAIs2B,EAAa/sC,EAAQjD,MAAM,KAEtBjd,EAAI,EAAGA,EAAIitD,EAAWzuD,OAAQwB,IACnC,GAAuD,GAAnDjD,EAAO8lD,SAASlsB,EAAI55B,EAAOmwD,KAAKD,EAAWjtD,KAC3C,OAAO,EAIf,OAAO,IAGX6iD,SAAU,SAASlsB,EAAItqB,GACnB,GAAKsqB,EAIL,OAAOA,EAAG1nB,UAAY0nB,EAAG1nB,UAAUqhC,SAASjkC,GAAa,IAAID,OAAO,MAAQC,EAAY,OAAO6yC,KAAKvoB,EAAGtqB,YAG3G42C,SAAU,SAAStsB,EAAItqB,GACnB,GAAKsqB,GAA2B,qBAAdtqB,EAAlB,CAIA,IAAI8gD,EAAa9gD,EAAU4Q,MAAM,KAEjC,GAAI0Z,EAAG1nB,UACH,IAAK,IAAIjP,EAAI,EAAGA,EAAImtD,EAAW3uD,OAAQwB,IAC/BmtD,EAAWntD,IAAMmtD,EAAWntD,GAAGxB,OAAS,GACxCm4B,EAAG1nB,UAAUE,IAAIpS,EAAOmwD,KAAKC,EAAWntD,UAG7C,IAAKjD,EAAO8lD,SAASlsB,EAAItqB,GAC5B,IAAK,IAAI4Y,EAAI,EAAGA,EAAIkoC,EAAW3uD,OAAQymB,IACnC0R,EAAGtqB,WAAa,IAAMtP,EAAOmwD,KAAKC,EAAWloC,MAKzDk+B,YAAa,SAASxsB,EAAItqB,GACxB,GAAKsqB,GAA2B,qBAAdtqB,EAAlB,CAIE,IAAI8gD,EAAa9gD,EAAU4Q,MAAM,KAEjC,GAAI0Z,EAAG1nB,UACH,IAAK,IAAIjP,EAAI,EAAGA,EAAImtD,EAAW3uD,OAAQwB,IACnC22B,EAAG1nB,UAAUC,OAAOnS,EAAOmwD,KAAKC,EAAWntD,UAE5C,GAAIjD,EAAO8lD,SAASlsB,EAAItqB,GAC3B,IAAK,IAAI4Y,EAAI,EAAGA,EAAIkoC,EAAW3uD,OAAQymB,IACnC0R,EAAGtqB,UAAYsqB,EAAGtqB,UAAU3G,QAAQ,IAAI0G,OAAO,MAAQrP,EAAOmwD,KAAKC,EAAWloC,IAAM,MAAO,KAAM,MAK7GmoC,mBAAoB,SAASz2B,EAAI02B,EAAW/vD,GACxC,IAAIiD,EACA4T,OAAOm5C,YACP/sD,EAAQ,IAAI+sD,YAAYD,EAAW,CAC/BE,OAAQjwD,KAGZiD,EAAQwO,SAASi8C,YAAY,gBACvBwC,gBAAgBH,GAAW,GAAM,EAAM/vD,GAGjDq5B,EAAGm0B,cAAcvqD,IAGrBktD,aAAc,SAASC,EAAML,GAEzB,IAAIM,EACJ,GAAID,EAAKE,cACLD,EAAMD,EAAKE,kBACR,IAAqB,GAAjBF,EAAKf,SAIZ,MAAM,IAAIZ,MAAM,qCAAuC2B,EAAKx/C,IAF5Dy/C,EAAMD,EAKV,GAAIA,EAAK5C,cAAe,CAEpB,IAAI+C,EAAa,GAKjB,OAAQR,GACR,IAAK,QACL,IAAK,aACL,IAAK,aACL,IAAK,YACL,IAAK,UACDQ,EAAa,cACb,MAEJ,IAAK,QACL,IAAK,SACL,IAAK,OACL,IAAK,SACDA,EAAa,aACb,MAEJ,QACI,KAAM,sDAAwDR,EAAY,KAG9E,IAEIS,EAAuB,UAAbT,GAFV9sD,EAAQotD,EAAI3C,YAAY6C,IAGtBE,UAAUV,EAAWS,GAAS,GAEpCvtD,EAAMytD,WAAY,EAElBN,EAAK5C,cAAcvqD,GAAO,QACvB,GAAImtD,EAAKO,UAAW,CAEvB,IAAI1tD,KAAQotD,EAAIO,qBACVF,WAAY,EAClBN,EAAKO,UAAU,KAAOZ,EAAW9sD,KAIzCpB,MAAO,SAAUgvD,GAGb,IADA,IAAIC,GADJD,EAAMpxD,EAAOC,IAAImxD,IACLlG,WAAW35C,SAAUtO,EAAI,EAC/BA,EAAIouD,EAAE5vD,OAAQwB,IAChB,GAAIouD,EAAEpuD,IAAMmuD,EAAM,OAAOnuD,GAGjCktD,KAAM,SAASmB,GACX,OAAOA,EAAOnB,QAGlBoB,eAAgB,SAAS1vD,GACrB,QAAIA,EAAEixB,cAAc0+B,QAAQC,YAGxB5vD,EAAEixB,cAAc0+B,QAAQC,WAAY,GAE7B,IAIft/C,OAAQ,SAASynB,GACTA,GAAMA,EAAGsxB,YACTtxB,EAAGsxB,WAAWU,YAAYhyB,IAIlC34B,KAAM,SAASywD,EAAQzI,GAEnB,GADAyI,EAAS1xD,EAAOC,IAAIyxD,GAEhB,OAAOA,EAAOzM,cAAcgE,IAIpCloD,QAAS,SAAS2wD,EAAQzI,GAEtB,GADAyI,EAAS1xD,EAAOC,IAAIyxD,GAEhB,OAAOA,EAAO1I,iBAAiBC,IAIvC9C,YAAa,SAASvsB,EAAI+3B,GACtB,OAAOA,EAAczG,WAAWgC,aAAatzB,EAAI+3B,EAAcC,cAGnExH,QAAS,SAASuB,EAAMkG,GAEf1G,QAAQltB,UAAUmtB,UACnBD,QAAQltB,UAAUmtB,QACdD,QAAQltB,UAAU6zB,iBAClB3G,QAAQltB,UAAU8zB,oBAClB5G,QAAQltB,UAAUotB,mBAClBF,QAAQltB,UAAU+zB,kBAClB7G,QAAQltB,UAAUqtB,uBAClB,SAASC,GAGL,IAFA,IAAIH,GAAWtrD,KAAKkS,UAAYlS,KAAK+wD,eAAe7H,iBAAiBuC,GACjEtoD,EAAImoD,EAAQ3pD,SACPwB,GAAK,GAAKmoD,EAAQz6C,KAAK1N,KAAOnD,OACvC,OAAOmD,GAAK,IAQxB,IAHA,IAAImnD,EAAU,GAGNuB,GAAQA,IAAS35C,SAAU25C,EAAOA,EAAKT,WACvC2G,EACIlG,EAAKP,QAAQyG,IACbzH,EAAQvmD,KAAK8nD,GAIrBvB,EAAQvmD,KAAK8nD,GAIjB,OAAOvB,GAGX74C,SAAU,SAASqoB,EAAIi4B,EAAUliD,GAC7B,GAAKiqB,GAAOA,EAAGq4B,WAAf,CAQA,IAJA,IAAIxjC,EAAS,GACTxrB,EAAI,EACJivD,EAAIt4B,EAAGq4B,WAAWxwD,OAEVwB,EAAIivD,IAAKjvD,EACgB,GAA7B22B,EAAGq4B,WAAWhvD,GAAG2sD,UAAiB5vD,EAAOorD,QAAQxxB,EAAGq4B,WAAWhvD,GAAI4uD,EAAUliD,IAC7E8e,EAAO5qB,KAAK+1B,EAAGq4B,WAAWhvD,IAIlC,OAAOwrB,IAGXspB,MAAO,SAASne,EAAIi4B,EAAUliD,GAC1B,IAAI4B,EAAWvR,EAAOuR,SAASqoB,EAAIi4B,EAAUliD,GAE7C,OAAO4B,EAAWA,EAAS,GAAK,MAGpC65C,QAAS,SAASxxB,EAAIi4B,EAAUliD,GAC5B,IAAIwiD,EAAIhH,QAAQltB,UACZm0B,EAAID,EAAE/G,SAAW+G,EAAE7G,uBAAyB6G,EAAEJ,oBAAsBI,EAAE9G,mBAAqB,SAASE,GACpG,OAAgE,IAAzD,GAAGl2C,QAAQ1R,KAAKqO,SAASg3C,iBAAiBuC,GAAIzrD,OAGzD,SAAI85B,IAAMA,EAAGy4B,UACFD,EAAEzuD,KAAKi2B,EAAIi4B,IAM1BtxD,KAAM,SAASR,GAGX,OAFAA,EAAUC,EAAOC,IAAIF,GAEd,CACHY,IAAK,SAAS2C,EAAM/C,QACAkI,IAAZ1I,SAI0B0I,IAA1B1I,EAAQuyD,gBACRl7C,OAAOi2C,2BACPttD,EAAQuyD,cAAgBl7C,OAAOi2C,+BAG0B5kD,IAAzD2O,OAAOg2C,uBAAuBrtD,EAAQuyD,iBACtCl7C,OAAOg2C,uBAAuBrtD,EAAQuyD,eAAiB,IAG3Dl7C,OAAOg2C,uBAAuBrtD,EAAQuyD,eAAehvD,GAAQ/C,IAGjEN,IAAK,SAASqD,GACV,QAAgBmF,IAAZ1I,EAIJ,YAA8B0I,IAA1B1I,EAAQuyD,cACD,KAGJxyD,KAAKU,IAAI8C,GAAQ8T,OAAOg2C,uBAAuBrtD,EAAQuyD,eAAehvD,GAAQ,MAGzF9C,IAAK,SAAS8C,GACV,YAAgBmF,IAAZ1I,SAI0B0I,IAA1B1I,EAAQuyD,kBAIJl7C,OAAOg2C,uBAAuBrtD,EAAQuyD,iBAAkBl7C,OAAOg2C,uBAAuBrtD,EAAQuyD,eAAehvD,MAGzH6O,OAAQ,SAAS7O,GACTvD,GAAWD,KAAKU,IAAI8C,WACb8T,OAAOg2C,uBAAuBrtD,EAAQuyD,eAAehvD,MAM5EivD,WAAY,SAAS34B,EAAIvB,GACrB,IAAI9xB,EAEJ,OAAe,IAAX8xB,GACA9xB,EAAQisD,WAAW54B,EAAG64B,aACtBlsD,GAASisD,WAAWxyD,EAAOuoD,IAAI3uB,EAAI,gBAAkB44B,WAAWxyD,EAAOuoD,IAAI3uB,EAAI,iBAExE44B,WAAWjsD,IAElBA,EAAQisD,WAAW54B,EAAG64B,cAM9BrT,OAAQ,SAASuM,GACb,IAAI+G,EAAMC,EAGV,GAFAhH,EAAO3rD,EAAOC,IAAI0rD,GAWlB,OAAMA,EAAKiH,iBAAiBnxD,QAK5BixD,EAAO/G,EAAKkH,wBACZF,EAAMhH,EAAKkF,cAAciC,YAElB,CACHtO,IAAKkO,EAAKlO,IAAMmO,EAAII,YACpBC,KAAMN,EAAKM,KAAOL,EAAIM,cATf,CAAEzO,IAAK,EAAGwO,KAAM,IAa/Bp1C,OAAQ,SAASgc,GACb,OAAO55B,EAAOuoD,IAAI3uB,EAAI,WAG1BjnB,QAAS,SAASinB,GACd,QAA4B,IAAnBA,EAAG64B,aAAyC,IAApB74B,EAAG0rB,eAGxCtiD,KAAM,SAAS42B,EAAIt2B,EAAMuF,GAGrB,QAAUJ,IAFVmxB,EAAK55B,EAAOC,IAAI25B,IAMhB,YAAcnxB,IAAVI,EAGO+wB,EAAGogB,aAAa12C,QAFvBs2B,EAAG4jB,aAAal6C,EAAMuF,IAM9Bs/C,QAAS,SAASvuB,EAAIt2B,GAGlB,QAAUmF,IAFVmxB,EAAK55B,EAAOC,IAAI25B,IAMhB,QAAOA,EAAGogB,aAAa12C,IAG3BF,WAAY,SAASw2B,EAAIt2B,QAGXmF,IAFVmxB,EAAK55B,EAAOC,IAAI25B,KAMhBA,EAAG8jB,gBAAgBp6C,IAGvBm3C,QAAS,SAAS1F,EAAM7b,EAAIg6B,EAAUlM,EAAQmM,EAAQC,GAKlD,IAAIC,EAAU,GAUd,GAPAA,EAAQC,OAAS,SAASC,EAAGC,EAAGnC,EAAGx7B,GAC/B,OAAOw7B,EAAIkC,EAAI19B,EAAI29B,GAGvBL,EAASE,EAAQC,OAGG,kBAATve,GACO,kBAAP7b,GACa,kBAAbg6B,GACW,oBAAXlM,EAHX,CAQoB,oBAAToM,IACPA,EAAO,cAIX,IAAIK,EAAMr8C,OAAO20C,uBAAyB,SAASxpD,GAC/C6U,OAAO1L,WAAWnJ,EAAU,KAK5BmxD,EAASx6B,EAAK6b,EAgBlBiS,EAAOjS,GAGP,IAAIpyC,EAAQyU,OAAOu8C,aAAev8C,OAAOu8C,YAAY9jD,IAAMuH,OAAOu8C,YAAY9jD,OAAS,IAAIC,KAE3F2jD,GAnBA,SAASG,EAAKC,GACV,IAAInL,GAAQmL,IAAc,IAAI/jD,MAAUnN,EAEpC+lD,GAAQ,GACR1B,EAAOmM,EAAOzK,EAAM3T,EAAM2e,EAAQR,IAElCxK,GAAQ,GAAKA,GAAQwK,GACrBlM,EAAO9tB,GACPk6B,KAEAK,EAAIG,QAYhBE,UAAW,SAASl6B,EAAIm6B,EAAMC,GAE1B,IAOQnrD,EAPJ0/C,EAAM,GAEV,IAHA3uB,EAAK55B,EAAOC,IAAI25B,cAGEq6B,eAAgB,EAIlC,OAAKr6B,EAAGogB,aAAa,aAAe+Z,KAAmB,IAAVC,EAsBlCxB,WAAW54B,EAAGogB,aAAa,aAAe+Z,KAjBjDxL,EAAM3uB,EAAGxyB,MAAM8sD,QACft6B,EAAGxyB,MAAM8sD,QAAU,0DAEP,SAARH,EACAlrD,EAAQ+wB,EAAG64B,YACI,UAARsB,IACPlrD,EAAQ+wB,EAAG0rB,cAGf1rB,EAAGxyB,MAAM8sD,QAAU3L,EAGnB3uB,EAAG4jB,aAAa,aAAeuW,EAAMlrD,GAE9B2pD,WAAW3pD,KAO1BsrD,aAAc,SAASv6B,EAAIo6B,GACvB,OAAOh0D,EAAO8zD,UAAUl6B,EAAI,SAAUo6B,IAG1CI,YAAa,SAASx6B,EAAIo6B,GACtB,OAAOh0D,EAAO8zD,UAAUl6B,EAAI,QAASo6B,IAGzCK,UAAW,SAASt0D,EAAS+kC,GAGzB,OADAA,EAAS,SAAWA,EACZ/kC,GAAWqX,QAAUrX,GAAWiS,SACpC1L,KAAgB,aAAVw+B,EAAyB,cAAgB,gBAC9CwvB,yBAA2BtiD,SAASy5C,gBAAgB3mB,IACrD9yB,SAAS0iB,KAAKoQ,GACd/kC,EAAQ+kC,IAGhByjB,IAAK,SAAS3uB,EAAI26B,EAAW1rD,GAGzB,GAFA+wB,EAAK55B,EAAOC,IAAI25B,GAMhB,QAAcnxB,IAAVI,EACA+wB,EAAGxyB,MAAMmtD,GAAa1rD,MACnB,CACH,IAAIiqD,GAAel5B,EAAGi3B,eAAiB7+C,UAAU8gD,YAEjD,GAAIA,GAAeA,EAAYzN,iBAI3B,OADAkP,EAAYA,EAAU5rD,QAAQ,WAAY,OAAOuD,cAC1C4mD,EAAYzN,iBAAiBzrB,EAAI,MAAM46B,iBAAiBD,GAC5D,GAAI36B,EAAG66B,aAOV,OALAF,EAAYA,EAAU5rD,QAAQ,WAAW,SAAS+rD,EAAKC,GACnD,OAAOA,EAAOt7B,iBAElBxwB,EAAQ+wB,EAAG66B,aAAaF,GAEpB,sBAAsBpS,KAAKt5C,GACnB,SAASA,GACb,IAAI+rD,EAAUh7B,EAAGxyB,MAAM4rD,KACnB6B,EAAYj7B,EAAGk7B,aAAa9B,KAMhC,OALAp5B,EAAGk7B,aAAa9B,KAAOp5B,EAAG66B,aAAazB,KACvCp5B,EAAGxyB,MAAM4rD,KAAOnqD,GAAS,EACzBA,EAAQ+wB,EAAGxyB,MAAM2tD,UAAY,KAC7Bn7B,EAAGxyB,MAAM4rD,KAAO4B,EAChBh7B,EAAGk7B,aAAa9B,KAAO6B,EAChBhsD,EARH,CASLA,GAEAA,IAKnBmsD,MAAO,SAASp7B,EAAIq7B,EAAK5V,EAAO98C,EAAU2yD,GACtC,MAAKt7B,GAAc,MAAPq7B,IAAsC,IAAvBj1D,EAAO2S,QAAQinB,IAA0B,QAAPq7B,IAAwC,IAAvBj1D,EAAO2S,QAAQinB,IAA7F,CAIAylB,EAASA,GAAgB,IACzB,IAAI8V,EAAan1D,EAAOm0D,aAAav6B,GACjCw7B,GAAiB,EACjBC,GAAoB,EAEpBr1D,EAAOuoD,IAAI3uB,EAAI,iBAA+D,IAA7C55B,EAAOO,KAAKq5B,GAAIp5B,IAAI,sBACrDR,EAAOO,KAAKq5B,GAAIj5B,IAAI,oBAAqBX,EAAOuoD,IAAI3uB,EAAI,gBAGxD55B,EAAOuoD,IAAI3uB,EAAI,oBAAqE,IAAhD55B,EAAOO,KAAKq5B,GAAIp5B,IAAI,yBACxDR,EAAOO,KAAKq5B,GAAIj5B,IAAI,uBAAwBX,EAAOuoD,IAAI3uB,EAAI,mBAG3D55B,EAAOO,KAAKq5B,GAAIp5B,IAAI,uBACpB40D,EAAiB5yD,SAASxC,EAAOO,KAAKq5B,GAAI35B,IAAI,uBAG9CD,EAAOO,KAAKq5B,GAAIp5B,IAAI,0BACpB60D,EAAoB7yD,SAASxC,EAAOO,KAAKq5B,GAAI35B,IAAI,0BAG1C,MAAPg1D,GACAr7B,EAAGxyB,MAAM8sD,QAAU,oCAEfkB,GACAp1D,EAAOy6C,QAAQ,EAAG2a,EAAgB/V,GAAO,SAASx2C,GAC9C+wB,EAAGxyB,MAAMkuD,WAAcF,EAAiBvsD,EAAS,OAClD,UAGHwsD,GACAr1D,EAAOy6C,QAAQ,EAAG4a,EAAmBhW,GAAO,SAASx2C,GACjD+wB,EAAGxyB,MAAMmuD,cAAiBF,EAAoBxsD,EAAS,OACxD,UAGP7I,EAAOy6C,QAAQ,EAAG0a,EAAY9V,GAAO,SAASx2C,GAC1C+wB,EAAGxyB,MAAMwW,OAAUu3C,EAAatsD,EAAS,OAC1C,UAAU,WACTtG,IACAq3B,EAAGxyB,MAAMwW,OAAS,GAClBgc,EAAGxyB,MAAMhB,QAAU,WAIT,QAAP6uD,IACPr7B,EAAGxyB,MAAM8sD,QAAU,oCAEfkB,GACAp1D,EAAOy6C,QAAQ,EAAG2a,EAAgB/V,GAAO,SAASx2C,GAC9C+wB,EAAGxyB,MAAMkuD,WAAazsD,EAAQ,OAC/B,UAAU,WACT+wB,EAAGxyB,MAAMkuD,WAAa,MAI1BD,GACAr1D,EAAOy6C,QAAQ,EAAG4a,EAAmBhW,GAAO,SAASx2C,GACjD+wB,EAAGxyB,MAAMmuD,cAAgB1sD,EAAQ,OAClC,UAAU,WACT+wB,EAAGxyB,MAAMmuD,cAAgB,MAIjCv1D,EAAOy6C,QAAQ,EAAG0a,EAAY9V,GAAO,SAASx2C,GAC1C+wB,EAAGxyB,MAAMwW,OAAS/U,EAAQ,OAC3B,UAAU,WACTtG,IACAq3B,EAAGxyB,MAAMwW,OAAS,GAClBgc,EAAGxyB,MAAMhB,QAAU,GACnBwzB,EAAGxyB,MAAMouD,SAAW,SAKhCjM,QAAS,SAAS3vB,EAAIylB,EAAO98C,GACzBvC,EAAOg1D,MAAMp7B,EAAI,KAAMylB,EAAO98C,IAGlCinD,UAAW,SAAS5vB,EAAIylB,EAAO98C,GAC3BvC,EAAOg1D,MAAMp7B,EAAI,OAAQylB,EAAO98C,IAGpCqmB,KAAM,SAASgR,EAAIxzB,GACG,qBAAPwzB,IACPA,EAAGxyB,MAAMhB,QAAWA,GAAoB,UAIhD2/C,KAAM,SAASnsB,GACO,qBAAPA,IACPA,EAAGxyB,MAAMhB,QAAU,SAI3BxE,SAAU,SAASg4B,EAAI50B,EAAMtB,EAASD,GAGhB,qBAFlBm2B,EAAK55B,EAAOC,IAAI25B,KAEwB,OAAPA,GAC7BA,EAAGkrB,iBAAiB9/C,EAAMtB,IAIlCmnD,YAAa,SAASjxB,EAAI50B,EAAMtB,GAGjB,QAFXk2B,EAAK55B,EAAOC,IAAI25B,KAGZA,EAAGmrB,oBAAoB//C,EAAMtB,IAIrCvB,GAAI,SAASpC,EAAS8xD,EAAUruD,EAAOE,GACnC,GAAKmuD,EAAL,CAIA,IAAI4D,EAAUz1D,EAAO+mD,YAAY,SAmBjC,OAjBA3vC,OAAOk2C,6BAA6BmI,GAAW,SAAS5zD,GAIpD,IAHA,IAAI6hC,EAAU3jC,EAAQipD,iBAAiB6I,GACnC5xC,EAASpe,EAAEoe,OAERA,GAAUA,IAAWlgB,GAAS,CACjC,IAAK,IAAIkD,EAAI,EAAG0mD,EAAIjmB,EAAQjiC,OAAQwB,EAAI0mD,EAAG1mD,IACnCgd,IAAWyjB,EAAQzgC,IACnBS,EAAQC,KAAKsc,EAAQpe,GAI7Boe,EAASA,EAAOirC,aAIxBlrD,EAAO4B,SAAS7B,EAASyD,EAAO4T,OAAOk2C,6BAA6BmI,IAE7DA,IAGX9N,IAAK,SAAS5nD,EAASyD,EAAOiyD,GACrB11D,GAAYqX,OAAOk2C,6BAA6BmI,KAIrDz1D,EAAO6qD,YAAY9qD,EAASyD,EAAO4T,OAAOk2C,6BAA6BmI,WAEhEr+C,OAAOk2C,6BAA6BmI,KAG/ChyD,IAAK,SAAiBm2B,EAAI50B,EAAMzC,IAC5Bq3B,EAAK55B,EAAOC,IAAI25B,IAEbkrB,iBAAiB9/C,GAAM,SAAS0wD,EAAO7zD,GAOtC,OALIA,EAAEoe,QAAUpe,EAAEoe,OAAO8kC,qBACrBljD,EAAEoe,OAAO8kC,oBAAoBljD,EAAEmD,KAAM0wD,GAIlCnzD,EAASV,OAIxB8zD,KAAM,SAASjB,GACX,IACIzxD,EADA0yD,EAAO,EAGX,GAAmB,IAAfjB,EAAIjzD,OAAc,OAAOk0D,EAC7B,IAAK1yD,EAAI,EAAGA,EAAIyxD,EAAIjzD,OAAQwB,IAExB0yD,GAASA,GAAQ,GAAKA,EADhBjB,EAAIkB,WAAW3yD,GAErB0yD,GAAQ,EAGZ,OAAOA,GAGXE,aAAc,SAASj8B,EAAIk8B,EAAevzD,GACtC,IAAIia,EACAu5C,EAAa,CACbv5C,UAAW,eACXw5C,WAAY,gBACZC,aAAc,kBACdC,gBAAiB,qBACjBC,YAAa,kBAGjB,IAAK,IAAI5C,KAAKwC,OACUttD,IAAhBmxB,EAAGxyB,MAAMmsD,KACT/2C,EAAYu5C,EAAWxC,IAI/BvzD,EAAOkmD,SAAStsB,EAAI,YAAck8B,GAElC91D,EAAOyD,IAAIm2B,EAAIpd,GAAW,WACtBxc,EAAOomD,YAAYxsB,EAAI,YAAck8B,MAGrCvzD,GACAvC,EAAOyD,IAAIm2B,EAAIpd,EAAWja,IAIlC6zD,cAAe,SAASx8B,EAAIr3B,GACxB,IAAIyqB,EACAqpC,EAAc,CACdrpC,WAAY,gBACZspC,YAAa,iBACbC,cAAe,mBACfC,iBAAkB,sBAClBC,aAAc,mBAGlB,IAAK,IAAIlD,KAAK8C,OACU5tD,IAAhBmxB,EAAGxyB,MAAMmsD,KACTvmC,EAAaqpC,EAAY9C,IAIjCvzD,EAAOyD,IAAIm2B,EAAI5M,EAAYzqB,IAG/Bm0D,aAAc,SAAS98B,EAAIr3B,GACvB,IAAIia,EACAu5C,EAAa,CACbv5C,UAAW,eACXw5C,WAAY,gBACZC,aAAc,kBACdC,gBAAiB,qBACjBC,YAAa,kBAGjB,IAAK,IAAI5C,KAAKwC,OACUttD,IAAhBmxB,EAAGxyB,MAAMmsD,KACT/2C,EAAYu5C,EAAWxC,IAI/BvzD,EAAOyD,IAAIm2B,EAAIpd,EAAWja,IAG9Bo0D,aAAc,SAAS/8B,EAAI/wB,GAEvB,IADA,IAAIijD,EAAU,CAAC,UAAW,OAAQ,MAAO,KAAM,IACtC7oD,EAAI,EAAGA,EAAI6oD,EAAQrqD,OAAQwB,IAChCjD,EAAOuoD,IAAI3uB,EAAIkyB,EAAQ7oD,GAAK,kBAAmB4F,IAIvD+tD,gBAAiB,SAASh9B,EAAI/wB,GAE1B,IADA,IAAIijD,EAAU,CAAC,UAAW,OAAQ,MAAO,KAAM,IACtC7oD,EAAI,EAAGA,EAAI6oD,EAAQrqD,OAAQwB,IAChCjD,EAAOuoD,IAAI3uB,EAAIkyB,EAAQ7oD,GAAK,qBAAsB4F,IAI1D44C,SAAU,SAASxhC,EAAQm/B,EAAQ8T,GAC3BA,EAAWA,GAAsB,IAArC,IAIIne,EAAM7b,EAFN29B,GADA52C,EAASjgB,EAAOC,IAAIggB,IACCjgB,EAAOo/C,OAAOn/B,GAAQukC,IAAM,EACjDsS,EAAY1/C,OAAO27C,aAAe/gD,SAASy5C,gBAAgBvD,WAAal2C,SAAS0iB,KAAKwzB,WAAa,EAGnG9I,IACA0X,GAAa1X,GAGjBrK,EAAO+hB,EACP59B,EAAK29B,EAEL72D,EAAOy6C,QAAQ1F,EAAM7b,EAAIg6B,GAAU,SAASrqD,GACxCmJ,SAASy5C,gBAAgBvD,UAAYr/C,EACrCmJ,SAAS0iB,KAAKw2B,WAAWhD,UAAYr/C,EACrCmJ,SAAS0iB,KAAKwzB,UAAYr/C,MAIlCq/C,UAAW,SAAS9I,EAAQ8T,GACxBlzD,EAAOyhD,SAAS,KAAMrC,EAAQ8T,IAGlCxiD,QAAS,SAASo+C,GACd,OAAOA,GAAOr+C,MAAMC,QAAQo+C,IAGhCiI,MAAO,SAASx0D,IACRyP,SAASglD,YAAsC,aAAxBhlD,SAASilD,WAAoD,YAAxBjlD,SAASilD,YACrE10D,IAEAyP,SAAS8yC,iBAAiB,mBAAoBviD,IAItD20D,QAAS,SAASpI,GACd,IAAK,IAAIiF,KAAQjF,EACb,GAAIA,EAAI5wB,eAAe61B,GACnB,OAAO,EAIf,OAAO,GAGXoD,aAAc,SAASC,GAMnB,IAJA,IAAIlvC,GADJkvC,GAAQ,IACKl3C,MAAM,KACfm3C,EAAKnvC,EAAE,GACPovC,EAAKpvC,EAAEzmB,OAAS,EAAI,IAAMymB,EAAE,GAAK,GACjCqvC,EAAM,eACHA,EAAIpV,KAAKkV,IACZA,EAAKA,EAAG1uD,QAAQ4uD,EAAK,SAEzB,OAAOF,EAAKC,GAGhBE,SAAU,WACN,IAAIC,EAAKrgD,OAAOsgD,UAAUC,UAgBtBC,EAAOH,EAAGpiD,QAAQ,SACtB,GAAIuiD,EAAO,EAEP,OAAOp1D,SAASi1D,EAAGpJ,UAAUuJ,EAAO,EAAGH,EAAGpiD,QAAQ,IAAKuiD,IAAQ,IAInE,GADcH,EAAGpiD,QAAQ,YACX,EAAG,CAEb,IAAIwiD,EAAKJ,EAAGpiD,QAAQ,OACpB,OAAO7S,SAASi1D,EAAGpJ,UAAUwJ,EAAK,EAAGJ,EAAGpiD,QAAQ,IAAKwiD,IAAM,IAG/D,IAAIC,EAAOL,EAAGpiD,QAAQ,SACtB,OAAIyiD,EAAO,GAEAt1D,SAASi1D,EAAGpJ,UAAUyJ,EAAO,EAAGL,EAAGpiD,QAAQ,IAAKyiD,IAAQ,KAOvEC,MAAO,WACH,MAAwD,OAAhD/3D,EAAOgD,KAAKhD,EAAOC,IAAI,QAAS,cAM5CynD,WAAY,SAAS3nD,EAASH,GAG1B,SAASa,IACL,IAAIu3D,EACAp6C,EASJ,GANIA,EADAhe,EAAQge,kBAAkBq6C,SACjBz1D,SAAS5C,EAAQge,OAAOja,QAExBnB,SAAS5C,EAAQge,SAIzBhe,EAAQioD,oBAAsBjoD,EAAQs4D,mBAAqBl4D,EAAOm+C,oBAAoB,sBACvF6Z,EAAKh4D,EAAOO,KAAKR,GAASE,IAAI,QAEtBL,EAAQmoD,qBACR/nD,EAAOuoD,IAAIxoD,EAAS,SAAU,SAE9BC,EAAOuoD,IAAIxoD,EAAS,WAAY,QAC5B6d,EAAS,GACT5d,EAAOuoD,IAAIxoD,EAAS,SAAU6d,EAAS,OAI/Co6C,EAAGr6C,UACHq6C,EAAKh4D,EAAOO,KAAKR,GAASoS,OAAO,OAC1ByL,EAAS,IAChB5d,EAAOuoD,IAAIxoD,EAAS,WAAY,QAChCC,EAAOuoD,IAAIxoD,EAAS,SAAU6d,EAAS,YAU/C,GAJIA,EAAS,GACT5d,EAAOuoD,IAAIxoD,EAAS,SAAU6d,EAAS,MAGvChe,EAAQu4D,oBACRn4D,EAAOuoD,IAAIxoD,EAAS,WAAY,YADpC,CAMAC,EAAOuoD,IAAIxoD,EAAS,WAAY,WAEhCi4D,EAAKh4D,EAAOO,KAAKR,GAASE,IAAI,OAE1B+3D,EAAGhR,UAEHhnD,EAAOkmD,SAASnmD,EAAS,aACzBi4D,EAAK,IAAII,iBAAiBr4D,EAAS,CAC/By2C,WAAY,GACZ6hB,aAAa,EACb5hB,kBAA4C,IAAzB72C,EAAQkoD,aAC3BwQ,mBAAoB,GACpBC,mBAAoB,IACpBC,gBAA0D,QAAzCx4D,EAAOgD,KAAKjD,EAAS,mBAG1CC,EAAOO,KAAKR,GAASY,IAAI,KAAMq3D,IAInC,IAAIlR,EAAM9mD,EAAOgD,KAAKjD,EAAS,MAE/B,IAAiC,IAA7BH,EAAQ6mD,kBAA6BgS,SAAW3R,EAAK,CACrD,GAAI2R,QAAQx4D,IAAI6mD,GAAM,CAClB,IAAI4R,EAAMl2D,SAASi2D,QAAQx4D,IAAI6mD,IAE3B4R,EAAM,IACN34D,EAAQmoD,UAAYwQ,GAI5B34D,EAAQ+kD,iBAAiB,eAAe,WACpC2T,QAAQ93D,IAAImmD,EAAK/mD,EAAQmoD,gBA7EjCnoD,IAmFJU,IAGIb,EAAQooD,oBACRhoD,EAAOirD,kBAAiB,WACpBxqD,SAKZwnD,aAAc,SAASloD,GACnB,IAAIi4D,EAAKh4D,EAAOO,KAAKR,GAASE,IAAI,MAC9B+3D,GACAA,EAAGhR,UAIX2R,gBAAiB,SAASjH,GAEtB,IADA,IAAIkH,EAAY54D,EAAOe,QAAQ2wD,EAAQ,OAC9BzuD,EAAI,EAAGC,EAAM01D,EAAUn3D,OAAQwB,EAAIC,EAAKD,IAC7CjD,EAAOioD,aAAa2Q,EAAU31D,KAItC2kD,cAAe,SAAS7nD,GACpB,IAAIi4D,EAAKh4D,EAAOO,KAAKR,GAASE,IAAI,MAC9B+3D,IACAA,EAAGr6C,UACHq6C,EAAKh4D,EAAOO,KAAKR,GAASoS,OAAO,QAIzC0mD,QAAS,SAASj/B,EAAIk/B,GACd94D,EAAOC,IAAI25B,KACX55B,EAAOC,IAAI25B,GAAI8wB,UAAYoO,IAInCC,QAAS,SAASn/B,GACd,GAAI55B,EAAOC,IAAI25B,GACX,OAAO55B,EAAOC,IAAI25B,GAAI8wB,WAI9BsO,kBAAmB,WACf,IAAItkC,EAAO1iB,SAAS0iB,KAChBokC,EAAO9mD,SAASy5C,gBAEpB,OAAOz7C,KAAKm8C,IAAKz3B,EAAKukC,aAAcvkC,EAAK4wB,aAAcwT,EAAKI,aAAcJ,EAAKG,aAAcH,EAAKxT,eAGtG6T,aAAc,WACV,OAASnnD,SAASonD,kBAAoBpnD,SAASy5C,iBAAiBvD,YAr6C/D,GA26CkD,qBAAnB7jD,EAAOC,UAC/CD,EAAOC,QAAUtE,GAIrBA,EAAO+2D,OAAM,WACT/2D,EAAOS,UAIX2W,OAAO+O,OAAS,WACZnmB,EAAOomD,YAAYpmD,EAAOC,IAAI,QAAS,qBAG5BD,Q,yuqBC5iDf,uBAIIg7C,EAAW,SAASr7C,EAAWC,GAE/B,IAAIC,EAAMC,KAINC,EAAUC,IAAOC,IAAIN,GACrB+0B,EAAO10B,IAAOC,IAAI,QAEtB,QAAgBwI,IAAZ1I,EAAJ,CAKA,IAAIG,EAAiB,CACjBm5D,SAAS,EACTja,OAAQ,CACJx4C,OAAQ,IACRD,QAAS,KAEbY,SAAU,CACNX,QAAQ,EACRD,SAAS,IAQbtG,EAAS,CAKTC,UAAW,SAASV,GAahB,OAZII,IAAOO,KAAKR,GAASS,IAAI,UACzBX,EAAMG,IAAOO,KAAKR,GAASE,IAAI,WAG/BI,EAAOI,KAAKb,GAGZS,EAAOK,QAEPV,IAAOO,KAAKR,GAASY,IAAI,SAAUd,IAGhCA,GAOXY,KAAM,SAASb,GACXC,EAAIe,OAAS,GAGbf,EAAID,QAAUI,IAAOa,WAAW,GAAIX,EAAgBN,IAOxDc,MAAO,WACH,IAAI44D,EAAgB,EAChBC,GAAoB,EACHv5D,IAAOwuD,cAAc5wC,OACrB5d,IAAOg5D,qBAEQ,IAAhCn5D,EAAID,QAAQ2H,SAASX,SAAqD,IAAjC/G,EAAID,QAAQ2H,SAASZ,SAIlEyQ,OAAO0tC,iBAAiB,UAAU,WAC9B,IAAgB3iD,EAAIwlD,EAAK6R,EAArBpa,EAAS,EAETp/C,IAAOm+C,oBAAoB,YAC3BiB,EAASv/C,EAAID,QAAQw/C,OAAOz4C,QAC5BxE,EAAKtC,EAAID,QAAQ2H,SAASZ,QAAQxE,GAClCwlD,EAAM9nD,EAAID,QAAQ2H,SAASZ,QAAQghD,KAC5B3nD,IAAOm+C,oBAAoB,uBAClCiB,EAASv/C,EAAID,QAAQw/C,OAAOx4C,OAC5BzE,EAAKtC,EAAID,QAAQ2H,SAASX,OAAOzE,GACjCwlD,EAAM9nD,EAAID,QAAQ2H,SAASX,OAAO+gD,KAGtC6R,EAAKx5D,IAAOm5D,eAGPn5D,IAAOm+C,oBAAoB,sBAAwBt+C,EAAID,QAAQy5D,SAAWx5D,EAAID,QAAQy5D,QAAQzyD,QAC9F5G,IAAOm+C,oBAAoB,YAAct+C,EAAID,QAAQy5D,SAAWx5D,EAAID,QAAQy5D,QAAQ1yD,QAEjF6yD,EAAKpa,GACLp/C,IAAOkmD,SAASxxB,EAAMvyB,GACtBnC,IAAOomD,YAAY1xB,EAAMizB,GAErB4R,IACAl5D,EAAOoC,aAAa,aAAc5C,GAClC05D,GAAoB,KAGxBv5D,IAAOkmD,SAASxxB,EAAMizB,GACtB3nD,IAAOomD,YAAY1xB,EAAMvyB,GAEA,GAArBo3D,IACAl5D,EAAOoC,aAAa,cAAe5C,GACnC05D,GAAoB,KAIxBC,EAAKpa,GAAUka,EAAgBE,GAC/Bx5D,IAAOkmD,SAASxxB,EAAMvyB,GACtBnC,IAAOomD,YAAY1xB,EAAMizB,GAErB4R,IACAl5D,EAAOoC,aAAa,aAAc5C,GAClC05D,GAAoB,KAGxBv5D,IAAOkmD,SAASxxB,EAAMizB,GACtB3nD,IAAOomD,YAAY1xB,EAAMvyB,GAEA,GAArBo3D,IACAl5D,EAAOoC,aAAa,cAAe5C,GACnC05D,GAAoB,IAI5BD,EAAgBE,OAQ5B/2D,aAAc,SAASa,EAAM+iD,GACzB,IAAK,IAAIpjD,EAAI,EAAGA,EAAIpD,EAAIe,OAAOa,OAAQwB,IAAK,CACxC,IAAIO,EAAQ3D,EAAIe,OAAOqC,GACvB,GAAIO,EAAMF,MAAQA,EAAM,CACpB,GAAiB,GAAbE,EAAMC,IAMN,OAAOD,EAAME,QAAQC,KAAK7D,KAAMD,EAAKwmD,GALrC,GAAmB,GAAf7iD,EAAMI,MAEN,OADA/D,EAAIe,OAAOqC,GAAGW,OAAQ,EACfJ,EAAME,QAAQC,KAAK7D,KAAMD,EAAKwmD,MASzDzkD,SAAU,SAAS0B,EAAMI,EAASD,GAC9B5D,EAAIe,OAAOiD,KAAK,CACZP,KAAMA,EACNI,QAASA,EACTD,IAAKA,EACLG,OAAO,MAmCnB,OAtBA/D,EAAIiE,YAAc,SAASlE,GACvBM,EAAiBN,GAMrBC,EAAIsC,GAAK,SAASmB,EAAMI,GACpB,OAAOrD,EAAOuB,SAAS0B,EAAMI,IAQjCrD,EAAOC,UAAU8D,MAAMvE,EAAK,CAACD,KAGtB,EAGAC,IAIoD,qBAAnBwE,EAAOC,UAC/CD,EAAOC,QAAU02C,GAGNA,Q,wDC/Mf,uBAMIkB,EAAW,SAASv8C,EAAWC,GAE/B,IAAIC,EAAMC,KAINC,EAAUC,IAAOC,IAAIN,GACdK,IAAOC,IAAI,QAEtB,GAAKF,EAAL,CAKA,IAAIG,EAAiB,CACjBs8C,aAAc,GACdD,YAAa,IAObl8C,EAAS,CAKTC,UAAW,SAASV,GAahB,OAZII,IAAOO,KAAKR,GAASS,IAAI,UACzBX,EAAMG,IAAOO,KAAKR,GAASE,IAAI,WAG/BI,EAAOI,KAAKb,GAGZS,EAAOK,QAEPV,IAAOO,KAAKR,GAASY,IAAI,SAAUd,IAGhCA,GAMXY,KAAM,SAASb,GACXC,EAAIE,QAAUA,EACdF,EAAIe,OAAS,GAGbf,EAAID,QAAUI,IAAOa,WAAW,GAAIX,EAAgBN,GAEpDC,EAAIogB,OAASjgB,IAAOC,IAAIJ,EAAID,QAAQqgB,QACpCpgB,EAAI08C,YAAc18C,EAAID,QAAQ28C,YAC9B18C,EAAI28C,aAAe38C,EAAID,QAAQ48C,aAE/B38C,EAAIiF,MAAQ9E,IAAOqoD,WAAWxoD,EAAIogB,OAAQpgB,EAAI08C,aAAe,KAAO,OAMxE77C,MAAO,WACHV,IAAO4B,SAAS7B,EAAS,UAAWM,EAAO0G,SAM/CA,OAAQ,SAASlF,GAab,OAZAxB,EAAOoC,aAAa,gBAEH,OAAb5C,EAAIiF,MACJzE,EAAOo5D,WAEPp5D,EAAOq5D,YAGXr5D,EAAOoC,aAAa,eAEpBZ,EAAEC,iBAEKjC,GAMX45D,SAAU,WAeN,OAdAp5D,EAAOoC,aAAa,YAEpBzC,IAAOkmD,SAASrmD,EAAIogB,OAAQpgB,EAAI08C,aAE5B18C,EAAI28C,cACJx8C,IAAOkmD,SAASnmD,EAASF,EAAI28C,cAGjC38C,EAAIiF,MAAQ,KAEZzE,EAAOoC,aAAa,WAEpBpC,EAAOoC,aAAa,UAEb5C,GAMX65D,UAAW,WAeP,OAdAr5D,EAAOoC,aAAa,aAEpBzC,IAAOomD,YAAYvmD,EAAIogB,OAAQpgB,EAAI08C,aAE/B18C,EAAI28C,cACJx8C,IAAOomD,YAAYrmD,EAASF,EAAI28C,cAGpC38C,EAAIiF,MAAQ,MAEZzE,EAAOoC,aAAa,YAEpBpC,EAAOoC,aAAa,UAEb5C,GAMX4C,aAAc,SAASa,GACnB,IAAK,IAAIL,EAAI,EAAGA,EAAIpD,EAAIe,OAAOa,OAAQwB,IAAK,CACxC,IAAIO,EAAQ3D,EAAIe,OAAOqC,GAEvB,GAAIO,EAAMF,MAAQA,EAAM,CACpB,GAAiB,GAAbE,EAAMC,IAMN,OAAOD,EAAME,QAAQC,KAAK7D,KAAMD,GALhC,GAAmB,GAAf2D,EAAMI,MAEN,OADA/D,EAAIe,OAAOqC,GAAGW,OAAQ,EACfJ,EAAME,QAAQC,KAAK7D,KAAMD,MASpD+B,SAAU,SAAS0B,EAAMI,EAASD,GAQ9B,OAPA5D,EAAIe,OAAOiD,KAAK,CACZP,KAAMA,EACNI,QAASA,EACTD,IAAKA,EACLG,OAAO,IAGJ/D,IA+Df,OAnDAA,EAAIiE,YAAc,SAASlE,GACvBM,EAAiBN,GAMrBC,EAAIkkD,SAAW,WACX,OAAOlkD,EAAIiF,OAMfjF,EAAIkH,OAAS,WACT,OAAO1G,EAAO0G,UAMlBlH,EAAI45D,SAAW,WACX,OAAOp5D,EAAOo5D,YAMlB55D,EAAI65D,UAAY,WACZ,OAAOr5D,EAAOq5D,aAOlB75D,EAAIsC,GAAK,SAASmB,EAAMI,GACpB,OAAOrD,EAAOuB,SAAS0B,EAAMI,IAOjC7D,EAAI4D,IAAM,SAASH,EAAMI,GACrB,OAAOrD,EAAOuB,SAAS0B,EAAMI,GAAS,IAI1CrD,EAAOC,UAAU8D,MAAMvE,EAAK,CAACD,IAEtBC,IAIoD,qBAAnBwE,EAAOC,UAC/CD,EAAOC,QAAU43C,GAGNA,Q,wDC1Of,uBAIIiD,EAAc,SAASx/C,EAAWC,GAElC,IAAIC,EAAMC,KAINC,EAAUC,IAAOC,IAAIN,GACrB+0B,EAAO10B,IAAOC,IAAI,QAEtB,GAAKF,EAAL,CAKA,IAAIG,EAAiB,CACjBk/C,OAAQ,IACRC,MAAO,IACPsa,YAAa,oBAObt5D,EAAS,CAKTC,UAAW,SAASV,GAahB,OAZII,IAAOO,KAAKR,GAASS,IAAI,aACzBX,EAAMG,IAAOO,KAAKR,GAASE,IAAI,cAG/BI,EAAOI,KAAKb,GAGZS,EAAOK,QAEPV,IAAOO,KAAKR,GAASY,IAAI,YAAad,IAGnCA,GAOXY,KAAM,SAASb,GACXC,EAAIe,OAAS,GAGbf,EAAID,QAAUI,IAAOa,WAAW,GAAIX,EAAgBN,IAGxDc,MAAO,WAECg3D,UAAUC,UAAUnkC,MAAM,sBAC1Bpc,OAAO0tC,iBAAiB,YAAY,WAChCzkD,EAAOu5D,YAGXxiD,OAAO0tC,iBAAiB,eAAe,WACnCzkD,EAAOu5D,YAGXxiD,OAAO0tC,iBAAiB,cAAc,WAClCzkD,EAAOu5D,aAGXxiD,OAAO0tC,iBAAiB,UAAU,WAC9BzkD,EAAOu5D,YAKf55D,IAAO4B,SAAS7B,EAAS,QAASM,EAAOk+C,SAM7Cqb,OAAQ,WACMxiD,OAAO27C,YACPlzD,EAAID,QAAQw/C,OAClBp/C,IAAOkmD,SAASxxB,EAAM70B,EAAID,QAAQ+5D,aAElC35D,IAAOomD,YAAY1xB,EAAM70B,EAAID,QAAQ+5D,cAO7Cpb,OAAQ,SAAS18C,GACbA,EAAEC,iBAEF9B,IAAOkoD,UAAU,EAAGroD,EAAID,QAAQy/C,QAOpC58C,aAAc,SAASa,EAAM+iD,GACzB,IAAK,IAAIpjD,EAAI,EAAGA,EAAIpD,EAAIe,OAAOa,OAAQwB,IAAK,CACxC,IAAIO,EAAQ3D,EAAIe,OAAOqC,GACvB,GAAIO,EAAMF,MAAQA,EAAM,CACpB,GAAiB,GAAbE,EAAMC,IAMP,OAAOD,EAAME,QAAQC,KAAK7D,KAAMD,EAAKwmD,GALpC,GAAmB,GAAf7iD,EAAMI,MAEN,OADA/D,EAAIe,OAAOqC,GAAGW,OAAQ,EACfJ,EAAME,QAAQC,KAAK7D,KAAMD,EAAKwmD,MASzDzkD,SAAU,SAAS0B,EAAMI,EAASD,GAC9B5D,EAAIe,OAAOiD,KAAK,CACZP,KAAMA,EACNI,QAASA,EACTD,IAAKA,EACLG,OAAO,MA2CnB,OA9BA/D,EAAIiE,YAAc,SAASlE,GACvBM,EAAiBN,GAMrBC,EAAIsC,GAAK,SAASmB,EAAMI,GACpB,OAAOrD,EAAOuB,SAAS0B,EAAMI,IAOjC7D,EAAI4D,IAAM,SAASH,EAAMI,GACrB,OAAOrD,EAAOuB,SAAS0B,EAAMI,GAAS,IAQ1CrD,EAAOC,UAAU8D,MAAMvE,EAAK,CAACD,KAGtB,EAGAC,IAIoD,qBAAnBwE,EAAOC,UAC/CD,EAAOC,QAAU66C,GAGLA,Q,6PCrKT,SAAS0a,EAAT,GAAqD,IAAhCp/C,EAA+B,EAA/BA,KAAMD,EAAyB,EAAzBA,SAAUD,EAAe,EAAfA,YAAe,EACfvC,oBAAS,GADM,mBAClDsJ,EADkD,KACnCC,EADmC,KAEnDhQ,EAAWQ,mBAAQ,kBAAMyP,iBAAO/G,KAAO,CAACA,IAE9C,OACE,yBAAKnL,UAAU,qBACXiL,GACA,kBAAC,IAAD,CACE7N,MAAM,SACNgV,UAAU,OACVC,KAAML,EACNM,QAAS,WACPL,GAAiB,KAGnB,uBACE5B,KAAK,IACLrQ,UAAU,wBACV+K,QAAS,kBACPwH,IAAKpH,GAAMpR,MAAK,WACdkY,GAAiB,QAIrB,uBAAGjS,UAAU,iBAKnB,kBAAC,IAAD,CAAmBkL,SAAUA,EAAUpT,MAAO0a,KAC3CvQ,IAMM,SAASuoD,EAAT,GAA6D,IAAtC93C,EAAqC,EAArCA,OAAQzQ,EAA6B,EAA7BA,SAAU0Q,EAAmB,EAAnBA,gBAAmB,EAC/BjK,oBAAS,GADsB,mBAClEkK,EADkE,KACnD63C,EADmD,KAGzE,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACErtD,MAAOuV,EACP9b,QACE6b,GACE,kBAAC,IAAD,KACE,4BACEhd,KAAK,SACLqV,QAAS,kBAAM0/C,GAAiB,SAAAC,GAAU,OAAKA,MAC/C1qD,UAAU,8DAEV,uBAAGA,UAAU,mBAOvB,kBAAC,IAAD,KACG0S,GAAUE,GACT,kBAAC23C,EAAD,CAAWr/C,SAAS,aAAaC,KAAMuH,IAGxCzQ,GAAY,yBAAKjC,UAAU,uBAAuBiC,Q","file":"static/js/main.912ff01b.chunk.js","sourcesContent":["/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-loop-func,no-undef,no-restricted-globals,strict,no-unused-vars,no-cond-assign,eqeqeq,no-throw-literal,no-unreachable,no-useless-escape,no-redeclare,no-useless-concat,no-unused-expressions,no-sequences */\r\nimport KTUtil from \"./util\";\r\n\r\n// plugin setup\r\nvar KTWizard = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        startStep: 1,\r\n        clickableSteps: true\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('wizard')) {\r\n                the = KTUtil.data(element).get('wizard');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('wizard', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Init wizard\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // Elements\r\n            the.steps = KTUtil.findAll(element, '[data-ktwizard-type=\"step\"]');\r\n\r\n            the.btnSubmit = KTUtil.find(element, '[data-ktwizard-type=\"action-submit\"]');\r\n            the.btnNext = KTUtil.find(element, '[data-ktwizard-type=\"action-next\"]');\r\n            the.btnPrev = KTUtil.find(element, '[data-ktwizard-type=\"action-prev\"]');\r\n            the.btnLast = KTUtil.find(element, '[data-ktwizard-type=\"action-last\"]');\r\n            the.btnFirst = KTUtil.find(element, '[data-ktwizard-type=\"action-first\"]');\r\n\r\n            // Variables\r\n            the.events = [];\r\n            the.currentStep = 1;\r\n            the.stopped = false;\r\n            the.totalSteps = the.steps.length;\r\n\r\n            // Init current step\r\n            if (the.options.startStep > 1) {\r\n                Plugin.goTo(the.options.startStep);\r\n            }\r\n\r\n            // Init UI\r\n            Plugin.updateUI();\r\n        },\r\n\r\n        /**\r\n         * Build Form Wizard\r\n         */\r\n        build: function() {\r\n            // Next button event handler\r\n            KTUtil.addEvent(the.btnNext, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goTo(Plugin.getNextStep(), true);\r\n            });\r\n\r\n            // Prev button event handler\r\n            KTUtil.addEvent(the.btnPrev, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goTo(Plugin.getPrevStep(), true);\r\n            });\r\n\r\n            // First button event handler\r\n            KTUtil.addEvent(the.btnFirst, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goTo(Plugin.getFirstStep(), true);\r\n            });\r\n\r\n            // Last button event handler\r\n            KTUtil.addEvent(the.btnLast, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goTo(Plugin.getLastStep(), true);\r\n            });\r\n\r\n            if (the.options.clickableSteps === true) {\r\n                KTUtil.on(element, '[data-ktwizard-type=\"step\"]', 'click', function() {\r\n                    var index = KTUtil.index(this) + 1;\r\n                    if (index !== the.currentStep) {\r\n                        Plugin.goTo(index, true);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles wizard click wizard\r\n         */\r\n        goTo: function(number, eventHandle) {\r\n            // Skip if this step is already shown\r\n            if (number === the.currentStep || number > the.totalSteps || number < 0) {\r\n                return;\r\n            }\r\n\r\n            // Validate step number\r\n            if (number) {\r\n                number = parseInt(number);\r\n            } else {\r\n                number = Plugin.getNextStep();\r\n            }\r\n\r\n            // Before next and prev events\r\n            var callback;\r\n\r\n            if (eventHandle === true) {\r\n                if (number > the.currentStep) {\r\n                    callback = Plugin.eventTrigger('beforeNext');\r\n                } else {\r\n                    callback = Plugin.eventTrigger('beforePrev');\r\n                }\r\n            }\r\n\r\n            // Skip if stopped\r\n            if (the.stopped === true) {\r\n                the.stopped = false;\r\n                return;\r\n            }\r\n\r\n            // Continue if no exit\r\n            if (callback !== false) {\r\n                // Before change\r\n                if (eventHandle === true) {\r\n                    Plugin.eventTrigger('beforeChange');\r\n                }\r\n\r\n                // Set current step\r\n                the.currentStep = number;\r\n\r\n                Plugin.updateUI();\r\n\r\n                // Trigger change event\r\n                if (eventHandle === true) {\r\n                    Plugin.eventTrigger('change');\r\n                }\r\n            }\r\n\r\n            // After next and prev events\r\n            if (eventHandle === true) {\r\n                if (number > the.startStep) {\r\n                    Plugin.eventTrigger('afterNext');\r\n                } else {\r\n                    Plugin.eventTrigger('afterPrev');\r\n                }\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Cancel\r\n         */\r\n        stop: function() {\r\n            the.stopped = true;\r\n        },\r\n\r\n        /**\r\n         * Resume\r\n         */\r\n        start: function() {\r\n            the.stopped = false;\r\n        },\r\n\r\n        /**\r\n         * Check last step\r\n         */\r\n        isLastStep: function() {\r\n            return the.currentStep === the.totalSteps;\r\n        },\r\n\r\n        /**\r\n         * Check first step\r\n         */\r\n        isFirstStep: function() {\r\n            return the.currentStep === 1;\r\n        },\r\n\r\n        /**\r\n         * Check between step\r\n         */\r\n        isBetweenStep: function() {\r\n            return Plugin.isLastStep() === false && Plugin.isFirstStep() === false;\r\n        },\r\n\r\n        /**\r\n         * Go to the first step\r\n         */\r\n        updateUI: function() {\r\n            var stepType = '';\r\n            var index = the.currentStep - 1;\r\n\r\n            if (Plugin.isLastStep()) {\r\n                stepType = 'last';\r\n            } else if (Plugin.isFirstStep()) {\r\n                stepType = 'first';\r\n            } else {\r\n                stepType = 'between';\r\n            }\r\n\r\n            KTUtil.attr(the.element, 'data-ktwizard-state', stepType);\r\n\r\n            // Steps\r\n            var steps = KTUtil.findAll(the.element, '[data-ktwizard-type=\"step\"]');\r\n\r\n            if (steps && steps.length > 0) {\r\n                for (var i = 0, len = steps.length; i < len; i++) {\r\n                    if (i == index) {\r\n                        KTUtil.attr(steps[i], 'data-ktwizard-state', 'current');\r\n                    } else {\r\n                        if (i < index) {\r\n                            KTUtil.attr(steps[i], 'data-ktwizard-state', 'done');\r\n                        } else {\r\n                            KTUtil.attr(steps[i], 'data-ktwizard-state', 'pending');\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Steps Info\r\n            var stepsInfo = KTUtil.findAll(the.element, '[data-ktwizard-type=\"step-info\"]');\r\n            if (stepsInfo &&stepsInfo.length > 0) {\r\n                for (var i = 0, len = stepsInfo.length; i < len; i++) {\r\n                    if (i == index) {\r\n                        KTUtil.attr(stepsInfo[i], 'data-ktwizard-state', 'current');\r\n                    } else {\r\n                        KTUtil.removeAttr(stepsInfo[i], 'data-ktwizard-state');\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Steps Content\r\n            var stepsContent = KTUtil.findAll(the.element, '[data-ktwizard-type=\"step-content\"]');\r\n            if (stepsContent&& stepsContent.length > 0) {\r\n                for (var i = 0, len = stepsContent.length; i < len; i++) {\r\n                    if (i == index) {\r\n                        KTUtil.attr(stepsContent[i], 'data-ktwizard-state', 'current');\r\n                    } else {\r\n                        KTUtil.removeAttr(stepsContent[i], 'data-ktwizard-state');\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get next step\r\n         */\r\n        getNextStep: function() {\r\n            if (the.totalSteps >= (the.currentStep + 1)) {\r\n                return the.currentStep + 1;\r\n            } else {\r\n                return the.totalSteps;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get prev step\r\n         */\r\n        getPrevStep: function() {\r\n            if ((the.currentStep - 1) >= 1) {\r\n                return the.currentStep - 1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, nested) {\r\n            //KTUtil.triggerCustomEvent(name);\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Go to the next step\r\n     */\r\n    the.goNext = function(eventHandle) {\r\n        return Plugin.goTo(Plugin.getNextStep(), eventHandle);\r\n    };\r\n\r\n    /**\r\n     * Go to the prev step\r\n     */\r\n    the.goPrev = function(eventHandle) {\r\n        return Plugin.goTo(Plugin.getPrevStep(),eventHandle);\r\n    };\r\n\r\n    /**\r\n     * Go to the last step\r\n     */\r\n    the.goLast = function(eventHandle) {\r\n        return Plugin.goTo(Plugin.getLastStep(), eventHandle);\r\n    };\r\n\r\n    /**\r\n     * Go to the first step\r\n     */\r\n    the.goFirst = function(eventHandle) {\r\n        return Plugin.goTo(Plugin.getFirstStep(), eventHandle);\r\n    };\r\n\r\n    /**\r\n     * Go to a step\r\n     */\r\n    the.goTo = function(number, eventHandle) {\r\n        return Plugin.goTo(number, eventHandle);\r\n    };\r\n\r\n    /**\r\n     * Cancel step\r\n     */\r\n    the.stop = function() {\r\n        return Plugin.stop();\r\n    };\r\n\r\n    /**\r\n     * Resume step\r\n     */\r\n    the.start = function() {\r\n        return Plugin.start();\r\n    };\r\n\r\n    /**\r\n     * Get current step number\r\n     */\r\n    the.getStep = function() {\r\n        return the.currentStep;\r\n    };\r\n\r\n    /**\r\n     * Check last step\r\n     */\r\n    the.isLastStep = function() {\r\n        return Plugin.isLastStep();\r\n    };\r\n\r\n    /**\r\n     * Check first step\r\n     */\r\n    the.isFirstStep = function() {\r\n        return Plugin.isFirstStep();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTWizard;\r\n}\r\n\r\nexport default KTWizard;\r\n","import { persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nconst actionTypes = {\r\n  SetLanguage: \"i18n/SET_LANGUAGE\"\r\n};\r\n\r\nconst initialState = {\r\n  lang: \"en\"\r\n};\r\n\r\nexport const reducer = persistReducer(\r\n  { storage, key: \"i18n\" },\r\n  (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case actionTypes.SetLanguage:\r\n        return { ...state, lang: action.payload.lang };\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n);\r\n\r\nexport const actions = {\r\n  setLanguage: lang => ({ type: actionTypes.SetLanguage, payload: { lang } })\r\n};\r\n","export const initLayoutConfig = {\r\n  demo: \"demo3\",\r\n  // Base Layout\r\n  colors: {\r\n    state: {\r\n      brand: \"#2c77f4\",\r\n      light: \"#ffffff\",\r\n      dark: \"#282a3c\",\r\n\r\n      primary: \"#5867dd\",\r\n      success: \"#34bfa3\",\r\n      info: \"#36a3f7\",\r\n      warning: \"#ffb822\",\r\n      danger: \"#fd3995\"\r\n    },\r\n    base: {\r\n      label: [\"#c5cbe3\", \"#a1a8c3\", \"#3d4465\", \"#3e4466\"],\r\n      shape: [\"#f0f3ff\", \"#d9dffa\", \"#afb4d4\", \"#646c9a\"]\r\n    }\r\n  },\r\n  loader: {\r\n    type: \"\"\r\n  },\r\n  // Page toolbar\r\n  toolbar: {\r\n    display: true\r\n  },\r\n  header: {\r\n    self: {\r\n      width: \"fluid\", // fixed|fluid\r\n      skin: \"light\", // light\r\n      layout: \"layout-1\", // layout-1, layout-2, layout-3, layout-4\r\n      fixed: {\r\n        desktop: true,\r\n        mobile: true\r\n      }\r\n    },\r\n    menu: {\r\n      self: {\r\n        display: true,\r\n        \"root-arrow\": false,\r\n        \"icon-style\": \"bold\",\r\n        layout: \"tab\" //tab|default\r\n      },\r\n      desktop: {\r\n        arrow: true,\r\n        toggle: \"click\",\r\n        submenu: {\r\n          skin: \"light\",\r\n          arrow: true\r\n        }\r\n      },\r\n      mobile: {\r\n        submenu: {\r\n          skin: \"dark\",\r\n          accordion: true\r\n        }\r\n      }\r\n    }\r\n  },\r\n  subheader: {\r\n    display: true,\r\n    fixed: true,\r\n    layout: \"subheader-3\",\r\n    width: \"fluid\", //fixed|fluid\r\n    layouts: {\r\n      \"subheader-v1\": \"Subheader v1\",\r\n      \"subheader-v2\": \"Subheader v2\",\r\n      \"subheader-v3\": \"Subheader v3\",\r\n      \"subheader-v4\": \"Subheader v4\"\r\n    },\r\n    style: \"bold\" // transparent|solid\r\n  },\r\n  // Content\r\n  content: {\r\n    width: \"fluid\"\r\n  },\r\n  brand: {\r\n    self: {\r\n      skin: \"navy\"\r\n    }\r\n  },\r\n  aside: {\r\n    self: {\r\n      display: true,\r\n      fixed: true,\r\n      minimize: {\r\n        toggle: true, // allow toggle\r\n        default: false // default state\r\n      }\r\n    },\r\n    footer: {\r\n      self: {\r\n        display: true\r\n      }\r\n    },\r\n    menu: {\r\n      \"root-arrow\": false,\r\n      dropdown: \"true\", // ok\r\n      submenu: {\r\n        accordion: false,\r\n        dropdown: {\r\n          arrow: \"false\",\r\n          \"hover-timeout\": 500 // in milliseconds\r\n        }\r\n      }\r\n    }\r\n  },\r\n  footer: {\r\n    self: {\r\n      width: \"fluid\" // fixed|fluid\r\n    }\r\n  }\r\n};\r\n\r\nlet LayoutConfig = JSON.parse(JSON.stringify(initLayoutConfig)); // deep object copy\r\nexport default LayoutConfig;\r\n","import axios from \"axios\";\r\n\r\n\r\n// export const API_URL = \"http://localhost:8000/api/\";\r\nexport const API_URL = process.env.REACT_APP_API_URL+'api/';\r\nexport const MEDIA_URL = process.env.REACT_APP_API_URL+'static/media/uploads/';\r\nexport const LOCAL_STORAGE = 'persist:demo3-auth'\r\nexport const NO_IMAGE = '/static/media/NO_IMAGE.svg';\r\n\r\nexport const headers = {\r\n  'Content-Type': 'application/json',\r\n  'Authorization': 'Token '+getToken()\r\n}\r\nexport const PERMISSIONS = [\r\n  { value: 1, label: \"Create\" },\r\n  { value: 2, label: \"Edit\" },\r\n  { value: 3, label: \"Details\" },\r\n  { value: 4, label: \"Delete\" }\r\n];\r\n\r\nexport const MESSAGE_TYPES = [\r\n  { value: 'user-activation', label: \"User activation\" },\r\n  { value: 'contact-create', label: \"Contact create\" },\r\n  { value: 'asset-status', label: \"Asset status\" },\r\n  { value: 'user-registration', label: \"User registration\" },\r\n  { value: 'wanted-asset-publish', label: \"Wanted asset publish\" },\r\n];\r\n\r\nexport const POSITIONS = [\r\n\t{ value: 'Left', label: \"Left\" },\r\n\t{ value: 'Center', label: \"Center\" },\r\n\t{ value: 'Right', label: \"Right\" },\r\n  ];\r\n\r\nexport const TIMEZONES = [\r\n  { value: 'GMT-11:00', label: \"GMT-11:00\" },\r\n  { value: 'GMT-11:30', label: \"GMT-11:30\" },\r\n  { value: 'GMT-10:00', label: \"GMT-10:00\" },\r\n  { value: 'GMT-10:30', label: \"GMT-10:30\" },\r\n  { value: 'GMT-9:00', label: \"GMT-9:00\" },\r\n  { value: 'GMT-9:30', label: \"GMT-9:30\" },\r\n  { value: 'GMT-8:00', label: \"GMT-8:00\" },\r\n  { value: 'GMT-8:30', label: \"GMT-8:30\" },\r\n  { value: 'GMT-7:00', label: \"GMT-7:00\" },\r\n  { value: 'GMT-7:30', label: \"GMT-7:30\" },\r\n  { value: 'GMT-6:00', label: \"GMT-6:00\" },\r\n  { value: 'GMT-6:30', label: \"GMT-6:30\" },\r\n  { value: 'GMT-5:00', label: \"GMT-5:00\" },\r\n  { value: 'GMT-5:30', label: \"GMT-5:30\" },\r\n  { value: 'GMT-4:00', label: \"GMT-4:00\" },\r\n  { value: 'GMT-4:30', label: \"GMT-4:30\" },\r\n  { value: 'GMT-3:00', label: \"GMT-3:00\" },\r\n  { value: 'GMT-3:30', label: \"GMT-3:30\" },\r\n  { value: 'GMT-2:00', label: \"GMT-2:00\" },\r\n  { value: 'GMT-2:30', label: \"GMT-2:30\" },\r\n  { value: 'GMT-1:00', label: \"GMT-1:00\" },\r\n  { value: 'GMT-1:30', label: \"GMT-1:30\" },\r\n  { value: 'GMT 0:00', label: \"GMT 0:00\" },\r\n  { value: 'GMT+0:30', label: \"GMT+0:30\" },\r\n  { value: 'GMT+1:00', label: \"GMT+1:00\" },\r\n  { value: 'GMT+1:30', label: \"GMT+1:30\" },\r\n  { value: 'GMT+2:00', label: \"GMT+2:00\" },\r\n  { value: 'GMT+2:30', label: \"GMT+2:30\" },\r\n  { value: 'GMT+3:00', label: \"GMT+3:00\" },\r\n  { value: 'GMT+3:30', label: \"GMT+3:30\" },\r\n  { value: 'GMT+4:00', label: \"GMT+4:00\" },\r\n  { value: 'GMT+4:30', label: \"GMT+4:30\" },\r\n  { value: 'GMT+5:00', label: \"GMT+5:00\" },\r\n  { value: 'GMT+5:30', label: \"GMT+5:30\" },\r\n  { value: 'GMT+6:00', label: \"GMT+6:00\" },\r\n  { value: 'GMT+6:30', label: \"GMT+6:30\" },\r\n  { value: 'GMT+7:00', label: \"GMT+7:00\" },\r\n  { value: 'GMT+7:30', label: \"GMT+7:30\" },\r\n  { value: 'GMT+8:00', label: \"GMT+8:00\" },\r\n  { value: 'GMT+8:30', label: \"GMT+8:30\" },\r\n  { value: 'GMT+9:00', label: \"GMT+9:00\" },\r\n  { value: 'GMT+9:30', label: \"GMT+9:30\" },\r\n  { value: 'GMT+10:00', label: \"GMT+10:00\" },\r\n  { value: 'GMT+10:30', label: \"GMT+10:30\" },\r\n  { value: 'GMT+11:00', label: \"GMT+11:00\" },\r\n  { value: 'GMT+11:30', label: \"GMT+11:30\" },\r\n];\r\n\r\nexport function getToken() {\r\n\tvar token = null;\r\n\tif(localStorage.getItem('persist:demo3-auth') != null) {\r\n\t\ttoken = JSON.parse(localStorage.getItem('persist:demo3-auth')).authToken;\r\n\t\tif(token != undefined)\r\n\t\t\tvar token = token.replace(/['\"]+/g, '');\r\n\t\telse\r\n\t\t\ttoken = null;\r\n\t}\r\n\treturn token;\r\n}\r\n\r\nexport function setLocalStorageUser(user) {\r\n\tif(localStorage.getItem('persist:demo3-auth') != null) {\r\n\t\tlet data = JSON.parse(localStorage.getItem('persist:demo3-auth'));\r\n\t\tdata.user = JSON.stringify(user);\r\n\t\tlocalStorage.setItem('persist:demo3-auth', JSON.stringify(user));\r\n\t}\r\n}\r\n\r\nexport function setLocalStorageItem(key, value) {\r\n\tlet data = {};\r\n\tif(localStorage.getItem('airbook-custom') != null)\r\n\t\tdata = JSON.parse(localStorage.getItem('airbook-custom'));\r\n\tdata[key] = value;\r\n\tlocalStorage.setItem('airbook-custom', JSON.stringify(data));\r\n}\r\n\r\nexport function getLocalStorageItem(key) {\r\n\tif(localStorage.getItem('airbook-custom') != null) {\r\n\t\tlet data = JSON.parse(localStorage.getItem('airbook-custom'));\r\n\t\treturn data[key];\r\n\t}\r\n}\r\n\r\nexport function getReduxLocalStorageItem(key) {\r\n  if (typeof localStorage !== \"undefined\") {\r\n    if (localStorage.getItem('persist:demo3-auth') != null) {\r\n      let data = JSON.parse(localStorage.getItem('persist:demo3-auth'));\r\n      if (key in data)\r\n        return data[key];\r\n    }\r\n  }\r\n  return undefined\r\n}\r\n\r\nexport function userHasPermission(permission) {\r\n\tif(localStorage.getItem('persist:demo3-auth') != null) {\r\n\t\tlet user = JSON.parse(localStorage.getItem('persist:demo3-auth')).user;\r\n\t\tif(user != undefined){\r\n\t\t\tuser = JSON.parse(user);\r\n\t\t\tif(user.group_name.toLowerCase() == \"admin\")\r\n\t\t\t\treturn true;\r\n\r\n\t\t\tif(Array.isArray(permission)){\r\n\t\t\t\tfor(let i in permission) {\r\n\t\t\t\t\tif(user.permissions.indexOf(permission[i]) > -1)\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\telse if(user.group_permissions.indexOf(permission[i]) > -1) \r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif(user.permissions.indexOf(permission) > -1)\r\n\t\t\t\t\treturn true;\r\n\t\t\t\telse if(user.group_permissions.indexOf(permission) > -1) \r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nexport function list(endpoint, params={}) {\r\n\tlet config = {\r\n\t  headers: headers,\r\n\t  params: params,\r\n\t}\r\n\treturn axios.get(API_URL+endpoint, config).then(response => {\r\n\t\tif(response.data.results != undefined) {\r\n\t\t\t// pagination response handling there :)\r\n\t\t\tresponse.extra_data = {\r\n\t\t\t\tcount : response.data.count,\r\n\t\t\t\tnext : response.data.next,\r\n\t\t\t\tprevious : response.data.previous,\r\n\t\t\t}\r\n\t\t\tresponse.data = response.data.results;\r\n\t\t}\r\n\t\treturn response;\r\n\t})\r\n}\r\n\r\nexport function patch(endpoint, data) {\r\n\tlet config = {\r\n\t  headers: headers,\r\n\t}\r\n\treturn axios.patch(API_URL+endpoint, data, config)\r\n}\r\n\r\nexport function post(endpoint, data) {\r\n\tlet config = {\r\n\t  headers: headers,\r\n\t}\r\n\treturn axios.post(API_URL+endpoint, data, config)\r\n}\r\n\r\nexport function del(endpoint, data={}) {\r\n\tlet config = {\r\n\t  headers: headers,\r\n\t  data: data,\r\n\t}\r\n\treturn axios.delete(API_URL+endpoint, config)\r\n}\r\nexport const PAGES = [\r\n\t{label:'Home', value:'1'},\r\n\t{label:'Aircraft', value:'2'},\r\n\t{label:'Engine', value:'3'},\r\n\t{label:'Apu',  value:'4'},\r\n\t{label:'Wanted',  value:'5'},\r\n\t{label:'Airport',  value:'6'},\r\n\t{label:'News',  value:'7'},\r\n\t{label:'Event',  value:'8'},\r\n\t{label:'Contact',  value:'9'},\r\n\t{label:'Company',  value:'10'},\r\n\t{label:'Part',  value:'11'},\r\n\t{label:'About_Airbook',  value:'12'},\r\n\t{label:'Airbook_features',  value:'13'},\r\n\t{label:'Help_Support',  value:'14'},\r\n]\r\nexport const RELIGIONS = [\r\n\t{label:'Islam', value:'Islam'},\r\n\t{label:'Judasim', value:'Judasim'},\r\n\t{label:'Christianity', value:'Christianity'},\r\n\t{label:'Hinduism', value:'Hinduism'},\r\n\t{label:'Buddhism', value:'Buddhism'},\r\n\t{label:'Sikhism', value:'Sikhism'},\r\n\t{label:'Confucianism', value:'Confucianism'},\r\n\t{label:'Shinto', value:'Shinto'},\r\n\t{label:'Taoism', value:'Taoism'},\r\n\t{label:'Other', value:'Other'},\r\n]\r\n\r\nexport const SECTIONS = [\r\n\t{label:'Section One', value:'Section One'},\r\n\t{label:'Section Two', value:'Section Two'},\r\n\t{label:'Section Three', value:'Section Three'},\r\n\t{label:'Section Four', value:'Section Four'},\r\n\t{label:'Section Five', value:'Section Five'},\r\n\t{label:'Section Six', value:'Section Six'},\r\n\t{label:'Section Seven', value:'Section Seven'},\r\n\t{label:'Section Eight', value:'Section Eight'},\r\n\t{label:'Section Nine', value:'Section Nine'},\r\n\t{label:'Section Ten', value:'Section Ten'},\r\n]\r\n\r\nexport const CONTACT_METHODS = [\r\n\t{label:'Email', value:'Email'},\r\n\t{label:'Phone', value:'Phone'},\r\n\t{label:'Both', value:'Both'},\r\n]\r\n\r\nexport const GENDERS = [\r\n\t{label:'Male', value:'male'},\r\n\t{label:'Female', value:'female'},\r\n]\r\n\r\nexport const TITLES = [\r\n\t{label:'Mr', value:'Mr'},\r\n\t{label:'Mrs', value:'Mrs'},\r\n\t{label:'Ms', value:'Ms'},\r\n]\r\n\r\nexport const STATUSES = [\r\n\t{label:'Pending Approval', value:'Pending Approval'},\r\n\t{label:'Approved', value:'Approved'},\r\n\t{label:'Revise', value:'Revise'},\r\n\t{label:'Rejected', value:'Rejected'},\r\n]\r\n\r\nexport const ENQUERIES_STATUS = [\r\n\t{label:'On hold', value:'on hold'},\r\n\t{label:'Solved', value:'solved'},\r\n]\r\n\r\nexport const AIRCRAFT_STATUSES = [\r\n\t{label:'Operational', value:'Operational'},\r\n\t{label:'Parking', value:'Parking'},\r\n\t{label:'Storage', value:'Storage'},\r\n\t{label:'For Tear Down', value:'For Tear Down'},\r\n]\r\n\r\nexport const AIRCRAFT_COMPLIANCE = [\r\n\t{label:'EASA', value:'EASA'},\r\n\t{label:'FAA', value:'FAA'},\r\n\t{label:'TBA', value:'TBA'},\r\n]\r\n\r\nexport const AIRCRAFT_OFFER = [\r\n\t{label:'Sale', value:'Sale'},\r\n\t{label:'ACMI', value:'ACMI'},\r\n\t{label:'Dry Lease', value:'Dry Lease'},\r\n\t{label:'Wet Lease', value:'Wet Lease'},\r\n\t{label:'Lease Purchase', value:'Lease Purchase'},\r\n\t{label:'Exchange', value:'Exchange'},\r\n\t{label:'Charter', value:'Charter'},\r\n]\r\n\r\nexport const ENGINE_STATUSES = [\r\n\t{label:'New', value:'new'},\r\n\t{label:'As removed', value:'as removed'},\r\n\t{label:'Overhauled', value:'overhauled'},\r\n\t{label:'Serviceable', value:'serviceable'},\r\n\t{label:'Repaired', value:'repaired'},\r\n\t{label:'Operational', value:'operational'},\r\n\t{label:'Storage', value:'storage'},\r\n\t{label:'Non serviceable', value:'non serviceable'},\r\n\t{label:'Tear down', value:'tear down'},\r\n]\r\n\r\nexport const ENGINE_OFFER = [\r\n\t{label:'Sale', value:'Sale'},\r\n\t{label:'Lease', value:'Lease'},\r\n\t{label:'Lease Purchase', value:'Lease Purchase'},\r\n\t{label:'Exchange', value:'Exchange'},\r\n]\r\n\r\nexport const UNIT_MEASURES = [\r\n\t{label:'EA', value:'EA'},\r\n\t{label:'KG', value:'KG'},\r\n\t{label:'LBS', value:'LBS'},\r\n\t{label:'MM', value:'MM'},\r\n\t{label:'CM', value:'CM'},\r\n\t{label:'inch', value:'inch'},\r\n\t{label:'foot', value:'foot'},\r\n\t{label:'liter', value:'liter'},\r\n\t{label:'gallon', value:'gallon'},\r\n]\r\n\r\nexport const ASSETS = [\r\n\t{label:'Aircraft', value:'aircraft'},\r\n\t{label:'Engine', value:'engine'},\r\n\t{label:'Apu', value:'apu'},\r\n\t{label:'Parts', value:'parts'},\r\n]\r\n\r\nexport const AIRCRAFT_TERMS = [\r\n\t{label:'ACMI', value:'ACMI'},\r\n\t{label:'Dry Lease', value:'Dry Lease'},\r\n\t{label:'Charter', value:'Charter'},\r\n\t{label:'Lease Purchase', value:'Lease Purchase'},\r\n\t{label:'Outright Purchase', value:'Outright Purchase'},\r\n]\r\n\r\nexport const ENGINE_TERMS = [\r\n\t{label:'Outright Purchase', value:'Outright Purchase'},\r\n\t{label:'Lease', value:'Lease'},\r\n\t{label:'Lease Purchase', value:'Lease Purchase'},\r\n\t{label:'Exchange', value:'Exchange'},\r\n\t{label:'Part out', value:'Part out'},\r\n]\r\n\r\nexport const PART_TERMS = [\r\n\t{label:'Cash', value:'cash'},\r\n\t{label:'Exchange', value:'Exchange'},\r\n]\r\n\r\nexport const COMMERCIAL_EXTRA_FIELDS =\r\n    [\r\n        {label: 'Owner', value: 'owner'},\r\n        {label: 'Seller', value: 'seller'},\r\n        {label: 'Manager', value: 'manager'},\r\n        {label: 'Current Operator', value: 'current_operator'},\r\n        {label: 'Previous Operator', value: 'previous_operator'}\r\n    ];\r\n\r\nexport const AIRCRAFT_EXTRA_FIELDS =\r\n    [\r\n        {label: 'Compliance', value: 'compliance'},\r\n        {label: 'TSN', value: 'tsn'},\r\n        {label: 'CSN', value: 'csn'},\r\n        {label: 'MTOW Kg', value: 'mtow'},\r\n        {label: 'MLGW Kg', value: 'mlgw'},\r\n        {label: 'Last C Check', value: 'last_c_check'},\r\n        {label: 'Registration Number', value: 'registration_number'},\r\n        {label: 'Registration Country', value: 'registration_country'},\r\n    ];\r\n\r\nexport const ENGINE_EXTRA_FIELDS =\r\n    [\r\n        {label: 'TSO', value: 'tso'},\r\n        {label: 'Thrust Rating', value: 'thrust_rating'},\r\n        {label: 'LSV Description', value: 'lsv_description'},\r\n    ];\r\n\r\nexport const ENGINE_COMMERCIAL_EXTRA_FIELDS =\r\n    [\r\n        {label: 'Owner', value: 'owner'},\r\n        {label: 'Seller', value: 'seller'},\r\n    ];\r\n\r\nexport const APU_EXTRA_FIELDS =\r\n    [\r\n        {label: 'Thrust Rating', value: 'thrust_rating'},\r\n        {label: 'LSV Description', value: 'lsv_description'},\r\n    ];\r\n\r\nexport const APU_COMMERCIAL_EXTRA_FIELDS =\r\n    [\r\n        {label: 'Owner', value: 'owner'},\r\n        {label: 'Seller', value: 'seller'},\r\n    ];\r\n\r\nexport const PARTS_EXTRA_FIELDS =\r\n    [\r\n        {label: 'Release', value: 'release'},\r\n        {label: 'Unit Measure', value: 'unit_measure'},\r\n        {label: 'Price', value: 'price'},\r\n        {label: 'Location', value: 'location'},\r\n        {label: 'Owner', value: 'owner'},\r\n        {label: 'Seller', value: 'seller'},\r\n        {label: 'Primary Contact', value: 'primary_contact'},\r\n    ];\r\n\r\nexport const SUBSCRIPTION_DURATION =\r\n    [\r\n        {label: 'Monthly', value: 'monthly'},\r\n        {label: 'Yearly', value: 'yearly'},\r\n    ];\r\n\r\nexport const USER_URL = 'user';\r\n\r\nexport const DROPDOWN_WAIT = 2000\r\n\r\nexport const sleep = ms =>\r\n  new Promise(resolve => {\r\n    setTimeout(() => {\r\n      resolve();\r\n    }, ms);\r\n});\r\n\r\nexport function importData(data, model) {\r\n\tlet config = {\r\n\t\theaders: headers,\r\n\t\tdata: data,\r\n\t\tmodel:model\r\n\t}\r\n\treturn axios.post(API_URL+'import', config)\r\n}\r\n\r\n\r\nexport const loadOptions = async (search, prevOptions, options, modelsLoaded) => {\r\n\t// let's sleep unless models data loaded\r\n\tdo {\r\n\t\tawait sleep(100);\r\n\t} while (!modelsLoaded)\r\n\r\n\tlet filteredOptions;\r\n\tif (!search) {\r\n\t    filteredOptions = options;\r\n\t } else {\r\n\t    const searchLower = search.toLowerCase();\r\n\r\n    filteredOptions = options.filter(({ label }) =>\r\n\t      label.toLowerCase().includes(searchLower)\r\n\t    );\r\n\t  }\r\n\r\n\tconst hasMore = filteredOptions.length > prevOptions.length + 10;\r\n\tconst slicedOptions = filteredOptions.slice(\r\n\t  prevOptions.length,\r\n\t  prevOptions.length + 10\r\n\t);\r\n\r\n\treturn {\r\n\t  options: slicedOptions,\r\n\t  hasMore\r\n\t};\r\n};","import { USER_URL } from \"../../app/crud/api\";\r\n\r\nexport default {\r\n  header: {\r\n    self: {},\r\n    items: [\r\n      {\r\n        title: \"Quick Add\",\r\n        root: true,\r\n        alignment: \"left\",\r\n        toggle: \"click\",\r\n        \"custom-class\": \"quick-add-btn\",\r\n        icon: \"flaticon-add-circular-button\",\r\n        submenu: [\r\n          {\r\n            title: \"Aircraft\",\r\n            parent_title: \"Quick Add\",\r\n            root: true,\r\n            bullet: \"dot\",\r\n            page: USER_URL+'/aircraft/asset/create',\r\n          },\r\n          {\r\n            title: \"Engines\",\r\n            parent_title: \"Quick Add\",\r\n            root: true,\r\n            bullet: \"dot\",\r\n            page: USER_URL+'/engine/asset/create',\r\n          },\r\n          {\r\n            title: \"APU\",\r\n            parent_title: \"Quick Add\",\r\n            root: true,\r\n            bullet: \"dot\",\r\n            page: USER_URL+'/apu/asset/create',\r\n          },\r\n          {\r\n            title: \"Parts\",\r\n            parent_title: \"Quick Add\",\r\n            root: true,\r\n            bullet: \"dot\",\r\n            page: USER_URL+'/part/asset/create',\r\n          },\r\n          {\r\n            title: \"Wanted\",\r\n            parent_title: \"Quick Add\",\r\n            root: true,\r\n            bullet: \"dot\",\r\n            page: USER_URL+'/wanted/asset/create',\r\n          },\r\n        ]\r\n      },\r\n    ]\r\n  },\r\n  aside: {\r\n    self: {},\r\n    items: [\r\n      {\r\n        title: \"Dashboard\",\r\n        root: true,\r\n        icon: \"flaticon2-architecture-and-city\",\r\n        page: USER_URL+\"/dashboard\",\r\n        translate: \"MENU.DASHBOARD\",\r\n        bullet: \"dot\"\r\n      },\r\n      {\r\n        title: \"Assets\",\r\n        root: true,\r\n        bullet: \"dot\",\r\n        icon: \"flaticon2-layers-2\",\r\n        submenu: [\r\n          {\r\n            title: \"Aircraft\",\r\n            parent_title: \"Assets\",\r\n            root: true,\r\n            bullet: \"dot\",\r\n            page: USER_URL+'/aircraft/asset',\r\n          },\r\n          {\r\n            title: \"Engines\",\r\n            parent_title: \"Assets\",\r\n            root: true,\r\n            bullet: \"dot\",\r\n            page: USER_URL+'/engine/asset',\r\n          },\r\n          {\r\n            title: \"APU\",\r\n            parent_title: \"Assets\",\r\n            root: true,\r\n            bullet: \"dot\",\r\n            page: USER_URL+'/apu/asset',\r\n          },\r\n          {\r\n            title: \"Parts\",\r\n            parent_title: \"Assets\",\r\n            root: true,\r\n            bullet: \"dot\",\r\n            page: USER_URL+'/part/asset',\r\n          },\r\n          {\r\n            title: \"Wanted\",\r\n            parent_title: \"Assets\",\r\n            root: true,\r\n            bullet: \"dot\",\r\n            page: USER_URL+'/wanted/asset',\r\n          },\r\n        ]\r\n      },\r\n      {\r\n        title: \"Leads\",\r\n        root: true,\r\n        bullet: \"dot\",\r\n        icon: \"flaticon-network\",\r\n        page: USER_URL+'/lead',\r\n      },\r\n      {\r\n        title: \"Connections\",\r\n        root: true,\r\n        bullet: \"dot\",\r\n        icon: \"flaticon-attachment\",\r\n        page: USER_URL+'/connection',\r\n      },\r\n      {\r\n        title: \"Favourites\",\r\n        root: true,\r\n        bullet: \"dot\",\r\n        icon: \"flaticon-black\",\r\n        page: USER_URL+'/favourite',\r\n      },\r\n      {\r\n        title: \"Contacts\",\r\n        root: true,\r\n        icon: \"flaticon-avatar\",\r\n        page: USER_URL+'/contacts',\r\n      },\r\n      {\r\n        title: \"Invoices\",\r\n        root: true,\r\n        icon: \"flaticon-money\",\r\n        page: USER_URL+'/invoices',\r\n      },/*\r\n      {\r\n        title: \"Layout Builder\",\r\n        root: true,\r\n        icon: \"flaticon2-expand\",\r\n        page: \"builder\"\r\n      },*/\r\n      {\r\n        title: \"My Company\",\r\n        root: true,\r\n        bullet: \"dot\",\r\n        icon: \"flaticon-buildings\",\r\n        page: USER_URL+'/company/edit',\r\n      },\r\n      {\r\n        title: \"Cart\",\r\n        root: true,\r\n        skin: \"light\",\r\n        icon: \"flaticon2-shopping-cart-1\",\r\n        page: USER_URL+'/cart',\r\n      },\r\n    ]\r\n  }\r\n};\r\n","import objectPath from \"object-path\";\r\nimport { persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nimport LayoutConfig from \"../layout/LayoutConfig\";\r\nimport MenuConfig from \"../layout/MenuConfig\";\r\n\r\nexport const actionTypes = {\r\n  SetMenuConfig: \"builder/SET_MENU_CONFIG\",\r\n  SetLayoutConfigs: \"builder/SET_LAYOUT_CONFIGS\",\r\n  SetLayoutConfigsWithPageRefresh:\r\n    \"builder/SET_LAYOUT_CONFIGS_WITH_PAGE_REFRESH\",\r\n  SetHtmlClassService: \"builder/SET_HTML_CLASS_SERVICE\"\r\n};\r\n\r\nexport const selectors = {\r\n  getClasses: (store, params) => {\r\n    const { htmlClassServiceObjects } = store.builder;\r\n\r\n    return htmlClassServiceObjects\r\n      ? htmlClassServiceObjects.getClasses(params.path, params.toString)\r\n      : \"\";\r\n  },\r\n  getAttributes: (store, params) => {\r\n    if (params.path) {\r\n      // if path is specified, get the value within object\r\n      const { htmlClassServiceObjects } = store.builder;\r\n\r\n      return htmlClassServiceObjects\r\n        ? htmlClassServiceObjects.getAttributes(params.path)\r\n        : [];\r\n    }\r\n\r\n    return [];\r\n  },\r\n  getConfig: (state, path) => {\r\n    const { layoutConfig } = state.builder;\r\n\r\n    if (path) {\r\n      // if path is specified, get the value within object\r\n      return objectPath.get(layoutConfig, path);\r\n    }\r\n\r\n    return \"\";\r\n  },\r\n\r\n  getLogo: ({ builder: { layoutConfig } }) => {\r\n    const menuAsideLeftSkin = objectPath.get(layoutConfig, \"brand.self.skin\");\r\n    // set brand logo\r\n    const logoObject = objectPath.get(layoutConfig, \"self.logo\");\r\n    let logo;\r\n    if (typeof logoObject === \"string\") {\r\n      logo = logoObject;\r\n    }\r\n\r\n    if (typeof logoObject === \"object\") {\r\n      logo = objectPath.get(logoObject, menuAsideLeftSkin + \"\");\r\n    }\r\n\r\n    if (typeof logo === \"undefined\") {\r\n      try {\r\n        const logos = objectPath.get(this.layoutConfig, \"self.logo\");\r\n        logo = logos[Object.keys(logos)[0]];\r\n      } catch (e) {}\r\n    }\r\n    return logo;\r\n  },\r\n\r\n  getStickyLogo: store => {\r\n    const { layoutConfig } = store.builder;\r\n    let logo = objectPath.get(layoutConfig, \"self.logo.sticky\");\r\n    if (typeof logo === \"undefined\") {\r\n      logo = selectors.getLogo(store);\r\n    }\r\n    return logo + \"\";\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  menuConfig: MenuConfig,\r\n  layoutConfig: LayoutConfig,\r\n  htmlClassServiceObjects: undefined\r\n};\r\n\r\nexport const reducer = persistReducer(\r\n  {\r\n    storage,\r\n    key: \"build-demo3\",\r\n    blacklist: [\"htmlClassServiceObjects\"]\r\n  },\r\n  (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n      case actionTypes.SetMenuConfig:\r\n        return { ...state, menuConfig: payload };\r\n\r\n      case actionTypes.SetLayoutConfigs:\r\n        return { ...state, layoutConfig: payload };\r\n\r\n      case actionTypes.SetLayoutConfigsWithPageRefresh: {\r\n        return { ...state, layoutConfig: payload };\r\n      }\r\n      case actionTypes.SetHtmlClassService:\r\n        return { ...state, htmlClassServiceObjects: payload };\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n);\r\n\r\nexport const actions = {\r\n  setMenuConfig: payload => ({ payload, type: actionTypes.SetMenuConfig }),\r\n\r\n  setLayoutConfigs: payload => ({\r\n    payload,\r\n    type: actionTypes.SetLayoutConfigs\r\n  }),\r\n\r\n  setLayoutConfigsWithPageRefresh: payload => ({\r\n    payload,\r\n    type: actionTypes.SetLayoutConfigsWithPageRefresh\r\n  }),\r\n\r\n  setHtmlClassService: payload => ({\r\n    payload,\r\n    type: actionTypes.SetHtmlClassService\r\n  })\r\n};\r\n","export function removeCSSClass(ele, cls) {\r\n  const reg = new RegExp(\"(\\\\s|^)\" + cls + \"(\\\\s|$)\");\r\n  ele.className = ele.className.replace(reg, \" \");\r\n}\r\n\r\nexport function addCSSClass(ele, cls) {\r\n  ele.classList.add(cls);\r\n}\r\n\r\nexport const toAbsoluteUrl = pathname => process.env.PUBLIC_URL + '/static'+pathname;\r\n\r\nexport function setupAxios(axios, store) {\r\n  axios.interceptors.request.use(\r\n    config => {\r\n      const {\r\n        auth: { authToken }\r\n      } = store.getState();\r\n\r\n      if (authToken) {\r\n        config.headers.Authorization = `Token ${authToken}`;\r\n      }\r\n\r\n      return config;\r\n    },\r\n    err => Promise.reject(err)\r\n  );\r\n}\r\n\r\n\r\n/*  removeStorage: removes a key from localStorage and its sibling expiracy key\r\n    params:\r\n        key <string>     : localStorage key to remove\r\n    returns:\r\n        <boolean> : telling if operation succeeded\r\n */\r\nexport function removeStorage(key) {\r\n  try {\r\n    localStorage.setItem(key, \"\");\r\n    localStorage.setItem(key + \"_expiresIn\", \"\");\r\n  } catch (e) {\r\n    console.log(\r\n      \"removeStorage: Error removing key [\" +\r\n        key +\r\n        \"] from localStorage: \" +\r\n        JSON.stringify(e)\r\n    );\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\n/*  getStorage: retrieves a key from localStorage previously set with setStorage().\r\n    params:\r\n        key <string> : localStorage key\r\n    returns:\r\n        <string> : value of localStorage key\r\n        null : in case of expired key or failure\r\n */\r\nexport function getStorage(key) {\r\n  const now = Date.now(); //epoch time, lets deal only with integer\r\n  // set expiration for storage\r\n  let expiresIn = localStorage.getItem(key + \"_expiresIn\");\r\n  if (expiresIn === undefined || expiresIn === null) {\r\n    expiresIn = 0;\r\n  }\r\n\r\n  expiresIn = Math.abs(expiresIn);\r\n  if (expiresIn < now) {\r\n    // Expired\r\n    removeStorage(key);\r\n    return null;\r\n  } else {\r\n    try {\r\n      const value = localStorage.getItem(key);\r\n      return value;\r\n    } catch (e) {\r\n      console.log(\r\n        \"getStorage: Error reading key [\" +\r\n          key +\r\n          \"] from localStorage: \" +\r\n          JSON.stringify(e)\r\n      );\r\n      return null;\r\n    }\r\n  }\r\n}\r\n/*  setStorage: writes a key into localStorage setting a expire time\r\n    params:\r\n        key <string>     : localStorage key\r\n        value <string>   : localStorage value\r\n        expires <number> : number of seconds from now to expire the key\r\n    returns:\r\n        <boolean> : telling if operation succeeded\r\n */\r\nexport function setStorage(key, value, expires) {\r\n  if (expires === undefined || expires === null) {\r\n    expires = 24 * 60 * 60; // default: seconds for 1 day\r\n  }\r\n\r\n  const now = Date.now(); //millisecs since epoch time, lets deal only with integer\r\n  const schedule = now + expires * 1000;\r\n  try {\r\n    localStorage.setItem(key, value);\r\n    localStorage.setItem(key + \"_expiresIn\", schedule);\r\n  } catch (e) {\r\n    console.log(\r\n      \"setStorage: Error setting key [\" +\r\n        key +\r\n        \"] in localStorage: \" +\r\n        JSON.stringify(e)\r\n    );\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n","import React, {\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useReducer\r\n} from \"react\";\r\n\r\n/**\r\n * Both context used to create inside react `redux`-like global state managed\r\n * entirely by react.\r\n *\r\n * @see https://kentcdodds.com/blog/how-to-use-react-context-effectively\r\n */\r\n\r\nconst LayoutContext = {\r\n  /**\r\n   * Stores layout state, can be consumed globally.\r\n   */\r\n  State: createContext(null),\r\n\r\n  /**\r\n   * Stores `dispatch` function to update layout state, intended to be internal.\r\n   */\r\n  Dispatch: createContext(null)\r\n};\r\n\r\n/**\r\n * Layout action types, used to filter out dispatched actions.\r\n */\r\nconst actionTypes = {\r\n  /**\r\n   * Initializes layout state from provided `{ pathname, menuConfig }` action\r\n   * payload.\r\n   */\r\n  INIT: \"INIT\",\r\n\r\n  /**\r\n   * Updates current subheader from provided `{ title }` action payload.\r\n   */\r\n  SET_SUBHEADER: \"SET_SUBHEADER\",\r\n\r\n  /**\r\n   * Controls splash screen visibility.\r\n   */\r\n  SHOW_SPLASH_SCREEN: \"SHOW_SPLASH_SCREEN\",\r\n  HIDE_SPLASH_SCREEN: \"HIDE_SPLASH_SCREEN\"\r\n};\r\n\r\n/**\r\n * Recursively runs over `items` to find `pageConfig` of `currentPage`.\r\n *\r\n * Returns `undefined` if there are no matches.\r\n */\r\nfunction findPageConfig(currentPage, items, breadcrumbs) {\r\n  // Ignore non array `items`.\r\n  if (!items || !Array.isArray(items)) {\r\n    return;\r\n  }\r\n\r\n  for (const item of items) {\r\n    // Return `item` if it's `page` matches `currentPage`\r\n    if (currentPage === item.page && !item.submenu) {\r\n      return item;\r\n    }\r\n\r\n    // Try to `pageConfig` in `item.submenu` if it is defined.\r\n    if (item.submenu) {\r\n      const pageConfig = findPageConfig(currentPage, item.submenu, breadcrumbs);\r\n      if (pageConfig) {\r\n        breadcrumbs.push(item);\r\n        return pageConfig;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Used to lazily create initial layout state.\r\n */\r\nfunction init({ pathname, menuConfig }) {\r\n  const currentPage = pathname.slice(1 /* Remove leading slash. */);\r\n  let breadcrumbs = [];\r\n  const pageConfig =\r\n      findPageConfig(currentPage, menuConfig.aside.items, breadcrumbs) ||\r\n      findPageConfig(currentPage, menuConfig.header.items, breadcrumbs);\r\n\r\n  breadcrumbs.reverse();\r\n  const state = { subheader: { title: \"\", breadcrumb: [], description: \"\" }, splashScreen: { refs: {} } };\r\n  if (pageConfig) {\r\n    breadcrumbs.push(pageConfig);\r\n    state.subheader.title = pageConfig.title;\r\n    state.subheader.breadcrumb = breadcrumbs;\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  if (type === actionTypes.INIT) {\r\n    const nextState = init(payload);\r\n\r\n    // Update only subheader.\r\n    return { ...state, subheader: nextState.subheader };\r\n  }\r\n\r\n  if (type === actionTypes.SET_SUBHEADER) {\r\n    return { ...state, subheader: payload };\r\n  }\r\n\r\n  if (type === actionTypes.SHOW_SPLASH_SCREEN) {\r\n    return {\r\n      ...state,\r\n      splashScreen: {\r\n        ...state.splashScreen,\r\n        refs: { ...state.splashScreen.refs, [payload.id]: true }\r\n      }\r\n    };\r\n  }\r\n\r\n  if (type === actionTypes.HIDE_SPLASH_SCREEN) {\r\n    const { [payload.id]: skip, ...nextRefs } = state.splashScreen.refs;\r\n\r\n    return {\r\n      ...state,\r\n      splashScreen: { ...state.splashScreen, refs: nextRefs }\r\n    };\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\n/**\r\n * Creates layout reducer and provides it's `state` and ` dispatch`.\r\n */\r\nexport function LayoutContextProvider({ history, children, menuConfig }) {\r\n  const [state, dispatch] = useReducer(\r\n      reducer,\r\n      { menuConfig, pathname: history.location.pathname },\r\n      // See https://reactjs.org/docs/hooks-reference.html#lazy-initialization\r\n      init\r\n  );\r\n\r\n  // Subscribe to history changes and reinitialize on each change.\r\n  useEffect(\r\n      () =>\r\n          history.listen(({ pathname }) => {\r\n            dispatch({\r\n              type: actionTypes.INIT,\r\n              payload: { pathname, menuConfig }\r\n            });\r\n          }),\r\n\r\n      /**\r\n       * Passing `history` and `menuConfig` to `deps` ensures that `useEffect`\r\n       * will cleanup current `history` listener and will dispatch `INIT`\r\n       * with `menuConfig` reference from current render.\r\n       *\r\n       * @see https://reactjs.org/docs/hooks-reference.html#conditionally-firing-an-effect\r\n       */\r\n      [history, menuConfig]\r\n  );\r\n\r\n  const { refs: splashScreenRefs } = state.splashScreen;\r\n  const splashScreenVisible = useMemo(\r\n      () => Object.keys(splashScreenRefs).length > 0,\r\n      [splashScreenRefs]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const splashScreen = document.getElementById(\"splash-screen\");\r\n\r\n    if (splashScreenVisible) {\r\n      splashScreen.classList.remove(\"hidden\");\r\n\r\n      return () => {\r\n        splashScreen.classList.add(\"hidden\");\r\n      };\r\n    }\r\n\r\n    const timeout = setTimeout(() => {\r\n      splashScreen.classList.add(\"hidden\");\r\n    }, 1000);\r\n\r\n    return () => {\r\n      clearTimeout(timeout);\r\n    };\r\n  }, [splashScreenVisible]);\r\n\r\n  // Pass state and dispatch to it's contexts.\r\n  return (\r\n      <LayoutContext.State.Provider value={state}>\r\n        <LayoutContext.Dispatch.Provider value={dispatch}>\r\n          {children}\r\n        </LayoutContext.Dispatch.Provider>\r\n      </LayoutContext.State.Provider>\r\n  );\r\n}\r\n\r\n/**\r\n * Used to access latest layout context state.\r\n *\r\n * @example\r\n *\r\n * export function Subheader() {\r\n *   return (\r\n *     <LayoutContextConsumer>\r\n *       {({ subheader: { title } }) => <h1>{title}</h1>}\r\n *     </LayoutContextConsumer>\r\n *   );\r\n * }\r\n */\r\nexport const LayoutContextConsumer = LayoutContext.State.Consumer;\r\n\r\n/**\r\n * Hook to access latest layout context state.\r\n *\r\n * @example\r\n *\r\n * export function Subheader() {\r\n *   const { subheader: { title } } = useLayoutContext();\r\n *\r\n *   return <h1>{title}</h1>;\r\n * }\r\n */\r\nexport function useLayoutContext() {\r\n  const context = useContext(LayoutContext.State);\r\n\r\n  if (!context) {\r\n    throw new Error(\"\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\n/**\r\n * Used to override layout subheader state.\r\n */\r\nexport function LayoutSubheader({ title, breadcrumb, description }) {\r\n  const dispatch = useContext(LayoutContext.Dispatch);\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: actionTypes.SET_SUBHEADER,\r\n      payload: { title, breadcrumb, description }\r\n    });\r\n  }, [dispatch, title, breadcrumb, description]);\r\n\r\n  return null;\r\n}\r\n\r\nexport function LayoutSplashScreen({ visible = false }) {\r\n  const dispatch = useContext(LayoutContext.Dispatch);\r\n\r\n  useEffect(() => {\r\n    if (!visible) {\r\n      return;\r\n    }\r\n\r\n    const id = Math.random();\r\n\r\n    dispatch({ type: actionTypes.SHOW_SPLASH_SCREEN, payload: { id } });\r\n\r\n    return () => {\r\n      dispatch({ type: actionTypes.HIDE_SPLASH_SCREEN, payload: { id } });\r\n    };\r\n  }, [visible, dispatch]);\r\n\r\n  return null;\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport const API_URL = process.env.REACT_APP_API_URL+'api/';\r\nexport const LOGIN_URL = \"login\";\r\n// export const LOGIN_URL = \"http://localhost:8000/api/login\";\r\nexport const REGISTER_URL = \"register\";\r\nexport const REQUEST_PASSWORD_URL = \"forgot-password\";\r\nexport const RESET_PASSWORD_URL = \"reset-password\";\r\n\r\n// export const ME_URL = \"http://localhost:8000/api/users/me/\";\r\nexport const ME_URL = \"users/me/\";\r\n\r\nexport function login(email, password) {\r\n  return axios.post(API_URL+LOGIN_URL, { email, password });\r\n}\r\n\r\nexport function register(email, fullname, username, password) {\r\n  return axios.post(REGISTER_URL, { email, fullname, username, password });\r\n}\r\n\r\nexport function requestPassword(email) {\r\n  return axios.post(API_URL+REQUEST_PASSWORD_URL, { email });\r\n}\r\n\r\nexport function resetPasword(email, password, password_link) {\r\n  return axios.post(API_URL+RESET_PASSWORD_URL, { email, password, password_link });\r\n}\r\n\r\nexport function getUserByToken() {\r\n  return axios.get(API_URL+ME_URL);\r\n}\r\n\r\nexport function logoutUser() {\r\n  return axios.post(API_URL+'logout');\r\n}\r\n\r\n","import { toAbsoluteUrl } from \"../utils/utils\";\r\n\r\nexport default [\r\n  {\r\n    id: 1,\r\n    username: \"admin\",\r\n    password: \"demo\",\r\n    email: \"admin@demo.com\",\r\n    accessToken: \"access-token-8f3ae836da744329a6f93bf20594b5cc\",\r\n    refreshToken: \"access-token-f8c137a2c98743f48b643e71161d90aa\",\r\n    roles: [1], // Administrator\r\n    pic: toAbsoluteUrl(\"/media/users/300_25.jpg\"),\r\n    fullname: \"Sean\",\r\n    occupation: \"CEO\",\r\n    companyName: \"Keenthemes\",\r\n    phone: \"456669067890\",\r\n    address: {\r\n      addressLine: \"L-12-20 Vertex, Cybersquare\",\r\n      city: \"San Francisco\",\r\n      state: \"California\",\r\n      postCode: \"45000\"\r\n    },\r\n    socialNetworks: {\r\n      linkedIn: \"https://linkedin.com/admin\",\r\n      facebook: \"https://facebook.com/admin\",\r\n      twitter: \"https://twitter.com/admin\",\r\n      instagram: \"https://instagram.com/admin\"\r\n    }\r\n  },\r\n  {\r\n    id: 2,\r\n    username: \"user\",\r\n    password: \"demo\",\r\n    email: \"user@demo.com\",\r\n    accessToken: \"access-token-6829bba69dd3421d8762-991e9e806dbf\",\r\n    refreshToken: \"access-token-f8e4c61a318e4d618b6c199ef96b9e55\",\r\n    roles: [2], // Manager\r\n    pic: toAbsoluteUrl(\"/media/users/100_2.jpg\"),\r\n    fullname: \"Megan\",\r\n    occupation: \"Deputy Head of Keenthemes in New York office\",\r\n    companyName: \"Keenthemes\",\r\n    phone: \"456669067891\",\r\n    address: {\r\n      addressLine: \"3487  Ingram Road\",\r\n      city: \"Greensboro\",\r\n      state: \"North Carolina\",\r\n      postCode: \"27409\"\r\n    },\r\n    socialNetworks: {\r\n      linkedIn: \"https://linkedin.com/user\",\r\n      facebook: \"https://facebook.com/user\",\r\n      twitter: \"https://twitter.com/user\",\r\n      instagram: \"https://instagram.com/user\"\r\n    }\r\n  },\r\n  {\r\n    id: 3,\r\n    username: \"guest\",\r\n    password: \"demo\",\r\n    email: \"guest@demo.com\",\r\n    accessToken: \"access-token-d2dff7b82f784de584b60964abbe45b9\",\r\n    refreshToken: \"access-token-c999ccfe74aa40d0aa1a64c5e620c1a5\",\r\n    roles: [3], // Guest\r\n    pic: toAbsoluteUrl(\"/media/users/default.jpg\"),\r\n    fullname: \"Ginobili Maccari\",\r\n    occupation: \"CFO\",\r\n    companyName: \"Keenthemes\",\r\n    phone: \"456669067892\",\r\n    address: {\r\n      addressLine: \"1467  Griffin Street\",\r\n      city: \"Phoenix\",\r\n      state: \"Arizona\",\r\n      postCode: \"85012\"\r\n    },\r\n    socialNetworks: {\r\n      linkedIn: \"https://linkedin.com/guest\",\r\n      facebook: \"https://facebook.com/guest\",\r\n      twitter: \"https://twitter.com/guest\",\r\n      instagram: \"https://instagram.com/guest\"\r\n    }\r\n  }\r\n];\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { LayoutSplashScreen } from \"./LayoutContext\";\r\nimport * as builder from \"../ducks/builder\";\r\n\r\n/**\r\n * Used to synchronize current layout `menuConfig`, `layoutConfig` and\r\n * `htmlClassService` with redux store.\r\n */\r\nexport default function LayoutInitializer({\r\n                                            children,\r\n                                            menuConfig,\r\n                                            layoutConfig,\r\n                                            htmlClassService\r\n                                          }) {\r\n  const dispatch = useDispatch();\r\n  const builderState = useSelector(({ builder }) => builder);\r\n\r\n  useEffect(() => {\r\n    dispatch(builder.actions.setMenuConfig(menuConfig));\r\n  }, [dispatch, menuConfig]);\r\n\r\n  useEffect(() => {\r\n    if (layoutConfig.demo !== builderState.layoutConfig.demo) {\r\n      dispatch(builder.actions.setLayoutConfigs(layoutConfig));\r\n    }\r\n  }, [dispatch, builderState, layoutConfig]);\r\n\r\n  useEffect(() => {\r\n    dispatch(builder.actions.setHtmlClassService(htmlClassService));\r\n  }, [dispatch, htmlClassService]);\r\n\r\n  return htmlClassService === builderState.htmlClassServiceObjects ? (\r\n      // Render content when `htmlClassService` synchronized with redux store.\r\n      <>{children}</>\r\n  ) : (\r\n      // Otherwise sow loading splash screen.\r\n      <LayoutSplashScreen />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { IntlProvider } from \"react-intl\";\r\nimport \"@formatjs/intl-relativetimeformat/polyfill\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/en\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/de\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/es\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/fr\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/ja\";\r\nimport \"@formatjs/intl-relativetimeformat/dist/locale-data/zh\";\r\n\r\nimport deMessages from \"./messages/de\";\r\nimport enMessages from \"./messages/en\";\r\nimport esMessages from \"./messages/es\";\r\nimport frMessages from \"./messages/fr\";\r\nimport jaMessages from \"./messages/ja\";\r\nimport zhMessages from \"./messages/zh\";\r\n\r\nconst allMessages = {\r\n  de: deMessages,\r\n  en: enMessages,\r\n  es: esMessages,\r\n  fr: frMessages,\r\n  ja: jaMessages,\r\n  zh: zhMessages\r\n};\r\n\r\nexport default function I18nProvider({ children }) {\r\n  const locale = useSelector(({ i18n }) => i18n.lang);\r\n  const messages = allMessages[locale];\r\n\r\n  return (\r\n      <IntlProvider locale={locale} messages={messages}>\r\n        {children}\r\n      </IntlProvider>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { createMuiTheme } from \"@material-ui/core\";\r\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/styles\";\r\n\r\nconst theme = createMuiTheme(\r\n  /**\r\n   * @see https://material-ui.com/customization/themes/#theme-configuration-variables\r\n   */\r\n  {\r\n    // direction: \"rtl\",\r\n    typography: {\r\n      fontFamily: [\"Poppins\"].join(\",\")\r\n    },\r\n\r\n    palette: {\r\n      contrastThreshold: 2,\r\n      primary: {\r\n        // light: will be calculated from palette.primary.main,\r\n        main: \"#5d78ff\"\r\n        // dark: will be calculated from palette.primary.main,\r\n        // contrastText: will be calculated to contrast with palette.primary.main\r\n      },\r\n      secondary: {\r\n        // light: will be calculated from palette.primary.main,\r\n        main: \"#0abb87\",\r\n        // dark: will be calculated from palette.primary.main,\r\n        contrastText: \"#ffffff\"\r\n      },\r\n      error: {\r\n        // light: will be calculated from palette.primary.main,\r\n        main: \"#fd397a\"\r\n        // dark: will be calculated from palette.primary.main,\r\n        // contrastText: will be calculated to contrast with palette.primary.main\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @see https://material-ui.com/customization/globals/#default-props\r\n     */\r\n    props: {\r\n      // Name of the component ⚛️\r\n      MuiButtonBase: {\r\n        // The properties to apply\r\n        disableRipple: true // No more ripple, on the whole application 💣!\r\n      },\r\n\r\n      // Set default elevation to 1 for popovers.\r\n      MuiPopover: {\r\n        elevation: 1\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nexport default function ThemeProvider(props) {\r\n  const { children } = props;\r\n\r\n  return <MuiThemeProvider theme={theme}>{children}</MuiThemeProvider>;\r\n}\r\n","import * as i18n from \"./ducks/i18n\";\r\nimport * as builder from \"./ducks/builder\";\r\n\r\n/**\r\n * Reexports\r\n */\r\nexport * from \"./utils/utils\";\r\nexport * from \"./layout/LayoutContext\";\r\nexport * from \"./layout/LayoutConfig\";\r\nexport { default as LayoutConfig } from \"./layout/LayoutConfig\";\r\nexport { default as mockAxios } from \"./__mocks__/mockAxios\";\r\nexport { default as LayoutInitializer } from \"./layout/LayoutInitializer\";\r\nexport { default as I18nProvider } from \"./i18n/I18nProvider\";\r\nexport { default as ThemeProvider } from \"./materialUIThemeProvider/ThemeProvider\";\r\n\r\n/**\r\n * Ducks\r\n */\r\n\r\nexport const metronic = { i18n, builder };\r\n","import * as utils from \"../../_metronic/utils/utils\";\r\nimport {USER_URL} from \"../crud/api\";\r\nconst localStorageLastLocationKey = \"demo1-lastLocation\";\r\n\r\nfunction acceptLocation(lastLocation) {\r\n  if (\r\n    lastLocation &&\r\n    lastLocation.pathname &&\r\n    lastLocation.pathname !== \"/\"+USER_URL &&\r\n    lastLocation.pathname.indexOf(\"auth\") === -1 &&\r\n    lastLocation.pathname !== \"/\"+USER_URL+\"/logout\"\r\n  ) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nexport function saveLastLocation(lastLocation) {\r\n  const localStorateLocations = utils.getStorage(localStorageLastLocationKey);\r\n  let _useLocations = localStorateLocations\r\n    ? JSON.parse(localStorateLocations)\r\n    : [];\r\n\r\n  if (acceptLocation(lastLocation)) {\r\n    _useLocations.push(lastLocation.pathname);\r\n    utils.setStorage(\r\n      localStorageLastLocationKey,\r\n      JSON.stringify(_useLocations),\r\n      120\r\n    );\r\n  }\r\n}\r\n\r\nexport function forgotLastLocation() {\r\n  utils.removeStorage(localStorageLastLocationKey);\r\n}\r\n\r\nexport function getLastLocation() {\r\n  const localStorateLocations = utils.getStorage(localStorageLastLocationKey);\r\n  if (!localStorateLocations) {\r\n    return \"/\";\r\n  }\r\n\r\n  const _userLocations = JSON.parse(localStorateLocations);\r\n  const result = _userLocations.length > 0 ? _userLocations.pop() : \"/\"+USER_URL;\r\n  return result;\r\n}\r\n","import { persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { put, takeLatest } from \"redux-saga/effects\";\r\nimport { getUserByToken } from \"../../crud/auth.crud\";\r\nimport { getReduxLocalStorageItem } from \"../../crud/api\";\r\nimport * as routerHelpers from \"../../router/RouterHelpers\";\r\n\r\nexport const actionTypes = {\r\n  Login: \"[Login] Action\",\r\n  Logout: \"[Logout] Action\",\r\n  Register: \"[Register] Action\",\r\n  UserRequested: \"[Request User] Action\",\r\n  UserLoaded: \"[Load User] Auth API\"\r\n};\r\n\r\nconst initialAuthState = {\r\n  authToken : null ,\r\n  user: null,\r\n  searchItem:null\r\n};\r\n\r\nexport const reducer = persistReducer(\r\n    { storage, key: \"demo3-auth\", whitelist: [\"user\", \"authToken\"] },\r\n    (state = initialAuthState, action) => {\r\n      switch (action.type) {\r\n        case actionTypes.Login: {\r\n          const { authToken } = action.payload;\r\n\r\n          return { authToken, user: undefined };\r\n        }\r\n\r\n        case actionTypes.Register: {\r\n          const { authToken } = action.payload;\r\n\r\n          return { authToken, user: undefined };\r\n        }\r\n\r\n        case actionTypes.Logout: {\r\n          routerHelpers.forgotLastLocation();\r\n          document.cookie = `authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT`;\r\n          return initialAuthState;\r\n        }\r\n\r\n        case actionTypes.UserLoaded: {\r\n          const { user } = action.payload;\r\n\r\n          return { ...state, user };\r\n        }\r\n\r\n        default:\r\n          return state;\r\n      }\r\n    }\r\n);\r\n\r\nexport const actions = {\r\n  login: authToken => ({ type: actionTypes.Login, payload: { authToken } }),\r\n  register: authToken => ({\r\n    type: actionTypes.Register,\r\n    payload: { authToken }\r\n  }),\r\n  logout: () => ({ type: actionTypes.Logout }),\r\n  requestUser: user => ({ type: actionTypes.UserRequested, payload: { user } }),\r\n  fulfillUser: user => ({ type: actionTypes.UserLoaded, payload: { user } })\r\n};\r\n\r\nexport function* saga() {\r\n  yield takeLatest(actionTypes.Login, function* loginSaga() {\r\n    yield put(actions.requestUser());\r\n  });\r\n\r\n  yield takeLatest(actionTypes.Register, function* registerSaga() {\r\n    yield put(actions.requestUser());\r\n  });\r\n\r\n  yield takeLatest(actionTypes.UserRequested, function* userRequested() {\r\n    const { data: user } = yield getUserByToken();\r\n\r\n    yield put(actions.fulfillUser(user));\r\n  });\r\n}\r\n","import { all } from \"redux-saga/effects\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nimport * as auth from \"./ducks/auth.duck\";\r\nimport { metronic } from \"../../_metronic\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  auth: auth.reducer,\r\n  i18n: metronic.i18n.reducer,\r\n  builder: metronic.builder.reducer\r\n});\r\n\r\nexport function* rootSaga() {\r\n  yield all([auth.saga()]);\r\n}\r\n","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport { persistStore } from \"redux-persist\";\r\n\r\nimport { rootReducer, rootSaga } from \"./rootDuck\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware))\r\n);\r\n\r\n/**\r\n * @see https://github.com/rt2zz/redux-persist#persiststorestore-config-callback\r\n * @see https://github.com/rt2zz/redux-persist#persistor-object\r\n */\r\nexport const persistor = persistStore(store);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","import React, { useMemo, useState } from \"react\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { Formik } from \"formik\";\r\nimport { get, merge } from \"lodash\";\r\nimport { FormHelperText, Switch, Tab, Tabs } from \"@material-ui/core\";\r\nimport clsx from \"clsx\";\r\nimport { metronic, initLayoutConfig, LayoutConfig } from \"../../../_metronic\";\r\nimport {\r\n  Portlet,\r\n  PortletBody,\r\n  PortletFooter,\r\n  PortletHeader,\r\n  PortletHeaderToolbar\r\n} from \"../../partials/content/Portlet\";\r\nimport { CodeBlock } from \"../../partials/content/CodeExample\";\r\nimport Notice from \"../../partials/content/Notice\";\r\n\r\nconst localStorageActiveTabKey = \"builderActiveTab\";\r\nexport default function Builder() {\r\n  const activeTab = localStorage.getItem(localStorageActiveTabKey);\r\n  const [tab, setTab] = useState(activeTab ? +activeTab : 0);\r\n  const dispatch = useDispatch();\r\n  const { layoutConfig } = useSelector(\r\n    ({ builder }) => ({ layoutConfig: builder.layoutConfig }),\r\n    shallowEqual\r\n  );\r\n  const [loadingPreview, setLoadingPreview] = useState(false);\r\n  const [loadingButtonPreviewStyle, setLoadingButtonPreviewStyle] = useState({\r\n    paddingRight: \"2.5rem\"\r\n  });\r\n  const [loadingReset, setLoadingReset] = useState(false);\r\n  const [loadingButtonResetStyle, setLoadingButtonResetStyle] = useState({\r\n    paddingRight: \"2.5rem\"\r\n  });\r\n\r\n  const enableLoadingPreview = () => {\r\n    setLoadingPreview(true);\r\n    setLoadingButtonPreviewStyle({ paddingRight: \"3.5rem\" });\r\n  };\r\n  const enableLoadingReset = () => {\r\n    setLoadingReset(true);\r\n    setLoadingButtonResetStyle({ paddingRight: \"3.5rem\" });\r\n  };\r\n  const updateLayoutConfig = _config => {\r\n    dispatch(metronic.builder.actions.setLayoutConfigs(_config));\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    }, 1000);\r\n  };\r\n\r\n  const initialValues = useMemo(\r\n    () =>\r\n      merge(\r\n        // Fulfill changeable fields.\r\n        LayoutConfig,\r\n        layoutConfig\r\n      ),\r\n    [layoutConfig]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Notice icon=\"flaticon-warning kt-font-primary\">\r\n        The layout builder helps to configure the layout with preferred options\r\n        and preview it in real time. The configured layout options will be saved\r\n        until you change or reset them. To use the layout builder choose the\r\n        layout options and click the <code>Preview</code> button to preview the\r\n        changes.\r\n      </Notice>\r\n      {/*Formic off site: https://jaredpalmer.com/formik/docs/overview*/}\r\n      <Formik\r\n        initialValues={initialValues}\r\n        onSubmit={values => {\r\n          enableLoadingPreview();\r\n          updateLayoutConfig(values);\r\n        }}\r\n        onReset={() => {\r\n          enableLoadingReset();\r\n          updateLayoutConfig(initLayoutConfig);\r\n        }}\r\n      >\r\n        {({ values, handleReset, handleSubmit, handleChange, handleBlur }) => (\r\n          <div className=\"kt-form kt-form--label-right\">\r\n            <Portlet>\r\n              <PortletHeader\r\n                toolbar={\r\n                  <PortletHeaderToolbar>\r\n                    <Tabs\r\n                      component=\"div\"\r\n                      className=\"builder-tabs\"\r\n                      value={tab}\r\n                      onChange={(_, nextTab) => {\r\n                        setTab(nextTab);\r\n                        localStorage.setItem(localStorageActiveTabKey, nextTab);\r\n                      }}\r\n                    >\r\n                      <Tab label=\"Header\" />\r\n                      <Tab label=\"Subheader\" />\r\n                      <Tab label=\"Content\" />\r\n                      <Tab label=\"Aside\" />\r\n                      <Tab label=\"Footer\" />\r\n                    </Tabs>\r\n                  </PortletHeaderToolbar>\r\n                }\r\n              />\r\n\r\n              {tab === 0 && (\r\n                <PortletBody>\r\n                  <div className=\"kt-section kt-margin-t-30\">\r\n                    <div className=\"kt-section__body\">\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Fixed Desktop Header:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <Switch\r\n                            onBlur={handleBlur}\r\n                            onChange={handleChange}\r\n                            name=\"header.self.fixed.desktop\"\r\n                            checked={get(values, \"header.self.fixed.desktop\")}\r\n                          />\r\n                          <FormHelperText>\r\n                            Enable fixed header for mobile mode\r\n                          </FormHelperText>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Mobile Fixed Header:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <Switch\r\n                            onBlur={handleBlur}\r\n                            onChange={handleChange}\r\n                            name=\"header.self.fixed.mobile\"\r\n                            checked={get(values, \"header.self.fixed.mobile\")}\r\n                          />\r\n                          <FormHelperText>\r\n                            Enable fixed header for mobile mode\r\n                          </FormHelperText>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"kt-separator kt-separator--space-lg kt-separator--border-dashed\" />\r\n\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Display Header Menu:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <Switch\r\n                            onBlur={handleBlur}\r\n                            onChange={handleChange}\r\n                            name=\"header.menu.self.display\"\r\n                            checked={get(values, \"header.menu.self.display\")}\r\n                          />\r\n                          <FormHelperText>Display header menu</FormHelperText>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"kt-separator kt-separator--space-lg kt-separator--border-dashed\" />\r\n\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Header Menu Arrows:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <Switch\r\n                            onBlur={handleBlur}\r\n                            onChange={handleChange}\r\n                            name=\"header.menu.self.root-arrow\"\r\n                            checked={get(values, \"header.menu.self.root-arrow\")}\r\n                          />\r\n                          <FormHelperText>\r\n                            Enable header menu root link arrows\r\n                          </FormHelperText>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </PortletBody>\r\n              )}\r\n\r\n              {tab === 1 && (\r\n                <PortletBody>\r\n                  <div className=\"kt-section kt-margin-t-30\">\r\n                    <div className=\"kt-section__body\">\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Display Subheader:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <Switch\r\n                            onBlur={handleBlur}\r\n                            onChange={handleChange}\r\n                            name=\"subheader.display\"\r\n                            checked={get(values, \"subheader.display\")}\r\n                          />\r\n                          <FormHelperText>\r\n                            Enable/Disable subheader\r\n                          </FormHelperText>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Fixed Subheader:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <Switch\r\n                            onBlur={handleBlur}\r\n                            onChange={handleChange}\r\n                            name=\"subheader.fixed\"\r\n                            checked={get(values, \"subheader.fixed\")}\r\n                          />\r\n                          <FormHelperText>\r\n                            Enable fixed(sticky) subheader. Requires{\" \"}\r\n                            <code>Solid</code> subheader style.\r\n                          </FormHelperText>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Width:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <select\r\n                            className=\"form-control\"\r\n                            name=\"subheader.width\"\r\n                            onBlur={handleBlur}\r\n                            value={get(values, \"subheader.width\")}\r\n                            onChange={handleChange}\r\n                          >\r\n                            <option value=\"fluid\">Fluid</option>\r\n                            <option value=\"fixed\">Fixed</option>\r\n                          </select>\r\n                          <FormHelperText>\r\n                            Select layout width type\r\n                          </FormHelperText>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Subheader Style:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <select\r\n                            className=\"form-control\"\r\n                            name=\"subheader.style\"\r\n                            onBlur={handleBlur}\r\n                            value={get(values, \"subheader.style\")}\r\n                            onChange={handleChange}\r\n                          >\r\n                            <option value=\"transparent\">Transparent</option>\r\n                            <option value=\"solid\">Solid</option>\r\n                          </select>\r\n                          <FormHelperText>\r\n                            Select subheader style\r\n                          </FormHelperText>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/*    <div className=\"row\">*/}\r\n                      {/*      <div className=\"col-md-6\">*/}\r\n                      {/*       */}\r\n\r\n                      {/*        /!* <TextField*/}\r\n                      {/*  select={true}*/}\r\n                      {/*  margin=\"normal\"*/}\r\n                      {/*  label=\"Subheader Layout\"*/}\r\n                      {/*  helperText=\"Select subheader layout\"*/}\r\n                      {/*  name=\"subheader.layout\"*/}\r\n                      {/*  onBlur={handleBlur}*/}\r\n                      {/*  onChange={handleChange}*/}\r\n                      {/*  value={get(values, \"subheader.layout\")}*/}\r\n                      {/*>*/}\r\n                      {/*  <MenuItem value=\"subheader-v1\">Subheader 1</MenuItem>*/}\r\n                      {/*  <MenuItem value=\"subheader-v2\">Subheader 2</MenuItem>*/}\r\n                      {/*  <MenuItem value=\"subheader-v3\">Subheader 3</MenuItem>*/}\r\n                      {/*</TextField> *!/*/}\r\n                      {/*      </div>*/}\r\n                      {/*    </div>*/}\r\n                    </div>\r\n                  </div>\r\n                </PortletBody>\r\n              )}\r\n\r\n              {tab === 2 && (\r\n                <PortletBody>\r\n                  <div className=\"kt-section kt-margin-t-30\">\r\n                    <div className=\"kt-section__body\">\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Width:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <select\r\n                            className=\"form-control\"\r\n                            name=\"content.width\"\r\n                            onBlur={handleBlur}\r\n                            value={get(values, \"content.width\")}\r\n                            onChange={handleChange}\r\n                          >\r\n                            <option value=\"fluid\">Fluid</option>\r\n                            <option value=\"fixed\">Fixed</option>\r\n                          </select>\r\n                          <FormHelperText>\r\n                            Select layout width type\r\n                          </FormHelperText>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </PortletBody>\r\n              )}\r\n\r\n              {tab === 3 && (\r\n                <PortletBody>\r\n                  <div className=\"kt-section kt-margin-t-30\">\r\n                    <div className=\"kt-section__body\">\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Fixed:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <Switch\r\n                            onBlur={handleBlur}\r\n                            onChange={handleChange}\r\n                            name=\"aside.self.fixed\"\r\n                            checked={get(values, \"aside.self.fixed\")}\r\n                          />\r\n                          <FormHelperText>\r\n                            Set fixed aside layout\r\n                          </FormHelperText>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label pt-4\">\r\n                          Submenu Toggle:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          {\" \"}\r\n                          <select\r\n                            className=\"form-control\"\r\n                            name=\"aside.menu.dropdown\"\r\n                            onBlur={handleBlur}\r\n                            value={get(\r\n                              values,\r\n                              \"aside.menu.dropdown\"\r\n                            ).toString()}\r\n                            onChange={handleChange}\r\n                          >\r\n                            <option value=\"true\">Dropdown</option>\r\n                            <option value=\"false\">Accordion</option>\r\n                          </select>\r\n                          <FormHelperText>\r\n                            Select submenu toggle mode (works only when{\" \"}\r\n                            <code>Fixed Mode</code> is disabled)\r\n                          </FormHelperText>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </PortletBody>\r\n              )}\r\n\r\n              {tab === 4 && (\r\n                <PortletBody>\r\n                  <div className=\"kt-section kt-margin-t-30\">\r\n                    <div className=\"kt-section__body\">\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Fixed Footer:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <Switch\r\n                            onBlur={handleBlur}\r\n                            onChange={handleChange}\r\n                            name=\"footer.self.fixed\"\r\n                            checked={get(values, \"footer.self.fixed\")}\r\n                          />\r\n\r\n                          <FormHelperText>Set fixed footer</FormHelperText>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"form-group row\">\r\n                        <label className=\"col-lg-3 col-form-label\">\r\n                          Width:\r\n                        </label>\r\n                        <div className=\"col-lg-9 col-xl-4\">\r\n                          <select\r\n                            className=\"form-control\"\r\n                            name=\"footer.self.width\"\r\n                            onBlur={handleBlur}\r\n                            value={get(values, \"footer.self.width\")}\r\n                            onChange={handleChange}\r\n                          >\r\n                            <option value=\"fluid\">Fluid</option>\r\n                            <option value=\"fixed\">Fixed</option>\r\n                          </select>\r\n                          <FormHelperText>\r\n                            Select layout width type\r\n                          </FormHelperText>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </PortletBody>\r\n              )}\r\n\r\n              <PortletFooter>\r\n                <div className=\"kt-padding-30 text-center\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleSubmit}\r\n                    style={loadingButtonPreviewStyle}\r\n                    className={`btn btn-primary btn-elevate kt-login__btn-primary ${clsx(\r\n                      {\r\n                        \"kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light\": loadingPreview\r\n                      }\r\n                    )}`}\r\n                  >\r\n                    <i className=\"la la-eye\" /> Preview\r\n                  </button>{\" \"}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleReset}\r\n                    style={loadingButtonResetStyle}\r\n                    className={`btn btn-secondary btn-elevate kt-login__btn-primary ${clsx(\r\n                      {\r\n                        \"kt-spinner kt-spinner--right kt-spinner--md kt-spinner--dark\": loadingReset\r\n                      }\r\n                    )}`}\r\n                  >\r\n                    <i className=\"la la-recycle\" /> Reset\r\n                  </button>\r\n                </div>\r\n              </PortletFooter>\r\n            </Portlet>\r\n\r\n            <Portlet>\r\n              <PortletHeader\r\n                title={\r\n                  <>\r\n                    Generated Config{\" \"}\r\n                    <small>\r\n                      can be used for layout config in{\" \"}\r\n                      <code>/src/_metronic/layouts/demo1/LayoutConfig.js</code>\r\n                    </small>\r\n                  </>\r\n                }\r\n              />\r\n\r\n              <PortletBody>\r\n                <CodeBlock\r\n                  disableCopy=\"true\"\r\n                  language=\"json\"\r\n                  code={JSON.stringify(values, null, 2)}\r\n                />\r\n              </PortletBody>\r\n            </Portlet>\r\n          </div>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\n\r\nconst PortletHeaderDropdownToggle = React.forwardRef((props, ref) => {\r\n    return (\r\n      <button\r\n          ref={ref}\r\n        id=\"kt_dashboard_daterangepicker\"\r\n        type=\"button\"\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          props.onClick(e);\r\n        }}\r\n        className=\"btn btn-clean btn-sm btn-icon btn-icon-lg\"\r\n        data-toggle=\"dropdown\"\r\n        aria-haspopup=\"true\"\r\n        aria-expanded=\"false\"\r\n      >\r\n        <i className=\"flaticon-more-1\"></i>\r\n      </button>\r\n    );\r\n\r\n});\r\n\r\nexport default class PortletHeaderDropdown extends React.Component {\r\n  render() {\r\n    return (\r\n      <Dropdown className=\"kt-portlet__head-toolbar\" drop=\"down\" alignRight>\r\n        <Dropdown.Toggle\r\n          as={PortletHeaderDropdownToggle}\r\n          id=\"dropdown-toggle-top\"\r\n        >\r\n          <i className=\"flaticon-more-1\" />\r\n        </Dropdown.Toggle>\r\n        <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-right\">\r\n          <ul className=\"kt-nav\">\r\n            <li className=\"kt-nav__section kt-nav__section--first\">\r\n              <span className=\"kt-nav__section-text\">Finance</span>\r\n            </li>\r\n            <li className=\"kt-nav__item\">\r\n              <a href=\"#\" className=\"kt-nav__link\">\r\n                <i className=\"kt-nav__link-icon flaticon2-graph-1\"></i>\r\n                <span className=\"kt-nav__link-text\">Statistics</span>\r\n              </a>\r\n            </li>\r\n            <li className=\"kt-nav__item\">\r\n              <a href=\"#\" className=\"kt-nav__link\">\r\n                <i className=\"kt-nav__link-icon flaticon2-calendar-4\"></i>\r\n                <span className=\"kt-nav__link-text\">Events</span>\r\n              </a>\r\n            </li>\r\n            <li className=\"kt-nav__item\">\r\n              <a href=\"#\" className=\"kt-nav__link\">\r\n                <i className=\"kt-nav__link-icon flaticon2-layers-1\"></i>\r\n                <span className=\"kt-nav__link-text\">Reports</span>\r\n              </a>\r\n            </li>\r\n            <li className=\"kt-nav__section\">\r\n              <span className=\"kt-nav__section-text\">Customers</span>\r\n            </li>\r\n            <li className=\"kt-nav__item\">\r\n              <a href=\"#\" className=\"kt-nav__link\">\r\n                <i className=\"kt-nav__link-icon flaticon2-calendar-4\"></i>\r\n                <span className=\"kt-nav__link-text\">Notifications</span>\r\n              </a>\r\n            </li>\r\n            <li className=\"kt-nav__item\">\r\n              <a href=\"#\" className=\"kt-nav__link\">\r\n                <i className=\"kt-nav__link-icon flaticon2-file-1\"></i>\r\n                <span className=\"kt-nav__link-text\">Files</span>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { Chart } from \"chart.js\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { metronic } from \"../../_metronic\";\r\n\r\nexport default function MyLeadsChart({data}) {\r\n  const canvasRef = useRef();\r\n  const { brandColor, dangerColor, successColor, primaryColor } = useSelector(\r\n    state => ({\r\n      brandColor: metronic.builder.selectors.getConfig(\r\n        state,\r\n        \"colors.state.brand\"\r\n      ),\r\n      dangerColor: metronic.builder.selectors.getConfig(\r\n        state,\r\n        \"colors.state.danger\"\r\n      ),\r\n      successColor: metronic.builder.selectors.getConfig(\r\n        state,\r\n        \"colors.state.success\"\r\n      ),\r\n      primaryColor: metronic.builder.selectors.getConfig(\r\n        state,\r\n        \"colors.state.primary\"\r\n      )\r\n    })\r\n  );\r\n\r\n  useEffect(() => {\r\n    const config = {\r\n      type: \"doughnut\",\r\n      data: {\r\n        labels: [\r\n          \"Aircrafts\",\r\n          \"Engines\",\r\n          \"APU\",\r\n          \"Wanted\",\r\n        ],\r\n        datasets: [\r\n          {\r\n            data: data ? [data.aircraftLeads, data.engineLeads, data.apuLeads, data.wantedLeads] : [],\r\n            backgroundColor: [\r\n                successColor,\r\n                dangerColor,\r\n                brandColor,\r\n                primaryColor,\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      options: {\r\n        cutoutPercentage: 75,\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        legend: {\r\n            display: true,\r\n            position: 'top',\r\n            align: 'left',\r\n            labels:{\r\n                fontSize: 11,\r\n            }\r\n        },\r\n        title: {\r\n            display: false,\r\n            text: 'Top Leads'\r\n        },\r\n        animation: {\r\n            animateScale: true,\r\n            animateRotate: true\r\n        },\r\n        tooltips: {\r\n            enabled: true,\r\n            intersect: false,\r\n            mode: 'nearest',\r\n            bodySpacing: 5,\r\n            yPadding: 10,\r\n            xPadding: 10,\r\n            caretPadding: 0,\r\n            displayColors: false,\r\n            backgroundColor: brandColor,\r\n            titleFontColor: '#ffffff',\r\n            cornerRadius: 4,\r\n            footerSpacing: 0,\r\n            titleSpacing: 0\r\n        }\r\n      }\r\n    };\r\n\r\n    const chart = new Chart(canvasRef.current, config);\r\n\r\n    return () => {\r\n      chart.destroy();\r\n    };\r\n  }, [data, brandColor, dangerColor, successColor, primaryColor]);\r\n\r\n  return (\r\n    <div className=\"kt-chart__widget kt-chart__widget--no-padding\">\r\n      {/*<div className=\"kt-chart__widget_header\">\r\n        <h3 className=\"kt-chart__widget_title\">\r\n\r\n        </h3>\r\n      </div>*/}\r\n      <div className=\"kt-chart__widget_content\">\r\n        <div className=\"kt-chart__widget_chart pie\" style={{height: \"250px\"}}>\r\n          <div className=\"kt-chart__widget_stat\"></div>\r\n          <canvas ref={canvasRef} id=\"chart_air_bookers\" />\r\n        </div>\r\n      </div>\r\n        <div className=\"kt-chart__widget_legends\">\r\n              <div className=\"kt-chart__widget_legend\">\r\n                  <span className=\"kt-chart__widget_bullet kt-bg-success\"></span>\r\n                  <span className=\"kt-chart__widget_stats\">{data ? data.aircraftLeads : 0} Aircraft</span>\r\n              </div>\r\n              <div className=\"kt-chart__widget_legend\">\r\n                  <span className=\"kt-chart__widget_bullet kt-bg-danger\"></span>\r\n                  <span className=\"kt-chart__widget_stats\">{data ? data.engineLeads : 0} Engine</span>\r\n              </div>\r\n              <div className=\"kt-chart__widget_legend\">\r\n                  <span className=\"kt-chart__widget_bullet kt-bg-brand\"></span>\r\n                  <span className=\"kt-chart__widget_stats\">{data ? data.apuLeads : 0} APU</span>\r\n              </div>\r\n              <div className=\"kt-chart__widget_legend\">\r\n                  <span className=\"kt-chart__widget_bullet kt-bg-primary\"></span>\r\n                  <span className=\"kt-chart__widget_stats\">{data ? data.wantedLeads : 0} Wanted</span>\r\n              </div>\r\n          </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  Portlet,\r\n  PortletBody,\r\n  PortletHeader,\r\n  PortletHeaderToolbar\r\n} from \"../../partials/content/Portlet\";\r\nimport { metronic } from \"../../../_metronic\";\r\nimport QuickStatsChart from \"../../widgets/QuickStatsChart\";\r\nimport OrderStatisticsChart from \"../../widgets/OrderStatisticsChart\";\r\nimport OrdersWidget from \"../../widgets/OrdersWidget\";\r\nimport SalesBarChart from \"../../widgets/SalesBarChart\";\r\nimport DownloadFiles from \"../../widgets/DownloadFiles\";\r\nimport NewUsers from \"../../widgets/NewUsers\";\r\nimport LatestUpdates from \"../../widgets/LatestUpdates\";\r\nimport BestSellers from \"../../widgets/BestSellers\";\r\nimport RecentActivities from \"../../widgets/RecentActivities\";\r\nimport PortletHeaderDropdown from \"../../partials/content/CustomDropdowns/PortletHeaderDropdown\";\r\nimport {Button, Table} from \"react-bootstrap\";\r\nimport {list, USER_URL} from \"../../crud/api\";\r\nimport {Chip} from \"@material-ui/core\";\r\nimport {Link} from \"react-router-dom\";\r\nimport MyLeadsChart from \"../../charts/MyLeads\";\r\n\r\nexport default function Dashboard() {\r\n    const [rows, setRowsData] = React.useState([]);\r\n    const [aircrafts, setAircrafts] = React.useState([]);\r\n    const [engines, setEngines] = React.useState([]);\r\n    const [apus, setApus] = React.useState([]);\r\n    const [wanteds, setWanteds] = React.useState([]);\r\n    const [count, setCount] = React.useState(0); // set counter for onload functions\r\n  const { brandColor, dangerColor, successColor, primaryColor } = useSelector(\r\n    state => ({\r\n      brandColor: metronic.builder.selectors.getConfig(\r\n        state,\r\n        \"colors.state.brand\"\r\n      ),\r\n      dangerColor: metronic.builder.selectors.getConfig(\r\n        state,\r\n        \"colors.state.danger\"\r\n      ),\r\n      successColor: metronic.builder.selectors.getConfig(\r\n        state,\r\n        \"colors.state.success\"\r\n      ),\r\n      primaryColor: metronic.builder.selectors.getConfig(\r\n        state,\r\n        \"colors.state.primary\"\r\n      )\r\n    })\r\n  );\r\n\r\n  const chartOptions = useMemo(\r\n    () => ({\r\n      chart1: {\r\n        data: [10, 14, 18, 11, 9, 12, 14, 17, 18, 14],\r\n        color: brandColor,\r\n        border: 3\r\n      },\r\n\r\n      chart2: {\r\n        data: [11, 12, 18, 13, 11, 12, 15, 13, 19, 15],\r\n        color: dangerColor,\r\n        border: 3\r\n      },\r\n\r\n      chart3: {\r\n        data: [12, 12, 18, 11, 15, 12, 13, 16, 11, 18],\r\n        color: successColor,\r\n        border: 3\r\n      },\r\n\r\n      chart4: {\r\n        data: [11, 9, 13, 18, 13, 15, 14, 13, 18, 15],\r\n        color: primaryColor,\r\n        border: 3\r\n      }\r\n    }),\r\n    [brandColor, dangerColor, primaryColor, successColor]\r\n  );\r\n\r\n  onInitialLoad();\r\n  function onInitialLoad() {\r\n    if(count === 0) {\r\n      getDashboardData();\r\n      getRecentAircraftsData();\r\n      getRecentEnginesData();\r\n      getRecentApusData();\r\n      getRecentWantedData();\r\n      setCount(count+1);\r\n    }\r\n  }\r\n\r\n  function getDashboardData() {\r\n    let filter = {};\r\n     list('user_dashboard', filter).then(function (response) {\r\n      setRowsData(response.data);\r\n    });\r\n  }\r\n\r\n  function getRecentAircraftsData() {\r\n    let filter = {layout: 'dashboard' };\r\n     list('aircrafts', filter).then(function (response) {\r\n      setAircrafts(response.data);\r\n    });\r\n  }\r\n\r\n  function getRecentEnginesData() {\r\n    let filter = {layout: 'dashboard' };\r\n     list('engines', filter).then(function (response) {\r\n      setEngines(response.data);\r\n    });\r\n  }\r\n\r\n  function getRecentApusData() {\r\n    let filter = {layout: 'dashboard' };\r\n     list('apus', filter).then(function (response) {\r\n      setApus(response.data);\r\n    });\r\n  }\r\n\r\n  function getRecentWantedData() {\r\n    let filter = {layout: 'dashboard' };\r\n     list('wanteds', filter).then(function (response) {\r\n      setWanteds(response.data);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"col-xl-6\">\r\n          <div className=\"row row-full-height\">\r\n            <div className=\"col-sm-12 col-md-12 col-lg-6\">\r\n              <Portlet className=\"kt-portlet--height-fluid-half kt-portlet--border-bottom-brand\">\r\n                <PortletHeader\r\n                  title=\"Aircraft\"\r\n                  toolbar={\r\n                    <PortletHeaderToolbar>\r\n                    </PortletHeaderToolbar>\r\n                  }\r\n                />\r\n                <PortletBody fluid={true}>\r\n                  <div className=\"kt-widget26\" style={{flexDirection:'row'}}>\r\n                    <div className=\"kt-widget26__content\" style={{width:'50%'}}>\r\n                      <span className=\"kt-widget26__number\">{rows.aircraftActive}</span>\r\n                      <span className=\"kt-widget26__desc\">Active</span>\r\n                    </div>\r\n                    <div className=\"kt-widget26__content text-right\" style={{width:'50%'}}>\r\n                      <span className=\"kt-widget26__number\">{rows.aircraftInactive}</span>\r\n                      <span className=\"kt-widget26__desc\">Inactive</span>\r\n                    </div>\r\n                  </div>\r\n                </PortletBody>\r\n              </Portlet>\r\n\r\n              <div className=\"kt-space-20\" />\r\n\r\n              <Portlet className=\"kt-portlet--height-fluid-half kt-portlet--border-bottom-brand\">\r\n                <PortletHeader\r\n                  title=\"Engine\"\r\n                  toolbar={\r\n                    <PortletHeaderToolbar>\r\n                    </PortletHeaderToolbar>\r\n                  }\r\n                />\r\n                <PortletBody fluid={true}>\r\n                  <div className=\"kt-widget26\" style={{flexDirection:'row'}}>\r\n                    <div className=\"kt-widget26__content\" style={{width:'50%'}}>\r\n                      <span className=\"kt-widget26__number\">{rows.engineActive}</span>\r\n                      <span className=\"kt-widget26__desc\">Active</span>\r\n                    </div>\r\n                    <div className=\"kt-widget26__content text-right\" style={{width:'50%'}}>\r\n                      <span className=\"kt-widget26__number\">{rows.engineInactive}</span>\r\n                      <span className=\"kt-widget26__desc\">Inactive</span>\r\n                    </div>\r\n                  </div>\r\n                </PortletBody>\r\n              </Portlet>\r\n            </div>\r\n\r\n            <div className=\"col-sm-12 col-md-12 col-lg-6\">\r\n              <Portlet className=\"kt-portlet--height-fluid-half kt-portlet--border-bottom-brand\">\r\n                <PortletHeader\r\n                  title=\"Apu\"\r\n                  toolbar={\r\n                    <PortletHeaderToolbar>\r\n                    </PortletHeaderToolbar>\r\n                  }\r\n                />\r\n                <PortletBody fluid={true}>\r\n                  <div className=\"kt-widget26\" style={{flexDirection:'row'}}>\r\n                    <div className=\"kt-widget26__content\" style={{width:'50%'}}>\r\n                      <span className=\"kt-widget26__number\">{rows.apuActive}</span>\r\n                      <span className=\"kt-widget26__desc\">Active</span>\r\n                    </div>\r\n                    <div className=\"kt-widget26__content text-right\" style={{width:'50%'}}>\r\n                      <span className=\"kt-widget26__number\">{rows.apuInactive}</span>\r\n                      <span className=\"kt-widget26__desc\">Inactive</span>\r\n                    </div>\r\n                  </div>\r\n                </PortletBody>\r\n              </Portlet>\r\n\r\n              <div className=\"kt-space-20\" />\r\n\r\n              <Portlet className=\"kt-portlet--height-fluid-half kt-portlet--border-bottom-brand\">\r\n                <PortletHeader\r\n                  title=\"Wanted\"\r\n                  toolbar={\r\n                    <PortletHeaderToolbar>\r\n                    </PortletHeaderToolbar>\r\n                  }\r\n                />\r\n                <PortletBody fluid={true}>\r\n                  <div className=\"kt-widget26\" style={{flexDirection:'row'}}>\r\n                    <div className=\"kt-widget26__content\" style={{width:'50%'}}>\r\n                      <span className=\"kt-widget26__number\">{rows.wantedActive}</span>\r\n                      <span className=\"kt-widget26__desc\">Active</span>\r\n                    </div>\r\n                    <div className=\"kt-widget26__content text-right\" style={{width:'50%'}}>\r\n                      <span className=\"kt-widget26__number\">{rows.wantedInactive}</span>\r\n                      <span className=\"kt-widget26__desc\">Inactive</span>\r\n                    </div>\r\n                  </div>\r\n                </PortletBody>\r\n              </Portlet>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-xl-6\">\r\n          <Portlet fluidHeight={true}>\r\n            <PortletHeader\r\n              title=\"Leads\"\r\n              toolbar={\r\n                <PortletHeaderToolbar>\r\n                </PortletHeaderToolbar>\r\n              }\r\n            />\r\n\r\n            <PortletBody>\r\n              <MyLeadsChart data={rows['chartData']} />\r\n            </PortletBody>\r\n          </Portlet>\r\n        </div>\r\n      </div>\r\n\r\n        <div className=\"row\">\r\n            <div className=\"col-xl-6\">\r\n                <Portlet fluidHeight={true}>\r\n                    <PortletHeader\r\n                      title=\"Recent Aircraft\"\r\n                      toolbar={\r\n                        <PortletHeaderToolbar>\r\n                            <Button href={\"/\"+USER_URL+\"/aircraft/asset\"} variant=\"outline-primary\">Go to Aircraft</Button>\r\n                        </PortletHeaderToolbar>\r\n                      }\r\n                    />\r\n                    <PortletBody>\r\n                        <Table responsive>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Title</th>\r\n                              <th>MSN</th>\r\n                              <th>Status</th>\r\n                              <th>Views</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                          {aircrafts.map((val, i) => {\r\n                              val.title = val.title.replace(/-/g,' ');\r\n                              const name = val.title;\r\n                              const aircraft_slug = val.id+'-'+name.replace(/\\s+/g, '-').toLowerCase()\r\n                              return (\r\n                                  <tr>\r\n                                      <td><a target=\"_blank\" href={\"/aircraft/\" + aircraft_slug + \"/\"}>{val.title ? val.title.split(\"YOM\")[0] : ' -- '}</a></td>\r\n                                      <td>{val.msn ? val.msn : ' -- '}</td>\r\n                                      <td>{val.isactivestatus ? val.isactivestatus : ' -- '}</td>\r\n                                      <td>{val.views}</td>\r\n                                  </tr>\r\n                              );\r\n                            })\r\n                          }\r\n                          </tbody>\r\n                        </Table>\r\n                    </PortletBody>\r\n                </Portlet>\r\n            </div>\r\n            <div className=\"col-xl-6\">\r\n                <Portlet fluidHeight={true}>\r\n                    <PortletHeader\r\n                      title=\"Recent Engines\"\r\n                      toolbar={\r\n                        <PortletHeaderToolbar>\r\n                            <Button href={\"/\"+USER_URL+\"/engine/asset\"} variant=\"outline-primary\">Go to Engines</Button>\r\n                        </PortletHeaderToolbar>\r\n                      }\r\n                    />\r\n                    <PortletBody>\r\n                        <Table responsive>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Title</th>\r\n                              <th>ESN</th>\r\n                              <th>Status</th>\r\n                              <th>Views</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                          {engines.map((val, i) => {\r\n                              val.title = val.title.replace(/-/g,' ');\r\n                              const name = val.title;\r\n                              const engine_slug = val.id+'-'+name.replace(/\\s+/g, '-').toLowerCase()\r\n                              return (\r\n                                  <tr>\r\n                                      <td><a target=\"_blank\" href={\"/engine/\" + engine_slug + \"/\"}>{val.title ? val.title : ' -- '}</a></td>\r\n                                      <td>{val.esn ? val.esn : ' -- '}</td>\r\n                                      <td>{val.isactivestatus ? val.isactivestatus : ' -- '}</td>\r\n                                      <td>{val.views}</td>\r\n                                  </tr>\r\n                              );\r\n                            })\r\n                          }\r\n                          </tbody>\r\n                        </Table>\r\n                    </PortletBody>\r\n                </Portlet>\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n            <div className=\"col-xl-6\">\r\n                <Portlet fluidHeight={true}>\r\n                    <PortletHeader\r\n                      title=\"Recent APU's\"\r\n                      toolbar={\r\n                        <PortletHeaderToolbar>\r\n                            <Button href={\"/\"+USER_URL+\"/apu/asset\"} variant=\"outline-primary\">Go to APU's</Button>\r\n                        </PortletHeaderToolbar>\r\n                      }\r\n                    />\r\n                    <PortletBody>\r\n                        <Table responsive>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Title</th>\r\n                              <th>ESN</th>\r\n                              <th>Status</th>\r\n                              <th>Views</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                          {apus.map((val, i) => {\r\n                              val.title = val.title.replace(/-/g,' ');\r\n                              const name = val.title;\r\n                              const apu_slug = val.id+'-'+name.replace(/\\s+/g, '-').toLowerCase()\r\n\r\n                              return (\r\n                                  <tr>\r\n                                      <td><a target=\"_blank\" href={\"/apu/\" + apu_slug + \"/\"}>{val.title ? val.title : ' -- '}</a></td>\r\n                                      <td>{val.esn ? val.esn : ' -- '}</td>\r\n                                      <td>{val.isactivestatus ? val.isactivestatus : ' -- '}</td>\r\n                                      <td>{val.views}</td>\r\n                                  </tr>\r\n                              );\r\n                            })\r\n                          }\r\n                          </tbody>\r\n                        </Table>\r\n                    </PortletBody>\r\n                </Portlet>\r\n            </div>\r\n            <div className=\"col-xl-6\">\r\n                <Portlet fluidHeight={true}>\r\n                    <PortletHeader\r\n                      title=\"Recent Wanted\"\r\n                      toolbar={\r\n                        <PortletHeaderToolbar>\r\n                            <Button href={\"/\"+USER_URL+\"/wanted/asset\"} variant=\"outline-primary\">Go to Wanted</Button>\r\n                        </PortletHeaderToolbar>\r\n                      }\r\n                    />\r\n                    <PortletBody>\r\n                        <Table responsive>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Title</th>\r\n                              <th>Status</th>\r\n                              <th>Views</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                          {wanteds.map((val, i) => {\r\n                                val.title = val.title.replace(/-/g,' ');\r\n                                const name = val.title;\r\n                                const wanted_slug = val.id+'-'+name.replace(/\\s+/g, '-').toLowerCase()\r\n                              return (\r\n                                  <tr>\r\n                                      <td><a target=\"_blank\" href={\"/wanted/\" + wanted_slug + \"/\"}>{val.title ? val.title : ' -- '}</a></td>\r\n                                      <td>{val.is_active ? 'Active' : ' In Active '}</td>\r\n                                      <td>{val.views}</td>\r\n                                  </tr>\r\n                              );\r\n                            })\r\n                          }\r\n                          </tbody>\r\n                        </Table>\r\n                    </PortletBody>\r\n                </Portlet>\r\n            </div>\r\n        </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Portlet,\r\n  PortletBody,\r\n  PortletHeader\r\n} from \"../../../partials/content/Portlet\";\r\nimport SyntaxHighlighter from 'react-syntax-highlighter';\r\nimport { monoBlue } from 'react-syntax-highlighter/dist/esm/styles/hljs';\r\n\r\nexport default function QuickStartDocs() {\r\n  return (\r\n    <Portlet>\r\n      <PortletHeader title=\"Quick Start\" />\r\n      <PortletBody>\r\n        <ol>\r\n          <li>\r\n            <p>Install dependencies:</p>\r\n            <SyntaxHighlighter language=\"bash\" style={monoBlue}>yarn install</SyntaxHighlighter>            \r\n          </li>\r\n          <li>\r\n            <p>Run dev server:</p>\r\n            <pre>\r\n            <SyntaxHighlighter language=\"bash\" style={monoBlue}>yarn start</SyntaxHighlighter>\r\n            </pre>\r\n          </li>\r\n          <li>\r\n            <p>To check production build:</p>\r\n            <pre>\r\n            <SyntaxHighlighter language=\"bash\" style={monoBlue}>yarn build &amp;&amp; yarn serve</SyntaxHighlighter>\r\n            </pre>\r\n          </li>\r\n        </ol>\r\n        <p>\r\n          For more detailed information to install the Create React App, visit\r\n          this official Create React App{\" \"}\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://facebook.github.io/create-react-app/docs/getting-started\"\r\n          >\r\n            documentation website\r\n          </a>\r\n          .\r\n        </p>\r\n      </PortletBody>\r\n    </Portlet>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Portlet,\r\n  PortletBody,\r\n  PortletHeader\r\n} from \"../../../partials/content/Portlet\";\r\nimport { CodeBlock } from \"../../../partials/content/CodeExample\";\r\nimport SyntaxHighlighter from 'react-syntax-highlighter';\r\nimport { monoBlue } from 'react-syntax-highlighter/dist/esm/styles/hljs';\r\n\r\nexport default function DeploymentDocs() {\r\n  return (\r\n    <Portlet>\r\n      <PortletHeader title=\"Deployment\" />\r\n      <PortletBody>\r\n        <ol>\r\n          <li>\r\n            <p>\r\n              Setup base url via <code>hompage</code> entry in{\" \"}\r\n              <code>package.json</code>.\r\n            </p>\r\n\r\n            <CodeBlock\r\n              language=\"diff\"\r\n              code={`\r\n                {\r\n                  \"name\": \"default\",\r\n                  \"version\": \"0.1.0\",\r\n                  \"private\": true,\r\n                - \"homepage\": \"https://keenthemes.com/metronic/preview/react\",\r\n                + \"homepage\": \"https://example.com/my/app\",\r\n                  \"scripts\": {\r\n              `}\r\n            />\r\n          </li>\r\n          <li>\r\n            <p>Run build.</p>\r\n            <SyntaxHighlighter language=\"bash\" style={monoBlue}>yarn build</SyntaxHighlighter>\r\n          </li>\r\n        </ol>\r\n        <p>\r\n          For more detailed information to deploy the Create React App, visit\r\n          this official Create React App{\" \"}\r\n          <a href=\"https://facebook.github.io/create-react-app/docs/deployment\">\r\n            documentation website\r\n          </a>\r\n          .\r\n        </p>\r\n      </PortletBody>\r\n    </Portlet>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Portlet,\r\n  PortletBody,\r\n  PortletHeader\r\n} from \"../../../partials/content/Portlet\";\r\n\r\nexport default function OverviewDocs() {\r\n  return (\r\n    <Portlet>\r\n      <PortletHeader title=\"Overview\" />\r\n      <PortletBody>\r\n        <p>\r\n          React makes it painless to create interactive UIs. Design simple views\r\n          for each state in your application, and React will efficiently update\r\n          and render just the right components when your data changes.\r\n          Declarative views make your code more predictable and easier to debug.\r\n        </p>\r\n        <p>\r\n          Build encapsulated components that manage their own state, then\r\n          compose them to make complex UIs. Since component logic is written in\r\n          JavaScript instead of templates, you can easily pass rich data through\r\n          your app and keep state out of the DOM.\r\n        </p>\r\n\r\n        <h5 id=\"files-structure\">Files Structure</h5>\r\n\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Path</th>\r\n              <th>Description</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                /<strong>build</strong>\r\n              </td>\r\n              <td>\r\n                The built output. Run command <code>yarn build</code> to build\r\n                it.\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /<strong>_site</strong>\r\n              </td>\r\n              <td>\r\n                The build output copied to serve on local machine. Created by{\" \"}\r\n                <code>yarn serve</code> command.\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /<strong>node_modules</strong>\r\n              </td>\r\n              <td>\r\n                The <code>package.json</code> file in the app root defines what\r\n                libraries will be installed into <code>node_modules/</code> when\r\n                you run <code>yarn install</code>.\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /<strong>public</strong>\r\n              </td>\r\n              <td>\r\n                Сontains the HTML file so you can tweak it, Change{\" \"}\r\n                <code>&lt;title&gt;</code>, insert additional{\" \"}\r\n                <code>&lt;link&gt;</code> and <code>&lt;script&gt;</code> tags.\r\n                For more details check{\" \"}\r\n                <a href=\"https://facebook.github.io/create-react-app/docs/using-the-public-folder#docsNav\">\r\n                  official documentation\r\n                </a>\r\n                .\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /<strong>src</strong>\r\n              </td>\r\n              <td>\r\n                Your app lives in the src folder. All React components, styles,\r\n                images, and anything else your app needs go here.\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /src/<strong>_metronic</strong>\r\n              </td>\r\n              <td>\r\n                Contains the Metronic core elements: layout, themes, redux\r\n                ducks, context providers.\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /src/<strong>app</strong>\r\n              </td>\r\n              <td>Main app folder</td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /src/app/<strong>crud</strong>\r\n              </td>\r\n              <td>CRUD methods</td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /src/app/<strong>i18n</strong>\r\n              </td>\r\n              <td>\r\n                Used by <code>I18nProvider</code> to override{\" \"}\r\n                <code>react-intl</code> messages.\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /src/app/<strong>pages</strong>\r\n              </td>\r\n              <td>Containes web pages.</td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /src/app/<strong>partials</strong>\r\n              </td>\r\n              <td>Contains reusable UI components.</td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /src/app/<strong>store</strong>\r\n              </td>\r\n              <td>\r\n                Contains <code>redux</code> store configurations and it's{\" \"}\r\n                <code>ducks</code>.\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                /src/app/<strong>widgets</strong>\r\n              </td>\r\n              <td>Containes reusable widget components.</td>\r\n            </tr>\r\n            <tr>\r\n              <td>.gitignore</td>\r\n              <td>\r\n                Git uses it to determine which files and directories to ignore,\r\n                before you make a commit.\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>serve.json</td>\r\n              <td>\r\n                Used by <code>serve-handler</code> runned by command{\" \"}\r\n                <code>yarn serve</code>.\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>package.json</td>\r\n              <td>\r\n                A package.json file contains meta data about app or module. Most\r\n                importantly, it includes the list of dependencies to install\r\n                from npm when running npm install.\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </PortletBody>\r\n    </Portlet>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Portlet,\r\n  PortletBody,\r\n  PortletHeader\r\n} from \"../../../partials/content/Portlet\";\r\nimport { CodeBlock } from \"../../../partials/content/CodeExample\";\r\n\r\nexport default function I18nDocs() {\r\n  return (\r\n    <Portlet>\r\n      <PortletHeader title=\"Internationalization (i18n)\" />\r\n      <PortletBody>\r\n        <h3 id=\"overview\">Overview</h3>\r\n        <p>\r\n          We're using <code>react-intl</code> for internationalization, check\r\n          official{\" \"}\r\n          <a href=\"https://github.com/formatjs/react-intl/blob/master/docs/Getting-Started.md\">\r\n            documentation\r\n          </a>{\" \"}\r\n          and{\" \"}\r\n          <a href=\"https://github.com/formatjs/react-intl/tree/master/examples\">\r\n            examples\r\n          </a>\r\n          .\r\n        </p>\r\n\r\n        <h3 id=\"how-to-add-a-new-language\">How to add a new language</h3>\r\n        <p>\r\n          <strong>\r\n            Note: if there are no locale data for your new language in{\" \"}\r\n            <code>react-intl/locale-data</code> you will have to manually add\r\n            locale data\r\n          </strong>\r\n        </p>\r\n\r\n        <h5>This is example how to add Turkish language:</h5>\r\n\r\n        <ol>\r\n          <li>\r\n            <p>\r\n              Update <code>src/app/partials/layout/LanguageSelector.js</code>\r\n            </p>\r\n\r\n            <CodeBlock\r\n              language=\"diff\"\r\n              code={`\r\n                const languages = [\r\n                  {\r\n                    lang: \"en\",\r\n                    name: \"English\",\r\n                    flag: toAbsoluteUrl(\"/media/flags/012-uk.svg\")\r\n                  },\r\n                + {\r\n                +   lang: \"tr\",\r\n                +   name: \"Turkish\",\r\n                +   flag: toAbsoluteUrl(\"/media/flags/006-turkey.svg\")\r\n                + },\r\n                {\r\n              `}\r\n            />\r\n          </li>\r\n          <li>\r\n            <p>\r\n              Add <code>src/_metronic/i18n/messages/tr.json</code>\r\n            </p>\r\n\r\n            <CodeBlock\r\n              language=\"diff\"\r\n              code={`\r\n                + {\r\n                +    \"TRANSLATOR.SELECT\": \"Dilinizi seçin\",\r\n                +    \"MENU.NEW\": \"yeni\",\r\n                +    \"MENU.ACTIONS\": \"Eylemler\",\r\n                +    \"MENU.CREATE_POST\": \"Yeni Gönderi Oluştur\",\r\n              `}\r\n            />\r\n          </li>\r\n\r\n          <li>\r\n            <p>\r\n              Register messages and locale data in{\" \"}\r\n              <code>src/_metronic/i18n/I18nProvider.js</code>\r\n            </p>\r\n\r\n            <CodeBlock\r\n              language=\"diff\"\r\n              code={`\r\n                import * as ja from \"react-intl/locale-data/ja\";\r\n                import * as zh from \"react-intl/locale-data/zh\";\r\n                + import * as tr from \"react-intl/locale-data/tr\";\r\n                \r\n                import deMessages from \"./messages/de\";\r\n                import enMessages from \"./messages/en\";\r\n                import esMessages from \"./messages/es\";\r\n                import frMessages from \"./messages/fr\";\r\n                import jaMessages from \"./messages/ja\";\r\n                import zhMessages from \"./messages/zh\";\r\n                + import trMessages from \"./messages/tr\";\r\n                \r\n                const allMessages = {\r\n                  de: deMessages,\r\n                  en: enMessages,\r\n                  es: esMessages,\r\n                  fr: frMessages,\r\n                  ja: jaMessages,\r\n                  zh: zhMessages\r\n                + tr: trMessages\r\n                };\r\n                \r\n                - addLocaleData([...de, ...en, ...es, ...fr, ...ja, ...zh]);\r\n                + addLocaleData([...de, ...en, ...es, ...fr, ...ja, ...zh, ...tr]);\r\n                \r\n                export default function I18nProvider({ children }) {\r\n              `}\r\n            />\r\n          </li>\r\n        </ol>\r\n\r\n        <h4 id=\"how-to-use\">How to use</h4>\r\n\r\n        <p>\r\n          In the sample React app demo, the core parts like{\" \"}\r\n          <code>left sided menu</code>, <code>topbar horizontal menu</code>,\r\n          etc. are already implemented with the translation.\r\n        </p>\r\n        <p>\r\n          The translator understands flat JSON object as defined in{\" \"}\r\n          <code>src/_metronic/i18n/messages/en.json</code>. This means that you\r\n          can have a translation that looks like this:\r\n        </p>\r\n\r\n        <ol>\r\n          <li>\r\n            Add translation to <code>src/app/i18n/en.json</code>:\r\n            <CodeBlock\r\n              language=\"json\"\r\n              code={`\r\n                {\r\n                  \"HOME.HELLO\": \"Hello, {name}!\"\r\n                }\r\n              `}\r\n            />\r\n          </li>\r\n\r\n          <li>\r\n            <p>Format it with component:</p>\r\n            <CodeBlock\r\n              language=\"jsx\"\r\n              code={`\r\n                import { FormattedMessage } from \"react-intl\";\r\n                \r\n                export default function Hello({ name }) {\r\n                  return <FormattedMessage id=\"HOME.HELLO\" values={{ name }} />;\r\n                }\r\n              `}\r\n            />\r\n            <p>Or with hook:</p>\r\n            <CodeBlock\r\n              language=\"jsx\"\r\n              code={`\r\n                import { useIntl } from \"react-intl\";\r\n                \r\n                export default function Hello({ name }) {\r\n                  const intl = useIntl();\r\n                \r\n                  return <h3>{intl.formatMessage({ id: \"HOME.HELLO\" }, { name })}</h3>;\r\n                }\r\n              `}\r\n            />{\" \"}\r\n            <p>Or with HOC (Higher order component):</p>\r\n            <CodeBlock\r\n              language=\"jsx\"\r\n              code={`\r\n                import { injectIntl } from \"react-intl\";\r\n                \r\n                function Hello({ name, intl /* Prop injected with \\`injectIntl\\` */ }) {\r\n                  return <h3>{intl.formatMessage({ id: \"HOME.HELLO\" }, { name })}</h3>;\r\n                }\r\n                \r\n                export default injectIntl(Hello);\r\n              `}\r\n            />\r\n          </li>\r\n        </ol>\r\n      </PortletBody>\r\n    </Portlet>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Portlet,\r\n  PortletBody,\r\n  PortletHeader\r\n} from \"../../../partials/content/Portlet\";\r\nimport { CodeBlock } from \"../../../partials/content/CodeExample\";\r\n\r\nexport default function MockBackendDocs() {\r\n  return (\r\n    <Portlet>\r\n      <PortletHeader title=\"Mock Back-end\" />\r\n      <PortletBody>\r\n        <h3 id=\"overview\">Overview</h3>\r\n        <p>\r\n          We use <code>axios-mock-adapter</code> for demo purpose, it intercepts{\" \"}\r\n          <code>axios</code> requests and redirects to mocked handlers.\r\n        </p>\r\n        <p>\r\n          For more info on the library:{\" \"}\r\n          <a href=\"https://github.com/ctimmerm/axios-mock-adapter\">\r\n            https://github.com/ctimmerm/axios-mock-adapter\r\n          </a>\r\n          .\r\n        </p>\r\n        <h3 id=\"how-switching-to-the-real-rest-api\">\r\n          How switching to the Real REST API\r\n        </h3>\r\n        <p>\r\n          Remove mock initialization in <code>src/index.js</code>:\r\n        </p>\r\n\r\n        <CodeBlock\r\n          language=\"diff\"\r\n          code={`\r\n            -import { mockAxios, setupAxios } from \"./_metronic\";\r\n            +import { setupAxios } from \"./_metronic\";\r\n            \r\n            import \"./index.css\";\r\n            \r\n            /**\r\n             * Website public url.\r\n             *\r\n             * @see https://facebook.github.io/create-react-app/docs/using-the-public-folder\r\n             */\r\n            const { PUBLIC_URL } = process.env;\r\n            \r\n            -/**\r\n            - * Mock API, use return \\`mock\\` variable to add new mocks.\r\n            - *\r\n            - * @see https://github.com/ctimmerm/axios-mock-adapter\r\n            - */\r\n            -/* const mock = */ mockAxios(axios);\r\n            -\r\n            /**\r\n             * Inject metronic interceptors for axios.    \r\n        `}\r\n        />\r\n      </PortletBody>\r\n    </Portlet>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Portlet,\r\n  PortletBody,\r\n  PortletHeader\r\n} from \"../../../partials/content/Portlet\";\r\nimport { CodeBlock } from \"../../../partials/content/CodeExample\";\r\n\r\nexport default function CreateAPageDocs() {\r\n  return (\r\n    <Portlet>\r\n      <PortletHeader title=\"How to create a custom page\" />\r\n      <PortletBody>\r\n        <div>\r\n          <h2 id=\"how-to-create-a-custom-page\">How to create a custom page</h2>\r\n          <p>\r\n            Here is the example on how to create your own page and add it to the\r\n            left side menu and breadcrumbs.\r\n          </p>\r\n          <ol>\r\n            <li>\r\n              <p>\r\n                Create page component <code>src/app/pages/home/MyPage.js</code>\r\n              </p>\r\n\r\n              <CodeBlock\r\n                language=\"jsx\"\r\n                code={`\r\n                  import React from \"react\";\r\n                  \r\n                  export default function MyPage() {\r\n                    return <h1>Hello!</h1>\r\n                  }              \r\n              `}\r\n              />\r\n            </li>\r\n\r\n            <li>\r\n              <p>\r\n                Update <code>src/app/pages/home/HomePage.js</code>\r\n              </p>\r\n              <CodeBlock\r\n                language=\"diff\"\r\n                code={`\r\n                  import React from \"react\";\r\n                  import { Redirect, Route, Switch } from \"react-router-dom\";\r\n                  \r\n                  import Builder from \"./Builder\";\r\n                  import Dashboard from \"./Dashboard\";\r\n                  import GoogleMaterialPage from \"./google-material/GoogleMaterialPage\";\r\n                  + import MyPage from \"./MyPage\";\r\n                  \r\n                  export default function HomePage() {\r\n                   return (\r\n                     <Switch>\r\n                       {\r\n                         /* Redirect from root url to /dashboard. */\r\n                         <Redirect exact={true} from=\"/\" to=\"/dashboard\" />\r\n                       }\r\n                  \r\n                       <Route path=\"/builder\" component={Builder} />\r\n                       <Route path=\"/dashboard\" component={Dashboard} />\r\n                       <Route path=\"/google-material\" component={GoogleMaterialPage} />\r\n                  +    <Route path=\"/my-page\" component={MyPage} />\r\n                     </Switch>\r\n                   );\r\n                  }            \r\n              `}\r\n              />\r\n            </li>\r\n\r\n            <li>\r\n              <p>\r\n                Register page in{\" \"}\r\n                <code>src/_metronic/layouts/demo1/MenuConfig.js</code>\r\n              </p>\r\n\r\n              <CodeBlock\r\n                language=\"diff\"\r\n                code={`\r\n                  aside: {\r\n                   self: {},\r\n                   items: [\r\n                     {\r\n                       title: \"Dashboard\",\r\n                       root: true,\r\n                       icon: \"flaticon2-architecture-and-city\",\r\n                       page: \"dashboard\",\r\n                       translate: \"MENU.DASHBOARD\",\r\n                       bullet: \"dot\"\r\n                     },\r\n                  +  {\r\n                  +    title: 'My Page', // <= Title of the page\r\n                  +    desc: 'Some my description goes here', // <= Description of the page\r\n                  +    root: true,\r\n                  +    page: 'my-page', // <= URL\r\n                  +    icon: 'flaticon-line-graph' // <= Choose the icon\r\n                  +  },         \r\n              `}\r\n              />\r\n            </li>\r\n          </ol>\r\n\r\n          <p>The result of the 3 steps is:</p>\r\n\r\n          {/*<img*/}\r\n          {/*  alt=\"Result\"*/}\r\n          {/*  src=\"/media/docs/06-create-custom-page-1.gif\"*/}\r\n          {/*/>*/}\r\n        </div>\r\n      </PortletBody>\r\n    </Portlet>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Portlet,\r\n  PortletBody,\r\n  PortletHeader\r\n} from \"../../../partials/content/Portlet\";\r\nimport { CodeBlock } from \"../../../partials/content/CodeExample\";\r\n\r\nexport default function UseADemo() {\r\n  return (\r\n    <Portlet>\r\n      <PortletHeader title=\"How to use a demo\" />\r\n      <PortletBody>\r\n        <p>\r\n          Theme comes with multi-demo app and single app components. For demo\r\n          purpose, all demos layout are enabled by default. Here is the guide on\r\n          how to set only one demo for production use and to remove the demo\r\n          name from the URL router.\r\n        </p>\r\n\r\n        <p>\r\n          All demos are modular and easy to switch. Multi-demo app is located in\r\n          the <code>src/DemoApp.js</code>\r\n        </p>\r\n\r\n        <p>\r\n          Go to the entry file <code>src/index.js</code>. The example code below\r\n          shows how to use <code>demo2</code> as a default. You can change the\r\n          module path to use different demo module.\r\n        </p>\r\n\r\n        <CodeBlock\r\n          language=\"diff\"\r\n          code={`            \r\n            import axios from \"axios\";\r\n            import React from \"react\";\r\n            import ReactDOM from \"react-dom\";\r\n            -import DemoApp from \"./DemoApp\";\r\n            +import App from \"./App\";\r\n            import store, { persistor } from \"./app/store/store\";\r\n            import { mockAxios, setupAxios } from \"./_metronic\";\r\n            \r\n            import \"./index.css\";\r\n            \r\n            /**\r\n             * Website public url.\r\n             *\r\n             * @see https://facebook.github.io/create-react-app/docs/using-the-public-folder\r\n             */\r\n            const { PUBLIC_URL } = process.env;\r\n            \r\n            /**\r\n             * Mock API, use return \\`mock\\` variable to add new mocks.\r\n             *\r\n             * @see https://github.com/ctimmerm/axios-mock-adapter\r\n             */\r\n            /* const mock = */ mockAxios(axios);\r\n            \r\n            /**\r\n             * Inject metronic interceptors for axios.\r\n             *\r\n             * @see https://github.com/axios/axios#interceptors\r\n             */\r\n            setupAxios(axios, store);\r\n            \r\n            -// Uncomment to enable single App mode.\r\n            -/*\r\n            const Layout = React.lazy(() =>\r\n            -  import(\"./_metronic/layouts/demo1/Layout.js\")\r\n            +  import(\"./_metronic/layouts/demo2/Layout.js\")\r\n            );\r\n            \r\n            ReactDOM.render(\r\n              <App\r\n                store={store}\r\n                Layout={Layout}\r\n                persistor={persistor}\r\n                basename={PUBLIC_URL}\r\n              />,\r\n              document.getElementById(\"root\")\r\n            );\r\n            -*/\r\n            -\r\n            -// Multi-demo app mode.\r\n            -ReactDOM.render(\r\n            -  <DemoApp store={store} persistor={persistor} basename={PUBLIC_URL} />,\r\n            -  document.getElementById(\"root\")\r\n            -);\r\n          `}\r\n        />\r\n      </PortletBody>\r\n    </Portlet>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport QuickStartDocs from \"./QuickStartDocs\";\r\nimport DeploymentDocs from \"./DeploymentDocs\";\r\nimport OverviewDocs from \"./OverviewDocs\";\r\nimport I18nDocs from \"./I18nDocs\";\r\nimport MockBackendDocs from \"./MockBackendDocs\";\r\nimport CreateAPageDocs from \"./CreateAPageDocs\";\r\nimport UseADemo from \"./UseADemo\";\r\n\r\nexport default function DocsPage() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/docs/quick-start\" component={QuickStartDocs} />\r\n      <Route path=\"/docs/overview\" component={OverviewDocs} />\r\n      <Route path=\"/docs/deployment\" component={DeploymentDocs} />\r\n      <Route path=\"/docs/i18n\" component={I18nDocs} />\r\n      <Route path=\"/docs/mock-backend\" component={MockBackendDocs} />\r\n      <Route path=\"/docs/create-a-page\" component={CreateAPageDocs} />\r\n      <Route path=\"/docs/use-a-demo\" component={UseADemo} />\r\n    </Switch>\r\n  );\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { dedent } from \"dentist\";\r\nimport copy from \"clipboard-copy\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\n// https://github.com/conorhastings/react-syntax-highlighter#prism\r\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\r\n// See https://github.com/PrismJS/prism-themes\r\nimport { coy as highlightStyle } from \"react-syntax-highlighter/dist/esm/styles/prism\";\r\nimport {\r\n  Portlet,\r\n  PortletBody,\r\n  PortletHeader,\r\n  PortletHeaderToolbar\r\n} from \"./Portlet\";\r\n\r\nexport function CustomBlock({ code, language, disableCopy }) {\r\n  const [isCopySucceed, setIsCopySucceed] = useState(false);\r\n  const children = useMemo(() => dedent(code), [code]);\r\n\r\n  return (\r\n    <div className=\"kt-portlet__code\">\r\n      {!disableCopy && (\r\n        <Tooltip\r\n          title=\"Copied\"\r\n          placement=\"left\"\r\n          open={isCopySucceed}\r\n          onClose={() => {\r\n            setIsCopySucceed(false);\r\n          }}\r\n        >\r\n          <a\r\n            href=\"#\"\r\n            className=\"kt-portlet__code-copy\"\r\n            onClick={() =>\r\n              copy(code).then(() => {\r\n                setIsCopySucceed(true);\r\n              })\r\n            }\r\n          >\r\n            <i className=\"la la-copy\" />\r\n          </a>\r\n        </Tooltip>\r\n      )}\r\n\r\n      <SyntaxHighlighter language={language} style={highlightStyle}>\r\n        {children}\r\n      </SyntaxHighlighter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function CustomHead({ jsCode, children, beforeCodeTitle }) {\r\n  const [isCodeVisible, setIsCodeVisible] = useState(false);\r\n\r\n  return (\r\n    <Portlet>\r\n      <PortletHeader\r\n        title={beforeCodeTitle}\r\n        toolbar={\r\n          jsCode\r\n        }\r\n      />\r\n\r\n      <PortletBody>\r\n        {jsCode && isCodeVisible && (\r\n          <CustomBlock language=\"javascript\" code={jsCode} />\r\n        )}\r\n\r\n        {children && <div className=\"kt-portlet__preview\">{children}</div>}\r\n      </PortletBody>\r\n    </Portlet>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Button, Form, Col, Tab, Tabs, Modal, Navbar, Nav} from \"react-bootstrap\";\r\nimport RUG, {DragArea, Card} from 'react-upload-gallery'\r\nimport {list, del, post, getToken, MEDIA_URL, API_URL, patch, USER_URL} from \"../crud/api\";\r\nimport Gallery from 'react-grid-gallery';\r\nimport Select from 'react-select';\r\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport clsx from \"clsx\";\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    IconButton, Paper, FormControlLabel, Switch, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent\r\n} from '@material-ui/core';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\n\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nexport default class MediaLibrary extends React.Component {\r\n  \tconstructor(props) {\r\n    \tsuper(props);\r\n\r\n\t   this.state = { \r\n\t      selected_media_tab:(this.props.showLibrary ? 'my_library':'airbook_library'),\r\n\t      selected_sort_col:'',\r\n\t      selected_sort_type:'',\r\n\t      galleryModal:false,\r\n\t      user_media:[],\r\n\t      airbook_media:[],\r\n\t\t   loading: false,\r\n\t      meta_name:'',\r\n\t\t  cropModal: false,\r\n\t\t  cropImageUrl: null,\r\n\t\t  cropImageName: null,\r\n\t\t  crop: {\r\n\t\t\t  unit: 'px',\r\n\t\t\t  width: 400,\r\n\t\t\t  aspect: 4 / 3\r\n\t\t  },\r\n\t\t  showMessage:false,\r\n\t\t  messageType:'error',\r\n\t\t  message:'Error occured while uploading image'\r\n\t    };\r\n\r\n\t   if(this.props.modal === false){\r\n\t   \tthis.getMedia('App\\\\User');\r\n\t   \tthis.getMedia('Global');\r\n\t   }\r\n\t}\r\n\r\n\tgalleryModalOpener() {\r\n\t\tthis.setState({ galleryModal: true });\r\n\t\tif(this.props.showLibrary) {\r\n\t\t\tif(!this.state.user_media.length)\r\n\t\t\t  this.getMedia('App\\\\User');\r\n\t\t\telse \r\n\t\t\t\tthis.makeGallery(this.state.user_media);\r\n\t\t}\r\n\r\n\t\tif(!this.state.airbook_media.length)\r\n\t\t\tthis.getMedia('Global');\r\n\t\telse \r\n\t\t\tthis.makeGallery(this.state.airbook_media);\r\n\r\n\t}\r\n\r\n\tgetMedia(media_type, search=null) {\r\n\t    let filter = {mediable_type:media_type, mediableId:this.props.user}\r\n\t    if(search != null)\r\n\t      filter = {...filter, ...search }\r\n\r\n\t    list('medias', filter).then(\r\n\t        (response) => {\r\n\t        \tlet media_type = 'user';\r\n\t        \tif(filter.mediable_type === 'Global')\r\n\t        \t\tmedia_type = 'airbook';\r\n\r\n\t          \tthis.setState({[media_type+'_media'] : this.makeGallery(response.data) ,})\r\n\t    \t\tthis.isAnyImageSelected();\r\n\t    });\r\n\t}\r\n\r\n\tmakeGallery(data) {\r\n\t\tlet selected_images = this.props.selected_images;\r\n\t\tlet selected_img_names = [];\r\n\t\tselected_images.map((val, i ) => {\r\n\t\t    selected_img_names.push(val.original_file_name);\r\n\t\t})\r\n\t\tdata.map((val, i) => {\r\n\t\t\tconst searchFor = val.path+'/';\r\n\t\t\tconst fileName = val.original_file_name.replace(searchFor,val.path+'/thumb_');\r\n\t\t\tvar imageDummy = new Image();\r\n\t\t\ttry{\r\n\t\t\t\timageDummy.onload = () => {\r\n\t\t\t\t\tdata[i].thumbnail = MEDIA_URL+fileName;\r\n\t\t\t\t}\r\n\t\t\t\timageDummy.onerror = () => {\r\n\t\t\t\t\tdata[i].thumbnail = MEDIA_URL+val.original_file_name;\r\n\t\t\t\t}\r\n\t\t\t\timageDummy.src = MEDIA_URL+fileName;\r\n\t\t\t}catch (e) {\r\n\r\n\t\t\t}\r\n\t\t  data[i].src = MEDIA_URL+val.original_file_name;\r\n\t\t  data[i].thumbnailWidth = 150;\r\n\t\t  data[i].thumbnailHeight = 150;\r\n\t\t  if(val.path !== 'global')\r\n\t\t  \tdata[i].customOverlay= <div className=\"card-crop-overlay\" onClick={() => this.onImageClick(val)}>Crop Image</div>;\r\n\t\t  if(selected_img_names.indexOf(data[i].original_file_name) > -1) \r\n\t\t    data[i].isSelected = true;\r\n\t\t  else\r\n\t\t    data[i].isSelected = false;\r\n\t\t})\r\n\t\treturn data\r\n\t}\r\n\r\n\tsearchMedia(val=null) {\r\n\t    if(val === null)\r\n\t      val = this.state.search;\r\n\t    let selected_sort_type = this.state.selected_sort_type;\r\n\t    let selected_sort_col = this.state.selected_sort_col;\r\n\t    let media_type = this.state.selected_media_tab === 'my_library' ? 'App\\\\User' : 'Global';\r\n\t    let filters = {search:val};\r\n\t    if(selected_sort_col !== '') {\r\n\t      if(selected_sort_type === '-')\r\n\t        filters.ordering = selected_sort_type.value+selected_sort_col.value;\r\n\t      else\r\n\t        filters.ordering = selected_sort_col.value;\r\n\t    }\r\n\t    this.getMedia(media_type, filters);\r\n\t}\r\n\r\n\tselectImage(index, type) {\r\n\t    let images = this.state[type+'_media'];\r\n\t    images[index].isSelected = !images[index].isSelected;\r\n\t    this.setState({[type+'_media']:images});\r\n\t    this.isAnyImageSelected();\r\n\t    this.insertSelectedImages();\r\n\t}\r\n\r\n\tisAnyImageSelected() {\r\n\t    let isAnySelected = false;\r\n\t    let images = this.state.user_media;\r\n\t    images.map((val, i) => { \r\n\t      if(val.isSelected === true){\r\n\t        isAnySelected = true;\r\n\t      }\r\n\t    })\r\n\t    images = this.state.airbook_media;\r\n\t    images.map((val, i) => { \r\n\t      if(val.isSelected === true){\r\n\t        isAnySelected = true;\r\n\t      }\r\n\t    })\r\n\t    this.setState({isAnySelected:isAnySelected});\r\n\t}\r\n\r\n\tisUserSelectedImages(){\r\n  \t\tlet isAnySelected = false;\r\n\t    let images = this.state.user_media;\r\n\t    images.map((val, i) => {\r\n\t      if(val.isSelected === true){\r\n\t        isAnySelected = true;\r\n\t      }\r\n\t    })\r\n\t\treturn isAnySelected;\r\n\t}\r\n\r\n\tdeletePhotos(type) {\r\n\t    let media = this.state[type+'_media'];\r\n\t    let selected_images = this.props.selected_images;\r\n\t    let selected_img_ids = [];\r\n\t    let selected_img_names = [];\r\n\t    media = media.filter((val) => {\r\n\t      if(val.isSelected) {\r\n\t        selected_img_ids.push(val.id);\r\n\t        selected_img_names.push(val.original_file_name);\r\n\t        return false\r\n\t      } else return true\r\n\t    })\r\n\t    selected_images = selected_images.filter((val) => {\r\n\t      if(selected_img_names.indexOf(val.original_file_name) > -1) \r\n\t        return false;\r\n\t      else return true;\r\n\t    })\r\n\t    del('medias/'+selected_img_ids[0]+'/', {ids:selected_img_ids}).then(\r\n\t        (response) => {\r\n\t          \tthis.setState({[type+'_media']:media, isAnySelected:false})\r\n\t          \tif(this.props.showLibrary)\r\n\t    \t\t\tthis.props.insertImages(selected_images)\r\n\t    });\r\n\t}\r\n\r\n\tcancelSelection() {\r\n\t    let selected_img_names = [];\r\n\t    this.props.selected_images.map((val, i) => {\r\n\t        selected_img_names.push(val.original_file_name);\r\n\t    })\r\n\t    let user_media = this.state.user_media;\r\n\t    user_media.map((val, i) => {\r\n\t      if(selected_img_names.indexOf(val.original_file_name) > -1) \r\n\t        user_media[i].isSelected = true;\r\n\t      else \r\n\t        user_media[i].isSelected = false;\r\n\t    })\r\n\r\n\t    this.setState({user_media:user_media, galleryModal:false});\r\n\t}\r\n\r\n\tinsertSelectedImages() {\r\n\t    let user_media = this.state.user_media;\r\n\t    let selected_images = [];\r\n\t    user_media.map((value, index ) => {\r\n\t      if(value.isSelected) {\r\n\t        let image = {};\r\n\t        Object.keys(value).map((val, i) => {\r\n\t          image[val] = value[val];\r\n\t        })\r\n\t        image.customOverlay= <Grid item xs={8}><DeleteForeverOutlinedIcon /></Grid>;\r\n\t        image.isSelected = false;\r\n\t        selected_images.push(image);\r\n\t      }\r\n\t    })\r\n\r\n\t    let airbook_media = this.state.airbook_media;\r\n\t    airbook_media.map((value, index ) => {\r\n\t      if(value.isSelected) {\r\n\t        let image = {};\r\n\t        Object.keys(value).map((val, i) => {\r\n\t          image[val] = value[val];\r\n\t        })\r\n\t        image.customOverlay= <Grid item xs={8}><DeleteForeverOutlinedIcon /></Grid>;\r\n\t        image.isSelected = false;\r\n\t        selected_images.push(image);\r\n\t      }\r\n\t    })\r\n\t    this.setState({galleryModal:false});\r\n\t    if(this.props.showLibrary)\r\n\t    \tthis.props.insertImages(selected_images)\r\n\t}\r\n\r\n\tonImageClick(image) {\r\n  \t\tconst searchFor = image.path+'/';\r\n  \t\tconst fileName = image.original_file_name.replace(searchFor,'');\r\n  \t\tthis.setState({cropModal: true, cropImageUrl: MEDIA_URL+image.original_file_name, cropImageName: fileName});\r\n\t}\r\n\r\n\tonImageUpload(image) {\r\n\t\tif(this.props.showLibrary) {\r\n    \t\tthis.getMedia('App\\\\User');\r\n    \t\tdocument.getElementById('gallery-tabs-tab-my_library').click();\r\n\t\t}\r\n    \telse {\r\n    \t\tdocument.getElementById('gallery-tabs-tab-airbook_library').click();\r\n    \t\tthis.getMedia('Global');\r\n    \t}\r\n\t}\r\n\r\n\t// If you setState the crop in here you should return false.\r\n\t  onImageLoaded = image => {\r\n\t\tthis.imageRef = image;\r\n\t  };\r\n\r\n\t  onCropComplete = crop => {\r\n\t\tthis.makeClientCrop(crop);\r\n\t  };\r\n\r\n\t  onCropChange = (crop, percentCrop) => {\r\n\t\t// You could also use percentCrop:\r\n\t\t// this.setState({ crop: percentCrop });\r\n\t\tthis.setState({ crop });\r\n\t  };\r\n\r\n\t  async makeClientCrop(crop) {\r\n\t\tif (this.imageRef && crop.width && crop.height) {\r\n\t\t  const croppedImageUrl = await this.getCroppedImg(\r\n\t\t\tthis.imageRef,\r\n\t\t\tcrop,\r\n\t\t\t'thumb_'+this.state.cropImageName\r\n\t\t  );\r\n\t\t  this.setState({ croppedImageUrl });\r\n\t\t}\r\n\t  }\r\n\r\n\t  getCroppedImg(image, crop, fileName) {\r\n\t\tconst canvas = document.createElement('canvas');\r\n\t\tconst scaleX = image.naturalWidth / image.width;\r\n\t\tconst scaleY = image.naturalHeight / image.height;\r\n\t\tcanvas.width = crop.width;\r\n\t\tcanvas.height = crop.height;\r\n\t\tconst ctx = canvas.getContext('2d');\r\n\r\n\t\tctx.drawImage(\r\n\t\t  image,\r\n\t\t  crop.x * scaleX,\r\n\t\t  crop.y * scaleY,\r\n\t\t  crop.width * scaleX,\r\n\t\t  crop.height * scaleY,\r\n\t\t  0,\r\n\t\t  0,\r\n\t\t  crop.width,\r\n\t\t  crop.height\r\n\t\t);\r\n\r\n\t\tconst base64Image = canvas.toDataURL(\"image/jpeg\");\r\n    \treturn base64Image;\r\n\r\n\t\t/*return new Promise((resolve, reject) => {\r\n\t\t  canvas.toBlob(blob => {\r\n\t\t\tif (!blob) {\r\n\t\t\t  //reject(new Error('Canvas is empty'));\r\n\t\t\t  console.error('Canvas is empty');\r\n\t\t\t  return;\r\n\t\t\t}\r\n\t\t\tblob.name = fileName;\r\n\t\t\twindow.URL.revokeObjectURL(this.fileUrl);\r\n\t\t\tthis.fileUrl = window.URL.createObjectURL(blob);\r\n\t\t\tresolve(this.fileUrl);\r\n\t\t  }, 'image/jpeg');\r\n\t\t});*/\r\n\t  }\r\n\r\n\t  uploadCroppedImage(){\r\n\t  \tthis.setState({loading: true});\r\n\t  \tif(this.state.croppedImageUrl){\r\n\t  \t\tlet data = {\r\n\t  \t\t\tmeta_name:this.state.meta_name,\r\n\t\t\t\tgallery : this.props.showLibrary ? 'user':'airbook',\r\n\t\t\t\tuser:this.props.user,\r\n\t\t\t\tfile: 'data-orig:'+this.state.cropImageName+';'+this.state.croppedImageUrl,\r\n\t\t\t\tupload_type: \"crop\"\r\n\t  \t\t};\r\n            post('medias', data).then(\r\n                (response) => {\r\n                    document.getElementById('gallery-tabs-tab-airbook_library').click();\r\n                    this.setState({user_media:[]})\r\n                    this.onImageUpload(response);\r\n                    this.setState({loading: false, cropModal: false, cropImageUrl: null, cropImageName: null, croppedImageUrl: null});\r\n                }).catch(error => {\r\n\r\n\t\t\t\t});\r\n\t\t}\r\n\t  }\r\n\r\n\trender() {\r\n\t\tconst { selected_images, selected_media_tab, selected_sort_col, selected_sort_type, crop, croppedImageUrl, cropImageUrl, loading} = this.state;\r\n\t\treturn (\r\n\t\t<div>\r\n\t\t\t{this.props.modal ?\r\n            <Modal\r\n              size=\"xl\"\r\n              show={this.state.galleryModal}\r\n              onHide={() => this.setState({ galleryModal: false })}\r\n              aria-labelledby=\"example-modal-sizes-title-lg\"\r\n            >\r\n              <Modal.Header closeButton>\r\n                <Modal.Title id=\"example-modal-sizes-title-lg\">Media</Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n                  <Navbar bg=\"light\" style={{marginBottom:0}}>\r\n                    <Tab.Container id=\"gallery-tabs\" defaultActiveKey={selected_media_tab}>\r\n                      <Form.Row style={{display:'block', width:'100%'}}>\r\n                        <Col sm={12}>\r\n                          <Nav variant=\"pills\">\r\n                            <Nav.Item>\r\n                              <Nav.Link onClick={() => this.setState({selected_media_tab:'upload'})} eventKey=\"upload\">Upload</Nav.Link>\r\n                            </Nav.Item>\r\n                            { this.props.showLibrary ?\r\n                            <Nav.Item>\r\n                              <Nav.Link onClick={() => this.setState({selected_media_tab:'my_library'})} eventKey=\"my_library\">My Library</Nav.Link>\r\n                            </Nav.Item> : ''}\r\n                            <Nav.Item>\r\n                              <Nav.Link onClick={() => this.setState({selected_media_tab:'airbook_library'})} eventKey=\"airbook_library\">Airbook Gallery</Nav.Link>\r\n                            </Nav.Item>\r\n                          </Nav>\r\n                          <Tab.Content>\r\n                            <Tab.Pane eventKey=\"upload\">\r\n                            \t{!this.props.showLibrary ?\r\n            \t\t\t\t\t<Form.Row>\r\n\t              \t\t\t\t\t<Form.Group as={Col} xs=\"12\">\r\n\t                            \t <Form.Control\r\n\t\t\t\t\t\t                  required\r\n\t\t\t\t\t\t                  type=\"text\"\r\n\t\t\t\t\t\t                  placeholder=\"add suffix\"\r\n\t\t\t\t\t\t                  onChange={(e) => this.setState({meta_name:e.target.value})}\r\n\t\t\t\t\t\t                />\r\n\t\t\t\t\t\t            </Form.Group>    \r\n\t\t\t\t\t\t            <br/>\r\n            \t\t\t\t\t</Form.Row>\t\r\n\t\t\t\t\t            :''}\r\n\t\t\t\t\t            {this.props.showLibrary || this.state.meta_name !== '' ?\r\n                              <RUG\r\n                                  action={API_URL+\"medias\"}\r\n                                  headers={{'Authorization': 'Token '+getToken()}}\r\n                                  send={\r\n                                  \tthis.props.user !== undefined && this.props.user != '' ?\r\n                                  \t{meta_name:this.state.meta_name, gallery : this.props.showLibrary ? 'user':'airbook', user:this.props.user}\r\n                                  \t:\r\n                                  \t{meta_name:this.state.meta_name, gallery : this.props.showLibrary ? 'user':'airbook'}\r\n                                  }\r\n                                  source={response => MEDIA_URL+response.original_file_name}\r\n                                  onSuccess={(image) => this.onImageUpload(image)}\r\n                                  onClick={(image) => this.onImageClick(image)}\r\n\t                              onError={(status, response, image) => {\r\n\t                              \tconsole.log(status);\r\n\t                              \tif(status.image.file.size / (1000*1000) > 20) {\r\n\t                              \t\tthis.setState({\r\n\t                              \t\t\tmessage:'Image should not be greater than 20 MB',\r\n\t                              \t\t\tshowMessage:true\r\n\t                              \t\t});\r\n\t                              \t} else \r\n\t                              \t\tthis.setState({showMessage:true});\r\n\r\n\t                              }}\r\n                                />: '' }\r\n                            </Tab.Pane>\r\n                            { this.props.showLibrary ?\r\n                            <Tab.Pane eventKey=\"my_library\">\r\n                              <Form.Row>\r\n                                <Col xl={9} md={8} sm={8} xs={12}>\r\n                                  <Gallery \r\n                                    enableImageSelection={true} images={this.state.user_media}\r\n                                    onSelectImage={(e)=>this.selectImage(e, 'user')}  enableLightbox={false}\r\n                                    rowHeight={150}\r\n                                    />\r\n                                </Col>\r\n                                <Col xl={3} md={4} sm={4} xs={12}>\r\n                                  <Form.Group>\r\n                                    <Form.Label>Sort By</Form.Label>\r\n                                      <Select\r\n                                        value={selected_sort_col}\r\n                                        onChange={(val) =>{this.setState({selected_sort_col:val}); this.searchMedia()}}\r\n                                        options={[\r\n                                          {'label':'','value':''},\r\n                                          {'label':'Name','value':'meta_name'},\r\n                                          {'label':'Created At','value':'created_at'},\r\n                                        ]}\r\n                                      />\r\n                                  </Form.Group>\r\n                                  <Form.Group>\r\n                                    <Form.Label>Sort By</Form.Label>\r\n                                      <Select\r\n                                        value={selected_sort_type}\r\n                                        onChange={(val) => {this.setState({selected_sort_type:val}); this.searchMedia()}}\r\n                                        options={[\r\n                                          {'label':'','value':''},\r\n                                          {'label':'Ascending','value':'+'},\r\n                                          {'label':'Descending','value':'-'},\r\n                                        ]}\r\n                                      />\r\n                                  </Form.Group>\r\n                                  {this.state.isAnySelected ? \r\n                                   <Button className=\"btn btn-danger btn-sm\" onClick={(e) => this.deletePhotos('user')} >Delete Photo</Button>: '' }\r\n                                </Col>\r\n                              </Form.Row>\r\n                            </Tab.Pane>:''}\r\n                            <Tab.Pane eventKey=\"airbook_library\">\r\n                              <Form.Row>\r\n                                <Col xl={9} md={8} sm={8} xs={12}>\r\n                                  <Gallery \r\n                                    enableImageSelection={true} images={this.state.airbook_media}\r\n                                    onSelectImage={(e)=>this.selectImage(e, 'airbook')} enableLightbox={false}\r\n                                    rowHeight={150}\r\n                                    />\r\n                                </Col>\r\n                                <Col xl={3} md={4} sm={4} xs={12}>\r\n                                  <Form.Group>\r\n                                    <Form.Label>Sort By</Form.Label>\r\n                                      <Select\r\n                                        value={selected_sort_col}\r\n                                        onChange={(val) =>{this.setState({selected_sort_col:val}); this.searchMedia()}}\r\n                                        options={[\r\n                                          {'label':'','value':''},\r\n                                          {'label':'Name','value':'meta_name'},\r\n                                          {'label':'Created At','value':'created_at'},\r\n                                        ]}\r\n                                      />\r\n                                  </Form.Group>\r\n                                  <Form.Group>\r\n                                    <Form.Label>Sort By</Form.Label>\r\n                                      <Select\r\n                                        value={selected_sort_type}\r\n                                        onChange={(val) => {this.setState({selected_sort_type:val}); this.searchMedia()}}\r\n                                        options={[\r\n                                          {'label':'','value':''},\r\n                                          {'label':'Ascending','value':'+'},\r\n                                          {'label':'Descending','value':'-'},\r\n                                        ]}\r\n                                      />\r\n                                  </Form.Group>\r\n                                  {this.state.isAnySelected && !this.props.showLibrary ? \r\n                                   <Button className=\"btn btn-danger btn-sm\" onClick={(e) => this.deletePhotos('airbook')} >Delete Photo</Button>: '' }\r\n                                </Col>\r\n                              </Form.Row>\r\n                            </Tab.Pane>\r\n                            {selected_media_tab !== 'upload' ?\r\n                              <Form.Row>\r\n                                <Col xs={12}>\r\n                                  <Button onClick={(e)=>this.insertSelectedImages()} className=\"btn btn-primary btn-sm\">Insert</Button>\r\n                                  &nbsp;&nbsp;&nbsp;\r\n                                  <Button onClick={()=>this.cancelSelection()} className=\"btn btn-danger btn-sm\">Cancel</Button>\r\n                                </Col>\r\n                              </Form.Row>\r\n                              :''\r\n                            }\r\n\r\n                          </Tab.Content>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Tab.Container>\r\n                  </Navbar>\r\n\r\n              </Modal.Body>\r\n            </Modal>:\r\n              <Navbar style={{marginBottom:0, padding:0}}>\r\n                <Tab.Container id=\"gallery-tabs\" defaultActiveKey={selected_media_tab}>\r\n                  <Form.Row style={{display:'block', width:'100%', border: '4px solid #f3f6f9', padding: '5px'}}>\r\n                    <Col sm={12}>\r\n                      <Nav variant=\"pills\" className=\"media-gal-nav\">\r\n                        <Nav.Item>\r\n                          <Nav.Link onClick={() => this.setState({selected_media_tab:'upload'})} eventKey=\"upload\">Upload</Nav.Link>\r\n                        </Nav.Item>\r\n                        { this.props.showLibrary ?\r\n                        <Nav.Item>\r\n                          <Nav.Link onClick={() => this.setState({selected_media_tab:'my_library'})} eventKey=\"my_library\">My Library</Nav.Link>\r\n                        </Nav.Item> : ''}\r\n                        <Nav.Item>\r\n                          <Nav.Link onClick={() => this.setState({selected_media_tab:'airbook_library'})} eventKey=\"airbook_library\">Airbook Gallery</Nav.Link>\r\n                        </Nav.Item>\r\n                      </Nav>\r\n                      <Tab.Content>\r\n                        <Tab.Pane eventKey=\"upload\">\r\n                        \t{!this.props.showLibrary ?\r\n        \t\t\t\t\t<Form.Row>\r\n              \t\t\t\t\t<Form.Group as={Col} xs=\"12\">\r\n                            \t <Form.Control\r\n\t\t\t\t\t                  required\r\n\t\t\t\t\t                  type=\"text\"\r\n\t\t\t\t\t                  placeholder=\"add suffix\"\r\n\t\t\t\t\t                  onChange={(e) => this.setState({meta_name:e.target.value})}\r\n\t\t\t\t\t                />\r\n\t\t\t\t\t            </Form.Group>    \r\n\t\t\t\t\t            <br/>\r\n        \t\t\t\t\t</Form.Row>\t\r\n\t\t\t\t            :''}\r\n\t\t\t\t            {this.props.showLibrary || this.state.meta_name !== '' ?\r\n                          <RUG sorting={false}\r\n                              action={API_URL+\"medias\"}\r\n                              headers={{'Authorization': 'Token '+getToken()}}\r\n                              send={\r\n                              \tthis.props.user !== undefined &&\r\n\t\t\t\t\t\t\t\tthis.props.user != ''\r\n\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t{meta_name:this.state.meta_name, gallery : this.props.showLibrary ? 'user':'airbook', user:this.props.user}\r\n\t\t\t\t\t\t\t\t:\r\n                              \t{meta_name:this.state.meta_name, gallery : this.props.showLibrary ? 'user':'airbook'}\r\n                              }\r\n                              source={response => MEDIA_URL+response.original_file_name}\r\n                              onSuccess={(image) => this.onImageUpload(image)}\r\n\t\t\t\t\t\t\t  onClick={(image) => this.onImageClick(image)}\r\n                              onError={(status, response, image) => {\r\n                              \tconsole.log(status);\r\n                              \tif(status.image.file.size / (1000*1000) > 20) {\r\n                              \t\tthis.setState({\r\n                              \t\t\tmessage:'Image should not be greater than 20 MB',\r\n                              \t\t\tshowMessage:true\r\n                              \t\t});\r\n                              \t} else \r\n                              \t\tthis.setState({showMessage:true});\r\n\r\n                              }}\r\n                            >\r\n\t\t\t\t\t\t\t  {/*<DragArea className=\"rug-items __card __sorting\">\r\n\t\t\t\t\t\t\t  {\r\n\t\t\t\t\t\t\t\t(image) => (\r\n\t\t\t\t\t\t\t\t  <div className=\"rug-item\">\r\n\t\t\t\t\t\t\t\t\t<Card image={image} />\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-crop-overlay\" onClick={() => this.onImageClick(image)}>Crop Image</div>\r\n\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t  </DragArea>*/}\r\n                          </RUG>: '' }\r\n                        </Tab.Pane>\r\n                        { this.props.showLibrary ?\r\n                        <Tab.Pane eventKey=\"my_library\">\r\n                          <Form.Row>\r\n                            <Col xl={12} md={12} sm={12} xs={12}>\r\n                              <Gallery \r\n                                enableImageSelection={true} images={this.state.user_media}\r\n                                onSelectImage={(e)=>this.selectImage(e, 'user')}\r\n\t\t\t\t\t\t\t\tenableLightbox={false}\r\n                                rowHeight={150}\r\n                                />\r\n                            </Col>\r\n                          </Form.Row>\r\n                        </Tab.Pane>:''}\r\n                        <Tab.Pane eventKey=\"airbook_library\">\r\n                          <Form.Row>\r\n                            <Col xl={12} md={12} sm={12} xs={12}>\r\n                              <Gallery \r\n                                enableImageSelection={true} images={this.state.airbook_media}\r\n                                onSelectImage={(e)=>this.selectImage(e, 'airbook')} enableLightbox={false}\r\n                                rowHeight={150}\r\n                                />\r\n                            </Col>\r\n                          </Form.Row>\r\n                        </Tab.Pane>\r\n\t\t\t\t\t\t  {selected_media_tab === 'my_library' && this.state.isAnySelected && this.isUserSelectedImages() === true ?\r\n                              <Form.Row className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t  <br/>\r\n                                <Col xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Button className=\"ml-2 btn btn-danger btn-sm\" onClick={(e) => this.deletePhotos('user')} >Delete Photo</Button>\r\n                                </Col>\r\n                              </Form.Row>\r\n                              :''\r\n                            }\r\n                      </Tab.Content>\r\n                    </Col>\r\n                  </Form.Row>\r\n                </Tab.Container>\r\n              </Navbar> \r\n              }\r\n            {/*Crop Image Modal*/}\r\n\t\t\t<Modal\r\n              size=\"xl\"\r\n              show={this.state.cropModal}\r\n              onHide={() => this.setState({ cropModal: false })}\r\n              aria-labelledby=\"example-modal-sizes-title-lg\"\r\n            >\r\n              <Modal.Header closeButton>\r\n\t\t\t\t  <Button onClick={(e)=>this.uploadCroppedImage()} className={`btn btn-primary btn-sm ${clsx(\r\n                      {\r\n                        \"kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light\": loading\r\n                      }\r\n                    )}`}>Crop and Save</Button>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n\t\t\t\t  <div className=\"row\">\r\n\t\t\t\t  {cropImageUrl && (\r\n\t\t\t\t\t  <ReactCrop\r\n\t\t\t\t\t\tsrc={cropImageUrl}\r\n\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\truleOfThirds\r\n\t\t\t\t\t\tmaxWidth=\"600\"\r\n\t\t\t\t\t\tonImageLoaded={this.onImageLoaded}\r\n\t\t\t\t\t\tonComplete={this.onCropComplete}\r\n\t\t\t\t\t\tonChange={this.onCropChange}\r\n\t\t\t\t\t\tcrossorigin=\"Anonymous\"\r\n\t\t\t\t\t\tclassName=\"col-8\"\r\n\t\t\t\t\t  />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{croppedImageUrl && (\r\n\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t  \t\t<img crossOrigin=\"anonymous\" alt=\"Crop\" style={{ maxWidth: '100%' }} src={croppedImageUrl} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t  </div>\r\n              </Modal.Body>\r\n            </Modal>\r\n \t\t<Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={this.state.showMessage}\r\n          autoHideDuration={5000}\r\n          onClose={() => this.setState({showMessage:false})}\r\n        >\r\n          <SnackbarContentWrapper\r\n            onClose={() => this.setState({showMessage:false})}\r\n            variant={this.state.messageType}\r\n            message={this.state.message}\r\n          />\r\n      \t</Snackbar>\r\n            </div>\r\n\t\t)\r\n\t}\r\n}","import React from \"react\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Form, Col, Tab, Tabs, Modal, Row, OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {\r\n    list,\r\n    post,\r\n    API_URL,\r\n    getToken,\r\n    loadOptions,\r\n    AIRCRAFT_STATUSES,\r\n    AIRCRAFT_COMPLIANCE,\r\n    AIRCRAFT_OFFER,\r\n    USER_URL,\r\n    COMMERCIAL_EXTRA_FIELDS, AIRCRAFT_EXTRA_FIELDS\r\n} from \"../../../crud/api\";\r\nimport Select from 'react-select';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport moment from \"moment\";\r\nimport MediaLibrary from '../../../library/media';\r\nimport Gallery from 'react-grid-gallery';\r\nimport 'react-dropzone-uploader/dist/styles.css';\r\nimport Dropzone from 'react-dropzone-uploader';\r\nimport {MuiPickersUtilsProvider, DatePicker} from \"@material-ui/pickers\";\r\nimport {\r\n    Checkbox,\r\n    createMuiTheme,\r\n    Divider,\r\n    FormControl,\r\n    FormControlLabel,\r\n    InputLabel,\r\n    Select as SelectCore,\r\n    IconButton, FormGroup\r\n} from \"@material-ui/core\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport {ThemeProvider} from \"@material-ui/styles\";\r\nimport KTWizard from \"../../../../_metronic/_assets/js/wizard\";\r\nimport AsyncPaginate from \"react-select-async-paginate\";\r\n\r\nconst defaultMaterialTheme = createMuiTheme({\r\n    props: {\r\n        MuiInput: {\r\n            disableUnderline: true,\r\n        },\r\n        MuiTextField: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n        },\r\n        MuiInputBase: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n            disableUnderline: true,\r\n            inputProps: {\r\n                style: {\r\n                    display: \"block\",\r\n                    height: \"calc(1.5em + 1.3rem + 2px)\",\r\n                    padding: \"0.65rem 1rem\",\r\n                    fontSize: \"1rem\",\r\n                    fontWeight: \"400\",\r\n                    lineHeight: \"1.5\",\r\n                    color: \"#495057\",\r\n                    backgroundColor: \"#fff\",\r\n                    backgroundClip: \"padding-box\",\r\n                    border: \"1px solid #e2e5ec\",\r\n                    borderRadius: \"4px\",\r\n                    transition: \"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n                    boxSizing: \"border-box\",\r\n                }\r\n            }\r\n        },\r\n    },\r\n});\r\n\r\nconst addMoreSelect = createMuiTheme({\r\n  overrides: {\r\n      MuiOutlinedInput:{\r\n          root: {\r\n            '&:hover': {\r\n              \"& $notchedOutline\":{\r\n                      borderColor: 'rgb(179, 179, 179)'\r\n                }\r\n            }\r\n          },\r\n          inputSelect: {\r\n              padding: \"13px\",\r\n              fontFamily: \"Poppins, Helvetica, sans-serif\",\r\n              color: \"#808080\"\r\n          }\r\n      },\r\n  },\r\n});\r\n\r\nclass Create extends React.Component {\r\n\r\n    wizardRef = React.createRef();\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.medialibraryAsset = React.createRef();\r\n        this.state = {\r\n            validated: false,\r\n            aircraft: {\r\n                yom: moment(new Date()).format(\"YYYY\"),\r\n                is_featured: this.props.data.extra_data.is_featured_aircraft ? this.props.data.extra_data.is_featured_aircraft : 0,\r\n                user: this.props.data.extra_data.user ? this.props.data.extra_data.user.id : null\r\n            },\r\n            selectedFile: null,\r\n            category: [],\r\n            manufacturer: [],\r\n            engine_manufacturer: [],\r\n            countries: [],\r\n            type: [],\r\n            model: [],\r\n            engine_type: [],\r\n            engine_model: [],\r\n            contacts: [],\r\n            companies: [],\r\n            configuration: [],\r\n            users: [],\r\n            selected_primary_contact: {\r\n                id:props.data.extra_data.user.contact.id,\r\n                label:props.data.extra_data.user.contact.first_name+' '+props.data.extra_data.user.contact.last_name,\r\n                value:true\r\n            },\r\n            selected_category: {value: ''},\r\n            selected_type: {value: ''},\r\n            selected_engine_type: {value: ''},\r\n            selected_manufacturer: {value: ''},\r\n            selected_engine_manufacturer: {value: ''},\r\n            selected_current_location: {value: ''},\r\n            selected_model: {value: ''},\r\n            selected_engine_model: {value: ''},\r\n            selected_owner: {value: ''},\r\n            selected_current_operator: {value: ''},\r\n            selected_previous_operator: {value: ''},\r\n            selected_manager: {value: ''},\r\n            selected_seller: {value: ''},\r\n            selected_configuration: {value: ''},\r\n            selected_user: {value: this.props.data.extra_data.user ? this.props.data.extra_data.user.id : null},\r\n            selected_status: {value: ''},\r\n            selected_compliance: {value: ''},\r\n            selected_offer_for: {value: ''},\r\n            yom: moment(new Date()).format(\"YYYY\"),\r\n            selected_images: [],\r\n            attachments: [],\r\n            initialFiles: [],\r\n            modalDisplay: false,\r\n            modalType: '',\r\n            airFrameOnly: false,\r\n            commercialExtraFields: COMMERCIAL_EXTRA_FIELDS,\r\n            selectedExtraFields: [],\r\n            aircraftExtraFields: AIRCRAFT_EXTRA_FIELDS,\r\n            selectedExtraFieldsAircraft: [],\r\n            fields: {},\r\n            errorsf: {},\r\n            modelsLoaded:false\r\n\r\n        };\r\n        // this.getDropdownsListing();\r\n        this.loadModels();\r\n        this.confirm=this.confirm.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        new KTWizard(this.wizardRef.current);\r\n    }\r\n\r\n    loadModels() {\r\n        let models = {\r\n            'AbUsers': {},\r\n            'AbCategories': {type: 'aircraft'},\r\n            'AbContacts': {},\r\n            'AbConfigurations': {},\r\n            'AbManufacturers': {type: 'engine'},\r\n            'AbCountries': {},\r\n            'AbCompanies': {},\r\n        }\r\n        post('abmodels', {models: models}).then(function (response) {\r\n            for (let opt in response.data) {\r\n\r\n                response.data[opt].map((row, i) => {\r\n                    if (opt === 'AbContacts' || opt === 'AbUsers')\r\n                        row.name = row.first_name + ' ' + row.last_name;\r\n\r\n                    response.data[opt][i].label = row.name;\r\n                    response.data[opt][i].value = row.id;\r\n\r\n                })\r\n            }\r\n            this.setState({\r\n                users: response.data.AbUsers,\r\n                category: response.data.AbCategories,\r\n                contacts: response.data.AbContacts,\r\n                configuration: response.data.AbConfigurations,\r\n                engine_manufacturer: response.data.AbManufacturers,\r\n                countries: response.data.AbCountries,\r\n                companies: response.data.AbCompanies,\r\n                modelsLoaded:true\r\n            })\r\n        }.bind(this))\r\n    }\r\n\r\n    handleChange(event, type) {\r\n        var aircraft = this.state.aircraft;\r\n        if (type !== 'yom' && type !== 'availability' && type !== 'last_c_check') {\r\n            var attr = event.target.name;\r\n            var val = event.target.value;\r\n        } else if (type == 'yom') {\r\n            var attr = type;\r\n            var val = moment(event).format(\"YYYY\");\r\n            this.setState({yom: event})\r\n        } else {\r\n            var attr = type;\r\n            var val = moment(event).format();\r\n            this.setState({\r\n                availability: (type === 'availability') ? event : this.state.availability,\r\n                last_c_check: (type === 'last_c_check') ? event : this.state.last_c_check\r\n            })\r\n        }\r\n        if (attr === 'is_active')\r\n            val = parseInt(val);\r\n\r\n        aircraft[attr] = val;\r\n        this.setState({aircraft: aircraft})\r\n    }\r\n\r\n    handleAirFrameChange = (event) => {\r\n        if (event.target.checked)\r\n            this.setState({airFrameOnly: true})\r\n        else\r\n            this.setState({airFrameOnly: false})\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.setState({validated: true});\r\n        if (!this.state.selectedFile)\r\n            delete this.state.aircraft.file;\r\n        let aircraft = this.state.aircraft;\r\n        aircraft.images = this.state.selected_images;\r\n        aircraft.attachments = this.state.attachments;\r\n        if (this.handleValidation()) {\r\n            post('aircrafts', aircraft).then(\r\n                (response) => {\r\n                    this.setState({aircraft: response.data});\r\n                    this.props.data.history.push(\"/\" + USER_URL + \"/aircraft/asset\");\r\n                }).catch(error => {\r\n                this.props.sendError(error.response.data);\r\n            });\r\n        }\r\n    }\r\n\r\n    handleValidation() {\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n\r\n        let numbersOnly = {\r\n            tsn: 'tsn',\r\n            csn: 'csn',\r\n        }\r\n        let alphaNumberic = {\r\n            msn: 'msn',\r\n        }\r\n        let numbers_only_keys = Object.keys(numbersOnly);\r\n        let alpha_numeric_keys = Object.keys(alphaNumberic);\r\n\r\n        for (let key in numbers_only_keys) {\r\n            if (typeof fields[numbers_only_keys[key]] !== \"undefined\" && fields[numbers_only_keys[key]] !== '') {\r\n                if (!fields[numbers_only_keys[key]].match(/^\\d+$/)) {\r\n                    formIsValid = false;\r\n                    errors[numbers_only_keys[key]] = [\"Only numbers are allowed.\"];\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let key in alpha_numeric_keys) {\r\n            if (typeof fields[alpha_numeric_keys[key]] !== \"undefined\" && fields[alpha_numeric_keys[key]] !== '') {\r\n                if (!fields[alpha_numeric_keys[key]].match(/^([a-z0-9]+\\s)*[a-z0-9]+$/i)) {\r\n                    formIsValid = false;\r\n                    errors[alpha_numeric_keys[key]] = [\"Only alphabets and numbers are allowed.\"];\r\n                }\r\n            }\r\n        }\r\n\r\n        this.setState({errorsf: errors}, function () {\r\n            this.props.sendError(this.state.errorsf)\r\n        }.bind(this));\r\n        return formIsValid;\r\n    }\r\n\r\n    fileChangedHandler = (event) => {\r\n        let aircraft = this.state.aircraft;\r\n        let file = event.target.files[0];\r\n        this.setState({\r\n            previewFile: URL.createObjectURL(file)\r\n        });\r\n        if (file != undefined) {\r\n            file.size_c = file.size / 1024;\r\n\r\n            if ((file.size_c) / 1024 > 2) {\r\n                file.size_c = (file.size_c / 1024).toFixed(2) + ' MB';\r\n                file.error = \"Error: File is too big\";\r\n                aircraft.file = {};\r\n                this.setState({selectedFile: file});\r\n            } else {\r\n                file.error = null;\r\n                file.size_c = file.size_c.toFixed(2) + ' KB';\r\n                let reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onloadend = () => {\r\n                    aircraft.file = reader.result;\r\n                    this.setState({selectedFile: file, aircraft: aircraft});\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    getDropdownsListing() {\r\n        let dropdowns = {// when you have database dropdown like departments just put here\r\n            category: 'category',\r\n            primary_contact: 'contacts',\r\n            configuration: 'configuration',\r\n            manufacturer: 'manufacturer',\r\n            current_location: 'countries',\r\n            engine_manufacturer: 'engine_manufacturer',\r\n            // type:'type',\r\n            // model:'model',\r\n            owner: 'companies',\r\n            user: 'users'\r\n        }\r\n\r\n        let duplicating_dropdowns = {\r\n            companies: ['current_operator', 'previous_operator', 'manager', 'seller'],\r\n            countries: ['registration_country'],\r\n            // type:['engine_type'],\r\n            // model:['engine_model'],\r\n        }\r\n\r\n        let dropdown_keys = Object.keys(dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            let params = {}, endpoint = dropdowns[dropdown_keys[key]];\r\n            if (dropdown_keys[key] === 'category') {\r\n                params.type = 'aircraft';\r\n                params.is_active = 1;\r\n            } else if (dropdown_keys[key] === 'manufacturer') {\r\n                params.type = 'aircraft';\r\n                params.is_active = 1;\r\n            } else if (dropdown_keys[key] === 'engine_manufacturer') {\r\n                endpoint = 'manufacturer';\r\n                params.type = 'engine';\r\n            }\r\n\r\n            list(endpoint, params).then(function (response) {\r\n                let data = response.data;\r\n                let selected = {};\r\n                for (let opt in data) {\r\n                    // special case for contacts\r\n                    if (dropdowns[dropdown_keys[key]] === 'contacts')\r\n                        data[opt].name = data[opt].first_name + ' ' + data[opt].last_name;\r\n                    else if (dropdowns[dropdown_keys[key]] === 'users')\r\n                        data[opt].name = data[opt].contact.first_name + ' ' + data[opt].contact.last_name;\r\n\r\n                    data[opt].label = data[opt].name;\r\n                    data[opt].value = data[opt].id;\r\n\r\n                    if (this.state.aircraft[dropdown_keys[key]] != undefined && data[opt].id === this.state.aircraft[dropdown_keys[key]].id)\r\n                        selected = data[opt]\r\n\r\n                    if (duplicating_dropdowns[dropdowns[dropdown_keys[key]]] != undefined) {\r\n                        for (let index in duplicating_dropdowns[dropdowns[dropdown_keys[key]]]) {\r\n                            let duplicated_el = duplicating_dropdowns[dropdowns[dropdown_keys[key]]][index];\r\n                            if (this.state.aircraft[duplicated_el] != undefined && data[opt].id === this.state.aircraft[duplicated_el].id)\r\n                                this.setState({['selected_' + duplicated_el]: selected});\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({[dropdowns[dropdown_keys[key]]]: data, ['selected_' + dropdown_keys[key]]: selected});\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    selectMoreFields(event, key) {\r\n        let commercialExtraFields = [...this.state.commercialExtraFields];\r\n        commercialExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFields = [...state.selectedExtraFields, key];\r\n            return {\r\n                selectedExtraFields,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraField(event, key, label) {\r\n        let commercialExtraFields = [...this.state.commercialExtraFields, {label: label, value: key}];\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        let selectedExtraFields = this.state.selectedExtraFields;\r\n        selectedExtraFields = selectedExtraFields.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFields: selectedExtraFields});\r\n    }\r\n\r\n    selectMoreFieldsAircraft(event, key) {\r\n        let aircraftExtraFields = [...this.state.aircraftExtraFields];\r\n        aircraftExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({aircraftExtraFields: aircraftExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFieldsAircraft = [...state.selectedExtraFieldsAircraft, key];\r\n            return {\r\n                selectedExtraFieldsAircraft,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraFieldAircraft(event, key, label) {\r\n        let aircraftExtraFields = [...this.state.aircraftExtraFields, {label: label, value: key}];\r\n        this.setState({aircraftExtraFields: aircraftExtraFields});\r\n        let selectedExtraFieldsAircraft = this.state.selectedExtraFieldsAircraft;\r\n        selectedExtraFieldsAircraft = selectedExtraFieldsAircraft.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFieldsAircraft: selectedExtraFieldsAircraft});\r\n    }\r\n\r\n    selectChange(value, key) {\r\n        let aircraft = this.state.aircraft;\r\n        aircraft[key] = value && value.value ? value.value : '';\r\n        this.setState({['selected_' + key]: value ? value : '', aircraft: aircraft});\r\n\r\n        if (['category', 'manufacturer', 'type', 'engine_manufacturer', 'engine_type'].indexOf(key) > -1 && value) {\r\n            let endpoint = '', params = {}, key_to_update = '', models = {};\r\n            if (key === 'category') {\r\n                models = {\r\n                    AbManufacturers: {categories__id: value.id, type: 'aircraft'}\r\n                }\r\n                key_to_update = 'manufacturer';\r\n            } else if (key === 'manufacturer') {\r\n                models = {\r\n                    AbTypes: {manufacturer_id: value.id, type: 'aircraft'}\r\n                }\r\n                key_to_update = 'type';\r\n            } else if (key === 'type') {\r\n                models = {\r\n                    AbModels: {type_0: value.id, type: 'aircraft'}\r\n                }\r\n                key_to_update = 'model';\r\n            } else if (key === 'engine_manufacturer') {\r\n                models = {\r\n                    AbTypes: {manufacturer_id: value.id, type: 'engine'}\r\n                }\r\n                key_to_update = 'engine_type';\r\n            } else if (key === 'engine_type') {\r\n                models = {\r\n                    AbModels: {type_0: value.id, type: 'engine'}\r\n                }\r\n                key_to_update = 'engine_model';\r\n            }\r\n\r\n            post('abmodels', {models: models}).then(function (response) {\r\n                let selected = {};\r\n                for (let opt in response.data) {\r\n                    response.data[opt].map((row, i) => {\r\n                        response.data[opt][i].label = row.name;\r\n                        response.data[opt][i].value = row.id;\r\n\r\n                        if (this.state.aircraft[key_to_update] != undefined && row.id === this.state.aircraft[key_to_update].id)\r\n                            selected = row;\r\n                    })\r\n                    this.setState({\r\n                        [key_to_update]: response.data[opt], ['selected_' + key_to_update]: selected\r\n                    })\r\n                }\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    setTab(event, tab) {\r\n        document.getElementById('aircraft-tabs-tab-' + tab).click();\r\n    }\r\n\r\n    removeImage(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images = selected_images.filter((val, i) => {\r\n            return index !== i;\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    clearForm = () => {\r\n        document.getElementById(\"create-aircraft-form\").reset();\r\n    }\r\n\r\n    onClickThumbnail(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images.map((val, i) => {\r\n            if (i === index) {\r\n                selected_images[i].is_featured = 1;\r\n                selected_images[i].isSelected = true;\r\n                selected_images[i].tags = [{value: \"Featured\", title: \"Featured\"}];\r\n            } else {\r\n                selected_images[i].is_featured = 0;\r\n                selected_images[i].isSelected = false;\r\n                delete selected_images[i].tags;\r\n            }\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    getUploadParams(data) {\r\n        const body = new FormData()\r\n        body.append('original_file_name', data.file)\r\n        body.append('user', this.state.selected_user.value);\r\n        body.append('attachable_type', 'Aircraft');\r\n\r\n        if ('existing' in data.file)\r\n            body.append('existing_id', data.file.id);\r\n\r\n        return {url: API_URL + 'attaches', dataType: 'json', body, headers: {'Authorization': 'Token ' + getToken()}}\r\n    }\r\n\r\n    onAttachmentUpload(data, status) {\r\n        if (status === 'done') {\r\n            let attachment = JSON.parse(data.xhr.response);\r\n            this.setState({attachments: [...this.state.attachments, attachment]});\r\n        } else if (status === 'removed') {\r\n            if(data.xhr){\r\n                let attachment = JSON.parse(data.xhr.response);\r\n                let attachments = this.state.attachments.filter((val, i) => {\r\n                    return val.id !== attachment.id\r\n                })\r\n                this.setState({attachments: attachments})\r\n            }\r\n        }\r\n    }\r\n\r\n    handleModalShow(event, type) {\r\n        this.setState({\r\n            modalDisplay: true,\r\n            modalType: type\r\n        })\r\n    }\r\n\r\n    handleModalClose = () => {\r\n        this.setState({modalDisplay: false})\r\n    }\r\n    confirm(){\r\n        let data={\r\n        manufacturer:document.getElementById('modal-manufacture-id').value,\r\n        type:document.getElementById('modal-type-id').value,\r\n        model:document.getElementById('modal-model-id').value,\r\n        entity_type:this.state.modalType,\r\n        user:this.props.data.extra_data.user.id\r\n    }\r\n        if(this.state.modalType==\"aircraft\"){\r\n            data.category=document.getElementById('modal-category-id').value;\r\n        }\r\n        post('suggestions', data).then(\r\n            (response) => {\r\n                this.setState({\r\n                    modalDisplay: false,\r\n                })\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n    render() {\r\n        const {\r\n            availability, aircraft, last_c_check, selected_manufacturer, manufacturer,\r\n            selected_category, category, selected_current_location, countries, selected_type, type,\r\n            selected_primary_contact, contacts, model, engine_type, engine_model, selected_model, selected_registration_country,\r\n            selected_owner, selected_current_operator, selected_previous_operator, companies,\r\n            selected_seller, selected_manager, selected_configuration, configuration,\r\n            selected_engine_model, selected_engine_type, selected_engine_manufacturer, selected_user,\r\n            users, selected_status, selected_compliance, selected_offer_for, yom, initialFiles, engine_manufacturer, modelsLoaded\r\n        } = this.state;\r\n        return (\r\n            <div className=\"kt-portlet\">\r\n                <div className=\"kt-portlet__head\">\r\n                    <div className=\"kt-portlet__head-label\">\r\n                        <h3 className=\"kt-portlet__head-title\">\r\n                            Aircraft\r\n                        </h3>\r\n                    </div>\r\n                </div>\r\n                <div className=\"kt-portlet__body kt-portlet__body--fit\">\r\n                    <div ref={this.wizardRef} className=\"kt-grid  kt-wizard-v1 kt-wizard-v1--white\" id=\"kt_aircraft_add\"\r\n                         data-ktwizard-state=\"step-first\">\r\n                        <div className=\"kt-grid__item\">\r\n\r\n                            <div className=\"kt-wizard-v1__nav\">\r\n                                <div className=\"kt-wizard-v1__nav-items\">\r\n\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\"\r\n                                         data-ktwizard-state=\"current\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M4.875,20.75 C4.63541667,20.75 4.39583333,20.6541667 4.20416667,20.4625 L2.2875,18.5458333 C1.90416667,18.1625 1.90416667,17.5875 2.2875,17.2041667 C2.67083333,16.8208333 3.29375,16.8208333 3.62916667,17.2041667 L4.875,18.45 L8.0375,15.2875 C8.42083333,14.9041667 8.99583333,14.9041667 9.37916667,15.2875 C9.7625,15.6708333 9.7625,16.2458333 9.37916667,16.6291667 L5.54583333,20.4625 C5.35416667,20.6541667 5.11458333,20.75 4.875,20.75 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\" opacity=\"0.3\"/>\r\n                                                        <path\r\n                                                            d=\"M2,11.8650466 L2,6 C2,4.34314575 3.34314575,3 5,3 L19,3 C20.6568542,3 22,4.34314575 22,6 L22,15 C22,15.0032706 21.9999948,15.0065399 21.9999843,15.009808 L22.0249378,15 L22.0249378,19.5857864 C22.0249378,20.1380712 21.5772226,20.5857864 21.0249378,20.5857864 C20.7597213,20.5857864 20.5053674,20.4804296 20.317831,20.2928932 L18.0249378,18 L12.9835977,18 C12.7263047,14.0909841 9.47412135,11 5.5,11 C4.23590829,11 3.04485894,11.3127315 2,11.8650466 Z M6,7 C5.44771525,7 5,7.44771525 5,8 C5,8.55228475 5.44771525,9 6,9 L15,9 C15.5522847,9 16,8.55228475 16,8 C16,7.44771525 15.5522847,7 15,7 L6,7 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Basic\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M11,20 L11,17 C11,16.4477153 11.4477153,16 12,16 C12.5522847,16 13,16.4477153 13,17 L13,20 L15.5,20 C15.7761424,20 16,20.2238576 16,20.5 C16,20.7761424 15.7761424,21 15.5,21 L8.5,21 C8.22385763,21 8,20.7761424 8,20.5 C8,20.2238576 8.22385763,20 8.5,20 L11,20 Z\"\r\n                                                            fill=\"#000000\" opacity=\"0.3\"/>\r\n                                                        <path\r\n                                                            d=\"M3,5 L21,5 C21.5522847,5 22,5.44771525 22,6 L22,16 C22,16.5522847 21.5522847,17 21,17 L3,17 C2.44771525,17 2,16.5522847 2,16 L2,6 C2,5.44771525 2.44771525,5 3,5 Z M4.5,8 C4.22385763,8 4,8.22385763 4,8.5 C4,8.77614237 4.22385763,9 4.5,9 L13.5,9 C13.7761424,9 14,8.77614237 14,8.5 C14,8.22385763 13.7761424,8 13.5,8 L4.5,8 Z M4.5,10 C4.22385763,10 4,10.2238576 4,10.5 C4,10.7761424 4.22385763,11 4.5,11 L7.5,11 C7.77614237,11 8,10.7761424 8,10.5 C8,10.2238576 7.77614237,10 7.5,10 L4.5,10 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Aircraft\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13,18.9450712 L13,20 L14,20 C15.1045695,20 16,20.8954305 16,22 L8,22 C8,20.8954305 8.8954305,20 10,20 L11,20 L11,18.9448245 C9.02872877,18.7261967 7.20827378,17.866394 5.79372555,16.5182701 L4.73856106,17.6741866 C4.36621808,18.0820826 3.73370941,18.110904 3.32581341,17.7385611 C2.9179174,17.3662181 2.88909597,16.7337094 3.26143894,16.3258134 L5.04940685,14.367122 C5.46150313,13.9156769 6.17860937,13.9363085 6.56406875,14.4106998 C7.88623094,16.037907 9.86320756,17 12,17 C15.8659932,17 19,13.8659932 19,10 C19,7.73468744 17.9175842,5.65198725 16.1214335,4.34123851 C15.6753081,4.01567657 15.5775721,3.39010038 15.903134,2.94397499 C16.228696,2.49784959 16.8542722,2.4001136 17.3003976,2.72567554 C19.6071362,4.40902808 21,7.08906798 21,10 C21,14.6325537 17.4999505,18.4476269 13,18.9450712 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"12\" cy=\"10\" r=\"6\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Commercial\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13.2070325,4 C13.0721672,4.47683179 13,4.97998812 13,5.5 C13,8.53756612 15.4624339,11 18.5,11 C19.0200119,11 19.5231682,10.9278328 20,10.7929675 L20,17 C20,18.6568542 18.6568542,20 17,20 L7,20 C5.34314575,20 4,18.6568542 4,17 L4,7 C4,5.34314575 5.34314575,4 7,4 L13.2070325,4 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"18.5\" cy=\"5.5\"\r\n                                                                r=\"2.5\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Complete\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"kt-grid__item kt-grid__item--fluid kt-wizard-v1__wrapper\">\r\n\r\n                            <Form className=\"kt-form\" noValidate id=\"create-aircraft-form \"\r\n                                  onSubmit={e => this.handleSubmit(e)}>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\"\r\n                                     data-ktwizard-state=\"current\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Basic Info</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Category</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_category.value?selected_category:'select...'}\r\n                                                        model=\"category\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'category')}\r\n                                                        options={category}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Manufacturer</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_manufacturer.value?selected_manufacturer:'select...'}\r\n                                                        model=\"manufacturer\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'manufacturer')}\r\n                                                        options={manufacturer}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Type</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_type.value?selected_type:'select...'}\r\n                                                        model=\"type\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'type')}\r\n                                                        options={type}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Model</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_model.value?selected_model:'select...'}\r\n                                                        model=\"model\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'model')}\r\n                                                        options={model}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <div>\r\n                                                <Link className=\"label label-light-info label-inline more-info\" href=\"#\" onClick={(e) => this.handleModalShow(e, 'aircraft')}>\r\n                                                    <i className=\"flaticon2-information\"></i> Didn't find basic info? Please click here to suggest.\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Aircraft & Engine Info</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">MSN</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"msn\"\r\n                                                        defaultValue={aircraft ? aircraft.msn : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                    <i className=\"field-note\">Leave it empty if upon request</i>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">YOM</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <ThemeProvider theme={defaultMaterialTheme}>\r\n                                                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                                            <DatePicker\r\n                                                                views={[\"year\"]}\r\n                                                                minDate={new Date('1980')}\r\n                                                                name=\"yom\"\r\n                                                                value={yom}\r\n                                                                onChange={e => this.handleChange(e, 'yom')}\r\n                                                            />\r\n                                                        </MuiPickersUtilsProvider>\r\n                                                    </ThemeProvider>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Configuration</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_configuration.value?selected_configuration:'select...'}\r\n                                                        model=\"current_configuration\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'configuration')}\r\n                                                        options={configuration}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.selected_configuration.value==3||this.state.selected_configuration.value==4||this.state.selected_configuration.value==6||this.state.selected_configuration.value==11?\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                className=\"text-sm-right text-left\">Seating</Form.Label>\r\n                                                    <Col sm=\"9\" lg=\"6\" className=\"d-flex\">\r\n                                                <Form.Control\r\n                                                required\r\n                                                type=\"text\"\r\n                                                placeholder=\"\"\r\n                                                model=\"aircraft\"\r\n                                                className=\"mr-1\"\r\n                                                name=\"seating_first_class\"\r\n                                                defaultValue={aircraft ? aircraft.seating_first_class : ''}\r\n                                                onBlur={e => this.handleChange(e)}\r\n                                                />\r\n                                                </Col>\r\n                                                </Form.Group>\r\n                                                :this.state.selected_configuration.value==2 ? <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Seating</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\" className=\"d-flex\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"Y (Economy)\"\r\n                                                        model=\"aircraft\"\r\n                                                        className=\"mr-1\"\r\n                                                        name=\"seating_first_class\"\r\n                                                        defaultValue={aircraft ? aircraft.seating_first_class : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"Y (Business)\"\r\n                                                        model=\"aircraft\"\r\n                                                        className=\"mr-1\"\r\n                                                        name=\"seating_business\"\r\n                                                        defaultValue={aircraft ? aircraft.seating_business : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"Y (First Class)\"\r\n                                                        model=\"aircraft\"\r\n                                                        className=\"mr-1\"\r\n                                                        name=\"seating_economy\"\r\n                                                        defaultValue={aircraft ? aircraft.seating_economy : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>:''}\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Status</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_status.value?selected_status:'select...'}\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"status\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'status')}\r\n                                                        options={AIRCRAFT_STATUSES}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"compliance\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Compliance</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_compliance.value?selected_compliance:'select...'}\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"compliance\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'compliance')}\r\n                                                        options={AIRCRAFT_COMPLIANCE}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'compliance', 'Compliance')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"tsn\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">TSN</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"number\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"tsn\"\r\n                                                        defaultValue={aircraft ? aircraft.tsn : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'tsn', 'TSN')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"csn\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">CSN</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"number\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"csn\"\r\n                                                        defaultValue={aircraft ? aircraft.csn : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'csn', 'CSN')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"mtow\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">MTOW\r\n                                                    (Kg)</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"number\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"mtow\"\r\n                                                        defaultValue={aircraft ? aircraft.mtow : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'mtow', 'MTOW Kg')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"mlgw\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">MLGW\r\n                                                    (Kg)</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"number\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"ltow\"\r\n                                                        defaultValue={aircraft ? aircraft.mlgw : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'mlgw', 'MLGW Kg')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"last_c_check\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Last C\r\n                                                    Check</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <ThemeProvider theme={defaultMaterialTheme}>\r\n                                                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                                            <DatePicker\r\n                                                                required\r\n                                                                minDate={new Date('1990-01-01')}\r\n                                                                value={last_c_check}\r\n                                                                format=\"dd/MM/yyyy\"\r\n                                                                onChange={e => this.handleChange(e, 'last_c_check')}\r\n                                                                animateYearScrolling\r\n                                                            />\r\n                                                        </MuiPickersUtilsProvider>\r\n                                                    </ThemeProvider>\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'last_c_check', 'Last C Check')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"registration_number\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Registration\r\n                                                    Number</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"registration_number\"\r\n                                                        defaultValue={aircraft ? aircraft.registration_number : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'registration_number', 'Registration Number')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"registration_country\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Registration\r\n                                                    Country</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_registration_country}\r\n                                                        model=\"registration_country\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'registration_country')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'registration_country', 'Registration Country')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.aircraftExtraFields.length>0 &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                        <ThemeProvider theme={addMoreSelect}>\r\n                                                        <SelectCore\r\n                                                            native\r\n                                                            value=\"\"\r\n                                                            onChange={(e) => this.selectMoreFieldsAircraft(e, e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\" disabled>Add more details</option>\r\n                                                            {this.state.aircraftExtraFields.map(item => (\r\n                                                                <option value={item.value}\r\n                                                                        data-label={item.label}>{item.label}</option>\r\n                                                            ))}\r\n                                                        </SelectCore>\r\n                                                        </ThemeProvider>\r\n                                                    </FormControl>\r\n                                                </Col>\r\n                                            </Form.Group>}\r\n\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Divider variant=\"middle\"/>\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Form.Row>\r\n                                                <FormControlLabel\r\n                                                    control={\r\n                                                        <Checkbox\r\n                                                            onChange={(e) => this.handleAirFrameChange(e)}\r\n                                                            value=\"checkedB\"\r\n                                                            checked={this.state.airFrameOnly}\r\n                                                            color=\"primary\"\r\n                                                        />\r\n                                                    }\r\n                                                    label=\"Airframe only\"\r\n                                                />\r\n                                            </Form.Row>\r\n                                            {!this.state.airFrameOnly &&\r\n                                            <Form.Row>\r\n                                                <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                                                    <Form.Label>Engine Manufacturer</Form.Label>\r\n                                                    <Select\r\n                                                        value={selected_engine_manufacturer.value?selected_engine_manufacturer:'select...'}\r\n                                                        model=\"engine_manufacturer\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'engine_manufacturer')}\r\n                                                        options={engine_manufacturer}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                                <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                                                    <Form.Label>Engine Type</Form.Label>\r\n                                                    <Select\r\n                                                        value={selected_engine_type.value?selected_engine_type:'select...'}\r\n                                                        model=\"engine_type\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'engine_type')}\r\n                                                        options={engine_type}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                                <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                                                    <Form.Label>Engine Model</Form.Label>\r\n                                                    <Select\r\n                                                        value={selected_engine_model.value?selected_engine_model:'select...'}\r\n                                                        model=\"engine_model\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'engine_model')}\r\n                                                        options={engine_model}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                                <div>\r\n                                                    <Link className=\"label label-light-info label-inline more-info\" href=\"#\" onClick={(e) => this.handleModalShow(e, 'engine')}>\r\n                                                        <i className=\"flaticon2-information\"></i> Didn't find your engines? Please click here to suggest.\r\n                                                    </Link>\r\n                                                </div>\r\n                                            </Form.Row>\r\n                                            }\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Divider variant=\"middle\"/>\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Form.Row>\r\n                                                <Form.Group as={Col} xs=\"12\">\r\n                                                    <Form.Label>Additional details</Form.Label>\r\n                                                    <Form.Control as=\"textarea\" rows=\"5\"\r\n                                                                  required\r\n                                                                  type=\"text\"\r\n                                                                  placeholder=\"\"\r\n                                                                  model=\"aircraft\"\r\n                                                                  name=\"description\"\r\n                                                                  defaultValue={aircraft ? aircraft.description : ''}\r\n                                                                  onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                            </Form.Row>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Commercial Info</div>\r\n                                    <div className=\"kt-form__section kt-form__section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">\r\n                                                    Offered For\r\n                                                </Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_offer_for.value?selected_offer_for:'select...'}\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"offer_for\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'offer_for')}\r\n                                                        options={AIRCRAFT_OFFER}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.aircraft['offer_for'] === 'Sale' &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Asking\r\n                                                    Price</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"price\"\r\n                                                        defaultValue={aircraft ? aircraft.price : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col><Form.Label column sm=\"3\" className=\"text-sm-left text-left\">USD</Form.Label>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {(\r\n                                                this.state.aircraft['offer_for'] === 'Dry Lease' ||\r\n                                                this.state.aircraft['offer_for'] === 'Wet Lease' ||\r\n                                                this.state.aircraft['offer_for'] === 'Lease Purchase' ||\r\n                                                this.state.aircraft['offer_for'] === 'Exchange' ||\r\n                                                this.state.aircraft['offer_for'] === 'ACMI' ||\r\n                                                this.state.aircraft['offer_for'] === 'Charter'\r\n                                            )\r\n                                            &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">{this.state.aircraft['offer_for']} terms</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        as=\"textarea\" rows=\"5\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"terms\"\r\n                                                        defaultValue={aircraft ? aircraft.terms : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Availablity</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <ThemeProvider theme={defaultMaterialTheme}>\r\n                                                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                                            <DatePicker\r\n                                                                required\r\n                                                                disablePast={true}\r\n                                                                value={availability}\r\n                                                                format=\"dd/MM/yyyy\"\r\n                                                                onChange={e => this.handleChange(e, 'availability')}\r\n                                                                animateYearScrolling\r\n                                                            />\r\n                                                        </MuiPickersUtilsProvider>\r\n                                                    </ThemeProvider>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Current Location</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_current_location.value?selected_current_location:'select...'}\r\n                                                        model=\"current_location\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'current_location')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Primary Contact</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_primary_contact.value?selected_primary_contact:'select...'}\r\n                                                        model=\"primary_contact\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'primary_contact')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, contacts, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.selectedExtraFields.includes(\"owner\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Owner</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_owner.value?selected_owner:'select...'}\r\n                                                        model=\"owner\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'owner')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'owner', 'Owner')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"seller\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Seller</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_seller.value?selected_seller:'select...'}\r\n                                                        model=\"seller\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'seller')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'seller', 'Seller')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"manager\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Manager</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_manager.value?selected_manager:'select...'}\r\n                                                        model=\"manager\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'manager')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'manager', 'Manager')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"previous_operator\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Previous\r\n                                                    Operator</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_previous_operator.value?selected_previous_operator:'select...'}\r\n                                                        model=\"previous_operator\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'previous_operator', 'Previous Operator')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'previous_operator')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"current_operator\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Current\r\n                                                    Operator</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        model=\"current_operator\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'current_operator')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'current_operator', 'Current Operator')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.commercialExtraFields.length>0 &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                        <ThemeProvider theme={addMoreSelect}>\r\n                                                        <SelectCore\r\n                                                            native\r\n                                                            value=\"\"\r\n                                                            onChange={(e) => this.selectMoreFields(e, e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\" disabled>Add more details</option>\r\n                                                            {this.state.commercialExtraFields.map(item => (\r\n                                                                <option value={item.value}\r\n                                                                        data-label={item.label}>{item.label}</option>\r\n                                                            ))}\r\n                                                        </SelectCore>\r\n                                                        </ThemeProvider>\r\n                                                    </FormControl>\r\n                                                </Col>\r\n                                            </Form.Group>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-form__section kt-form__section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n                                            <div className=\"kt-heading kt-heading--md\">Select or Upload Photos</div>\r\n                                            <div className=\"row mb-5\">\r\n                                                <div className=\"col-xs-12 col-md-12\">\r\n                                                    {/*<Button onClick={() => this.medialibraryAsset.current.galleryModalOpener()}\r\n                                                            className=\"btn btn-primary\">\r\n                                                        <i className=\"fa fa-upload\"></i> Select or Upload Images\r\n                                                    </Button>*/}\r\n                                                    <MediaLibrary modal={false} ref={this.medialibraryAsset}\r\n                                                                  user={selected_user.value}\r\n                                                                  showLibrary={selected_user.value === \"\" ? false : true}\r\n                                                                  selected_images={this.state.selected_images}\r\n                                                                  insertImages={(images) => this.setState({selected_images: images})}/>\r\n                                                    <Form.Row>\r\n                                                        {this.state.selected_images && this.state.selected_images.length > 0 &&\r\n                                                        <FormGroup as={Col} xs=\"12\">\r\n                                                            <div className=\"kt-heading kt-heading--md\">Selected Images</div>\r\n                                                        </FormGroup>\r\n                                                        }\r\n                                                        <Form.Group as={Col} xs=\"12\">\r\n                                                            <Gallery enableLightbox={false} id=\"readonlygallery\" rowHeight={150}\r\n                                                                     margin={5}\r\n                                                                     enableImageSelection={true}\r\n                                                                     onSelectImage={(e) => this.removeImage(e)}\r\n                                                                     images={this.state.selected_images}\r\n                                                                     onClickThumbnail={(e) => this.onClickThumbnail(e)}/>\r\n                                                        </Form.Group>\r\n                                                    </Form.Row>\r\n                                                </div>\r\n                                            </div>\r\n                                            <Divider />\r\n                                            <div className=\"kt-heading kt-heading--md\">Upload Files</div>\r\n                                            <div className=\"row mt-5\">\r\n                                                <div className=\"col-xs-12 col-md-6\">\r\n                                                    <Dropzone\r\n                                                        inputContent=\"Drop or click to select a file.\"\r\n                                                        accept=\".pdf\"\r\n                                                        styles={{dropzone: {minHeight: 50}, inputLabel: {fontSize:'14px', margin: '0px'}}}\r\n                                                        getUploadParams={(data) => this.getUploadParams(data)}\r\n                                                        onChangeStatus={(data, status) => this.onAttachmentUpload(data, status)}\r\n                                                        maxSizeBytes={(1024 * 1024 * 2)}\r\n                                                        initialFiles={initialFiles}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-form__actions\">\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u  mr-2\">\r\n                                        <Link to={\"/\" + USER_URL + \"/aircraft/asset\"}>\r\n                                            <i className=\"la la-long-arrow-left\"></i>\r\n                                            Cancel\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-prev\">\r\n                                        Previous\r\n                                    </div>\r\n                                    <Button type=\"submit\" onClick={(e) => this.setState({action: 'save_new'})}\r\n                                            className=\"btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                            data-ktwizard-type=\"action-submit\">\r\n                                        Submit\r\n                                    </Button>\r\n                                    <div\r\n                                        className=\"btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-next\">\r\n                                        Next Step\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </Form>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Modal show={this.state.modalDisplay} onHide={this.handleModalClose} centered>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Suggest {this.state.modalType.charAt(0).toUpperCase() + this.state.modalType.slice(1)} Information</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.state.modalType === 'aircraft' &&\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"3\">\r\n                                Category\r\n                            </Form.Label>\r\n                            <Col sm=\"9\">\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"modal-category-id\"\r\n                                    onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        }\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"3\">\r\n                                Manufacturer\r\n                            </Form.Label>\r\n                            <Col sm=\"9\">\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"modal-manufacture-id\"\r\n                                    onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"3\">\r\n                                Type\r\n                            </Form.Label>\r\n                            <Col sm=\"9\">\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"modal-type-id\"\r\n                                    onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"3\">\r\n                                Model\r\n                            </Form.Label>\r\n                            <Col sm=\"9\">\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"modal-model-id\"\r\n                                    onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                />\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.handleModalClose}>\r\n                            Cancel\r\n                        </Button>\r\n                        <Button variant=\"primary\" onClick={this.confirm}>\r\n                            Submit\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass CreatePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let type = props.match.params.type;\r\n        this.state = {errors: {}, showError: false};\r\n        this.state.type = type;\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                const fieldName = key.charAt(0).toUpperCase() + key.slice(1);\r\n                                return <li key={index + i}><span\r\n                                    style={{'text-transform': 'capitalize'}}>{fieldName.replace(/_/g, \" \")}</span> : {error}\r\n                                </li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n                <Create data={this.props} sendError={this.sendError}/>\r\n\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(CreatePage);\r\n","export function setPageNum(el, view, props){\r\n    let info = el.DataTable().page.info();\r\n    let extra_data = props.extra_data;\r\n    if(extra_data[view] !== undefined)\r\n      extra_data[view].page_no = info.page;\r\n    else \r\n      extra_data[view] = {page_no : info.page};\r\n    props.setExtraData(extra_data);\r\n}\r\n\r\nexport function getPageNum(view, props) {\r\n\tlet page = 0;\r\n  if(props.extra_data !== undefined) {\r\n    let lastPath = props.extra_data.lastPath;\r\n    if(lastPath !== undefined && lastPath.indexOf(props.location.pathname) > -1 && lastPath.indexOf('edit') == -1 && lastPath.indexOf('create') == -1 ) {\r\n      if(props.extra_data[view] !== undefined)\r\n        page = props.extra_data[view].page_no * 10;\r\n    }\r\n  }\r\n\treturn page;\r\n}\r\n\r\nexport const getDateWithFormat = (date=null, format=null) => {\r\n  let months = ['Jan','Feb','Mar','Apr','May','Jun','July','Aug','Sep','Oct','Nov','Dec'];\r\n  if(date === null)\r\n    date = new Date();\r\n\r\n  let dd = date.getDate();\r\n  let mm = date.getMonth() + 1; //January is 0!\r\n\r\n  var yyyy = date.getFullYear();\r\n  if (dd < 10) {\r\n    dd = '0' + dd;\r\n  }\r\n  if (mm < 10) {\r\n    mm = '0' + mm;\r\n  }\r\n  if(format === 'YYYY-MM-DD')\r\n    return yyyy+'-'+mm+'-'+dd;\r\n  else if(format === 'DD-MM-YY')\r\n    return dd+'-'+mm+'-'+yyyy.toString().substr(-2);\r\n  else if(format === 'MMM DD, YYYY')\r\n    return months[mm-1]+' '+dd+', '+yyyy;\r\n \r\n\r\n  return dd + '.' + mm + '.' + yyyy;\r\n}","import React from \"react\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Modal, Form, Col, Carousel} from \"react-bootstrap\";\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport {list, patch, MEDIA_URL, USER_URL, STATUSES, NO_IMAGE} from \"../../../crud/api\";\r\nimport {Paper, Grid} from \"@material-ui/core\";\r\nimport EasyEdit from 'react-easy-edit';\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport { getDateWithFormat } from \"../../../helpers/listing\";\r\n\r\n\r\nclass Detail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { aircraft_id, type } = this.props.data.match.params\r\n    const divStyle = {\r\n      padding : '15px'\r\n    };\r\n    this.txt_weight = {fontWeight:500}\r\n    this.handleModalShow = this.handleModalShow.bind(this);\r\n    this.handleModalClose = this.handleModalClose.bind(this);\r\n    this.confirm = this.confirm.bind(this);\r\n    this.state = {\r\n      type : type,\r\n      aircraft:{},\r\n      action:'',\r\n      showModal: false,\r\n      created_at: '',\r\n      updated_at: '',\r\n      image:[],\r\n      is_published: ''\r\n\r\n    };\r\n    this.getAircraft(aircraft_id);\r\n    this.divStyle = divStyle;\r\n  }\r\n\r\n  getAircraft(aircraft_id) {\r\n    list('aircrafts/'+aircraft_id+'/').then(\r\n      (response) => {\r\n          this.setState({\r\n              created_at : new Intl.DateTimeFormat().format(new Date(response.data.created_at)),\r\n              updated_at : new Intl.DateTimeFormat().format(new Date(response.data.updated_at)),\r\n              image: response.data.media ? response.data.media : null\r\n          });\r\n          this.props.setAircraftTitle(response.data.title, aircraft_id);\r\n          this.setState({aircraft : response.data})\r\n    });\r\n  }\r\n\r\n  handleModalShow(event, action) {\r\n    var val = event.target.value;\r\n    if (action === 'status'){\r\n      val = parseInt(val);\r\n      this.setState({is_published : val === 1 ? 0:1})\r\n    }\r\n    this.setState({action: action});\r\n    this.setState({ showModal: true });\r\n  }\r\n\r\n  handleModalClose() {\r\n   this.setState({ showModal: false });\r\n  }\r\n\r\n  confirm() {\r\n    if(this.state.action === 'status') {\r\n      this.state.aircraft.is_published = this.state.is_published;\r\n      patch('aircrafts/'+this.state.aircraft.id+'/', {is_published: this.state.is_published}).then(\r\n        (response) => {\r\n          this.setState({aircraft : response.data});\r\n          this.setState({showModal : false});\r\n      }).catch(error => {\r\n          this.props.sendError(error.response.data);\r\n          this.setState({showModal : false});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { validated, aircraft } = this.state;\r\n    return (\r\n        <div>\r\n          <Grid container spacing={3}>\r\n                <Grid item xs={12} md={9}>\r\n                  <div className=\"kt_section__detail\">\r\n                            {/*<div className=\"row\">\r\n                                <div className=\"col-12\">\r\n                                    <h3>Basic Info</h3>\r\n                                </div>\r\n                            </div>\r\n                            <hr/>*/}\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Category</div>\r\n                                    <div>{aircraft.category ? aircraft.category.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Manufacturer</div>\r\n                                    <div>{aircraft.manufacturer ? aircraft.manufacturer.name : ''}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Primary Contact</div>\r\n                                    <div>{aircraft.primary_contact ? aircraft.primary_contact.first_name + ' ' + aircraft.primary_contact.last_name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Owner</div>\r\n                                    <div>{aircraft.owner ? aircraft.owner.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Seller</div>\r\n                                    <div>{aircraft.seller ? aircraft.seller.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Manager</div>\r\n                                    <div>{aircraft.manager ? aircraft.manager.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Previous Operator</div>\r\n                                    <div>{aircraft.previous_operator ? aircraft.previous_operator.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Current Operator</div>\r\n                                    <div>{aircraft.current_operator ? aircraft.current_operator.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Availability</div>\r\n                                    <div>{aircraft.availability ? getDateWithFormat(new Date(aircraft.availability), 'MMM DD, YYYY') : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Current Location</div>\r\n                                    <div>{aircraft.current_location ? aircraft.current_location.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Configuration</div>\r\n                                    <div>{aircraft.configuration ? aircraft.configuration.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Seating</div>\r\n                                    <div>Economy\r\n                                        (Y) {aircraft.seating_economy ? aircraft.seating_economy : 0}, Business\r\n                                        (C) {aircraft.seating_business ? aircraft.seating_business : 0}, First\r\n                                        (F) {aircraft.seating_first_class ? aircraft.seating_first_class : 0}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Engine Manufacturer</div>\r\n                                    <div>{aircraft.engine_manufacturer ? aircraft.engine_manufacturer.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">YOM</div>\r\n                                    <div>{aircraft.yom ? aircraft.yom : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <hr/>\r\n                            {/*<div className=\"row\">\r\n                                <div className=\"col-12\">\r\n                                    <h3>Technial Info</h3>\r\n                                </div>\r\n                            </div>\r\n                            <hr/>*/}\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Type</div>\r\n                                    <div>{aircraft.type ? aircraft.type.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Model</div>\r\n                                    <div>{aircraft.model ? aircraft.model.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Current Status</div>\r\n                                    <div>{aircraft.status ? aircraft.status : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Compliance</div>\r\n                                    <div>{aircraft.compliance ? aircraft.compliance : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Last C Check</div>\r\n                                    <div>{aircraft.last_c_check ? new Intl.DateTimeFormat().format(new Date(aircraft.last_c_check)) : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">MSN</div>\r\n                                    <div>{aircraft.msn ? aircraft.msn : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">TSN</div>\r\n                                    <div>{aircraft.tsn ? aircraft.tsn : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">CSN</div>\r\n                                    <div>{aircraft.csn ? aircraft.csn : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">MTOW Kg</div>\r\n                                    <div>{aircraft.mtow ? aircraft.mtow : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">MLGW Kg</div>\r\n                                    <div>{aircraft.mlgw ? aircraft.mlgw : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Registration Country</div>\r\n                                    <div>{aircraft.registration_country ? aircraft.registration_country.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Registration Number</div>\r\n                                    <div>{aircraft.registration_number ? aircraft.registration_number : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Engine Model</div>\r\n                                    <div>{aircraft.engine_model ? aircraft.engine_model.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Engine Type</div>\r\n                                    <div>{aircraft.engine_type ? aircraft.engine_type.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Offer For</div>\r\n                                    <div>{aircraft.offer_for ? aircraft.offer_for : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Price</div>\r\n                                    <div>{aircraft.price ? aircraft.price+' USD' : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <hr/>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-12 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Additional details</div>\r\n                                    <div>{aircraft.description ? aircraft.description : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <hr/>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Views</div>\r\n                                    <div>{aircraft.views ? aircraft.views : 0}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Likes</div>\r\n                                    <div>{aircraft.likes ? aircraft.likes : 0}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Promote Status</div>\r\n                                    <div>{aircraft.is_featured ? 'Yes' : 'No'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Active Status</div>\r\n                                    <div>\r\n                                            {\r\n                                                aircraft.isactivestatus? STATUSES.map((val, i) => {\r\n                                                    if (val.value === aircraft.isactivestatus)\r\n                                                        return val.value\r\n                                                }) : '---'\r\n                                            }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Published Status</div>\r\n                                    <div>{aircraft.is_published ? 'Yes' : 'No'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Date Created</div>\r\n                                    <div>{this.state.created_at ? this.state.created_at : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Date Modified</div>\r\n                                    <div>{this.state.updated_at ? this.state.updated_at : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                    {this.state.image !== '' && this.state.image.length > 0  ?<Carousel>\r\n                            {this.state.image && this.state.image.map((image, index) => {\r\n                                return <Carousel.Item key={index}>\r\n                                    <img\r\n                                        className=\"d-block w-100\"\r\n                                        src={MEDIA_URL+image.original_file_name}\r\n                                    />\r\n                                </Carousel.Item>\r\n                            })\r\n                            }\r\n                        </Carousel>:\r\n                         <img className=\"d-block w-100\" src={NO_IMAGE} />\r\n                        }\r\n                </Grid>\r\n          </Grid>\r\n\r\n          <Modal show={this.state.showModal} onHide={this.handleModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Confirm</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n              <Button variant=\"succes\" onClick={this.confirm}>\r\n                Yes\r\n              </Button>\r\n              <Button variant=\"danger\" onClick={this.handleModalClose}>\r\n                No\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass DetailPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let type = props.match.params.type;\r\n    this.state = {errors:{}, showError:false, aircraft_title:'Aircraft'};\r\n    this.state.type = type;\r\n    this.sendError = this.sendError.bind(this);\r\n  }\r\n\r\n  sendError(error) {\r\n    if(Object.keys(error).length)\r\n      this.setState({showError:true});\r\n\r\n    this.setState({errors:error});\r\n  }\r\n\r\n  setAircraftTitle = (title, id) => {\r\n    let aircraftName = title.toLowerCase();\r\n    if(aircraftName.includes('-yom-')){\r\n        aircraftName = aircraftName.split('-yom-')[0].replace(/-/g,' ')\r\n    }else{\r\n        aircraftName = aircraftName.replace(/-/g,' ')\r\n    }\r\n    this.setState({aircraft_title:aircraftName, aircraft_url: id+'-'+title.toLowerCase()});\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n      <Notice icon=\"flaticon-warning kt-font-primary\" style={{display: this.state.showError ? 'flex' : 'none' }}>\r\n        {\r\n          Object.keys(this.state.errors).map((key, index) => {\r\n            return this.state.errors[key].map((error, i) => {\r\n              console.log(error);\r\n              return <li key={index+i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n            });\r\n          })\r\n        }\r\n        </Notice>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <CustomHead\r\n              beforeCodeTitle={<h3 class=\"kt-portlet__head-title\" style={{textTransform: 'capitalize'}}>\r\n              <a target=\"_blank\" href={\"/aircraft/\"+this.state.aircraft_url}>{this.state.aircraft_title}</a>\r\n              </h3>}\r\n              jsCode =   {<div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                  <div className=\"dropdown dropdown-inline\">\r\n                  <Link to={\"/\"+USER_URL+\"/aircraft/asset\"} className=\"btn btn-clean btn-icon-sm\">\r\n                        <i className=\"la la-long-arrow-left\"></i>\r\n                        Back\r\n                      </Link>\r\n                    <Link\r\n                                                to={\"/\"+USER_URL+\"/aircraft/asset/\" + this.props.match.params.aircraft_id + \"/edit\"}\r\n                                                className=\"btn btn-primary\">\r\n                                                <i className=\"la la-edit\"/>\r\n                                                Edit\r\n                                            </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> }\r\n            >\r\n              <div className=\"kt-section\">\r\n                <Detail data={this.props} setAircraftTitle={(title, id)=> this.setAircraftTitle(title, id)} sendError={this.sendError} />\r\n              </div>\r\n            </CustomHead>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(DetailPage);","import React from \"react\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Form, Col, Tab, Tabs, Modal, Navbar, Nav, Row, OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\nimport {\r\n    Checkbox,\r\n    FormControlLabel, FormGroup,\r\n    FormControl, Button as ButtonCore, IconButton, Select as SelectCore, Divider,\r\n} from \"@material-ui/core\";\r\nimport {CloudUpload as CloudUploadIcon} from \"@material-ui/icons\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {\r\n    list,\r\n    del,\r\n    patch,\r\n    post,\r\n    getToken,\r\n    loadOptions,\r\n    MEDIA_URL,\r\n    API_URL,\r\n    AIRCRAFT_STATUSES,\r\n    AIRCRAFT_COMPLIANCE,\r\n    AIRCRAFT_OFFER,\r\n    COMMERCIAL_EXTRA_FIELDS, AIRCRAFT_EXTRA_FIELDS, USER_URL\r\n} from \"../../../crud/api\";\r\nimport Select from 'react-select';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport moment from \"moment\";\r\nimport 'react-upload-gallery/dist/style.scss' // or css\r\nimport {render} from 'react-dom';\r\nimport Gallery from 'react-grid-gallery';\r\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\r\nimport MediaLibrary from '../../../library/media';\r\nimport 'react-dropzone-uploader/dist/styles.css';\r\nimport Dropzone from 'react-dropzone-uploader';\r\nimport {MuiPickersUtilsProvider, DatePicker} from \"@material-ui/pickers\";\r\nimport {createMuiTheme} from \"@material-ui/core\";\r\nimport {ThemeProvider} from \"@material-ui/styles\";\r\nimport KTWizard from \"../../../../_metronic/_assets/js/wizard\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport {forEach} from \"react-bootstrap/cjs/ElementChildren\";\r\nimport AsyncPaginate from \"react-select-async-paginate\";\r\n\r\nconst defaultMaterialTheme = createMuiTheme({\r\n    props: {\r\n        MuiInput: {\r\n            disableUnderline: true,\r\n        },\r\n        MuiTextField: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n        },\r\n        MuiInputBase: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n            disableUnderline: true,\r\n            inputProps: {\r\n                style: {\r\n                    display: \"block\",\r\n                    height: \"calc(1.5em + 1.3rem + 2px)\",\r\n                    padding: \"0.65rem 1rem\",\r\n                    fontSize: \"1rem\",\r\n                    fontWeight: \"400\",\r\n                    lineHeight: \"1.5\",\r\n                    color: \"#495057\",\r\n                    backgroundColor: \"#fff\",\r\n                    backgroundClip: \"padding-box\",\r\n                    border: \"1px solid #e2e5ec\",\r\n                    borderRadius: \"4px\",\r\n                    transition: \"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n                    boxSizing: \"border-box\",\r\n                }\r\n            }\r\n        },\r\n    },\r\n});\r\nconst addMoreSelect = createMuiTheme({\r\n  overrides: {\r\n      MuiOutlinedInput:{\r\n          root: {\r\n            '&:hover': {\r\n              \"& $notchedOutline\":{\r\n                      borderColor: 'rgb(179, 179, 179)'\r\n                }\r\n            }\r\n          },\r\n          inputSelect: {\r\n              padding: \"13px\",\r\n              fontFamily: \"Poppins, Helvetica, sans-serif\",\r\n              color: \"#808080\"\r\n          }\r\n      }\r\n  },\r\n});\r\nclass Edit extends React.Component {\r\n\r\n    wizardRef = React.createRef();\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const {aircraft_id, type} = this.props.data.match.params;\r\n        this.medialibraryAsset = React.createRef();\r\n        this.state = {\r\n            validated: false,\r\n            aircraft: {},\r\n            selectedFile: null,\r\n            category: [],\r\n            manufacturer: [],\r\n            countries: [],\r\n            contacts: [],\r\n            type: [],\r\n            model: [],\r\n            engine_type: [],\r\n            engine_model: [],\r\n            engine_manufacturer: [],\r\n            companies: [],\r\n            configuration: [],\r\n            users: [],\r\n            search: '',\r\n            selected_primary_contact: {\r\n                id:props.data.extra_data.user.contact.id,\r\n                label:props.data.extra_data.user.contact.first_name+' '+props.data.extra_data.user.contact.last_name,\r\n                value:true\r\n            },\r\n            selected_category: {value: ''},\r\n            selected_type: {value: ''},\r\n            selected_engine_type: {value: ''},\r\n            selected_manufacturer: {value: ''},\r\n            selected_engine_manufacturer: {value: ''},\r\n            selected_current_location: {value: ''},\r\n            selected_model: {value: ''},\r\n            selected_engine_model: {value: ''},\r\n            selected_owner: {value: ''},\r\n            selected_current_operator: {value: ''},\r\n            selected_previous_operator: {value: ''},\r\n            selected_manager: {value: ''},\r\n            selected_seller: {value: ''},\r\n            selected_configuration: {value: ''},\r\n            selected_user: {value: this.props.data.extra_data.user ? this.props.data.extra_data.user.id : null},\r\n            selected_status: {value: ''},\r\n            selected_compliance: {value: ''},\r\n            selected_offer_for: {value: ''},\r\n            selected_registration_country: {value: ''},\r\n            selected_images: [],\r\n            yom: new Date(),\r\n            attachments: [],\r\n            initialFiles: [],\r\n            modalDisplay: false,\r\n            modalType: '',\r\n            airFrameOnly: false,\r\n            commercialExtraFields: COMMERCIAL_EXTRA_FIELDS,\r\n            selectedExtraFields: [],\r\n            aircraftExtraFields: AIRCRAFT_EXTRA_FIELDS,\r\n            selectedExtraFieldsAircraft: [],\r\n            fields: {},\r\n            errorsf: {},\r\n            modelsLoaded:false\r\n        };\r\n        this.getAircraft(aircraft_id);\r\n        this.confirm=this.confirm.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        new KTWizard(this.wizardRef.current);\r\n    }\r\n\r\n\r\n    getAircraft(aircraft_id) {\r\n        list('aircrafts/' + aircraft_id + '/').then(\r\n            (response) => {\r\n                let air =response.data.engine_manufacturer?false:\r\n                    response.data.engine_type?false:\r\n                        response.data.engine_model?false:true;\r\n\r\n                let availability = response.data.availability;\r\n                this.setState({\r\n                    aircraft: response.data,\r\n                    yom: moment(response.data.yom, 'YYYY'),\r\n                    airFrameOnly:air,\r\n                    availability: availability,\r\n                    last_c_check:response.data.last_c_check\r\n                })\r\n                // this.getDropdownsListing();\r\n                this.loadModels();\r\n\r\n                this.loadSelectedImages(response.data.media);\r\n                this.loadInitialFields();\r\n                this.renderExtraFields();\r\n            });\r\n    }\r\n\r\n    handleChange(event, type) {\r\n        var aircraft = this.state.aircraft;\r\n        if (type !== 'yom' && type !== 'availability' && type !== 'last_c_check') {\r\n            var attr = event.target.name;\r\n            var val = event.target.value;\r\n        } else if (type == 'yom') {\r\n            var attr = type;\r\n            var val = moment(event).format(\"YYYY\");\r\n            this.setState({yom: event})\r\n        } else {\r\n            var attr = type;\r\n            var val = moment(event).format();\r\n            this.setState({\r\n                availability: (type === 'availability') ? event : this.state.availability,\r\n                last_c_check: (type === 'last_c_check') ? event : this.state.last_c_check\r\n            })\r\n        }\r\n        if (attr === 'is_active')\r\n            val = parseInt(val);\r\n\r\n        aircraft[attr] = val;\r\n        this.setState({aircraft: aircraft})\r\n    }\r\n\r\n    handleAirFrameChange = (event) => {\r\n        if (event.target.checked)\r\n            this.setState({airFrameOnly: true})\r\n        else\r\n            this.setState({airFrameOnly: false})\r\n    }\r\n    handleSubmit(event) {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.setState({validated: true});\r\n        this.checkDataFormat(); // this is done to convert foregin table objects into pk\r\n        if (!this.state.selectedFile)\r\n            delete this.state.aircraft.file;\r\n        if (this.handleValidation()) {\r\n            patch('aircrafts/' + this.state.aircraft.id + '/', this.state.aircraft).then(\r\n                (response) => {\r\n                    this.setState({aircraft: response.data});\r\n                    this.props.data.history.push(this.state.action == 'save_new' ? \"/\" + USER_URL + \"/aircraft/asset/create\" : \"/\" + USER_URL + \"/aircraft/asset\");\r\n                }).catch(error => {\r\n                this.props.sendError(error.response.data);\r\n            });\r\n        }\r\n    }\r\n\r\n    handleValidation() {\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n\r\n        let numbersOnly = {\r\n            tsn: 'tsn',\r\n            csn: 'csn',\r\n        }\r\n        let alphaNumberic = {\r\n            msn: 'msn',\r\n        }\r\n        let numbers_only_keys = Object.keys(numbersOnly);\r\n        let alpha_numeric_keys = Object.keys(alphaNumberic);\r\n\r\n        for (let key in numbers_only_keys) {\r\n            if (typeof fields[numbers_only_keys[key]] !== \"undefined\" && fields[numbers_only_keys[key]] !== '') {\r\n                if (!fields[numbers_only_keys[key]].match(/^\\d+$/)) {\r\n                    formIsValid = false;\r\n                    errors[numbers_only_keys[key]] = [\"Only numbers are allowed.\"];\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let key in alpha_numeric_keys) {\r\n            if (typeof fields[alpha_numeric_keys[key]] !== \"undefined\" && fields[alpha_numeric_keys[key]] !== '') {\r\n                if (!fields[alpha_numeric_keys[key]].match(/^[a-z0-9]+$/i)) {\r\n                    formIsValid = false;\r\n                    errors[alpha_numeric_keys[key]] = [\"Only alphabets and numbers are allowed.\"];\r\n                }\r\n            }\r\n        }\r\n\r\n        this.setState({errorsf: errors}, function () {\r\n            this.props.sendError(this.state.errorsf)\r\n        }.bind(this));\r\n        return formIsValid;\r\n    }\r\n\r\n    checkDataFormat() {\r\n        let aircraft = this.state.aircraft;\r\n        let related_data = ['category', 'primary_contact', 'configuration', 'manufacturer', 'current_location',\r\n            'type', 'model', 'owner', 'user', 'current_operator', 'previous_operator', 'manager', 'seller', 'engine_manufacturer',\r\n            'registration_country', 'engine_type', 'engine_model'];\r\n        related_data.map((val, i) => {\r\n            aircraft[val] = this.state['selected_' + val].value;\r\n        })\r\n        aircraft.images = this.state.selected_images;\r\n        aircraft.attachments = this.state.attachments;\r\n        this.setState({aircraft: aircraft});\r\n    }\r\n\r\n    loadModels() {\r\n        let aircraft_data = this.state.aircraft;\r\n\r\n        // static dropdowns calculation here -\r\n\r\n        let static_dropdowns = { // when you have static dropdown like gender just put here\r\n            status: AIRCRAFT_STATUSES,\r\n            compliance: AIRCRAFT_COMPLIANCE,\r\n            offer_for: AIRCRAFT_OFFER\r\n        }\r\n\r\n        let dropdown_keys = Object.keys(static_dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            for (let index in static_dropdowns[dropdown_keys[key]]) {\r\n                if (static_dropdowns[dropdown_keys[key]][index].value === aircraft_data[dropdown_keys[key]]) {\r\n                    this.setState({['selected_' + dropdown_keys[key]]: static_dropdowns[dropdown_keys[key]][index]});\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        let models = {\r\n            'AbUsers': {},\r\n            'AbCategories': {type: 'aircraft'},\r\n            'AbContacts': {},\r\n            'AbConfigurations': {},\r\n            'AbManufacturers': {type: 'engine'},\r\n            'AbCountries': {},\r\n            'AbCompanies': {},\r\n        }\r\n\r\n        // lets do some mapping to avoid if else conditions\r\n        let state_endpoints = {\r\n            AbUsers: ['user'],\r\n            AbContacts: ['primary_contact'],\r\n            AbCategories: ['category'],\r\n            AbConfigurations: ['configuration'],\r\n            AbManufacturers: ['engine_manufacturer'],\r\n            AbCountries: ['current_location', 'registration_country'],\r\n            AbCompanies: ['owner', 'current_operator', 'previous_operator', 'manager', 'seller']\r\n        }\r\n\r\n        if (aircraft_data.category !== null && aircraft_data.category.id !== undefined) {\r\n            models['AbManufacturers__aircraft'] = {type: 'aircraft', categories__id: aircraft_data.category.id}\r\n            state_endpoints['AbManufacturers__aircraft'] = ['manufacturer']\r\n        }\r\n\r\n        if (aircraft_data.manufacturer != null && aircraft_data.manufacturer.id != undefined) {\r\n            models['AbTypes'] = {type: 'aircraft', manufacturer_id: aircraft_data.manufacturer.id}\r\n            state_endpoints['AbTypes'] = ['type']\r\n        }\r\n\r\n        if (aircraft_data.type != null && aircraft_data.type.id != undefined) {\r\n            models['AbModels'] = {type: 'aircraft', type_0: aircraft_data.type.id}\r\n            state_endpoints['AbModels'] = ['model']\r\n        }\r\n\r\n        if (aircraft_data.engine_manufacturer != null && aircraft_data.engine_manufacturer.id != undefined) {\r\n            models['AbTypes__engine'] = {type: 'engine', manufacturer_id: aircraft_data.engine_manufacturer.id}\r\n            state_endpoints['AbTypes__engine'] = ['engine_type']\r\n        }\r\n\r\n        if (aircraft_data.engine_type != null && aircraft_data.engine_type.id != undefined) {\r\n            models['AbModels__engine'] = {type: 'engine', type_0: aircraft_data.engine_type.id}\r\n            state_endpoints['AbModels__engine'] = ['engine_model']\r\n        }\r\n\r\n        // if(response.data.type.id != undefined && response.data.type.id != \"\")\r\n        //   this.setDynamicDropdowns(response.data.engine_manufacturer.id, 'engine_manufacturer');\r\n\r\n        // if(response.data.engine_manufacturer.id != undefined && response.data.engine_manufacturer.id != \"\")\r\n        //   this.setDynamicDropdowns(response.data.engine_type.id, 'engine_type');\r\n\r\n\r\n        post('abmodels', {models: models}).then(function (response) {\r\n            let newStates = {};\r\n            for (let opt in response.data) {\r\n\r\n                response.data[opt].map((row, i) => {\r\n                    if (opt === 'AbContacts' || opt === 'AbUsers')\r\n                        row.name = row.first_name + ' ' + row.last_name;\r\n\r\n                    if (opt === 'AbUsers')\r\n                        row.id = row.user_id;\r\n\r\n\r\n                    response.data[opt][i].label = row.name;\r\n                    response.data[opt][i].value = row.id;\r\n\r\n                    Object.keys(state_endpoints).map((key, i) => {\r\n                        state_endpoints[key].map((state, index) => {\r\n                            if (opt === key && aircraft_data[state] !== null && aircraft_data[state].id !== undefined && aircraft_data[state].id === row.id)\r\n                                newStates['selected_' + state] = row;\r\n\r\n                            if (aircraft_data.engine_type != null && aircraft_data.engine_type.id != undefined)\r\n                                models['AbModels__engine'] = {type: 'engine', type_0: aircraft_data.engine_type.id}\r\n                        })\r\n                    })\r\n\r\n                })\r\n            }\r\n            newStates['users'] = response.data.AbUsers;\r\n            newStates['category'] = response.data.AbCategories;\r\n            newStates['contacts'] = response.data.AbContacts;\r\n            newStates['configuration'] = response.data.AbConfigurations;\r\n            newStates['engine_manufacturer'] = response.data.AbManufacturers;\r\n            newStates['countries'] = response.data.AbCountries;\r\n            newStates['companies'] = response.data.AbCompanies;\r\n\r\n            if (aircraft_data.category !== null && aircraft_data.category.id !== undefined)\r\n                newStates['manufacturer'] = response.data.AbManufacturers__aircraft;\r\n\r\n            if (aircraft_data.manufacturer != null && aircraft_data.manufacturer.id != undefined)\r\n                newStates['type'] = response.data.AbTypes;\r\n\r\n            if (aircraft_data.type != null && aircraft_data.type.id != undefined)\r\n                newStates['model'] = response.data.AbModels;\r\n\r\n            if (aircraft_data.engine_manufacturer != null && aircraft_data.engine_manufacturer.id != undefined)\r\n                newStates['engine_type'] = response.data.AbTypes__engine;\r\n\r\n            if (aircraft_data.engine_type != null && aircraft_data.engine_type.id != undefined)\r\n                newStates['engine_model'] = response.data.AbModels__engine;\r\n\r\n            newStates['modelsLoaded'] = true;\r\n            this.setState(newStates);\r\n        }.bind(this))\r\n    }\r\n\r\n    removeImage(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images = selected_images.filter((val, i) => {\r\n            return index !== i;\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    getDropdownsListing() {\r\n        let aircraft_data = this.state.aircraft;\r\n        let dropdowns = {// when you have database dropdown like departments just put here\r\n            category: 'category',\r\n            primary_contact: 'contacts',\r\n            configuration: 'configuration',\r\n            manufacturer: 'manufacturer',\r\n            current_location: 'countries',\r\n            engine_manufacturer: 'engine_manufacturer',\r\n            // type:'type',\r\n            // model:'model',\r\n            owner: 'companies',\r\n            manager: 'companies',\r\n            user: 'users'\r\n        }\r\n\r\n        let duplicating_dropdowns = {\r\n            companies: ['current_operator', 'previous_operator', 'manager', 'seller'],\r\n            countries: ['registration_country'],\r\n        }\r\n\r\n\r\n        // static dropdowns calculation here -\r\n\r\n        let static_dropdowns = { // when you have static dropdown like gender just put here\r\n            status: AIRCRAFT_STATUSES,\r\n            compliance: AIRCRAFT_COMPLIANCE,\r\n            offer_for: AIRCRAFT_OFFER\r\n        }\r\n\r\n        let dropdown_keys = Object.keys(static_dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            for (let index in static_dropdowns[dropdown_keys[key]]) {\r\n                if (static_dropdowns[dropdown_keys[key]][index].value === aircraft_data[dropdown_keys[key]]) {\r\n                    this.setState({['selected_' + dropdown_keys[key]]: static_dropdowns[dropdown_keys[key]][index]});\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        dropdown_keys = Object.keys(dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            let params = {}, endpoint = dropdowns[dropdown_keys[key]];\r\n            if (dropdown_keys[key] === 'manufacturer')\r\n                params.type = 'aircraft';\r\n            else if (dropdown_keys[key] === 'engine_manufacturer') {\r\n                endpoint = 'manufacturer';\r\n                params.type = 'engine';\r\n            }\r\n            list(endpoint, params).then(function (response) {\r\n                let data = response.data;\r\n                let selected = {};\r\n                for (let opt in data) {\r\n                    // special case for contacts\r\n                    if (dropdowns[dropdown_keys[key]] === 'contacts')\r\n                        data[opt].name = data[opt].first_name + ' ' + data[opt].last_name;\r\n                    else if (dropdowns[dropdown_keys[key]] === 'users')\r\n                        data[opt].name = data[opt].contact.first_name + ' ' + data[opt].contact.last_name;\r\n\r\n                    data[opt].label = data[opt].name;\r\n                    data[opt].value = data[opt].id;\r\n\r\n                    if (aircraft_data[dropdown_keys[key]] != undefined && data[opt].id === aircraft_data[dropdown_keys[key]].id)\r\n                        selected = data[opt]\r\n\r\n                    if (duplicating_dropdowns[dropdowns[dropdown_keys[key]]] != undefined) {\r\n                        for (let index in duplicating_dropdowns[dropdowns[dropdown_keys[key]]]) {\r\n                            let duplicated_el = duplicating_dropdowns[dropdowns[dropdown_keys[key]]][index];\r\n                            if (aircraft_data[duplicated_el] != undefined && data[opt].id === aircraft_data[duplicated_el].id)\r\n                                this.setState({['selected_' + duplicated_el]: selected});\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({\r\n                    [dropdowns[dropdown_keys[key]]]: data,\r\n                    ['selected_' + dropdown_keys[key]]: selected,\r\n                    aircraft: aircraft_data\r\n                });\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    selectChange(value, key) {\r\n        let aircraft = this.state.aircraft;\r\n        aircraft[key] = value && value.value ? value.value : '';\r\n        this.setState({['selected_' + key]: value ? value : '', aircraft: aircraft});\r\n        this.setDynamicDropdowns(value && value.id ? value.id : '', key);\r\n    }\r\n\r\n    setDynamicDropdowns(id, key) {\r\n        if (['category', 'manufacturer', 'type', 'engine_manufacturer', 'engine_type'].indexOf(key) > -1 && id) {\r\n            let endpoint = '', params = {}, key_to_update = '', models = {};\r\n            if (key === 'category') {\r\n                models = {\r\n                    AbManufacturers: {categories__id: id, type: 'aircraft'}\r\n                }\r\n                key_to_update = 'manufacturer';\r\n            } if (key === 'manufacturer') {\r\n                models = {\r\n                    AbTypes: {manufacturer_id: id, type: 'aircraft'}\r\n                }\r\n                key_to_update = 'type';\r\n            } else if (key === 'type') {\r\n                models = {\r\n                    AbModels: {type_0: id, type: 'aircraft'}\r\n                }\r\n                key_to_update = 'model';\r\n            } else if (key === 'engine_manufacturer') {\r\n                models = {\r\n                    AbTypes: {manufacturer_id: id, type: 'engine'}\r\n                }\r\n                key_to_update = 'engine_type';\r\n            } else if (key === 'engine_type') {\r\n                models = {\r\n                    AbModels: {type_0: id, type: 'engine'}\r\n                }\r\n                key_to_update = 'engine_model';\r\n            }\r\n\r\n            post('abmodels', {models: models}).then(function (response) {\r\n                let selected = {};\r\n                for (let opt in response.data) {\r\n                    response.data[opt].map((row, i) => {\r\n                        response.data[opt][i].label = row.name;\r\n                        response.data[opt][i].value = row.id;\r\n                        selected = row;\r\n                    })\r\n                    this.setState({\r\n                        [key_to_update]: response.data[opt], ['selected_' + key_to_update]: selected\r\n                    })\r\n                }\r\n            }.bind(this))\r\n        }\r\n    }\r\n\r\n    selectYear(val, key) {\r\n        let aircraft = this.state.aircraft;\r\n        aircraft[key] = val;\r\n        this.setState({aircraft: aircraft});\r\n    }\r\n\r\n    setTab(event, tab) {\r\n        document.getElementById('aircraft-tabs-tab-' + tab).click();\r\n    }\r\n\r\n    loadSelectedImages(data) {\r\n        data.map((val, i) => {\r\n            data[i].src = MEDIA_URL + val.original_file_name;\r\n            data[i].thumbnail = MEDIA_URL + val.original_file_name;\r\n            data[i].thumbnailWidth = 150;\r\n            data[i].thumbnailHeight = 150;\r\n            if (data[i].is_featured) {\r\n                data[i].isSelected = true;\r\n                data[i].tags = [{value: \"Featured\", title: \"Featured\"}];\r\n            } else\r\n                data[i].isSelected = false;\r\n            data[i].customOverlay = <Grid item xs={8}> <DeleteForeverOutlinedIcon/> </Grid>\r\n        })\r\n        this.setState({selected_images: data});\r\n    }\r\n\r\n    onClickThumbnail(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images.map((val, i) => {\r\n            if (i === index) {\r\n                selected_images[i].is_featured = 1;\r\n                selected_images[i].isSelected = true;\r\n                selected_images[i].tags = [{value: \"Featured\", title: \"Featured\"}];\r\n            } else {\r\n                selected_images[i].is_featured = 0;\r\n                selected_images[i].isSelected = false;\r\n                delete selected_images[i].tags;\r\n            }\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    getUploadParams(data) {\r\n        const body = new FormData()\r\n        body.append('original_file_name', data.file)\r\n        body.append('user', this.state.selected_user.value);\r\n        body.append('attachable_type', 'Aircraft');\r\n\r\n        if ('existing' in data.file)\r\n            body.append('existing_id', data.file.id);\r\n\r\n        return {url: API_URL + 'attaches', dataType: 'json', body, headers: {'Authorization': 'Token ' + getToken()}}\r\n    }\r\n\r\n    onAttachmentUpload(data, status) {\r\n        if (status === 'done') {\r\n            let attachment = JSON.parse(data.xhr.response);\r\n            this.setState({attachments: [...this.state.attachments, attachment]});\r\n        } else if (status === 'removed') {\r\n            if(data.xhr){\r\n                let attachment = JSON.parse(data.xhr.response);\r\n                let attachments = this.state.attachments.filter((val, i) => {\r\n                    return val.id !== attachment.id\r\n                })\r\n                this.setState({attachments: attachments})\r\n            }\r\n        }\r\n    }\r\n\r\n    loadInitialFields() {\r\n        if (this.state.aircraft.attachments !== undefined) {\r\n            let initialFiles = [];\r\n            this.state.aircraft.attachments.map((val, i) => {\r\n                let file = new File(['foo'], MEDIA_URL + val.original_file_name);\r\n                file.id = val.id;\r\n                file.existing = true;\r\n                initialFiles.push(file);\r\n            })\r\n            this.setState({initialFiles: initialFiles});\r\n        }\r\n    }\r\n\r\n    renderExtraFields() {\r\n        //first render aircraft extrafields\r\n        let aircraftExtraFields = [...this.state.aircraftExtraFields];\r\n        let aircraftExtra = [];\r\n        AIRCRAFT_EXTRA_FIELDS.map((val, i) => {\r\n            if (this.state.aircraft[val.value])\r\n                aircraftExtra.push('' + val.value + '')\r\n        })\r\n\r\n        this.setState({selectedExtraFieldsAircraft: aircraftExtra});\r\n        this.setState(state => {\r\n            const aircraftExtraFields = state.aircraftExtraFields.filter(item => !aircraftExtra.includes(item.value));\r\n            return {\r\n                aircraftExtraFields\r\n            };\r\n        });\r\n\r\n        //then render commercial extrafields\r\n        let commercialExtraFields = [...this.state.commercialExtraFields];\r\n        let commercialExtra = [];\r\n        COMMERCIAL_EXTRA_FIELDS.map((val, i) => {\r\n            if (this.state.aircraft[val.value] && typeof this.state.aircraft[val.value].id !== \"undefined\")\r\n                commercialExtra.push('' + val.value + '')\r\n        })\r\n\r\n        this.setState({selectedExtraFields: commercialExtra});\r\n        this.setState(state => {\r\n            const commercialExtraFields = state.commercialExtraFields.filter(item => !commercialExtra.includes(item.value));\r\n            return {\r\n                commercialExtraFields\r\n            };\r\n        });\r\n    }\r\n\r\n    selectMoreFields(event, key) {\r\n        let commercialExtraFields = [...this.state.commercialExtraFields];\r\n        commercialExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFields = [...state.selectedExtraFields, key];\r\n            return {\r\n                selectedExtraFields,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraField(event, key, label) {\r\n        let commercialExtraFields = [...this.state.commercialExtraFields, {label: label, value: key}];\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        let selectedExtraFields = this.state.selectedExtraFields;\r\n        selectedExtraFields = selectedExtraFields.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFields: selectedExtraFields});\r\n    }\r\n\r\n    selectMoreFieldsAircraft(event, key) {\r\n        let aircraftExtraFields = [...this.state.aircraftExtraFields];\r\n        aircraftExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({aircraftExtraFields: aircraftExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFieldsAircraft = [...state.selectedExtraFieldsAircraft, key];\r\n            return {\r\n                selectedExtraFieldsAircraft,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraFieldAircraft(event, key, label) {\r\n        let aircraftExtraFields = [...this.state.aircraftExtraFields, {label: label, value: key}];\r\n        this.setState({aircraftExtraFields: aircraftExtraFields});\r\n        let selectedExtraFieldsAircraft = this.state.selectedExtraFieldsAircraft;\r\n        selectedExtraFieldsAircraft = selectedExtraFieldsAircraft.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFieldsAircraft: selectedExtraFieldsAircraft});\r\n    }\r\n\r\n    handleModalShow(event, type) {\r\n        this.setState({\r\n            modalDisplay: true,\r\n            modalType: type\r\n        })\r\n    }\r\n\r\n    handleModalClose = () => {\r\n        this.setState({modalDisplay: false})\r\n    }\r\n    confirm(){\r\n        let data={\r\n            manufacturer:document.getElementById('modal-manufacture-id').value,\r\n            type:document.getElementById('modal-type-id').value,\r\n            model:document.getElementById('modal-model-id').value,\r\n            entity_type:this.state.modalType,\r\n            user:this.props.data.extra_data.user.id\r\n        }\r\n        if(this.state.modalType==\"aircraft\"){\r\n            data.category=document.getElementById('modal-category-id').value;\r\n        }\r\n        post('suggestions', data).then(\r\n            (response) => {\r\n                this.setState({\r\n                    modalDisplay: false,\r\n                })\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n    render() {\r\n        const {\r\n            last_c_check, aircraft, availability, selected_manufacturer, manufacturer,\r\n            selected_category, category, selected_current_location, countries, selected_type, type,\r\n            selected_primary_contact, contacts, model, selected_model, selected_registration_country,\r\n            selected_owner, selected_current_operator, selected_previous_operator, companies,\r\n            selected_seller, selected_manager, selected_configuration, configuration,\r\n            selected_engine_model, selected_engine_type, selected_engine_manufacturer, selected_user,\r\n            users, airFrameOnly, selected_status, selected_compliance, selected_offer_for, yom, initialFiles,\r\n            engine_manufacturer, engine_type, engine_model, modelsLoaded\r\n        } = this.state;\r\n        return (\r\n            <div className=\"kt-portlet\">\r\n                <div className=\"kt-portlet__head\">\r\n                    <div className=\"kt-portlet__head-label\">\r\n                        <h3 className=\"kt-portlet__head-title\">\r\n                            Aircraft\r\n                        </h3>\r\n                    </div>\r\n                </div>\r\n                <div className=\"kt-portlet__body kt-portlet__body--fit\">\r\n                    <div ref={this.wizardRef} className=\"kt-grid  kt-wizard-v1 kt-wizard-v1--white\" id=\"kt_aircraft_add\"\r\n                         data-ktwizard-state=\"step-first\">\r\n                        <div className=\"kt-grid__item\">\r\n\r\n                            <div className=\"kt-wizard-v1__nav\">\r\n                                <div className=\"kt-wizard-v1__nav-items\">\r\n\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\"\r\n                                         data-ktwizard-state=\"current\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M4.875,20.75 C4.63541667,20.75 4.39583333,20.6541667 4.20416667,20.4625 L2.2875,18.5458333 C1.90416667,18.1625 1.90416667,17.5875 2.2875,17.2041667 C2.67083333,16.8208333 3.29375,16.8208333 3.62916667,17.2041667 L4.875,18.45 L8.0375,15.2875 C8.42083333,14.9041667 8.99583333,14.9041667 9.37916667,15.2875 C9.7625,15.6708333 9.7625,16.2458333 9.37916667,16.6291667 L5.54583333,20.4625 C5.35416667,20.6541667 5.11458333,20.75 4.875,20.75 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\" opacity=\"0.3\"/>\r\n                                                        <path\r\n                                                            d=\"M2,11.8650466 L2,6 C2,4.34314575 3.34314575,3 5,3 L19,3 C20.6568542,3 22,4.34314575 22,6 L22,15 C22,15.0032706 21.9999948,15.0065399 21.9999843,15.009808 L22.0249378,15 L22.0249378,19.5857864 C22.0249378,20.1380712 21.5772226,20.5857864 21.0249378,20.5857864 C20.7597213,20.5857864 20.5053674,20.4804296 20.317831,20.2928932 L18.0249378,18 L12.9835977,18 C12.7263047,14.0909841 9.47412135,11 5.5,11 C4.23590829,11 3.04485894,11.3127315 2,11.8650466 Z M6,7 C5.44771525,7 5,7.44771525 5,8 C5,8.55228475 5.44771525,9 6,9 L15,9 C15.5522847,9 16,8.55228475 16,8 C16,7.44771525 15.5522847,7 15,7 L6,7 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Basic\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M11,20 L11,17 C11,16.4477153 11.4477153,16 12,16 C12.5522847,16 13,16.4477153 13,17 L13,20 L15.5,20 C15.7761424,20 16,20.2238576 16,20.5 C16,20.7761424 15.7761424,21 15.5,21 L8.5,21 C8.22385763,21 8,20.7761424 8,20.5 C8,20.2238576 8.22385763,20 8.5,20 L11,20 Z\"\r\n                                                            fill=\"#000000\" opacity=\"0.3\"/>\r\n                                                        <path\r\n                                                            d=\"M3,5 L21,5 C21.5522847,5 22,5.44771525 22,6 L22,16 C22,16.5522847 21.5522847,17 21,17 L3,17 C2.44771525,17 2,16.5522847 2,16 L2,6 C2,5.44771525 2.44771525,5 3,5 Z M4.5,8 C4.22385763,8 4,8.22385763 4,8.5 C4,8.77614237 4.22385763,9 4.5,9 L13.5,9 C13.7761424,9 14,8.77614237 14,8.5 C14,8.22385763 13.7761424,8 13.5,8 L4.5,8 Z M4.5,10 C4.22385763,10 4,10.2238576 4,10.5 C4,10.7761424 4.22385763,11 4.5,11 L7.5,11 C7.77614237,11 8,10.7761424 8,10.5 C8,10.2238576 7.77614237,10 7.5,10 L4.5,10 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Aircraft\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13,18.9450712 L13,20 L14,20 C15.1045695,20 16,20.8954305 16,22 L8,22 C8,20.8954305 8.8954305,20 10,20 L11,20 L11,18.9448245 C9.02872877,18.7261967 7.20827378,17.866394 5.79372555,16.5182701 L4.73856106,17.6741866 C4.36621808,18.0820826 3.73370941,18.110904 3.32581341,17.7385611 C2.9179174,17.3662181 2.88909597,16.7337094 3.26143894,16.3258134 L5.04940685,14.367122 C5.46150313,13.9156769 6.17860937,13.9363085 6.56406875,14.4106998 C7.88623094,16.037907 9.86320756,17 12,17 C15.8659932,17 19,13.8659932 19,10 C19,7.73468744 17.9175842,5.65198725 16.1214335,4.34123851 C15.6753081,4.01567657 15.5775721,3.39010038 15.903134,2.94397499 C16.228696,2.49784959 16.8542722,2.4001136 17.3003976,2.72567554 C19.6071362,4.40902808 21,7.08906798 21,10 C21,14.6325537 17.4999505,18.4476269 13,18.9450712 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"12\" cy=\"10\" r=\"6\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Commercial\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13.2070325,4 C13.0721672,4.47683179 13,4.97998812 13,5.5 C13,8.53756612 15.4624339,11 18.5,11 C19.0200119,11 19.5231682,10.9278328 20,10.7929675 L20,17 C20,18.6568542 18.6568542,20 17,20 L7,20 C5.34314575,20 4,18.6568542 4,17 L4,7 C4,5.34314575 5.34314575,4 7,4 L13.2070325,4 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"18.5\" cy=\"5.5\"\r\n                                                                r=\"2.5\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Complete\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"kt-grid__item kt-grid__item--fluid kt-wizard-v1__wrapper\">\r\n\r\n                            <Form className=\"kt-form\" noValidate id=\"create-aircraft-form \"\r\n                                  onSubmit={e => this.handleSubmit(e)}>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\"\r\n                                     data-ktwizard-state=\"current\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Basic Info</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n\r\n                                                <Form.Group as={Row}>\r\n                                                    <Form.Label column sm=\"3\"\r\n                                                                className=\"text-sm-right text-left\">Category</Form.Label>\r\n                                                    <Col sm=\"9\" lg=\"6\">\r\n                                                        <Select\r\n                                                            value={selected_category.value?selected_category:'select...'}\r\n                                                            model=\"category\"\r\n                                                            name=\"name\"\r\n                                                            isClearable={true}\r\n                                                            escapeClearsValue={true}\r\n                                                            onChange={e => this.selectChange(e, 'category')}\r\n                                                            options={category}\r\n                                                        />\r\n                                                    </Col>\r\n                                                </Form.Group>\r\n\r\n                                                <Form.Group as={Row}>\r\n                                                    <Form.Label column sm=\"3\"\r\n                                                                className=\"text-sm-right text-left\">Manufacturer</Form.Label>\r\n                                                    <Col sm=\"9\" lg=\"6\">\r\n                                                        <Select\r\n                                                            value={selected_manufacturer.value?selected_manufacturer:'select...'}\r\n                                                            model=\"manufacturer\"\r\n                                                            name=\"name\"\r\n                                                            isClearable={true}\r\n                                                            escapeClearsValue={true}\r\n                                                            onChange={e => this.selectChange(e, 'manufacturer')}\r\n                                                            options={manufacturer}\r\n                                                        />\r\n                                                    </Col>\r\n                                                </Form.Group>\r\n\r\n                                                <Form.Group as={Row}>\r\n                                                    <Form.Label column sm=\"3\"\r\n                                                                className=\"text-sm-right text-left\">Type</Form.Label>\r\n                                                    <Col sm=\"9\" lg=\"6\">\r\n                                                        <Select\r\n                                                            value={selected_type.value?selected_type:'select...'}\r\n                                                            model=\"type\"\r\n                                                            name=\"name\"\r\n                                                            isClearable={true}\r\n                                                            escapeClearsValue={true}\r\n                                                            onChange={e => this.selectChange(e, 'type')}\r\n                                                            options={type}\r\n                                                        />\r\n                                                    </Col>\r\n                                                </Form.Group>\r\n\r\n                                                <Form.Group as={Row}>\r\n                                                    <Form.Label column sm=\"3\"\r\n                                                                className=\"text-sm-right text-left\">Model</Form.Label>\r\n                                                    <Col sm=\"9\" lg=\"6\">\r\n                                                        <Select\r\n                                                            value={selected_model.value?selected_model:'select...'}\r\n                                                            model=\"model\"\r\n                                                            name=\"name\"\r\n                                                            isClearable={true}\r\n                                                            escapeClearsValue={true}\r\n                                                            onChange={e => this.selectChange(e, 'model')}\r\n                                                            options={model}\r\n                                                        />\r\n                                                    </Col>\r\n                                                </Form.Group>\r\n                                            <div>\r\n                                                <Link className=\"label label-light-info label-inline more-info\"  href=\"#\" onClick={(e) => this.handleModalShow(e, 'aircraft')}>\r\n                                                    <i className=\"flaticon2-information\"></i> Didn't find basic info? Please click here to suggest.\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Aircraft & Engine Info</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">MSN</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"msn\"\r\n                                                        defaultValue={aircraft ? aircraft.msn : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                    <i className=\"field-note\">Leave it empty if upon request</i>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">YOM</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <ThemeProvider theme={defaultMaterialTheme}>\r\n                                                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                                            <DatePicker\r\n                                                                views={[\"year\"]}\r\n                                                                minDate={new Date('1980')}\r\n                                                                name=\"yom\"\r\n                                                                value={yom}\r\n                                                                onChange={e => this.handleChange(e, 'yom')}\r\n                                                            />\r\n                                                        </MuiPickersUtilsProvider>\r\n                                                    </ThemeProvider>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Configuration</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_configuration}\r\n                                                        model=\"current_configuration\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'configuration')}\r\n                                                        options={configuration}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n        {this.state.selected_configuration.value==3||this.state.selected_configuration.value==4||this.state.selected_configuration.value==6||this.state.selected_configuration.value==11?\r\n        <Form.Group as={Row}>\r\n            <Form.Label column sm=\"3\"\r\n            className=\"text-sm-right text-left\">Seating</Form.Label>\r\n                <Col sm=\"9\" lg=\"6\" className=\"d-flex\">\r\n            <Form.Control\r\n            required\r\n            type=\"text\"\r\n            placeholder=\"Y (Economy)\"\r\n            model=\"aircraft\"\r\n            className=\"mr-1\"\r\n            name=\"seating_first_class\"\r\n            defaultValue={aircraft ? aircraft.seating_first_class : ''}\r\n            onBlur={e => this.handleChange(e)}\r\n            />\r\n            </Col>\r\n            </Form.Group>\r\n        :this.state.selected_configuration.value==2 ? <Form.Group as={Row}>\r\n            <Form.Label column sm=\"3\"\r\n            className=\"text-sm-right text-left\">Seating</Form.Label>\r\n                <Col sm=\"9\" lg=\"6\" className=\"d-flex\">\r\n            <Form.Control\r\n            required\r\n            type=\"text\"\r\n            placeholder=\"Y (Economy)\"\r\n            model=\"aircraft\"\r\n            className=\"mr-1\"\r\n            name=\"seating_first_class\"\r\n            defaultValue={aircraft ? aircraft.seating_first_class : ''}\r\n            onBlur={e => this.handleChange(e)}\r\n            />\r\n\r\n            <Form.Control\r\n            required\r\n            type=\"text\"\r\n            placeholder=\"Y (Business)\"\r\n            model=\"aircraft\"\r\n            className=\"mr-1\"\r\n            name=\"seating_business\"\r\n            defaultValue={aircraft ? aircraft.seating_business : ''}\r\n            onBlur={e => this.handleChange(e)}\r\n            />\r\n\r\n            <Form.Control\r\n            required\r\n            type=\"text\"\r\n            placeholder=\"Y (First Class)\"\r\n            model=\"aircraft\"\r\n            className=\"mr-1\"\r\n            name=\"seating_economy\"\r\n            defaultValue={aircraft ? aircraft.seating_economy : ''}\r\n            onBlur={e => this.handleChange(e)}\r\n            />\r\n            </Col>\r\n            </Form.Group>:''}\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Status</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_status}\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"status\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'status')}\r\n                                                        options={AIRCRAFT_STATUSES}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"compliance\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Compliance</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_compliance.value?selected_compliance:'select...'}\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"compliance\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'compliance')}\r\n                                                        options={AIRCRAFT_COMPLIANCE}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'compliance', 'Compliance')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"tsn\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">TSN</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"number\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"tsn\"\r\n                                                        defaultValue={aircraft ? aircraft.tsn : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'tsn', 'TSN')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"csn\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">CSN</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"number\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"csn\"\r\n                                                        defaultValue={aircraft ? aircraft.csn : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'csn', 'CSN')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"mtow\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">MTOW\r\n                                                    Kg</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"number\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"mtow\"\r\n                                                        defaultValue={aircraft ? aircraft.mtow : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'mtow', 'MTOW Kg')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"mlgw\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">MLGW\r\n                                                    Kg</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"number\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"mlgw\"\r\n                                                        defaultValue={aircraft ? aircraft.mlgw : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'mlgw', 'MLGW Kg')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"last_c_check\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Last C\r\n                                                    Check</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <ThemeProvider theme={defaultMaterialTheme}>\r\n                                                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                                            <DatePicker\r\n                                                                required\r\n                                                                minDate={new Date('1990-01-01')}\r\n                                                                value={last_c_check ? last_c_check: null}\r\n                                                                format=\"dd/MM/yyyy\"\r\n                                                                onChange={e => this.handleChange(e, 'last_c_check')}\r\n                                                                animateYearScrolling\r\n                                                            />\r\n                                                        </MuiPickersUtilsProvider>\r\n                                                    </ThemeProvider>\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'last_c_check', 'Last C Check')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"registration_number\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Registration\r\n                                                    Number</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"registration_number\"\r\n                                                        defaultValue={aircraft ? aircraft.registration_number : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'registration_number', 'Registration Number')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsAircraft.includes(\"registration_country\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Registration\r\n                                                    Country</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_registration_country.value?selected_registration_country:'select...'}\r\n                                                        model=\"registration_country\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'registration_country')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'registration_country', 'Registration Country')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.aircraftExtraFields.length>0 &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                    <ThemeProvider theme={addMoreSelect}>\r\n                                                    <SelectCore\r\n                                                        native\r\n                                                        value=\"\"\r\n                                                        onChange={(e) => this.selectMoreFieldsAircraft(e, e.target.value)}\r\n                                                    >\r\n                                                        <option value=\"\" disabled>Add more details</option>\r\n                                                        {this.state.aircraftExtraFields.map(item => (\r\n                                                            <option value={item.value}\r\n                                                            data-label={item.label}>{item.label}</option>\r\n                                                        ))}\r\n                                                    </SelectCore>\r\n                                                    </ThemeProvider>\r\n                                                </FormControl>\r\n                                            </Col>\r\n                                            </Form.Group>}\r\n\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Divider variant=\"middle\"/>\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Form.Row>\r\n                                                <FormControlLabel\r\n                                                    control={\r\n                                                        <Checkbox\r\n                                                            onChange={(e) => this.handleAirFrameChange(e)}\r\n                                                            value=\"checkedB\"\r\n                                                            checked={airFrameOnly}\r\n                                                            color=\"primary\"\r\n                                                        />\r\n                                                    }\r\n                                                    label=\"Airframe only\"\r\n                                                />\r\n                                            </Form.Row>\r\n                                            {!this.state.airFrameOnly &&\r\n                                            <Form.Row>\r\n                                                <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                                                    <Form.Label>Engine Manufacturer</Form.Label>\r\n                                                    <Select\r\n                                                        value={selected_engine_manufacturer.value?selected_engine_manufacturer:'select...'}\r\n                                                        model=\"engine_manufacturer\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'engine_manufacturer')}\r\n                                                        options={engine_manufacturer}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                                <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                                                    <Form.Label>Engine Type</Form.Label>\r\n                                                    <Select\r\n                                                        value={selected_engine_type.value?selected_engine_type:'select...'}\r\n                                                        model=\"engine_type\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'engine_type')}\r\n                                                        options={engine_type}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                                <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                                                    <Form.Label>Engine Model</Form.Label>\r\n                                                    <Select\r\n                                                        value={selected_engine_model.value?selected_engine_model:'select...'}\r\n                                                        model=\"engine_model\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'engine_model')}\r\n                                                        options={engine_model}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                                <div>\r\n                                                    <Link className=\"label label-light-info label-inline more-info\" href=\"#\" onClick={(e) => this.handleModalShow(e, 'engine')}>\r\n                                                        <i className=\"flaticon2-information\"></i> Didn't find your engines? Please click here to suggest.\r\n                                                    </Link>\r\n                                                </div>\r\n                                            </Form.Row>\r\n                                            }\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Divider variant=\"middle\"/>\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Form.Row>\r\n                                                <Form.Group as={Col} xs=\"12\">\r\n                                                    <Form.Label>Additional details</Form.Label>\r\n                                                    <Form.Control as=\"textarea\" rows=\"5\"\r\n                                                                  required\r\n                                                                  type=\"text\"\r\n                                                                  placeholder=\"\"\r\n                                                                  model=\"aircraft\"\r\n                                                                  name=\"description\"\r\n                                                                  defaultValue={aircraft ? aircraft.description : ''}\r\n                                                                  onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                            </Form.Row>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Commercial Info</div>\r\n                                    <div className=\"kt-form__section kt-form__section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">\r\n                                                    Offered For\r\n                                                </Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_offer_for}\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"offer_for\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'offer_for')}\r\n                                                        options={AIRCRAFT_OFFER}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.aircraft['offer_for'] === 'Sale' &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Asking\r\n                                                    Price</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"price\"\r\n                                                        defaultValue={aircraft ? aircraft.price : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {(\r\n                                                this.state.aircraft['offer_for'] === 'Dry Lease' ||\r\n                                                this.state.aircraft['offer_for'] === 'Wet Lease' ||\r\n                                                this.state.aircraft['offer_for'] === 'Lease Purchase' ||\r\n                                                this.state.aircraft['offer_for'] === 'Exchange' ||\r\n                                                this.state.aircraft['offer_for'] === 'ACMI' ||\r\n                                                this.state.aircraft['offer_for'] === 'Charter'\r\n                                            )\r\n                                            &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">{this.state.aircraft['offer_for']} terms</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        as=\"textarea\" rows=\"5\"\r\n                                                        model=\"aircraft\"\r\n                                                        name=\"terms\"\r\n                                                        defaultValue={aircraft ? aircraft.terms : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Availablity</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <ThemeProvider theme={defaultMaterialTheme}>\r\n                                                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                                            <DatePicker\r\n                                                                required\r\n                                                                value={availability}\r\n                                                                format=\"dd/MM/yyyy\"\r\n                                                                onChange={e => this.handleChange(e, 'availability')}\r\n                                                                animateYearScrolling\r\n                                                            />\r\n                                                        </MuiPickersUtilsProvider>\r\n                                                    </ThemeProvider>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Current\r\n                                                    Location</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_current_location.value?selected_current_location:'select...'}\r\n                                                        model=\"current_location\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'current_location')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Primary\r\n                                                    Contact</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_primary_contact.value?selected_primary_contact:'select...'}\r\n                                                        model=\"primary_contact\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'primary_contact')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, contacts, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.selectedExtraFields.includes(\"owner\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Owner</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_owner.value?selected_owner:'select...'}\r\n                                                        model=\"owner\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'owner')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'owner', 'Owner')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"seller\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Seller</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_seller.value?selected_seller:'select...'}\r\n                                                        model=\"seller\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'seller')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'seller', 'Seller')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"manager\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Manager</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_manager.value?selected_manager:'select...'}\r\n                                                        model=\"manager\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'manager')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'manager', 'Manager')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"previous_operator\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Previous\r\n                                                    Operator</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_previous_operator.value?selected_previous_operator:'select...'}\r\n                                                        model=\"previous_operator\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'previous_operator', 'Previous Operator')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'previous_operator')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"current_operator\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Current\r\n                                                    Operator</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_current_operator.value?selected_current_operator:'select...'}\r\n                                                        model=\"current_operator\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'current_operator')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'current_operator', 'Current Operator')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.commercialExtraFields.length>0 &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                    <ThemeProvider theme={addMoreSelect}>\r\n                                                    <SelectCore\r\n                                                        native\r\n                                                        value=\"\"\r\n                                                        onChange={(e) => this.selectMoreFields(e, e.target.value)}\r\n                                                    >\r\n                                                        <option value=\"\" disabled>Add more details</option>\r\n                                                        {this.state.commercialExtraFields.map(item => (\r\n                                                            <option value={item.value}\r\n                                                            data-label={item.label}>{item.label}</option>\r\n                                                        ))}\r\n                                                    </SelectCore>\r\n                                                    </ThemeProvider>\r\n                                                </FormControl>\r\n                                            </Col>\r\n                                            </Form.Group>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-form__section kt-form__section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n                                            <div className=\"kt-heading kt-heading--md\">Select or Upload Photos</div>\r\n                                            <div className=\"row mb-5\">\r\n                                                <div className=\"col-xs-12 col-md-12\">\r\n                                                    {/*<Button onClick={() => this.medialibraryAsset.current.galleryModalOpener()}\r\n                                                            className=\"btn btn-primary\">\r\n                                                        <i className=\"fa fa-upload\"></i> Select or Upload Images\r\n                                                    </Button>*/}\r\n                                                    <MediaLibrary modal={false} ref={this.medialibraryAsset}\r\n                                                                  user={selected_user.value}\r\n                                                                  mediable_type= \"Aircraft\"\r\n                                                                  mediable_id = {aircraft.id}\r\n                                                                  showLibrary={selected_user.value === \"\" ? false : true}\r\n                                                                  selected_images={this.state.selected_images}\r\n                                                                  insertImages={(images) => this.setState({selected_images: images})}/>\r\n                                                    <Form.Row>\r\n                                                        {this.state.selected_images && this.state.selected_images.length > 0 &&\r\n                                                        <FormGroup as={Col} xs=\"12\">\r\n                                                            <div className=\"kt-heading kt-heading--md\">Selected Images</div>\r\n                                                        </FormGroup>\r\n                                                        }\r\n                                                        <Form.Group as={Col} xs=\"12\">\r\n                                                            <Gallery enableLightbox={false} id=\"readonlygallery\" rowHeight={150}\r\n                                                                     margin={5}\r\n                                                                     enableImageSelection={true}\r\n                                                                     onSelectImage={(e) => this.removeImage(e)}\r\n                                                                     images={this.state.selected_images}\r\n                                                                     onClickThumbnail={(e) => this.onClickThumbnail(e)}/>\r\n                                                        </Form.Group>\r\n                                                    </Form.Row>\r\n                                                </div>\r\n                                            </div>\r\n                                            <Divider />\r\n                                            <div className=\"kt-heading kt-heading--md\">Upload Files</div>\r\n                                            <div className=\"row mt-5\">\r\n                                                <div className=\"col-xs-12 col-md-6\">\r\n                                                    <Dropzone\r\n                                                        inputContent=\"Drop or click to select a file.\"\r\n                                                        accept=\".pdf\"\r\n                                                        styles={{dropzone: {minHeight: 50}, inputLabel: {fontSize:'14px', margin: '0px'}}}\r\n                                                        getUploadParams={(data) => this.getUploadParams(data)}\r\n                                                        onChangeStatus={(data, status) => this.onAttachmentUpload(data, status)}\r\n                                                        maxSizeBytes={(1024 * 1024 * 2)}\r\n                                                        initialFiles={initialFiles}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-form__actions\">\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u  mr-2\">\r\n                                        <Link to={\"/\" + USER_URL + \"/aircraft/asset\"}>\r\n                                            <i className=\"la la-long-arrow-left\"></i>\r\n                                            Cancel\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-prev\">\r\n                                        Previous\r\n                                    </div>\r\n                                    <Button type=\"submit\" onClick={(e) => this.setState({action: 'save'})}\r\n                                            className=\"btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                            data-ktwizard-type=\"action-submit\">\r\n                                        Submit\r\n                                    </Button>\r\n                                    <div\r\n                                        className=\"btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-next\">\r\n                                        Next Step\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </Form>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Modal show={this.state.modalDisplay} onHide={this.handleModalClose} centered>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Suggest {this.state.modalType.charAt(0).toUpperCase() + this.state.modalType.slice(1)} Information</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.state.modalType === 'aircraft' &&\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"3\">\r\n                                Category\r\n                            </Form.Label>\r\n                            <Col sm=\"9\">\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"modal-category-id\"\r\n                                    onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        }\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"3\">\r\n                                Manufacture\r\n                            </Form.Label>\r\n                            <Col sm=\"9\">\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"modal-manufacture-id\"\r\n                                    onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"3\">\r\n                                Type\r\n                            </Form.Label>\r\n                            <Col sm=\"9\">\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"modal-type-id\"\r\n                                    onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"3\">\r\n                                Model\r\n                            </Form.Label>\r\n                            <Col sm=\"9\">\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"modal-model-id\"\r\n                                    onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                />\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.handleModalClose}>\r\n                            Cancel\r\n                        </Button>\r\n                        <Button variant=\"primary\" onClick={this.confirm}>\r\n                            Submit\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nclass EditPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let type = props.match.params.type;\r\n        this.state = {errors: {}, showError: false};\r\n        this.state.type = type;\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                const fieldName = key.charAt(0).toUpperCase() + key.slice(1);\r\n                                return <li key={index + i}><span\r\n                                    style={{'text-transform': 'capitalize'}}>{fieldName.replace(/_/g, \" \")}</span> : {error}\r\n                                </li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n                <Edit data={this.props} sendError={this.sendError}/>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(EditPage);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"Stockholm-icons / Shopping / Sort1\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Stockholm-icons-/-Shopping-/-Sort1\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"rect\", {\n  id: \"bound\",\n  x: 0,\n  y: 0,\n  width: 24,\n  height: 24\n}), React.createElement(\"rect\", {\n  id: \"Rectangle-8\",\n  fill: \"#000000\",\n  x: 4,\n  y: 5,\n  width: 16,\n  height: 3,\n  rx: 1.5\n}), React.createElement(\"path\", {\n  d: \"M7.5,11 L16.5,11 C17.3284271,11 18,11.6715729 18,12.5 C18,13.3284271 17.3284271,14 16.5,14 L7.5,14 C6.67157288,14 6,13.3284271 6,12.5 C6,11.6715729 6.67157288,11 7.5,11 Z M10.5,17 L13.5,17 C14.3284271,17 15,17.6715729 15,18.5 C15,19.3284271 14.3284271,20 13.5,20 L10.5,20 C9.67157288,20 9,19.3284271 9,18.5 C9,17.6715729 9.67157288,17 10.5,17 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\",\n  opacity: 0.3\n}));\n\nvar SvgSortNum1 = function SvgSortNum1(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSortNum1, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/SortNum1.2e2495e0.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport {Button, Dropdown, Modal, Form} from \"react-bootstrap\";\r\nimport { list, USER_URL } from \"../../crud/api\";\r\n\r\nexport default class PlanModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      plan:null,\r\n      countData:0\r\n    }\r\n\r\n    this.getPlanDetails();\r\n  }\r\n\r\n  getPlanDetails() {\r\n    list('users/plan', {type:'Ab'+this.props.type.charAt(0).toUpperCase() + this.props.type.slice(1)+'s'}).then(function (response) {\r\n      this.setState({plan:response.data.plan, countData:response.data.countData});\r\n    }.bind(this));\r\n  }\r\n\r\n  handleSelectPlan(event, featured) {\r\n    if(!this.state.plan && featured !== 0)\r\n      this.props.data.history.push('/'+USER_URL+'/promote');\r\n    else {\r\n      let extra_data = this.props.data.extra_data;\r\n      extra_data['is_featured_'+this.props.type] = featured;\r\n      this.props.data.setExtraData(extra_data);\r\n      this.props.data.history.push('/'+USER_URL+'/'+this.props.type+'/asset/create');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {countData, plan} = this.state;\r\n    return (\r\n      <Modal\r\n          size=\"lg\"\r\n          show={this.props.modal_display}\r\n          onHide={(e) => this.props.setPlanModalDisplay(false)}\r\n          aria-labelledby=\"example-modal-sizes-title-lg\"\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title className=\"text-center\" id=\"example-modal-sizes-title-lg\" style={{width:'100%'}}>\r\n              Select {this.props.type} promote mode\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"kt-pricing-3\" style={{padding:0}}>\r\n              <div className=\"kt-pricing-3__items\">\r\n                <div className=\"row row-no-padding\">\r\n                  <div className=\"kt-pricing-3__item col-lg-6\" style={{boxShadow:'0px 0px 1px 1px #ececec'}}>\r\n                    <div className=\"kt-pricing-3__wrapper\" style={{padding:'25px 10px'}}>\r\n                      <h3 className=\"kt-pricing-3__title\">Basic</h3>\r\n                      <span className=\"kt-pricing-3__price kt-pricing-3__price--padding\" style={{marginTop:'20px'}}>Free</span><br/>\r\n                      <span className=\"kt-pricing-3__description\">\r\n                        <span></span>\r\n                      </span>\r\n                      <div className=\"kt-pricing-3__btn\">\r\n                        <button onClick={(e) => this.handleSelectPlan(e, 0)} type=\"button\" className=\"btn  btn-brand btn-wide btn-upper btn-bold\">Select</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"kt-pricing-3__item col-lg-6\" style={{boxShadow:'0px 0px 1px 1px #ececec'}}>\r\n                    <div className=\"kt-pricing-3__wrapper\" style={{padding:'25px 10px'}}>\r\n                      <h3 className=\"kt-pricing-3__title\">Premium</h3>\r\n                      <span className=\"kt-pricing-3__price\" style={{marginTop:'20px'}}>\r\n                        <span className=\"kt-pricing-3__price--padding\">Paid</span><br/>\r\n                        <span className=\"kt-pricing-3__text\">{plan ? plan[this.props.type+'_value'] - countData:0} of {plan ? plan[this.props.type+'_value']:0} credit available</span><br/>\r\n                        <span className=\"kt-pricing-3__text\">$ Maximize Leads</span><br/>\r\n                        <span className=\"kt-pricing-3__text\">Reach more people</span><br/>\r\n                        <span className=\"kt-pricing-3__text\">Premium Position on all pages</span><br/>\r\n                        <span className=\"kt-pricing-3__text\">Included in Global Newsletter</span><br/>\r\n                      </span>\r\n                      <div className=\"kt-pricing-3__btn\">\r\n                        <button onClick={(e) => this.handleSelectPlan(e, 1)} type=\"button\" className=\"btn btn-brand btn-wide btn-upper btn-bold\">{plan ? 'Select':'Go Plan'}</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Modal.Body>\r\n        </Modal>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport {\r\n    IconButton, Paper, FormControlLabel, Switch, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent\r\n} from '@material-ui/core';\r\nimport { list, post, patch, del, STATUSES, USER_URL, API_URL, LOCAL_STORAGE, getLocalStorageItem, setLocalStorageItem} from \"../../../crud/api\";\r\nimport {Button, Dropdown, Modal, Form} from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.css\";\r\nimport \"datatables.net-responsive-bs4/css/responsive.bootstrap4.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport {ReactComponent as SortNum1Icon} from \"../../../../_metronic/layout/assets/layout-svg-icons/SortNum1.svg\";\r\nimport Select from 'react-select';\r\nimport { setPageNum, getPageNum } from \"../../../helpers/listing\";\r\nimport PlanModal from \"../PlanModal\";\r\nimport {CSVLink} from \"react-csv\";\r\n\r\nconst QuickActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <button\r\n        ref={ref}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          onClick(e);\r\n        }}\r\n        className=\"btn kt-header__btn-primary\"\r\n    >\r\n      Actions\r\n      <SortNum1Icon className=\"kt-svg-icon kt-svg-icon--sm\" />\r\n    </button>\r\n));\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(0),\r\n    paddingRight: theme.spacing(0),\r\n    display: 'block',\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  spacer: {\r\n    flex: '1 1 100%',\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    flex: '0 0 auto',\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = props => {\r\n  const classes = useToolbarStyles();\r\n  const { exportSpinner, setExpSpin, csvData, setCsvData, setPlanModalDisplay, numSelected, type, selected, setSelected, setSelectedMany, setRowsData, rows, setTemp } = props;\r\n\r\n\r\n  function handleDelAll(event) {\r\n    if(selected.length) {\r\n      let data = {ids:selected}\r\n      del('aircrafts/'+selected[0]+'/', data).then(function (response) {\r\n        // here removing rows from dt-table that are deleted from database\r\n        for(let i in rows){\r\n          if(selected.indexOf(rows[i].id) > -1) {\r\n            delete rows[i];\r\n          }\r\n        }\r\n        setRowsData(rows);\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n        setSelectedMany(false);\r\n\r\n        // no use as such - just to trigger state udpate :(\r\n        const newArr = [];\r\n        newArr.push(1);\r\n        setTemp(newArr);\r\n\r\n        updateTable();\r\n      })\r\n    }\r\n  }\r\n\r\n  function handlePlanModal(event) {\r\n    setPlanModalDisplay(true);\r\n  }\r\n\r\n  function fetchCSVData() {\r\n        setExpSpin('');\r\n        list('aircrafts', {records: 'all'}).then(response => {\r\n            let related_models = ['type', 'model', 'manufacturer', 'category', 'owner', 'registration_country',\r\n                'current_operator', 'previous_operator', 'manager', 'seller',\r\n                'current_location', 'configuration', 'engine_type', 'engine_model', 'engine_manufacturer','user']\r\n\r\n\r\n            let system_fields = ['uid', 'promote_status', 'views', 'likes','isactivestatus','status_reason', 'leads', 'created_at', 'updated_at', 'deleted_at','is_active_by_user', 'is_featured', 'is_published'];\r\n\r\n            setExpSpin('d-none');\r\n            let responseData = response.data.map((v, i) => {\r\n\r\n                system_fields.map(field => delete v[field])\r\n                related_models.map((model) => {\r\n                    v[model] = v[model] ? v[model].name : v[model];\r\n                })\r\n                v.primary_contact = v.primary_contact ? v.primary_contact.first_name + ' ' + v.primary_contact.last_name : v.primary_contact\r\n                return v;\r\n            })\r\n            setCsvData(responseData);\r\n            document.getElementById('aircraft-csv-btn').click();\r\n        })\r\n   }\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n      <div className=\"kt-portlet__head kt-portlet__head--lg\">\r\n        <div className=\"kt-portlet__head-label\">\r\n          <span className=\"kt-portlet__head-icon\">\r\n            <i className=\"kt-font-brand flaticon2-layers-2\" />\r\n          </span>\r\n          {numSelected > 0 ? (\r\n            <Typography color=\"inherit\" variant=\"subtitle1\">\r\n              {numSelected} selected\r\n            </Typography>\r\n          ) : (\r\n            <h3 className=\"kt-portlet__head-title\">Aircraft Assets</h3>\r\n          )}\r\n        </div>\r\n        <div className=\"kt-portlet__head-toolbar\">\r\n          <div className=\"kt-portlet__head-wrapper\">\r\n            <div className=\"kt-portlet__head-actions\">\r\n              {numSelected > 0 ? (\r\n                <Tooltip title=\"Delete\">\r\n                  <IconButton\r\n                    onClick={(e) => handleDelAll(e)}\r\n                    aria-label=\"Delete\"\r\n                  >\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              ) : (\r\n                <div className=\"btn-group\">\r\n                  <a\r\n                    onClick={updateTable}\r\n                    className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record mr-2\"\r\n                  >\r\n                    <i className=\"la la-refresh\" aria-hidden=\"true\"></i>\r\n                    Refresh\r\n                  </a>\r\n                  <Link\r\n                    to={\"/\" + USER_URL + \"/aircraft/asset/create\"}\r\n                    className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record\"\r\n                  >\r\n                    <i className=\"la la-plus\"></i>\r\n                    Add Aircraft\r\n                  </Link>\r\n                  <Dropdown className=\"dropdown-inline\" drop=\"down\" alignRight>\r\n                    <Dropdown.Toggle\r\n                      as={QuickActionsDropdownToggle}\r\n                      id=\"dropdown-toggle-quick-actions-subheader\"\r\n                    />\r\n\r\n                    <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-md dropdown-menu-right\">\r\n                      <ul className=\"kt-nav\">\r\n                        <li className=\"kt-nav__item\">\r\n                          <a onClick={fetchCSVData} className=\"kt-nav__link\">\r\n                            <i className=\"kt-nav__link-icon la la-upload\" />\r\n                            <span className=\"kt-nav__link-text\">Export</span>\r\n                            <div\r\n                              className={\"spinner-grow \" + exportSpinner}\r\n                            ></div>\r\n                          </a>\r\n                          <CSVLink\r\n                            data={csvData}\r\n                            filename=\"aircrafts.csv\"\r\n                            className=\"d-none\"\r\n                            id=\"aircraft-csv-btn\"\r\n                            target=\"_blank\"\r\n                          />\r\n                        </li>\r\n                      </ul>\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  selected: PropTypes.array.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  close: {\r\n    padding: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nconst $ = require('jquery');\r\n$.DataTable = require('datatables.net-responsive-bs4');\r\n\r\nfunction updateTable() {\r\n    const table = $('#aircraft').DataTable();\r\n    table.ajax.reload(null, false);\r\n}\r\n\r\nfunction parseRowData(rowData) {\r\n    if( Array.isArray(rowData) && rowData.length > 0){\r\n    rowData.forEach(function(item, index){\r\n      rowData[index]['actions'] = rowData[index]['checkbox'] = '';\r\n    });\r\n  }\r\n  return rowData;\r\n}\r\n\r\nconst ActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <a\r\n      ref={ref}\r\n      onClick={e => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n      id=\"kt_dashboard_daterangepicker\"\r\n      className=\"btn btn-sm btn-clean btn-icon btn-icon-md\"\r\n    >\r\n      {\" \"}\r\n      <i className=\"la la-ellipsis-h\"></i>\r\n    </a>\r\n));\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [rows, setRowsData] = React.useState([]);\r\n  const [count, setCount] = React.useState(0); // set counter for onload functions\r\n  const [show, setModalDisplay] = React.useState(false); // set modal to show/hide\r\n  const [userIndex, setUser] = React.useState(0); //selected user to perform actions\r\n  const [action, setAction] = React.useState({}); // selected action\r\n  const [temp, setTemp] = React.useState([]); // selected action\r\n  const [isSelectedMany, setSelectedMany] = React.useState(false);\r\n  const [open, setOpen] = React.useState(false); // show/hide Snackbar\r\n  const [statusFilter, setStatuFilter] = React.useState({label:'All Assets', value:''}); // show/hide Snackbar\r\n  const [message, setMessage] = React.useState('Changes applied successfully!'); // set Message\r\n  const [modal_display, setPlanModalDisplay] = React.useState(false);\r\n  const [messageType, setMessageType] = React.useState('success');\r\n  const [showSpinner, setshowSpinner] = React.useState(false); // show/hide spinner\r\n  const [csvData, setCsvData] = React.useState([]);\r\n  const [exportSpinner, setExpSpin] = React.useState('d-none');\r\n  const [credits, setCredit] = React.useState(getLocalStorageItem('credits'));\r\n\r\n  const [table, setTable] = React.useState(false); // selected action\r\n  let history = useHistory();\r\n  let type = props.match.params.type;\r\n  let _statuses = [{value:'', label:'All Assets'}]\r\n  STATUSES.map((val, i) => { _statuses.push(val) })\r\n\r\n\r\n  React.useEffect(() => {\r\n      if($.fn.dataTable.isDataTable( '#aircraft' )) {\r\n          let table = $('#aircraft').DataTable();\r\n          table.destroy(true);\r\n          setTable(true);\r\n          setRowsData([]);\r\n        }\r\n      return () => {\r\n          setRowsData([]);\r\n          let dtable = $('#aircraft').DataTable();\r\n          dtable.destroy(true);\r\n          setTable(true);\r\n      }\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        if (table && $.fn.dataTable.isDataTable( '#aircraft' ) ) {\r\n            if(JSON.stringify(rows) !== JSON.stringify(window.prevRows)){\r\n                window.prevRows = rows;\r\n            }\r\n        } else {\r\n            setTable(true);\r\n            loadDatatable();\r\n        }\r\n    }, [rows]);\r\n\r\n\r\n  function loadDatatable() {\r\n    let url = API_URL+'aircrafts?format=datatables';\r\n    let columnDefs = [\r\n      { \"bVisible\": false, \"aTargets\": [1] },\r\n      {\r\n        targets: 0,\r\n        width: '30px',\r\n        orderable: false,\r\n        searchable:false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            //console.log('rowData ID: ', rowData.id )\r\n            //console.log('selected: ', selected )\r\n          ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(rowData.id)}\r\n          onChange={event => handleClick(event, rowData.id, td, row)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${row}` }}\r\n          />\r\n          , td\r\n          );\r\n        },\r\n      },\r\n      {\r\n        targets: 2,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            let aircraftName = cellData.toLowerCase();\r\n            if(aircraftName.includes('-yom-')){\r\n                aircraftName = aircraftName.split('-yom-')[0].replace(/-/g,' ')\r\n            }else{\r\n                aircraftName = aircraftName.replace(/-/g,' ')\r\n            }\r\n          ReactDOM.render(\r\n          <a style={{textTransform: 'capitalize'}} href={\"/aircraft/\"+rowData.id+\"-\"+aircraftName} target=\"_blank\">\r\n          {aircraftName}\r\n          </a>\r\n              , td\r\n          );\r\n        }\r\n      },\r\n      {\r\n        targets: 4,\r\n        orderable: false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            ReactDOM.render(\r\n            <span onClick={(e) => handleModalShow(e, row, 'is_featured')} className={cellData === 1 ? 'kt-switch kt-switch--sm kt-switch--success':'kt-switch kt-switch--sm kt-switch--danger'}>\r\n            <label>\r\n            <input\r\n            type=\"checkbox\" checked={cellData === 1 ? 'defaultChecked':''}\r\n            name=\"quick_panel_notifications_1\"\r\n                />\r\n                <span />\r\n                </label>\r\n                </span>, td\r\n            );\r\n        }\r\n      },\r\n      {\r\n        targets: 5,\r\n        title: 'Live',\r\n        orderable: false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            ReactDOM.render(\r\n            <span onClick={(e) => handleModalShow(e, row, 'status')} className={cellData === 1 ? 'kt-switch kt-switch--sm kt-switch--success':'kt-switch kt-switch--sm kt-switch--danger'}>\r\n            <label>\r\n            <input\r\n            type=\"checkbox\" checked={cellData === 1 ? 'defaultChecked':''}\r\n            name=\"quick_panel_notifications_1\"\r\n                />\r\n                <span />\r\n                </label>\r\n                </span>, td\r\n            );\r\n        }\r\n      },\r\n        {\r\n        targets: 8,\r\n        searchable:false,\r\n      },\r\n        {\r\n            targets: 9,\r\n            title: 'Actions',\r\n            orderable: false,\r\n            searchable:false,\r\n            \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                ReactDOM.render(\r\n                <Dropdown className=\"kt-header__topbar-item\" drop=\"down\" alignLeft>\r\n                <Dropdown.Toggle as={ActionsDropdownToggle} />\r\n                    <Dropdown.Menu  className=\"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround\">\r\n                    <Dropdown.Item onClick={() => history.push(\"/\"+USER_URL+\"/aircraft/asset/\" + rowData.id) }>\r\n                                        <i className=\"flaticon-eye\"></i> Views Details\r\n                                    </Dropdown.Item>\r\n                    <Dropdown.Item onClick={() => history.push(\"/\"+USER_URL+\"/aircraft/asset/\"+rowData.id+\"/edit\") }><i className=\"flaticon2-edit\"></i> Edit Details</Dropdown.Item>\r\n                <Dropdown.Item onClick={(e) => handleModalShow(e, row, 'delete')}><i className=\"flaticon2-trash\"></i> Remove</Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                    </Dropdown>\r\n                    , td\r\n                );\r\n            }\r\n        }\r\n    ];\r\n    $('#aircraft').DataTable({\r\n      responsive: {\r\n        details: {\r\n          renderer: $.fn.dataTable.Responsive.renderer.listHiddenNodes()\r\n        }\r\n      },\r\n      serverSide:true,\r\n      displayStart : getPageNum('aircrafts', props),\r\n      ajax: {\r\n        url:url ,\r\n        method: \"GET\",\r\n        headers: {'Content-Type': 'application/json', 'Authorization': 'Token '+JSON.parse(localStorage.getItem(LOCAL_STORAGE)).authToken.replace(/['\"]+/g, '')},\r\n        \"dataFilter\": function(data) {\r\n          let json = JSON.parse(data);\r\n          let rowData = parseRowData(json.data);\r\n          setRowsData(rowData);\r\n          json.data = rowData;\r\n          return JSON.stringify(json); // return JSON string\r\n        },\r\n      },\r\n\r\n          // DOM Layout settings\r\n          dom: `<'row'<'col-sm-12'tr>>\r\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\r\n\r\n          lengthMenu: [5, 10, 25, 50],\r\n\r\n      pageLength: 10,\r\n      pagingType: 'numbers',\r\n      recordsTotal: rows.recordsTotal, // The number in my test data set\r\n      recordsFiltered: rows.recordsFiltered,\r\n\r\n      language: {\r\n        'lengthMenu': 'Display _MENU_',\r\n      },\r\n\r\n      // Order settings\r\n      order: [[5, 'desc']],\r\n      columnDefs:columnDefs ,\r\n    });\r\n    $('#aircraft').on( 'page.dt', function () {\r\n      setPageNum($('#aircraft'), 'aircrafts', props);\r\n  });\r\n  }\r\n\r\n  function handleRequestSort(event, property) {\r\n    const isDesc = orderBy === property && order === 'desc';\r\n    setOrder(isDesc ? 'asc' : 'desc');\r\n    setOrderBy(property);\r\n  }\r\n\r\n  function handleSelectAllClick(event) {\r\n\r\n    if (event.target.checked) {\r\n        const sel = selected;\r\n      const newSelecteds = rows.map(n => n.id);\r\n        newSelecteds.forEach(v => {\r\n         sel.push(v)\r\n       })\r\n      setSelected(sel);\r\n    }else{\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n    }\r\n    if(isSelectedMany)\r\n      setSelectedMany(false);\r\n    else\r\n      setSelectedMany(true);\r\n\r\n    updateTable();\r\n\r\n  }\r\n\r\n  function handleClick(event, id, td, idx) {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    const sel =selected;\r\n\r\n    if(selectedIndex === -1){\r\n        sel.push(id);\r\n    }else{\r\n        sel.splice(selectedIndex, 1);\r\n    }\r\n    setSelected(sel);\r\n    const newArr = [...temp];\r\n    newArr.push(1);\r\n    setTemp(newArr);\r\n    // updateTable();\r\n    const table = $('#aircraft').DataTable();\r\n    table.cell( td ).render(ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(id)}\r\n          onChange={event => handleClick(event, id, td, idx)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${idx}` }}\r\n          />\r\n          , td\r\n    ));\r\n    //table.cell(td).invalidate().render();\r\n  }\r\n\r\n  function handleChangePage(event, newPage) {\r\n    setPage(newPage);\r\n  }\r\n\r\n  function handleChangeRowsPerPage(event) {\r\n    setRowsPerPage(+event.target.value);\r\n  }\r\n\r\n  function handleChangeDense(event) {\r\n    setDense(event.target.checked);\r\n  }\r\n\r\n  function handleSearch(event) {\r\n    const table = $('#aircraft').DataTable();\r\n    table.search( event.target.value ).draw();\r\n  }\r\n\r\n  function handleModalClose(event) {\r\n    setModalDisplay(false);\r\n  }\r\n\r\n  function handleModalShow(event, index, act) {\r\n    setUser(index);\r\n    setAction(act)\r\n    setModalDisplay(true);\r\n  }\r\n\r\n  function changeStatus(event) {\r\n    let data = {isactivestatus: event.target.value };\r\n    patch('aircrafts/'+rows[userIndex].id+'/', data).then(function (response) {\r\n        rows[userIndex] = response.data;\r\n        setRowsData(rows);\r\n        setMessageType('success');\r\n        setMessage('Status successfully updated');\r\n    })\r\n  }\r\n\r\n  function confirm(event) {\r\n    if(action === 'status') {\r\n      var data = {'is_active_by_user': rows[userIndex].is_active_by_user === 1 ? 0:1};\r\n\r\n      patch('aircrafts/'+rows[userIndex].id+'/', data).then(function (response) {\r\n        rows[userIndex] = response.data;\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n        updateTable()\r\n        setOpen(true);\r\n        let statusType = response.data.is_active_by_user === 1 ? 'activated' : 'deactivated';\r\n        setMessageType(\r\n          response.data.is_active_by_user === 1 ? \"success\" : \"error\"\r\n        );\r\n        setMessage('Record successfully '+statusType);\r\n      })\r\n    } else if(action === 'is_featured') {\r\n      var data = {is_featured: rows[userIndex].is_featured === 1 ? 0 : 1}\r\n\r\n      post('aircrafts/'+rows[userIndex].id+'/promote/', data).then(function (response) {\r\n        rows[userIndex] = response.data;\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n        updateTable()\r\n        setOpen(true);\r\n        let new_credits = [], new_credit = {};\r\n        if(response.data.type == 'success') {\r\n          credits.map((credit, i) => {\r\n            new_credit = {};\r\n            Object.keys(credit).map(key => {\r\n              new_credit[key] = credit[key];\r\n\r\n              if(credit.name == 'Aircraft' && key == 'promoted') {\r\n                if(data.is_featured == 0)\r\n                  new_credit[key] -= 1;\r\n                else\r\n                  new_credit[key] += 1;\r\n              }\r\n            })\r\n\r\n            new_credits.push(new_credit);\r\n          })\r\n\r\n\r\n          setCredit(new_credits);\r\n        }\r\n\r\n        setMessageType(response.data.type);\r\n        setMessage(response.data.message);\r\n      })\r\n    } else if(action == 'delete') {\r\n      del('aircrafts/'+rows[userIndex].id+'/').then(function (response) {\r\n        rows.splice(userIndex,1);\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n        updateTable()\r\n        setOpen(true);\r\n        setMessage('Record successfully deleted');\r\n      })\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setLocalStorageItem('credits', credits);\r\n}, [credits]);\r\n\r\n  const handleCloseSnackbar = (event, reason) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isSelected = id => selected.indexOf(id) !== -1;\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.tableWrapper}>\r\n        <div className=\"kt-portlet kt-portlet--mobile\">\r\n            <EnhancedTableToolbar setCsvData={setCsvData} csvData={csvData} exportSpinner={exportSpinner} setExpSpin={setExpSpin} setTemp={setTemp} setRowsData={setRowsData} rows={rows} setSelectedMany={setSelectedMany} setSelected={setSelected} setPlanModalDisplay={setPlanModalDisplay} selected={selected} numSelected={selected.length} type={type} />\r\n          <div className=\"kt-portlet__body\">\r\n\r\n            <div className=\"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-xl-12 order-2 order-xl-1\">\r\n                  <div className=\"row align-items-center\">\r\n                    <div className=\"col-md-4 kt-margin-b-20-tablet-and-mobile col-xs-12\">\r\n                      <div className=\"kt-input-icon kt-input-icon--left\">\r\n                        <input onKeyUp={handleSearch}  type=\"text\" className=\"form-control\" placeholder=\"Search...\" id=\"generalSearch\" />\r\n                        <span className=\"kt-input-icon__icon kt-input-icon__icon--left\">\r\n                          <span><i className=\"la la-search\" /></span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n            <div className=\"kt-section\">\r\n                <div>\r\n                  <table className=\"table table-striped- table-bordered table-hover table-checkable\" id={\"aircraft\"}>\r\n                      <thead>\r\n                      <tr>\r\n                          <th data-data=\"checkbox\">\r\n                              <Checkbox\r\n                                checked={isSelectedMany}\r\n                                onChange = {handleSelectAllClick}\r\n                                inputProps={{\r\n                                  'aria-label': 'primary checkbox',\r\n                                }}\r\n                              />\r\n                          </th>\r\n                          <th data-data=\"id\">ID</th>\r\n                          <th data-data=\"title\">Aircraft</th>\r\n                          <th data-data=\"msn\">MSN</th>\r\n                          <th data-data=\"is_featured\">Promote</th>\r\n                          <th data-data=\"is_active_by_user\">Live</th>\r\n                          <th data-data=\"isactivestatus\">Status</th>\r\n                          <th data-data=\"views\">Views</th>\r\n                          <th data-data=\"leads\">Leads</th>\r\n                          <th data-data=\"actions\">Actions</th>\r\n                      </tr>\r\n                      </thead>\r\n                  </table>\r\n                </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </Paper>\r\n      <Modal show={show} onHide={handleModalClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Footer>\r\n          <Button variant=\"success\" onClick={confirm}>\r\n            Yes\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={handleModalClose}>\r\n            No\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <PlanModal type={'aircraft'} data={props} modal_display={modal_display} setPlanModalDisplay={setPlanModalDisplay} />\r\n      <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={open}\r\n          autoHideDuration={1600000}\r\n          onClose={handleCloseSnackbar}\r\n        >\r\n          <SnackbarContentWrapper\r\n            onClose={handleCloseSnackbar}\r\n            variant={messageType}\r\n            message={message}\r\n          />\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport clsx from \"clsx\";\r\nimport PropTypes from \"prop-types\";\r\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Delete as DeleteIcon,\r\n  Close as CloseIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  Error as ErrorIcon,\r\n  Info as InfoIcon,\r\n  Warning as WarningIcon,\r\n} from \"@material-ui/icons\";\r\nimport { amber, green } from \"@material-ui/core/colors\";\r\nimport {\r\n  IconButton,\r\n  Paper,\r\n  FormControlLabel,\r\n  Switch,\r\n  Snackbar,\r\n  Checkbox,\r\n  Toolbar,\r\n  Tooltip,\r\n  Typography,\r\n  SnackbarContent,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  list,\r\n  post,\r\n  patch,\r\n  del,\r\n  STATUSES,\r\n  USER_URL,\r\n  API_URL,\r\n  LOCAL_STORAGE,\r\n  getLocalStorageItem,\r\n  setLocalStorageItem,\r\n} from \"../../../crud/api\";\r\nimport { Button, Dropdown, Modal, Form } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.css\";\r\nimport \"datatables.net-responsive-bs4/css/responsive.bootstrap4.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport { ReactComponent as SortNum1Icon } from \"../../../../_metronic/layout/assets/layout-svg-icons/SortNum1.svg\";\r\nimport Select from \"react-select\";\r\nimport { setPageNum, getPageNum } from \"../../../helpers/listing\";\r\nimport PlanModal from \"../PlanModal\";\r\nimport { CSVLink } from \"react-csv\";\r\n\r\nconst QuickActionsDropdownToggle = React.forwardRef(\r\n  ({ children, onClick }, ref) => (\r\n    <button\r\n      ref={ref}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        onClick(e);\r\n      }}\r\n      className=\"btn kt-header__btn-primary\"\r\n    >\r\n      Actions\r\n      <SortNum1Icon className=\"kt-svg-icon kt-svg-icon--sm\" />\r\n    </button>\r\n  )\r\n);\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles((theme) => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton\r\n          key=\"close\"\r\n          aria-label=\"close\"\r\n          color=\"inherit\"\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf([\"error\", \"info\", \"success\", \"warning\"]).isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(0),\r\n    paddingRight: theme.spacing(0),\r\n    display: \"block\",\r\n  },\r\n  highlight:\r\n    theme.palette.type === \"light\"\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  spacer: {\r\n    flex: \"1 1 100%\",\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    flex: \"0 0 auto\",\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const classes = useToolbarStyles();\r\n  const {\r\n    exportSpinner,\r\n    setExpSpin,\r\n    csvData,\r\n    setCsvData,\r\n    setPlanModalDisplay,\r\n    numSelected,\r\n    type,\r\n    selected,\r\n    setSelected,\r\n    setSelectedMany,\r\n    setRowsData,\r\n    rows,\r\n    setTemp,\r\n  } = props;\r\n\r\n  function handleDelAll(event) {\r\n    if (selected.length) {\r\n      let data = { ids: selected };\r\n      del(\"apus/\" + selected[0] + \"/\", data).then(function(response) {\r\n        // here removing rows from dt-table that are deleted from database\r\n        for (let i in rows) {\r\n          if (selected.indexOf(rows[i].id) > -1) {\r\n            delete rows[i];\r\n          }\r\n        }\r\n        setRowsData(rows);\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n        setSelectedMany(false);\r\n\r\n        // no use as such - just to trigger state udpate :(\r\n        const newArr = [];\r\n        newArr.push(1);\r\n        setTemp(newArr);\r\n\r\n        updateTable(type);\r\n      });\r\n    }\r\n  }\r\n\r\n  function fetchCSVData() {\r\n    setExpSpin(\"\");\r\n    list(\"apus\", { records: \"all\" }).then((response) => {\r\n      let related_models = [\r\n        \"type\",\r\n        \"model\",\r\n        \"manufacturer\",\r\n        \"category\",\r\n        \"owner\",\r\n        \"seller\",\r\n        \"current_location\",\r\n        \"user\",\r\n      ];\r\n\r\n      let system_fields = [\r\n        \"uid\",\r\n        \"promote_status\",\r\n        \"views\",\r\n        \"likes\",\r\n        \"isactivestatus\",\r\n        \"leads\",\r\n        \"created_at\",\r\n        \"updated_at\",\r\n        \"deleted_at\",\r\n        \"is_active_by_user\",\r\n        \"is_featured\",\r\n        \"is_published\",\r\n      ];\r\n\r\n      setExpSpin(\"d-none\");\r\n      let responseData = response.data.map((v, i) => {\r\n        system_fields.map((field) => delete v[field]);\r\n\r\n        related_models.map((model) => {\r\n          v[model] = v[model] ? v[model].name : v[model];\r\n        });\r\n        v.primary_contact = v.primary_contact\r\n          ? v.primary_contact.first_name + \" \" + v.primary_contact.last_name\r\n          : v.primary_contact;\r\n        return v;\r\n      });\r\n      setCsvData(responseData);\r\n      document.getElementById(\"apu-csv-btn\").click();\r\n    });\r\n  }\r\n\r\n  function handlePlanModal(event) {\r\n    setPlanModalDisplay(true);\r\n  }\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n      <div className=\"kt-portlet__head kt-portlet__head--lg\">\r\n        <div className=\"kt-portlet__head-label\">\r\n          <span className=\"kt-portlet__head-icon\">\r\n            <i className=\"kt-font-brand flaticon2-layers-2\" />\r\n          </span>\r\n          {numSelected > 0 ? (\r\n            <Typography color=\"inherit\" variant=\"subtitle1\">\r\n              {numSelected} selected\r\n            </Typography>\r\n          ) : (\r\n            <h3 className=\"kt-portlet__head-title\">Apu Assets</h3>\r\n          )}\r\n        </div>\r\n        <div className=\"kt-portlet__head-toolbar\">\r\n          <div className=\"kt-portlet__head-wrapper\">\r\n            <div className=\"kt-portlet__head-actions\">\r\n              {numSelected > 0 ? (\r\n                <Tooltip title=\"Delete\">\r\n                  <IconButton\r\n                    onClick={(e) => handleDelAll(e)}\r\n                    aria-label=\"Delete\"\r\n                  >\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              ) : (\r\n                <div className=\"btn-group\">\r\n                  <a\r\n                    onClick={updateTable}\r\n                    className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record mr-2\"\r\n                  >\r\n                    <i className=\"la la-refresh\" aria-hidden=\"true\"></i>\r\n                    Refresh\r\n                  </a>\r\n                  <Link\r\n                    to={\"/\" + USER_URL + \"/apu/asset/create\"}\r\n                    className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record\"\r\n                  >\r\n                    <i className=\"la la-plus\"></i>\r\n                    Add Apu\r\n                  </Link>\r\n                  <Dropdown className=\"dropdown-inline\" drop=\"down\" alignRight>\r\n                    <Dropdown.Toggle\r\n                      as={QuickActionsDropdownToggle}\r\n                      id=\"dropdown-toggle-quick-actions-subheader\"\r\n                    />\r\n\r\n                    <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-md dropdown-menu-right\">\r\n                      <ul className=\"kt-nav\">\r\n                        <li className=\"kt-nav__item\">\r\n                          <a onClick={fetchCSVData} className=\"kt-nav__link\">\r\n                            <i className=\"kt-nav__link-icon la la-upload\" />\r\n                            <span className=\"kt-nav__link-text\">Export</span>\r\n                            <div\r\n                              className={\"spinner-grow \" + exportSpinner}\r\n                            ></div>\r\n                          </a>\r\n                          <CSVLink\r\n                            data={csvData}\r\n                            filename=\"apu.csv\"\r\n                            className=\"d-none\"\r\n                            id=\"apu-csv-btn\"\r\n                            target=\"_blank\"\r\n                          />\r\n                        </li>\r\n                      </ul>\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  selected: PropTypes.array.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  paper: {\r\n    width: \"100%\",\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: \"auto\",\r\n  },\r\n  close: {\r\n    padding: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nconst $ = require(\"jquery\");\r\n$.DataTable = require(\"datatables.net-responsive-bs4\");\r\n\r\nfunction updateTable(type) {\r\n  const table = $(\"#apu\").DataTable();\r\n  table.ajax.reload(null, false);\r\n}\r\n\r\nfunction parseRowData(rowData) {\r\n  if (Array.isArray(rowData) && rowData.length > 0) {\r\n    rowData.forEach(function(item, index) {\r\n      rowData[index][\"actions\"] = rowData[index][\"checkbox\"] = \"\";\r\n    });\r\n  }\r\n  return rowData;\r\n}\r\n\r\nconst ActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n  <a\r\n    ref={ref}\r\n    onClick={(e) => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n    id=\"kt_dashboard_daterangepicker\"\r\n    className=\"btn btn-sm btn-clean btn-icon btn-icon-md\"\r\n  >\r\n    {\" \"}\r\n    <i className=\"la la-ellipsis-h\"></i>\r\n  </a>\r\n));\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"calories\");\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [rows, setRowsData] = React.useState([]);\r\n  const [count, setCount] = React.useState(0); // set counter for onload functions\r\n  const [show, setModalDisplay] = React.useState(false); // set modal to show/hide\r\n  const [userIndex, setUser] = React.useState(0); //selected user to perform actions\r\n  const [action, setAction] = React.useState({}); // selected action\r\n  const [temp, setTemp] = React.useState([]); // selected action\r\n  const [isSelectedMany, setSelectedMany] = React.useState(false);\r\n  const [open, setOpen] = React.useState(false); // show/hide Snackbar\r\n  const [message, setMessage] = React.useState(\"Changes applied successfully!\"); // set Message\r\n  const [modal_display, setPlanModalDisplay] = React.useState(false);\r\n  const [messageType, setMessageType] = React.useState(\"success\");\r\n  const [table, setTable] = React.useState(false); // selected action\r\n  const [showSpinner, setshowSpinner] = React.useState(false); // show/hide spinner\r\n  const [csvData, setCsvData] = React.useState([]);\r\n  const [exportSpinner, setExpSpin] = React.useState(\"d-none\");\r\n  const [credits, setCredit] = React.useState(getLocalStorageItem(\"credits\"));\r\n\r\n  let history = useHistory();\r\n  let type = props.match.params.type;\r\n  let _statuses = [{ value: \"\", label: \"All Assets\" }];\r\n  STATUSES.map((val, i) => {\r\n    _statuses.push(val);\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if ($.fn.dataTable.isDataTable(\"#apu\")) {\r\n      let table = $(\"#apu\").DataTable();\r\n      table.destroy(true);\r\n      setTable(true);\r\n      setRowsData([]);\r\n    }\r\n    return () => {\r\n      setRowsData([]);\r\n      let dtable = $(\"#apu\").DataTable();\r\n      dtable.destroy(true);\r\n      setTable(true);\r\n    };\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (table && $.fn.dataTable.isDataTable(\"#apu\")) {\r\n      if (JSON.stringify(rows) !== JSON.stringify(window.prevRows)) {\r\n        window.prevRows = rows;\r\n      }\r\n    } else {\r\n      setTable(true);\r\n      loadDatatable();\r\n    }\r\n  }, [rows]);\r\n\r\n  function loadDatatable() {\r\n    let url = API_URL + \"apus?format=datatables\";\r\n    let columnDefs = [\r\n      { bVisible: false, aTargets: [1] },\r\n      {\r\n        targets: 0,\r\n        width: \"30px\",\r\n        orderable: false,\r\n        searchable: false,\r\n        createdCell: function(td, cellData, rowData, row, col) {\r\n          ReactDOM.render(\r\n            <Checkbox\r\n              checked={isSelected(rowData.id)}\r\n              onChange={(event) => handleClick(event, rowData.id, td, row)}\r\n              inputProps={{\r\n                \"aria-labelledby\": `enhanced-table-checkbox-${row}`,\r\n              }}\r\n            />,\r\n            td\r\n          );\r\n        },\r\n      },\r\n      {\r\n        targets: 2,\r\n        createdCell: function(td, cellData, rowData, row, col) {\r\n          let apuName = cellData.toLowerCase();\r\n          if (apuName.includes(\"-yom-\")) {\r\n            apuName = apuName.split(\"-yom-\")[0].replace(/-/g, \" \");\r\n          } else {\r\n            apuName = apuName.replace(/-/g, \" \");\r\n          }\r\n          ReactDOM.render(\r\n            <a\r\n              style={{ textTransform: \"capitalize\" }}\r\n              href={\"/apu/\" + rowData.id + \"-\" + apuName}\r\n              target=\"_blank\"\r\n            >\r\n              {apuName}\r\n            </a>,\r\n            td\r\n          );\r\n        },\r\n      },\r\n      {\r\n        targets: 4,\r\n        orderable: false,\r\n        createdCell: function(td, cellData, rowData, row, col) {\r\n          ReactDOM.render(\r\n            <span\r\n              onClick={(e) => handleModalShow(e, row, \"is_featured\")}\r\n              className={\r\n                cellData === 1\r\n                  ? \"kt-switch kt-switch--sm kt-switch--success\"\r\n                  : \"kt-switch kt-switch--sm kt-switch--danger\"\r\n              }\r\n            >\r\n              <label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={cellData === 1 ? \"defaultChecked\" : \"\"}\r\n                  name=\"quick_panel_notifications_1\"\r\n                />\r\n                <span />\r\n              </label>\r\n            </span>,\r\n            td\r\n          );\r\n        },\r\n      },\r\n      {\r\n        targets: 6,\r\n        title: \"Status\",\r\n        orderable: false,\r\n        createdCell: function(td, cellData, rowData, row, col) {\r\n          ReactDOM.render(\r\n            <span\r\n              onClick={(e) => handleModalShow(e, row, \"status\")}\r\n              className={\r\n                cellData === 1\r\n                  ? \"kt-switch kt-switch--sm kt-switch--success\"\r\n                  : \"kt-switch kt-switch--sm kt-switch--danger\"\r\n              }\r\n            >\r\n              <label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={cellData === 1 ? \"defaultChecked\" : \"\"}\r\n                  name=\"quick_panel_notifications_1\"\r\n                />\r\n                <span />\r\n              </label>\r\n            </span>,\r\n            td\r\n          );\r\n        },\r\n      },\r\n      {\r\n        targets: 8,\r\n        searchable: false,\r\n      },\r\n      {\r\n        targets: 9,\r\n        title: \"Actions\",\r\n        orderable: false,\r\n        searchable: false,\r\n        createdCell: function(td, cellData, rowData, row, col) {\r\n          ReactDOM.render(\r\n            <Dropdown className=\"kt-header__topbar-item\" drop=\"down\" alignLeft>\r\n              <Dropdown.Toggle as={ActionsDropdownToggle} />\r\n              <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround\">\r\n                <Dropdown.Item\r\n                  onClick={() =>\r\n                    history.push(\"/\" + USER_URL + \"/apu/asset/\" + rowData.id)\r\n                  }\r\n                >\r\n                  <i className=\"flaticon-eye\"></i> Views Details\r\n                </Dropdown.Item>\r\n                <Dropdown.Item\r\n                  onClick={() =>\r\n                    history.push(\r\n                      \"/\" + USER_URL + \"/apu/asset/\" + rowData.id + \"/edit\"\r\n                    )\r\n                  }\r\n                >\r\n                  <i className=\"flaticon2-edit\"></i> Edit Details\r\n                </Dropdown.Item>\r\n                <Dropdown.Item\r\n                  onClick={(e) => handleModalShow(e, row, \"delete\")}\r\n                >\r\n                  <i className=\"flaticon2-trash\"></i> Remove\r\n                </Dropdown.Item>\r\n              </Dropdown.Menu>\r\n            </Dropdown>,\r\n            td\r\n          );\r\n        },\r\n      },\r\n    ];\r\n    $(\"#apu\").DataTable({\r\n      responsive: {\r\n        details: {\r\n          renderer: $.fn.dataTable.Responsive.renderer.listHiddenNodes(),\r\n        },\r\n      },\r\n      serverSide: true,\r\n      displayStart: getPageNum(\"apus\", props),\r\n      ajax: {\r\n        url: url,\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization:\r\n            \"Token \" +\r\n            JSON.parse(localStorage.getItem(LOCAL_STORAGE)).authToken.replace(\r\n              /['\"]+/g,\r\n              \"\"\r\n            ),\r\n        },\r\n        dataFilter: function(data) {\r\n          let json = JSON.parse(data);\r\n          let rowData = parseRowData(json.data);\r\n          setRowsData(rowData);\r\n          json.data = rowData;\r\n          return JSON.stringify(json); // return JSON string\r\n        },\r\n      },\r\n\r\n      // DOM Layout settings\r\n      dom: `<'row'<'col-sm-12'tr>>\r\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\r\n\r\n      lengthMenu: [5, 10, 25, 50],\r\n\r\n      pageLength: 10,\r\n      pagingType: \"numbers\",\r\n      recordsTotal: rows.recordsTotal, // The number in my test data set\r\n      recordsFiltered: rows.recordsFiltered,\r\n\r\n      language: {\r\n        lengthMenu: \"Display _MENU_\",\r\n      },\r\n\r\n      // Order settings\r\n      order: [[4, \"desc\"]],\r\n      columnDefs: columnDefs,\r\n    });\r\n    $(\"#apu\").on(\"page.dt\", function() {\r\n      setPageNum($(\"#apu\"), \"apus\", props);\r\n    });\r\n  }\r\n\r\n  function handleRequestSort(event, property) {\r\n    const isDesc = orderBy === property && order === \"desc\";\r\n    setOrder(isDesc ? \"asc\" : \"desc\");\r\n    setOrderBy(property);\r\n  }\r\n\r\n  function handleSelectAllClick(event) {\r\n    if (event.target.checked) {\r\n      const sel = selected;\r\n      const newSelecteds = rows.map((n) => n.id);\r\n      newSelecteds.forEach((v) => {\r\n        sel.push(v);\r\n      });\r\n      setSelected(sel);\r\n    } else {\r\n      selected.length = 0;\r\n      setSelected(selected);\r\n    }\r\n    if (isSelectedMany) setSelectedMany(false);\r\n    else setSelectedMany(true);\r\n\r\n    updateTable(type);\r\n  }\r\n\r\n  function handleClick(event, id, td, idx) {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    const sel = selected;\r\n\r\n    if (selectedIndex === -1) {\r\n      sel.push(id);\r\n    } else {\r\n      sel.splice(selectedIndex, 1);\r\n    }\r\n    setSelected(sel);\r\n    const newArr = [...temp];\r\n    newArr.push(1);\r\n    setTemp(newArr);\r\n    // updateTable(type);\r\n    const table = $(\"#apu\").DataTable();\r\n    table\r\n      .cell(td)\r\n      .render(\r\n        ReactDOM.render(\r\n          <Checkbox\r\n            checked={isSelected(id)}\r\n            onChange={(event) => handleClick(event, id, td, idx)}\r\n            inputProps={{ \"aria-labelledby\": `enhanced-table-checkbox-${idx}` }}\r\n          />,\r\n          td\r\n        )\r\n      );\r\n  }\r\n\r\n  function handleChangePage(event, newPage) {\r\n    setPage(newPage);\r\n  }\r\n\r\n  function handleChangeRowsPerPage(event) {\r\n    setRowsPerPage(+event.target.value);\r\n  }\r\n\r\n  function handleChangeDense(event) {\r\n    setDense(event.target.checked);\r\n  }\r\n\r\n  function handleSearch(event) {\r\n    const table = $(\"#apu\").DataTable();\r\n    table.search(event.target.value).draw();\r\n  }\r\n\r\n  function handleModalClose(event) {\r\n    setModalDisplay(false);\r\n  }\r\n\r\n  function handleModalShow(event, index, act) {\r\n    setUser(index);\r\n    setAction(act);\r\n    setModalDisplay(true);\r\n  }\r\n\r\n  function confirm(event) {\r\n    if (action == \"status\") {\r\n      var data = {\r\n        is_active_by_user: rows[userIndex].is_active_by_user === 1 ? 0 : 1,\r\n      };\r\n      patch(\"apus/\" + rows[userIndex].id + \"/\", data).then(function(response) {\r\n        rows[userIndex] = response.data;\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n        updateTable();\r\n        setOpen(true);\r\n        const statusType =\r\n          response.data.is_active_by_user === 1 ? \"activated\" : \"deactivated\";\r\n        setMessageType(\r\n          response.data.is_active_by_user === 1 ? \"success\" : \"error\"\r\n        );\r\n        setMessage(\"Record successfully \" + statusType);\r\n      });\r\n    } else if (action === \"is_featured\") {\r\n      var data = { is_featured: rows[userIndex].is_featured === 1 ? 0 : 1 };\r\n\r\n      post(\"apus/\" + rows[userIndex].id + \"/promote/\", data).then(function(\r\n        response\r\n      ) {\r\n        rows[userIndex] = response.data;\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n        updateTable();\r\n\r\n        let new_credits = [],\r\n          new_credit = {};\r\n        if (response.data.type == \"success\") {\r\n          credits.map((credit, i) => {\r\n            new_credit = {};\r\n            Object.keys(credit).map((key) => {\r\n              new_credit[key] = credit[key];\r\n\r\n              if (credit.name == \"Apu\" && key == \"promoted\") {\r\n                if (data.is_featured == 0) new_credit[key] -= 1;\r\n                else new_credit[key] += 1;\r\n              }\r\n            });\r\n\r\n            new_credits.push(new_credit);\r\n          });\r\n\r\n          setCredit(new_credits);\r\n        }\r\n        setOpen(true);\r\n        setMessageType(response.data.type);\r\n        setMessage(response.data.message);\r\n      });\r\n    } else if (action == \"delete\") {\r\n      del(\"apus/\" + rows[userIndex].id + \"/\").then(function(response) {\r\n        rows.splice(userIndex, 1);\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n        updateTable();\r\n        setOpen(true);\r\n        setMessage(\"Record successfully deleted\");\r\n      });\r\n    }\r\n  }\r\n\r\n  const handleCloseSnackbar = (event, reason) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isSelected = (id) => selected.indexOf(id) !== -1;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.tableWrapper}>\r\n          <div className=\"kt-portlet kt-portlet--mobile\">\r\n            <EnhancedTableToolbar\r\n              exportSpinner={exportSpinner}\r\n              setExpSpin={setExpSpin}\r\n              csvData={csvData}\r\n              setCsvData={setCsvData}\r\n              setTemp={setTemp}\r\n              setRowsData={setRowsData}\r\n              rows={rows}\r\n              setSelectedMany={setSelectedMany}\r\n              setSelected={setSelected}\r\n              selected={selected}\r\n              numSelected={selected.length}\r\n              type={type}\r\n              setPlanModalDisplay={setPlanModalDisplay}\r\n            />\r\n            <div className=\"kt-portlet__body\">\r\n              <div className=\"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10\">\r\n                <div className=\"row align-items-center\">\r\n                  <div className=\"col-xl-12 order-2 order-xl-1\">\r\n                    <div className=\"row align-items-center\">\r\n                      <div className=\"col-md-4 kt-margin-b-20-tablet-and-mobile col-xs-12\">\r\n                        <div className=\"kt-input-icon kt-input-icon--left\">\r\n                          <input\r\n                            onKeyUp={handleSearch}\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Search...\"\r\n                            id=\"generalSearch\"\r\n                          />\r\n                          <span className=\"kt-input-icon__icon kt-input-icon__icon--left\">\r\n                            <span>\r\n                              <i className=\"la la-search\" />\r\n                            </span>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"kt-section\">\r\n                <div>\r\n                  <table\r\n                    className=\"table table-striped- table-bordered table-hover table-checkable\"\r\n                    id={\"apu\"}\r\n                  >\r\n                    <thead>\r\n                      <tr>\r\n                        <th data-data=\"checkbox\">\r\n                          <Checkbox\r\n                            checked={isSelectedMany}\r\n                            onChange={handleSelectAllClick}\r\n                            inputProps={{\r\n                              \"aria-label\": \"primary checkbox\",\r\n                            }}\r\n                          />\r\n                        </th>\r\n                        <th data-data=\"id\">ID</th>\r\n                        <th data-data=\"title\">Title</th>\r\n                        <th data-data=\"serial_number\">S.No</th>\r\n                        <th data-data=\"is_featured\">Promote Status</th>\r\n                        <th data-data=\"isactivestatus\">Publish Status</th>\r\n                        <th data-data=\"is_active_by_user\">Status</th>\r\n                        <th data-data=\"views\">Views</th>\r\n                        <th data-data=\"leads\">Leads</th>\r\n                        <th data-data=\"actions\">Actions</th>\r\n                      </tr>\r\n                    </thead>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Paper>\r\n      <Modal show={show} onHide={handleModalClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Footer>\r\n          <Button variant=\"success\" onClick={confirm}>\r\n            Yes\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={handleModalClose}>\r\n            No\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <PlanModal\r\n        type={\"apu\"}\r\n        data={props}\r\n        modal_display={modal_display}\r\n        setPlanModalDisplay={setPlanModalDisplay}\r\n      />\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        open={open}\r\n        autoHideDuration={1600000}\r\n        onClose={handleCloseSnackbar}\r\n      >\r\n        <SnackbarContentWrapper\r\n          onClose={handleCloseSnackbar}\r\n          variant={messageType}\r\n          message={message}\r\n        />\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Form, Col, Tab, Tabs, Row, Modal} from \"react-bootstrap\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {\r\n    list,\r\n    patch,\r\n    post,\r\n    getToken,\r\n    loadOptions,\r\n    MEDIA_URL,\r\n    API_URL,\r\n    ENGINE_STATUSES,\r\n    ENGINE_OFFER,\r\n    APU_COMMERCIAL_EXTRA_FIELDS, APU_EXTRA_FIELDS, USER_URL\r\n} from \"../../../crud/api\";\r\nimport Select from 'react-select';\r\nimport Gallery from 'react-grid-gallery';\r\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\r\nimport MediaLibrary from '../../../library/media'\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider, DatePicker} from \"@material-ui/pickers\";\r\nimport {createMuiTheme, Divider, FormControl, FormGroup, IconButton, Select as SelectCore} from \"@material-ui/core\";\r\nimport {ThemeProvider} from \"@material-ui/styles\";\r\nimport moment from \"moment\";\r\nimport 'react-dropzone-uploader/dist/styles.css';\r\nimport Dropzone from 'react-dropzone-uploader';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport KTWizard from \"../../../../_metronic/_assets/js/wizard\";\r\nimport AsyncPaginate from \"react-select-async-paginate\";\r\n\r\nconst defaultMaterialTheme = createMuiTheme({\r\n    props: {\r\n        MuiInput: {\r\n            disableUnderline: true,\r\n        },\r\n        MuiTextField: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n        },\r\n        MuiInputBase: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n            disableUnderline: true,\r\n            inputProps: {\r\n                style: {\r\n                    display: \"block\",\r\n                    height: \"calc(1.5em + 1.3rem + 2px)\",\r\n                    padding: \"0.65rem 1rem\",\r\n                    fontSize: \"1rem\",\r\n                    fontWeight: \"400\",\r\n                    lineHeight: \"1.5\",\r\n                    color: \"#495057\",\r\n                    backgroundColor: \"#fff\",\r\n                    backgroundClip: \"padding-box\",\r\n                    border: \"1px solid #e2e5ec\",\r\n                    borderRadius: \"4px\",\r\n                    transition: \"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n                    boxSizing: \"border-box\",\r\n                }\r\n            }\r\n        },\r\n    },\r\n});\r\n\r\nconst addMoreSelect = createMuiTheme({\r\n  overrides: {\r\n      MuiOutlinedInput:{\r\n          root: {\r\n            '&:hover': {\r\n              \"& $notchedOutline\":{\r\n                      borderColor: 'rgb(179, 179, 179)'\r\n                }\r\n            }\r\n          },\r\n          inputSelect: {\r\n              padding: \"13px\",\r\n              fontFamily: \"Poppins, Helvetica, sans-serif\",\r\n              color: \"#808080\"\r\n          }\r\n      }\r\n  },\r\n});\r\n\r\nclass Edit extends React.Component {\r\n\r\n    wizardRef = React.createRef();\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const {apu_id, type} = this.props.data.match.params\r\n        this.medialibraryAsset = React.createRef();\r\n\r\n        this.state = {\r\n            validated: false,\r\n            apu: {},\r\n            selectedFile: null,\r\n            category: [],\r\n            manufacturer: [],\r\n            countries: [],\r\n            type: [],\r\n            contacts: [],\r\n            model: [],\r\n            companies: [],\r\n            users: [],\r\n            selected_primary_contact: {\r\n                id:props.data.extra_data.user.contact.id,\r\n                label:props.data.extra_data.user.contact.first_name+' '+props.data.extra_data.user.contact.last_name,\r\n                value:true\r\n            },\r\n            selected_category: {value: ''},\r\n            selected_type: {value: ''},\r\n            selected_manufacturer: {value: ''},\r\n            selected_current_location: {value: ''},\r\n            selected_model: {value: ''},\r\n            selected_owner: {value: ''},\r\n            selected_seller: {value: ''},\r\n            selected_user: {value: this.props.data.extra_data.user ? this.props.data.extra_data.user.id : ''},\r\n            selected_status: {value: ''},\r\n            selected_offer_for: {value: ''},\r\n            selected_images: [],\r\n            attachments: [],\r\n            initialFiles: [],\r\n            modalDisplay: false,\r\n            modalType: '',\r\n            commercialExtraFields: APU_COMMERCIAL_EXTRA_FIELDS,\r\n            selectedExtraFields: [],\r\n            apuExtraFields: APU_EXTRA_FIELDS,\r\n            selectedExtraFieldsApu: [],\r\n            modelsLoaded:false\r\n        };\r\n        this.getApu(apu_id);\r\n    }\r\n\r\n    componentDidMount() {\r\n        new KTWizard(this.wizardRef.current);\r\n    }\r\n\r\n    getApu(apu_id) {\r\n        list('apus/' + apu_id + '/').then(\r\n            (response) => {\r\n                let availability = response.data.availability;\r\n                this.setState({apu: response.data, availability: availability})\r\n                // this.getDropdownsListing();\r\n                this.loadModels();\r\n\r\n                /*if (response.data.manufacturer.id != undefined && response.data.manufacturer.id != \"\")\r\n                    this.setDynamicDropdowns(response.data.manufacturer.id, 'manufacturer');\r\n\r\n                if (response.data.type.id != undefined && response.data.type.id != \"\")\r\n                    this.setDynamicDropdowns(response.data.type.id, 'type');*/\r\n\r\n                this.loadSelectedImages(response.data.media);\r\n                this.loadInitialFields();\r\n                this.renderExtraFields();\r\n            });\r\n    }\r\n\r\n    loadModels() {\r\n        let apu_data = this.state.apu;\r\n\r\n        // static dropdowns calculation here -\r\n\r\n        let static_dropdowns = { // when you have static dropdown like gender just put here\r\n            status: ENGINE_STATUSES,\r\n            offer_for: ENGINE_OFFER\r\n        }\r\n\r\n        let dropdown_keys = Object.keys(static_dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            for (let index in static_dropdowns[dropdown_keys[key]]) {\r\n                if (static_dropdowns[dropdown_keys[key]][index].value === apu_data[dropdown_keys[key]]) {\r\n                    this.setState({['selected_' + dropdown_keys[key]]: static_dropdowns[dropdown_keys[key]][index]});\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        let models = {\r\n            'AbUsers': {},\r\n            'AbCategories': {type: 'apu'},\r\n            'AbContacts': {},\r\n            'AbCountries': {},\r\n            'AbCompanies': {},\r\n        }\r\n\r\n        // lets do some mapping to avoid if else conditions\r\n        let state_endpoints = {\r\n            AbUsers: ['user'],\r\n            AbContacts: ['primary_contact'],\r\n            AbCategories: ['category'],\r\n            AbManufacturers: ['manufacturer'],\r\n            AbCountries: ['current_location'],\r\n            AbCompanies: ['owner', 'seller']\r\n        }\r\n\r\n        if (apu_data.category !== null && apu_data.category.id !== undefined) {\r\n            models['AbManufacturers'] = {type: 'apu', categories__id: apu_data.category.id}\r\n            state_endpoints['AbManufacturers'] = ['manufacturer']\r\n        }\r\n\r\n        if (apu_data.manufacturer != null && apu_data.manufacturer.id != undefined) {\r\n            models['AbTypes'] = {type: 'apu', manufacturer_id: apu_data.manufacturer.id}\r\n            state_endpoints['AbTypes'] = ['type']\r\n        }\r\n\r\n        if (apu_data.type != null && apu_data.type.id != undefined) {\r\n            models['AbModels'] = {type: 'apu', type_0: apu_data.type.id}\r\n            state_endpoints['AbModels'] = ['model']\r\n        }\r\n\r\n        post('abmodels', {models: models}).then(function (response) {\r\n            let newStates = {};\r\n            for (let opt in response.data) {\r\n\r\n                response.data[opt].map((row, i) => {\r\n                    if (opt === 'AbContacts' || opt === 'AbUsers')\r\n                        row.name = row.first_name + ' ' + row.last_name;\r\n                    if (opt === 'AbUsers')\r\n                        row.id = row.user_id;\r\n\r\n                    response.data[opt][i].label = row.name;\r\n                    response.data[opt][i].value = row.id;\r\n\r\n                    Object.keys(state_endpoints).map((key, i) => {\r\n                        state_endpoints[key].map((state, index) => {\r\n                            if (opt === key && apu_data[state] !== null && apu_data[state].id !== undefined && apu_data[state].id === row.id)\r\n                                newStates['selected_' + state] = row;\r\n                        })\r\n                    })\r\n\r\n                })\r\n            }\r\n            newStates['users'] = response.data.AbUsers;\r\n            newStates['category'] = response.data.AbCategories;\r\n            newStates['contacts'] = response.data.AbContacts;\r\n            newStates['manufacturer'] = response.data.AbManufacturers;\r\n            newStates['countries'] = response.data.AbCountries;\r\n            newStates['companies'] = response.data.AbCompanies;\r\n\r\n            if (apu_data.category !== null && apu_data.category.id !== undefined)\r\n                newStates['manufacturer'] = response.data.AbManufacturers;\r\n\r\n            if (apu_data.manufacturer != null && apu_data.manufacturer.id != undefined)\r\n                newStates['type'] = response.data.AbTypes;\r\n\r\n            if (apu_data.type != null && apu_data.type.id != undefined)\r\n                newStates['model'] = response.data.AbModels;\r\n\r\n            newStates['modelsLoaded'] = true;\r\n            this.setState(newStates);\r\n        }.bind(this))\r\n    }\r\n\r\n    handleChange(event, type) {\r\n        var apu = this.state.apu;\r\n        if (type !== 'availability') {\r\n            var attr = event.target.name;\r\n            var val = event.target.value;\r\n        } else {\r\n            var attr = type;\r\n            var val = moment(event).format();\r\n            this.setState({availability: event})\r\n        }\r\n        if (attr === 'is_active')\r\n            val = parseInt(val);\r\n        apu[attr] = val;\r\n        this.setState({apu: apu})\r\n    }\r\n\r\n    formatDate(date, val) {\r\n        var hours = date.getHours();\r\n        hours = hours < 10 ? '0' + hours : hours;\r\n        var minutes = date.getMinutes();\r\n        minutes = minutes < 10 ? '0' + minutes : minutes;\r\n        var strTime = hours + ':' + minutes + ':00.000000Z';\r\n        return val + \"T\" + strTime;\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.setState({validated: true});\r\n        this.checkDataFormat(); // this is done to convert foregin table objects into pk\r\n        if (!this.state.selectedFile)\r\n            delete this.state.apu.file;\r\n        patch('apus/' + this.state.apu.id + '/', this.state.apu).then(\r\n            (response) => {\r\n                this.setState({apu: response.data});\r\n                this.props.data.history.push(\"/\" + USER_URL + \"/apu/asset\");\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n\r\n    checkDataFormat() {\r\n        let apu = this.state.apu;\r\n        let related_data = ['category', 'primary_contact', 'manufacturer', 'current_location',\r\n            'type', 'model', 'owner', 'user', 'seller'];\r\n        related_data.map((val, i) => {\r\n            apu[val] = this.state['selected_' + val].value;\r\n        })\r\n        apu.images = this.state.selected_images;\r\n        apu.attachments = this.state.attachments;\r\n        this.setState({apu: apu});\r\n    }\r\n\r\n    getDropdownsListing() {\r\n        let apu_data = this.state.apu;\r\n        let dropdowns = {// when you have database dropdown like departments just put here\r\n            category: 'category',\r\n            primary_contact: 'contacts',\r\n            manufacturer: 'manufacturer',\r\n            current_location: 'countries',\r\n            owner: 'companies',\r\n            user: 'users'\r\n        }\r\n\r\n        let duplicating_dropdowns = {\r\n            companies: ['seller'],\r\n        }\r\n\r\n\r\n        // static dropdowns calculation here -\r\n\r\n        let static_dropdowns = { // when you have static dropdown like gender just put here\r\n            status: ENGINE_STATUSES,\r\n            offer_for: ENGINE_OFFER\r\n        }\r\n\r\n        let dropdown_keys = Object.keys(static_dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            for (let index in static_dropdowns[dropdown_keys[key]]) {\r\n                if (static_dropdowns[dropdown_keys[key]][index].value === apu_data[dropdown_keys[key]]) {\r\n                    this.setState({['selected_' + dropdown_keys[key]]: static_dropdowns[dropdown_keys[key]][index]});\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        dropdown_keys = Object.keys(dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            let params = {}\r\n            if (dropdowns[dropdown_keys[key]] === 'manufacturer')\r\n                params.type = 'apu';\r\n            list(dropdowns[dropdown_keys[key]], params).then(function (response) {\r\n                let data = response.data;\r\n                let selected = {};\r\n                for (let opt in data) {\r\n                    // special case for contacts\r\n                    if (dropdowns[dropdown_keys[key]] === 'contacts')\r\n                        data[opt].name = data[opt].first_name + ' ' + data[opt].last_name;\r\n                    else if (dropdowns[dropdown_keys[key]] === 'users')\r\n                        data[opt].name = data[opt].contact.first_name + ' ' + data[opt].contact.last_name;\r\n\r\n                    data[opt].label = data[opt].name;\r\n                    data[opt].value = data[opt].id;\r\n\r\n                    if (apu_data[dropdown_keys[key]] != undefined && data[opt].id === apu_data[dropdown_keys[key]].id)\r\n                        selected = data[opt]\r\n\r\n                    if (duplicating_dropdowns[dropdowns[dropdown_keys[key]]] != undefined) {\r\n                        for (let index in duplicating_dropdowns[dropdowns[dropdown_keys[key]]]) {\r\n                            let duplicated_el = duplicating_dropdowns[dropdowns[dropdown_keys[key]]][index];\r\n\r\n                            if (apu_data[duplicated_el] != undefined && data[opt].id === apu_data[duplicated_el].id) {\r\n                                this.setState({['selected_' + duplicated_el]: data[opt]});\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({\r\n                    [dropdowns[dropdown_keys[key]]]: data,\r\n                    ['selected_' + dropdown_keys[key]]: selected,\r\n                    apu: apu_data\r\n                });\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    selectChange(value, key) {\r\n        let apu = this.state.apu;\r\n        apu[key] = value && value.value ? value.value : '';\r\n        this.setState({['selected_' + key]: value ? value : '', apu: apu});\r\n        this.setDynamicDropdowns(value && value.id ? value.id : '', key);\r\n    }\r\n\r\n    setDynamicDropdowns(id, key) {\r\n        if (['manufacturer', 'type'].indexOf(key) > -1 && id) {\r\n            let endpoint = '', params = {}, key_to_update = '', models = {};\r\n            if (key === 'manufacturer') {\r\n                models = {\r\n                    AbTypes: {manufacturer_id: id, type: 'apu'}\r\n                }\r\n                key_to_update = 'type';\r\n            } else if (key === 'type') {\r\n                models = {\r\n                    AbModels: {type_0: id, type: 'apu'}\r\n                }\r\n                key_to_update = 'model';\r\n            }\r\n\r\n            post('abmodels', {models: models}).then(function (response) {\r\n                let selected = {};\r\n                for (let opt in response.data) {\r\n                    response.data[opt].map((row, i) => {\r\n                        response.data[opt][i].label = row.name;\r\n                        response.data[opt][i].value = row.id;\r\n                        selected = row;\r\n                    })\r\n                    this.setState({\r\n                        [key_to_update]: response.data[opt], ['selected_' + key_to_update]: selected\r\n                    })\r\n                }\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    setTab(event, tab) {\r\n        document.getElementById('apu-tabs-tab-' + tab).click();\r\n    }\r\n\r\n    removeImage(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images = selected_images.filter((val, i) => {\r\n            return index !== i;\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    loadSelectedImages(data) {\r\n        data.map((val, i) => {\r\n            data[i].src = MEDIA_URL + val.original_file_name;\r\n            data[i].thumbnail = MEDIA_URL + val.original_file_name;\r\n            data[i].thumbnailWidth = 150;\r\n            data[i].thumbnailHeight = 150;\r\n            data[i].isSelected = true;\r\n            if (data[i].is_featured) {\r\n                data[i].isSelected = true;\r\n                data[i].tags = [{value: \"Featured\", title: \"Featured\"}];\r\n            } else\r\n                data[i].isSelected = false;\r\n            data[i].customOverlay = <Grid item xs={8}> <DeleteForeverOutlinedIcon/> </Grid>\r\n        })\r\n        this.setState({selected_images: data});\r\n    }\r\n\r\n    onClickThumbnail(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images.map((val, i) => {\r\n            if (i === index) {\r\n                selected_images[i].is_featured = 1;\r\n                selected_images[i].isSelected = true;\r\n                selected_images[i].tags = [{value: \"Featured\", title: \"Featured\"}];\r\n            } else {\r\n                selected_images[i].is_featured = 0;\r\n                selected_images[i].isSelected = false;\r\n                delete selected_images[i].tags;\r\n            }\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    getUploadParams(data) {\r\n        const body = new FormData()\r\n        body.append('original_file_name', data.file)\r\n        body.append('user', this.state.selected_user.value);\r\n        body.append('attachable_type', 'Apu');\r\n\r\n        if ('existing' in data.file)\r\n            body.append('existing_id', data.file.id);\r\n\r\n        return {url: API_URL + 'attaches', dataType: 'json', body, headers: {'Authorization': 'Token ' + getToken()}}\r\n    }\r\n\r\n    onAttachmentUpload(data, status) {\r\n        if (status === 'done') {\r\n            let attachment = JSON.parse(data.xhr.response);\r\n            this.setState({attachments: [...this.state.attachments, attachment]});\r\n        } else if (status === 'removed') {\r\n            if(data.xhr){\r\n                let attachment = JSON.parse(data.xhr.response);\r\n                let attachments = this.state.attachments.filter((val, i) => {\r\n                    return val.id !== attachment.id\r\n                })\r\n                this.setState({attachments: attachments})\r\n            }\r\n        }\r\n    }\r\n\r\n    loadInitialFields() {\r\n        if (this.state.apu.attachments !== undefined) {\r\n            let initialFiles = [];\r\n            this.state.apu.attachments.map((val, i) => {\r\n                let file = new File(['foo'], MEDIA_URL + val.original_file_name);\r\n                file.id = val.id;\r\n                file.existing = true;\r\n                initialFiles.push(file);\r\n            })\r\n            this.setState({initialFiles: initialFiles});\r\n        }\r\n    }\r\n\r\n    renderExtraFields() {\r\n        //first render apu extrafields\r\n        let apuExtraFields = [...this.state.apuExtraFields];\r\n        let apuExtra = [];\r\n        APU_EXTRA_FIELDS.map((val, i) => {\r\n            if (this.state.apu[val.value])\r\n                apuExtra.push('' + val.value + '')\r\n        })\r\n\r\n        this.setState({selectedExtraFieldsApu: apuExtra});\r\n        this.setState(state => {\r\n            const apuExtraFields = state.apuExtraFields.filter(item => !apuExtra.includes(item.value));\r\n            return {\r\n                apuExtraFields\r\n            };\r\n        });\r\n\r\n        //then render commercial extrafields\r\n        let commercialExtraFields = [...this.state.commercialExtraFields];\r\n        let commercialExtra = [];\r\n        APU_COMMERCIAL_EXTRA_FIELDS.map((val, i) => {\r\n            if (this.state.apu[val.value] && typeof this.state.apu[val.value].id !== \"undefined\")\r\n                commercialExtra.push('' + val.value + '')\r\n        })\r\n\r\n        this.setState({selectedExtraFields: commercialExtra});\r\n        this.setState(state => {\r\n            const commercialExtraFields = state.commercialExtraFields.filter(item => !commercialExtra.includes(item.value));\r\n            return {\r\n                commercialExtraFields\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraField(event, key, label) {\r\n        let apuExtraFields = [...this.state.apuExtraFields, {label: label, value: key}];\r\n        this.setState({apuExtraFields: apuExtraFields});\r\n        let selectedExtraFieldsApu = this.state.selectedExtraFieldsApu;\r\n        selectedExtraFieldsApu = selectedExtraFieldsApu.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFieldsApu: selectedExtraFieldsApu});\r\n    }\r\n\r\n    selectMoreFieldsCommercial(event, key) {\r\n        let commercialExtraFields = [...this.state.commercialExtraFields];\r\n        commercialExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFields = [...state.selectedExtraFields, key];\r\n            return {\r\n                selectedExtraFields,\r\n            };\r\n        });\r\n    }\r\n    removeExtraFieldCommercial(event, key, label) {\r\n        let commercialExtraFields = [...this.state.commercialExtraFields, {label: label, value: key}];\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        let selectedExtraFields = this.state.selectedExtraFields;\r\n        selectedExtraFields = selectedExtraFields.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFields: selectedExtraFields});\r\n    }\r\n\r\n    handleModalShow = () => {\r\n        this.setState({\r\n            modalDisplay: true,\r\n        })\r\n    }\r\n\r\n    handleModalClose = () => {\r\n        this.setState({modalDisplay: false})\r\n    }\r\n    selectMoreFieldsAPU(event, key) {\r\n        console.log(event, key);\r\n        let apuExtraFields = [...this.state.apuExtraFields];\r\n        apuExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({apuExtraFields: apuExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFieldsApu = [...state.selectedExtraFieldsApu, key];\r\n            return {\r\n                selectedExtraFieldsApu,\r\n            };\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            availability, apu, selectedFile, selected_manufacturer, manufacturer,\r\n            selected_category, category, selected_current_location, countries, selected_type, type,\r\n            selected_primary_contact, contacts, model, selected_model, selected_owner, companies,\r\n            selected_seller, selected_user, users, selected_status, selected_offer_for, initialFiles, modelsLoaded\r\n        } = this.state;\r\n        return (\r\n            <div className=\"kt-portlet\">\r\n                <div className=\"kt-portlet__head\">\r\n                    <div className=\"kt-portlet__head-label\">\r\n                        <h3 className=\"kt-portlet__head-title\">\r\n                            APU\r\n                        </h3>\r\n                    </div>\r\n                </div>\r\n                <div className=\"kt-portlet__body kt-portlet__body--fit\">\r\n                    <div ref={this.wizardRef} className=\"kt-grid  kt-wizard-v1 kt-wizard-v1--white\" id=\"kt_apu_add\"\r\n                         data-ktwizard-state=\"step-first\">\r\n                        <div className=\"kt-grid__item\">\r\n\r\n                            <div className=\"kt-wizard-v1__nav\">\r\n                                <div className=\"kt-wizard-v1__nav-items\">\r\n\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\"\r\n                                         data-ktwizard-state=\"current\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M4.875,20.75 C4.63541667,20.75 4.39583333,20.6541667 4.20416667,20.4625 L2.2875,18.5458333 C1.90416667,18.1625 1.90416667,17.5875 2.2875,17.2041667 C2.67083333,16.8208333 3.29375,16.8208333 3.62916667,17.2041667 L4.875,18.45 L8.0375,15.2875 C8.42083333,14.9041667 8.99583333,14.9041667 9.37916667,15.2875 C9.7625,15.6708333 9.7625,16.2458333 9.37916667,16.6291667 L5.54583333,20.4625 C5.35416667,20.6541667 5.11458333,20.75 4.875,20.75 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\" opacity=\"0.3\"/>\r\n                                                        <path\r\n                                                            d=\"M2,11.8650466 L2,6 C2,4.34314575 3.34314575,3 5,3 L19,3 C20.6568542,3 22,4.34314575 22,6 L22,15 C22,15.0032706 21.9999948,15.0065399 21.9999843,15.009808 L22.0249378,15 L22.0249378,19.5857864 C22.0249378,20.1380712 21.5772226,20.5857864 21.0249378,20.5857864 C20.7597213,20.5857864 20.5053674,20.4804296 20.317831,20.2928932 L18.0249378,18 L12.9835977,18 C12.7263047,14.0909841 9.47412135,11 5.5,11 C4.23590829,11 3.04485894,11.3127315 2,11.8650466 Z M6,7 C5.44771525,7 5,7.44771525 5,8 C5,8.55228475 5.44771525,9 6,9 L15,9 C15.5522847,9 16,8.55228475 16,8 C16,7.44771525 15.5522847,7 15,7 L6,7 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                APU\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13,18.9450712 L13,20 L14,20 C15.1045695,20 16,20.8954305 16,22 L8,22 C8,20.8954305 8.8954305,20 10,20 L11,20 L11,18.9448245 C9.02872877,18.7261967 7.20827378,17.866394 5.79372555,16.5182701 L4.73856106,17.6741866 C4.36621808,18.0820826 3.73370941,18.110904 3.32581341,17.7385611 C2.9179174,17.3662181 2.88909597,16.7337094 3.26143894,16.3258134 L5.04940685,14.367122 C5.46150313,13.9156769 6.17860937,13.9363085 6.56406875,14.4106998 C7.88623094,16.037907 9.86320756,17 12,17 C15.8659932,17 19,13.8659932 19,10 C19,7.73468744 17.9175842,5.65198725 16.1214335,4.34123851 C15.6753081,4.01567657 15.5775721,3.39010038 15.903134,2.94397499 C16.228696,2.49784959 16.8542722,2.4001136 17.3003976,2.72567554 C19.6071362,4.40902808 21,7.08906798 21,10 C21,14.6325537 17.4999505,18.4476269 13,18.9450712 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"12\" cy=\"10\" r=\"6\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Commercial\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13.2070325,4 C13.0721672,4.47683179 13,4.97998812 13,5.5 C13,8.53756612 15.4624339,11 18.5,11 C19.0200119,11 19.5231682,10.9278328 20,10.7929675 L20,17 C20,18.6568542 18.6568542,20 17,20 L7,20 C5.34314575,20 4,18.6568542 4,17 L4,7 C4,5.34314575 5.34314575,4 7,4 L13.2070325,4 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"18.5\" cy=\"5.5\"\r\n                                                                r=\"2.5\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Complete\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"kt-grid__item kt-grid__item--fluid kt-wizard-v1__wrapper\">\r\n                            <Form className=\"kt-form\" noValidate id=\"create-apu-form \"\r\n                                  onSubmit={e => this.handleSubmit(e)}>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\"\r\n                                     data-ktwizard-state=\"current\">\r\n                                    <div className=\"kt-heading kt-heading--md\">APU Info</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Category</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_category.value?selected_category:'select...'}\r\n                                                        model=\"category\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'category')}\r\n                                                        options={category}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Manufacturer</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_manufacturer.value?selected_manufacturer:'select...'}\r\n                                                        model=\"manufacturer\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'manufacturer')}\r\n                                                        options={manufacturer}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Type</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_type.value?selected_type:'select...'}\r\n                                                        model=\"type\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'type')}\r\n                                                        options={type}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Model</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_model.value?selected_model:'select...'}\r\n                                                        model=\"model\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'model')}\r\n                                                        options={model}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Serial Number</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"serial_number\"\r\n                                                        defaultValue={apu ? apu.serial_number : ''}\r\n                                                        onChange={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Part Number</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"part_number\"\r\n                                                        defaultValue={apu ? apu.part_number : ''}\r\n                                                        onChange={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Cycles Remaining (CR)</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"cycle_remaining\"\r\n                                                        defaultValue={apu ? apu.cycle_remaining : ''}\r\n                                                        onChange={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Current Status</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_status.value?selected_status:'select...'}\r\n                                                        model=\"apu\"\r\n                                                        name=\"status\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'status')}\r\n                                                        options={ENGINE_STATUSES}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.selectedExtraFieldsApu.includes(\"thrust_rating\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Thrust\r\n                                                    Rating</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"thrust_rating\"\r\n                                                        defaultValue={apu ? apu.thrust_rating : ''}\r\n                                                        onChange={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'thrust_rating', 'Thrust Rating')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsApu.includes(\"lsv_description\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">LSV\r\n                                                    Description</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"lsv_description\"\r\n                                                        defaultValue={apu ? apu.lsv_description : ''}\r\n                                                        onChange={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'lsv_description', 'LSV Description')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.apuExtraFields.length>0 &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                        <ThemeProvider theme={addMoreSelect}>\r\n                                                        <SelectCore\r\n                                                            native\r\n                                                            value=\"\"\r\n                                                            onChange={(e) => this.selectMoreFieldsAPU(e, e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\" disabled>Add more fields</option>\r\n                                                            {this.state.apuExtraFields.map(item => (\r\n                                                                <option value={item.value}\r\n                                                                        data-label={item.label}>{item.label}</option>\r\n                                                            ))}\r\n                                                        </SelectCore>\r\n                                                        </ThemeProvider>\r\n                                                    </FormControl>\r\n                                                </Col>\r\n                                            </Form.Group>}\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Divider variant=\"middle\"/>\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Form.Row>\r\n                                                <Form.Group as={Col} xs=\"12\">\r\n                                                    <Form.Label>Additional details</Form.Label>\r\n                                                    <Form.Control as=\"textarea\" rows=\"5\"\r\n                                                                  required\r\n                                                                  type=\"text\"\r\n                                                                  placeholder=\"\"\r\n                                                                  model=\"apu\"\r\n                                                                  name=\"description\"\r\n                                                                  defaultValue={apu ? apu.description : ''}\r\n                                                                  onChange={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                            </Form.Row>\r\n                                            <div>\r\n                                                <Link className=\"label label-light-info label-inline more-info\" href=\"#\" onClick={this.handleModalShow}>\r\n                                                    <i className=\"flaticon2-information\"></i> Didn't find basic info? Please click here to suggest.\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Commercial Info</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Offered\r\n                                                    For</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_offer_for.value?selected_offer_for:'select...'}\r\n                                                        model=\"apu\"\r\n                                                        name=\"offer_for\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'offer_for')}\r\n                                                        options={ENGINE_OFFER}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.apu['offer_for'] === 'Sale' &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Asking\r\n                                                    Price</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"price\"\r\n                                                        defaultValue={apu ? apu.price : ''}\r\n                                                        onChange={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col><Form.Label column sm=\"3\" className=\"text-sm-left text-left\">USD</Form.Label>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {(\r\n                                                this.state.apu['offer_for'] === 'Lease' ||\r\n                                                this.state.apu['offer_for'] === 'Lease Purchase'\r\n                                            )\r\n                                            &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">{this.state.apu['offer_for']} terms</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        as=\"textarea\" rows=\"5\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"lease_terms\"\r\n                                                        defaultValue={apu ? apu.lease_terms : ''}\r\n                                                        onChange={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.apu['offer_for'] === 'Exchange' &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">{this.state.apu['offer_for']} terms</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        as=\"textarea\" rows=\"5\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"exchange_terms\"\r\n                                                        defaultValue={apu ? apu.exchange_terms : ''}\r\n                                                        onChange={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Availability</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <ThemeProvider theme={defaultMaterialTheme}>\r\n                                                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                                            <DatePicker\r\n\r\n                                                                value={availability}\r\n                                                                format=\"dd/MM/yyyy\"\r\n                                                                onChange={e => this.handleChange(e, 'availability')}\r\n                                                                animateYearScrolling\r\n                                                            />\r\n                                                        </MuiPickersUtilsProvider>\r\n                                                    </ThemeProvider>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Current\r\n                                                    Location</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_current_location.value?selected_current_location:'select...'}\r\n                                                        model=\"current_location\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'current_location')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Primary\r\n                                                    Contact</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_primary_contact.value?selected_primary_contact:'select...'}\r\n                                                        model=\"primary_contact\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'primary_contact')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, contacts, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.selectedExtraFields.includes(\"owner\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Owner</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_owner.value?selected_owner:'select...'}\r\n                                                        model=\"owner\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'owner')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldCommercial(e, 'owner', 'Owner')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"seller\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Seller</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_seller.value?selected_seller:'select...'}\r\n                                                        model=\"seller\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'seller')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldCommercial(e, 'seller', 'Seller')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                                {this.state.commercialExtraFields.length>0 && <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                        <ThemeProvider theme={addMoreSelect}>\r\n                                                        <SelectCore\r\n                                                            native\r\n                                                            value=\"\"\r\n                                                            onChange={(e) => this.selectMoreFieldsCommercial(e, e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\" disabled>Add more fields</option>\r\n                                                            {this.state.commercialExtraFields.map(item => (\r\n                                                                <option value={item.value}\r\n                                                                        data-label={item.label}>{item.label}</option>\r\n                                                            ))}\r\n                                                        </SelectCore>\r\n                                                        </ThemeProvider>\r\n                                                    </FormControl>\r\n                                                </Col>\r\n                                            </Form.Group>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-form__section kt-form__section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n                                            <div className=\"row mb-5\">\r\n                                                <div className=\"kt-heading kt-heading--md\">Select or Upload Photos</div>\r\n                                                <div className=\"col-xs-12 col-md-12\">\r\n                                                    {/*<Button onClick={() => this.medialibraryAsset.current.galleryModalOpener()}\r\n                                                            className=\"btn btn-primary\">\r\n                                                        <i className=\"fa fa-upload\"></i> Select or Upload Images\r\n                                                    </Button>*/}\r\n                                                    <MediaLibrary modal={false} ref={this.medialibraryAsset}\r\n                                                                  user={selected_user.value}\r\n                                                                  showLibrary={selected_user.value === \"\" ? false : true}\r\n                                                                  selected_images={this.state.selected_images}\r\n                                                                  insertImages={(images) => this.setState({selected_images: images})}/>\r\n                                                    <Form.Row>\r\n                                                        {this.state.selected_images && this.state.selected_images.length > 0 &&\r\n                                                        <FormGroup as={Col} xs=\"12\">\r\n                                                            <div className=\"kt-heading kt-heading--md\">Selected Images</div>\r\n                                                        </FormGroup>\r\n                                                        }\r\n                                                        <Form.Group as={Col} xs=\"12\">\r\n                                                            <Gallery enableLightbox={false} id=\"readonlygallery\" rowHeight={150}\r\n                                                                     margin={5}\r\n                                                                     enableImageSelection={true}\r\n                                                                     onSelectImage={(e) => this.removeImage(e)}\r\n                                                                     images={this.state.selected_images}\r\n                                                                     onClickThumbnail={(e) => this.onClickThumbnail(e)}/>\r\n                                                        </Form.Group>\r\n                                                    </Form.Row>\r\n                                                </div>\r\n                                            </div>\r\n                                            <Divider />\r\n                                            <div className=\"kt-heading kt-heading--md\">Upload Files</div>\r\n                                            <div className=\"row mt-5\">\r\n                                                <div className=\"col-xs-12 col-md-6\">\r\n                                                    <Dropzone\r\n                                                        inputContent=\"Drop or click to select a file.\"\r\n                                                        accept=\".pdf\"\r\n                                                        styles={{dropzone: {minHeight: 50}, inputLabel: {fontSize:'14px', margin: '0px'}}}\r\n                                                        getUploadParams={(data) => this.getUploadParams(data)}\r\n                                                        onChangeStatus={(data, status) => this.onAttachmentUpload(data, status)}\r\n                                                        maxSizeBytes={(1024 * 1024 * 2)}\r\n                                                        initialFiles={initialFiles}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-form__actions\">\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u mr-2\">\r\n                                        <Link to={\"/\" + USER_URL + \"/apu/asset\"}>\r\n                                            <i className=\"la la-long-arrow-left\"></i>\r\n                                            Cancel\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-prev\">\r\n                                        Previous\r\n                                    </div>\r\n                                    <Button type=\"submit\" onClick={(e) => this.setState({action: 'save'})}\r\n                                            className=\"btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                            data-ktwizard-type=\"action-submit\">\r\n                                        Submit\r\n                                    </Button>\r\n                                    <div\r\n                                        className=\"btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-next\">\r\n                                        Next Step\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <Modal show={this.state.modalDisplay} onHide={this.handleModalClose} centered>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>Suggest APU Information</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Category\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        onChange={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Manufacture\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        onChange={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Type\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        onChange={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Model\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        onChange={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"secondary\" onClick={this.handleModalClose}>\r\n                                Cancel\r\n                            </Button>\r\n                            <Button variant=\"primary\" onClick={this.confirm}>\r\n                                Submit\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass EditPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let type = props.match.params.type;\r\n        this.state = {errors: {}, showError: false};\r\n        this.state.type = type;\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                console.log(error);\r\n                                return <li key={index + i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n\r\n                <Edit data={this.props} sendError={this.sendError}/>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(EditPage);\r\n","import React from \"react\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Form, Col, Tab, Tabs, Row, Modal} from \"react-bootstrap\";\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport {\r\n    list, post, API_URL, getToken, loadOptions, USER_URL, ENGINE_STATUSES, ENGINE_OFFER,\r\n    APU_COMMERCIAL_EXTRA_FIELDS, APU_EXTRA_FIELDS\r\n} from \"../../../crud/api\";\r\nimport Select from 'react-select';\r\nimport MediaLibrary from '../../../library/media'\r\nimport Gallery from 'react-grid-gallery';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider, DatePicker} from \"@material-ui/pickers\";\r\nimport {createMuiTheme, Divider, FormControl, FormGroup, IconButton, Select as SelectCore} from \"@material-ui/core\";\r\nimport {ThemeProvider} from \"@material-ui/styles\";\r\nimport moment from \"moment\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport 'react-dropzone-uploader/dist/styles.css'\r\nimport Dropzone from 'react-dropzone-uploader'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport KTWizard from \"../../../../_metronic/_assets/js/wizard\";\r\nimport AsyncPaginate from \"react-select-async-paginate\";\r\n\r\nconst defaultMaterialTheme = createMuiTheme({\r\n    props: {\r\n        MuiInput: {\r\n            disableUnderline: true,\r\n        },\r\n        MuiTextField: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n        },\r\n        MuiInputBase: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n            disableUnderline: true,\r\n            inputProps: {\r\n                style: {\r\n                    display: \"block\",\r\n                    height: \"calc(1.5em + 1.3rem + 2px)\",\r\n                    padding: \"0.65rem 1rem\",\r\n                    fontSize: \"1rem\",\r\n                    fontWeight: \"400\",\r\n                    lineHeight: \"1.5\",\r\n                    color: \"#495057\",\r\n                    backgroundColor: \"#fff\",\r\n                    backgroundClip: \"padding-box\",\r\n                    border: \"1px solid #e2e5ec\",\r\n                    borderRadius: \"4px\",\r\n                    transition: \"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n                    boxSizing: \"border-box\",\r\n                }\r\n            }\r\n        },\r\n    },\r\n});\r\n\r\nconst addMoreSelect = createMuiTheme({\r\n  overrides: {\r\n      MuiOutlinedInput:{\r\n          root: {\r\n            '&:hover': {\r\n              \"& $notchedOutline\":{\r\n                      borderColor: 'rgb(179, 179, 179)'\r\n                }\r\n            }\r\n          },\r\n          inputSelect: {\r\n              padding: \"13px\",\r\n              fontFamily: \"Poppins, Helvetica, sans-serif\",\r\n              color: \"#808080\"\r\n          }\r\n      }\r\n  },\r\n});\r\n\r\nclass Create extends React.Component {\r\n\r\n    wizardRef = React.createRef();\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.medialibraryAsset = React.createRef();\r\n        this.state = {\r\n            validated: false,\r\n            apu: {\r\n                is_featured: this.props.data.extra_data.is_featured_aircraft ? this.props.data.extra_data.is_featured_aircraft : 0,\r\n                user: this.props.data.extra_data.user ? this.props.data.extra_data.user.id : null\r\n            },\r\n            selectedFile: null,\r\n            category: [],\r\n            manufacturer: [],\r\n            countries: [],\r\n            type: [],\r\n            contacts: [],\r\n            model: [],\r\n            companies: [],\r\n            users: [],\r\n            selected_primary_contact: {\r\n                id:props.data.extra_data.user.contact.id,\r\n                label:props.data.extra_data.user.contact.first_name+' '+props.data.extra_data.user.contact.last_name,\r\n                value:true\r\n            },\r\n            selected_category: {value: ''},\r\n            selected_type: {value: ''},\r\n            selected_manufacturer: {value: ''},\r\n            selected_current_location: {value: ''},\r\n            selected_model: {value: ''},\r\n            selected_owner: {value: ''},\r\n            selected_seller: {value: ''},\r\n            selected_user: {value: this.props.data.extra_data.user ? this.props.data.extra_data.user.id : ''},\r\n            selected_status: {value: ''},\r\n            selected_offer_for: {value: ''},\r\n            selected_images: [],\r\n            attachments: [],\r\n            initialFiles: [],\r\n            modalDisplay: false,\r\n            modalType: 'apu',\r\n            commercialExtraFields: APU_COMMERCIAL_EXTRA_FIELDS,\r\n            selectedExtraFields: [],\r\n            apuExtraFields: APU_EXTRA_FIELDS,\r\n            selectedExtraFieldsApu: [],\r\n            modelsLoaded:false\r\n        };\r\n        // this.getDropdownsListing();\r\n        this.loadModels();\r\n        this.confirm=this.confirm.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        new KTWizard(this.wizardRef.current);\r\n    }\r\n\r\n    handleChange(event, type) {\r\n        var apu = this.state.apu;\r\n        if (type !== 'availability') {\r\n            var attr = event.target.name;\r\n            var val = event.target.value;\r\n        } else {\r\n            var attr = type;\r\n            var val = moment(event).format();\r\n            this.setState({availability: event})\r\n        }\r\n        if (attr === 'is_active')\r\n            val = parseInt(val);\r\n        apu[attr] = val;\r\n        this.setState({apu: apu})\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.setState({validated: true});\r\n        if (!this.state.selectedFile)\r\n            delete this.state.apu.file;\r\n\r\n        let apu = this.state.apu;\r\n        apu.images = this.state.selected_images;\r\n        apu.attachments = this.state.attachments;\r\n        post('apus', apu).then(\r\n            (response) => {\r\n                this.setState({apu: response.data});\r\n                this.props.data.history.push(\"/\" + USER_URL + \"/apu/asset\");\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n\r\n    loadModels() {\r\n        let models = {\r\n            'AbCategories': {type: 'apu'},\r\n            'AbContacts': {},\r\n            'AbCountries': {},\r\n            'AbCompanies': {},\r\n        }\r\n        post('abmodels', {models: models}).then(function (response) {\r\n            for (let opt in response.data) {\r\n\r\n                response.data[opt].map((row, i) => {\r\n                    if (opt === 'AbContacts' || opt === 'AbUsers')\r\n                        row.name = row.first_name + ' ' + row.last_name;\r\n\r\n                    response.data[opt][i].label = row.name;\r\n                    response.data[opt][i].value = row.id;\r\n                })\r\n            }\r\n            this.setState({\r\n                category: response.data.AbCategories,\r\n                contacts: response.data.AbContacts,\r\n                countries: response.data.AbCountries,\r\n                companies: response.data.AbCompanies,\r\n                modelsLoaded:true\r\n            })\r\n        }.bind(this))\r\n    }\r\n\r\n    fileChangedHandler = (event) => {\r\n        let apu = this.state.apu;\r\n        let file = event.target.files[0];\r\n        this.setState({\r\n            previewFile: URL.createObjectURL(file)\r\n        });\r\n        if (file != undefined) {\r\n            file.size_c = file.size / 1024;\r\n\r\n            if ((file.size_c) / 1024 > 2) {\r\n                file.size_c = (file.size_c / 1024).toFixed(2) + ' MB';\r\n                file.error = \"Error: File is too big\";\r\n                apu.file = {};\r\n                this.setState({selectedFile: file});\r\n            } else {\r\n                file.error = null;\r\n                file.size_c = file.size_c.toFixed(2) + ' KB';\r\n                let reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onloadend = () => {\r\n                    apu.file = reader.result;\r\n                    this.setState({selectedFile: file, apu: apu});\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    getDropdownsListing() {\r\n        let dropdowns = {// when you have database dropdown like departments just put here\r\n            category: 'category',\r\n            primary_contact: 'contacts',\r\n            manufacturer: 'manufacturer',\r\n            current_location: 'countries',\r\n            // type:'type',\r\n            // model:'model',\r\n            owner: 'companies',\r\n            user: 'users'\r\n        }\r\n\r\n        let duplicating_dropdowns = {\r\n            companies: ['seller'],\r\n        }\r\n\r\n        let dropdown_keys = Object.keys(dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            let params = {}\r\n            if (dropdowns[dropdown_keys[key]] === 'manufacturer')\r\n                params.type = 'apu';\r\n            list(dropdowns[dropdown_keys[key]], params).then(function (response) {\r\n                let data = response.data;\r\n                let selected = {};\r\n                for (let opt in data) {\r\n                    // special case for contacts\r\n                    if (dropdowns[dropdown_keys[key]] === 'contacts')\r\n                        data[opt].name = data[opt].first_name + ' ' + data[opt].last_name;\r\n                    else if (dropdowns[dropdown_keys[key]] === 'users')\r\n                        data[opt].name = data[opt].contact.first_name + ' ' + data[opt].contact.last_name;\r\n\r\n                    data[opt].label = data[opt].name;\r\n                    data[opt].value = data[opt].id;\r\n\r\n                    if (this.state.apu[dropdown_keys[key]] != undefined && data[opt].id === this.state.apu[dropdown_keys[key]].id)\r\n                        selected = data[opt]\r\n\r\n                    if (duplicating_dropdowns[dropdowns[dropdown_keys[key]]] != undefined) {\r\n                        for (let index in duplicating_dropdowns[dropdowns[dropdown_keys[key]]]) {\r\n                            let duplicated_el = duplicating_dropdowns[dropdowns[dropdown_keys[key]]][index];\r\n                            if (this.state.apu[duplicated_el] != undefined && data[opt].id === this.state.apu[duplicated_el].id)\r\n                                this.setState({['selected_' + duplicated_el]: selected});\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({[dropdowns[dropdown_keys[key]]]: data, ['selected_' + dropdown_keys[key]]: selected});\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    handleFileRemove = (event) => {\r\n        let category = this.state.category;\r\n        category.file = {}\r\n        this.setState({selectedFile: null, category: category})\r\n        document.getElementById('category-image-upload').value = '';\r\n    }\r\n\r\n    selectChange(value, key) {\r\n        let apu = this.state.apu;\r\n        apu[key] = value && value.value ? value.value : '';\r\n        this.setState({['selected_' + key]: value ? value : '', apu: apu});\r\n\r\n        if (['category', 'manufacturer', 'type'].indexOf(key) > -1 && value) {\r\n            let endpoint = '', params = {}, key_to_update = '', models = {};\r\n            if (key === 'category') {\r\n                models = {\r\n                    AbManufacturers: {categories__id: value.id, type: 'apu'}\r\n                }\r\n                key_to_update = 'manufacturer';\r\n            } else if (key === 'manufacturer') {\r\n                models = {\r\n                    AbTypes: {manufacturer_id: value.id, type: 'apu'}\r\n                }\r\n                key_to_update = 'type';\r\n            } else if (key === 'type') {\r\n                models = {\r\n                    AbModels: {type_0: value.id, type: 'apu'}\r\n                }\r\n                key_to_update = 'model';\r\n            }\r\n\r\n            post('abmodels', {models: models}).then(function (response) {\r\n                let selected = {};\r\n                for (let opt in response.data) {\r\n                    response.data[opt].map((row, i) => {\r\n                        response.data[opt][i].label = row.name;\r\n                        response.data[opt][i].value = row.id;\r\n\r\n                        if (this.state.apu[key_to_update] != undefined && row.id === this.state.apu[key_to_update].id)\r\n                            selected = row;\r\n                    })\r\n\r\n                    this.setState({\r\n                        [key_to_update]: response.data[opt], ['selected_' + key_to_update]: selected\r\n                    })\r\n\r\n                }\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    setTab(event, tab) {\r\n        document.getElementById('apu-tabs-tab-' + tab).click();\r\n    }\r\n\r\n    removeImage(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images = selected_images.filter((val, i) => {\r\n            return index !== i;\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    clearForm = () => {\r\n        document.getElementById(\"create-apu-form\").reset();\r\n    }\r\n\r\n    onClickThumbnail(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images.map((val, i) => {\r\n            if (i === index) {\r\n                selected_images[i].is_featured = 1;\r\n                selected_images[i].isSelected = true;\r\n                selected_images[i].tags = [{value: \"Featured\", title: \"Featured\"}];\r\n            } else {\r\n                selected_images[i].is_featured = 0;\r\n                selected_images[i].isSelected = false;\r\n                delete selected_images[i].tags;\r\n            }\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    getUploadParams(data) {\r\n        const body = new FormData()\r\n        body.append('original_file_name', data.file)\r\n        body.append('user', this.state.selected_user.value ? this.state.selected_user.value : '');\r\n        body.append('attachable_type', 'Apu');\r\n\r\n        if ('existing' in data.file)\r\n            body.append('existing_id', data.file.id);\r\n\r\n        return {url: API_URL + 'attaches', dataType: 'json', body, headers: {'Authorization': 'Token ' + getToken()}}\r\n    }\r\n\r\n    onAttachmentUpload(data, status) {\r\n        if (status === 'done') {\r\n            let attachment = JSON.parse(data.xhr.response);\r\n            this.setState({attachments: [...this.state.attachments, attachment]});\r\n        } else if (status === 'removed') {\r\n            if(data.xhr){\r\n                let attachment = JSON.parse(data.xhr.response);\r\n                let attachments = this.state.attachments.filter((val, i) => {\r\n                    return val.id !== attachment.id\r\n                })\r\n                this.setState({attachments: attachments})\r\n            }\r\n        }\r\n    }\r\n\r\n    selectMoreFields(event, key) {\r\n        let commercialExtraFields = [...this.state.commercialExtraFields];\r\n        commercialExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFields = [...state.selectedExtraFields, key];\r\n            return {\r\n                selectedExtraFields,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraField(event, key, label) {\r\n        let commercialExtraFields = [...this.state.commercialExtraFields, {label: label, value: key}];\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        let selectedExtraFields = this.state.selectedExtraFields;\r\n        selectedExtraFields = selectedExtraFields.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFields: selectedExtraFields});\r\n    }\r\n\r\n    selectMoreFieldsAircraft(event, key) {\r\n        let apuExtraFields = [...this.state.apuExtraFields];\r\n        apuExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({apuExtraFields: apuExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFieldsApu = [...state.selectedExtraFieldsApu, key];\r\n            return {\r\n                selectedExtraFieldsApu,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraFieldAircraft(event, key, label) {\r\n        let apuExtraFields = [...this.state.apuExtraFields, {label: label, value: key}];\r\n        this.setState({apuExtraFields: apuExtraFields});\r\n        let selectedExtraFieldsApu = this.state.selectedExtraFieldsApu;\r\n        selectedExtraFieldsApu = selectedExtraFieldsApu.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFieldsApu: selectedExtraFieldsApu});\r\n    }\r\n\r\n    handleModalShow = () => {\r\n        this.setState({\r\n            modalDisplay: true\r\n        })\r\n    }\r\n\r\n    handleModalClose = () => {\r\n        this.setState({modalDisplay: false})\r\n    }\r\n    confirm(){\r\n        let data={\r\n            category:document.getElementById('modal-category-id').value,\r\n            manufacturer:document.getElementById('modal-manufacture-id').value,\r\n            type:document.getElementById('modal-type-id').value,\r\n            model:document.getElementById('modal-model-id').value,\r\n            entity_type:this.state.modalType,\r\n            user:this.props.data.extra_data.user.id\r\n        }\r\n        post('suggestions', data).then(\r\n            (response) => {\r\n                this.setState({\r\n                    modalDisplay: false,\r\n                })\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n    render() {\r\n        const {\r\n            availability, apu, selected_manufacturer, manufacturer,\r\n            selected_category, category, selected_current_location, countries, selected_type, type,\r\n            selected_primary_contact, contacts, model, selected_model, selected_owner, companies,\r\n            selected_seller, selected_user, users, selected_status, selected_offer_for, initialFiles, modelsLoaded\r\n        } = this.state;\r\n        return (\r\n            <div className=\"kt-portlet\">\r\n                <div className=\"kt-portlet__head\">\r\n                    <div className=\"kt-portlet__head-label\">\r\n                        <h3 className=\"kt-portlet__head-title\">\r\n                            APU\r\n                        </h3>\r\n                    </div>\r\n                </div>\r\n                <div className=\"kt-portlet__body kt-portlet__body--fit\">\r\n                    <div ref={this.wizardRef} className=\"kt-grid  kt-wizard-v1 kt-wizard-v1--white\" id=\"kt_apu_add\"\r\n                         data-ktwizard-state=\"step-first\">\r\n                        <div className=\"kt-grid__item\">\r\n\r\n                            <div className=\"kt-wizard-v1__nav\">\r\n                                <div className=\"kt-wizard-v1__nav-items\">\r\n\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\"\r\n                                         data-ktwizard-state=\"current\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M4.875,20.75 C4.63541667,20.75 4.39583333,20.6541667 4.20416667,20.4625 L2.2875,18.5458333 C1.90416667,18.1625 1.90416667,17.5875 2.2875,17.2041667 C2.67083333,16.8208333 3.29375,16.8208333 3.62916667,17.2041667 L4.875,18.45 L8.0375,15.2875 C8.42083333,14.9041667 8.99583333,14.9041667 9.37916667,15.2875 C9.7625,15.6708333 9.7625,16.2458333 9.37916667,16.6291667 L5.54583333,20.4625 C5.35416667,20.6541667 5.11458333,20.75 4.875,20.75 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\" opacity=\"0.3\"/>\r\n                                                        <path\r\n                                                            d=\"M2,11.8650466 L2,6 C2,4.34314575 3.34314575,3 5,3 L19,3 C20.6568542,3 22,4.34314575 22,6 L22,15 C22,15.0032706 21.9999948,15.0065399 21.9999843,15.009808 L22.0249378,15 L22.0249378,19.5857864 C22.0249378,20.1380712 21.5772226,20.5857864 21.0249378,20.5857864 C20.7597213,20.5857864 20.5053674,20.4804296 20.317831,20.2928932 L18.0249378,18 L12.9835977,18 C12.7263047,14.0909841 9.47412135,11 5.5,11 C4.23590829,11 3.04485894,11.3127315 2,11.8650466 Z M6,7 C5.44771525,7 5,7.44771525 5,8 C5,8.55228475 5.44771525,9 6,9 L15,9 C15.5522847,9 16,8.55228475 16,8 C16,7.44771525 15.5522847,7 15,7 L6,7 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                APU\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13,18.9450712 L13,20 L14,20 C15.1045695,20 16,20.8954305 16,22 L8,22 C8,20.8954305 8.8954305,20 10,20 L11,20 L11,18.9448245 C9.02872877,18.7261967 7.20827378,17.866394 5.79372555,16.5182701 L4.73856106,17.6741866 C4.36621808,18.0820826 3.73370941,18.110904 3.32581341,17.7385611 C2.9179174,17.3662181 2.88909597,16.7337094 3.26143894,16.3258134 L5.04940685,14.367122 C5.46150313,13.9156769 6.17860937,13.9363085 6.56406875,14.4106998 C7.88623094,16.037907 9.86320756,17 12,17 C15.8659932,17 19,13.8659932 19,10 C19,7.73468744 17.9175842,5.65198725 16.1214335,4.34123851 C15.6753081,4.01567657 15.5775721,3.39010038 15.903134,2.94397499 C16.228696,2.49784959 16.8542722,2.4001136 17.3003976,2.72567554 C19.6071362,4.40902808 21,7.08906798 21,10 C21,14.6325537 17.4999505,18.4476269 13,18.9450712 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"12\" cy=\"10\" r=\"6\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Commercial\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13.2070325,4 C13.0721672,4.47683179 13,4.97998812 13,5.5 C13,8.53756612 15.4624339,11 18.5,11 C19.0200119,11 19.5231682,10.9278328 20,10.7929675 L20,17 C20,18.6568542 18.6568542,20 17,20 L7,20 C5.34314575,20 4,18.6568542 4,17 L4,7 C4,5.34314575 5.34314575,4 7,4 L13.2070325,4 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"18.5\" cy=\"5.5\"\r\n                                                                r=\"2.5\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Complete\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"kt-grid__item kt-grid__item--fluid kt-wizard-v1__wrapper\">\r\n                            <Form className=\"kt-form\" noValidate id=\"create-apu-form \"\r\n                                  onSubmit={e => this.handleSubmit(e)}>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\"\r\n                                     data-ktwizard-state=\"current\">\r\n                                    <div className=\"kt-heading kt-heading--md\">APU Info</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Category</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_category.value?selected_category:'select...'}\r\n                                                        model=\"category\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'category')}\r\n                                                        options={category}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Manufacturer</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_manufacturer.value?selected_manufacturer:'select...'}\r\n                                                        model=\"manufacturer\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'manufacturer')}\r\n                                                        options={manufacturer}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Type</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_type.value?selected_type:'select...'}\r\n                                                        model=\"type\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'type')}\r\n                                                        options={type}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Model</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_model.value?selected_model:'select...'}\r\n                                                        model=\"model\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'model')}\r\n                                                        options={model}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Serial Number</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"serial_number\"\r\n                                                        defaultValue={apu ? apu.serial_number : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Part Number</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"part_number\"\r\n                                                        defaultValue={apu ? apu.part_number : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Cycles Remaining (CR)</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"cycle_remaining\"\r\n                                                        defaultValue={apu ? apu.cycle_remaining : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Current Status</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_status.value?selected_status:'select...'}\r\n                                                        model=\"apu\"\r\n                                                        name=\"status\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'status')}\r\n                                                        options={ENGINE_STATUSES}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.selectedExtraFieldsApu.includes(\"thrust_rating\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Thrust\r\n                                                    Rating</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"thrust_rating\"\r\n                                                        defaultValue={apu ? apu.thrust_rating : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'thrust_rating', 'Thrust Rating')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsApu.includes(\"lsv_description\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">LSV\r\n                                                    Description</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"lsv_description\"\r\n                                                        defaultValue={apu ? apu.lsv_description : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldAircraft(e, 'lsv_description', 'LSV Description')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.apuExtraFields.length>0 &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                        <ThemeProvider theme={addMoreSelect}>\r\n                                                        <SelectCore\r\n                                                            native\r\n                                                            value=\"\"\r\n                                                            onChange={(e) => this.selectMoreFieldsAircraft(e, e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\" disabled>Add more details</option>\r\n                                                            {this.state.apuExtraFields.map(item => (\r\n                                                                <option value={item.value}\r\n                                                                        data-label={item.label}>{item.label}</option>\r\n                                                            ))}\r\n                                                        </SelectCore>\r\n                                                        </ThemeProvider>\r\n                                                    </FormControl>\r\n                                                </Col>\r\n                                            </Form.Group>}\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Divider variant=\"middle\"/>\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Form.Row>\r\n                                                <Form.Group as={Col} xs=\"12\">\r\n                                                    <Form.Label>Additional details</Form.Label>\r\n                                                    <Form.Control as=\"textarea\" rows=\"5\"\r\n                                                                  required\r\n                                                                  type=\"text\"\r\n                                                                  placeholder=\"\"\r\n                                                                  model=\"apu\"\r\n                                                                  name=\"description\"\r\n                                                                  defaultValue={apu ? apu.description : ''}\r\n                                                                  onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                            </Form.Row>\r\n                                            <div>\r\n                                                <Link className=\"label label-light-info label-inline more-info\" href=\"#\" onClick={this.handleModalShow}>\r\n                                                    <i className=\"flaticon2-information\"></i> Didn't find basic info? Please click here to suggest.\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Commercial Info</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Offered\r\n                                                    For</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_offer_for.value?selected_offer_for:'select...'}\r\n                                                        model=\"apu\"\r\n                                                        name=\"offer_for\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'offer_for')}\r\n                                                        options={ENGINE_OFFER}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.apu['offer_for'] === 'Sale' &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Asking\r\n                                                    Price</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"price\"\r\n                                                        defaultValue={apu ? apu.price : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col><Form.Label column sm=\"3\" className=\"text-sm-left text-left\">USD</Form.Label>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {(\r\n                                                this.state.apu['offer_for'] === 'Lease' ||\r\n                                                this.state.apu['offer_for'] === 'Lease Purchase'\r\n                                            )\r\n                                            &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">{this.state.apu['offer_for']} terms</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        as=\"textarea\" rows=\"5\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"lease_terms\"\r\n                                                        defaultValue={apu ? apu.lease_terms : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.apu['offer_for'] === 'Exchange' &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">{this.state.apu['offer_for']} terms</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        as=\"textarea\" rows=\"5\"\r\n                                                        model=\"apu\"\r\n                                                        name=\"exchange_terms\"\r\n                                                        defaultValue={apu ? apu.exchange_terms : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">availability</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <ThemeProvider theme={defaultMaterialTheme}>\r\n                                                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                                            <DatePicker\r\n                                                                minDate={new Date()}\r\n                                                                disablePast={true}\r\n                                                                value={availability}\r\n                                                                format=\"dd/MM/yyyy\"\r\n                                                                onChange={e => this.handleChange(e, 'availability')}\r\n                                                                animateYearScrolling\r\n                                                            />\r\n                                                        </MuiPickersUtilsProvider>\r\n                                                    </ThemeProvider>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Current\r\n                                                    Location</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_current_location.value?selected_current_location:'select...'}\r\n                                                        model=\"current_location\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'current_location')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Primary\r\n                                                    Contact</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_primary_contact.value?selected_primary_contact:'select...'}\r\n                                                        model=\"primary_contact\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'primary_contact')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, contacts, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.selectedExtraFields.includes(\"owner\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Owner</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_owner.value?selected_owner:'select...'}\r\n                                                        model=\"owner\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'owner')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'owner', 'Owner')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"seller\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Seller</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_seller.value?selected_seller:'select...'}\r\n                                                        model=\"seller\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'seller')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'seller', 'Seller')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.commercialExtraFields.length>0 && <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                        <ThemeProvider theme={addMoreSelect}>\r\n                                                        <SelectCore\r\n                                                            native\r\n                                                            value=\"\"\r\n                                                            onChange={(e) => this.selectMoreFields(e, e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\" disabled>Add more details</option>\r\n                                                            {this.state.commercialExtraFields.map(item => (\r\n                                                                <option value={item.value}\r\n                                                                        data-label={item.label}>{item.label}</option>\r\n                                                            ))}\r\n                                                        </SelectCore>\r\n                                                        </ThemeProvider>\r\n                                                    </FormControl>\r\n                                                </Col>\r\n                                            </Form.Group>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-form__section kt-form__section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n                                            <div className=\"kt-heading kt-heading--md\">Select or Upload Photos</div>\r\n                                            <div className=\"row mb-5\">\r\n                                                <div className=\"col-xs-12 col-md-12\">\r\n                                                    {/*<Button onClick={() => this.medialibraryAsset.current.galleryModalOpener()}\r\n                                                            className=\"btn btn-primary\">\r\n                                                        <i className=\"fa fa-upload\"></i> Select or Upload Images\r\n                                                    </Button>*/}\r\n                                                    <MediaLibrary modal={false} ref={this.medialibraryAsset}\r\n                                                                  user={selected_user.value ? selected_user.value: ''}\r\n                                                                  showLibrary={selected_user.value ? selected_user.value === \"\" ? false : true : false}\r\n                                                                  selected_images={this.state.selected_images}\r\n                                                                  insertImages={(images) => this.setState({selected_images: images})}/>\r\n                                                    <Form.Row>\r\n                                                        {this.state.selected_images && this.state.selected_images.length > 0 &&\r\n                                                        <FormGroup as={Col} xs=\"12\">\r\n                                                            <div className=\"kt-heading kt-heading--md\">Selected Images</div>\r\n                                                        </FormGroup>\r\n                                                        }\r\n                                                        <Form.Group as={Col} xs=\"12\">\r\n                                                            <Gallery enableLightbox={false} id=\"readonlygallery\" rowHeight={150}\r\n                                                                     margin={5}\r\n                                                                     enableImageSelection={true}\r\n                                                                     onSelectImage={(e) => this.removeImage(e)}\r\n                                                                     images={this.state.selected_images}\r\n                                                                     onClickThumbnail={(e) => this.onClickThumbnail(e)}/>\r\n                                                        </Form.Group>\r\n                                                    </Form.Row>\r\n                                                </div>\r\n                                            </div>\r\n                                            <Divider />\r\n                                            <div className=\"kt-heading kt-heading--md\">Upload Files</div>\r\n                                            <div className=\"row mt-5\">\r\n                                                <div className=\"col-xs-12 col-md-6\">\r\n                                                    <Dropzone\r\n                                                        inputContent=\"Drop or click to select a file.\"\r\n                                                        accept=\".pdf\"\r\n                                                        styles={{dropzone: {minHeight: 50}, inputLabel: {fontSize:'14px', margin: '0px'}}}\r\n                                                        getUploadParams={(data) => this.getUploadParams(data)}\r\n                                                        onChangeStatus={(data, status) => this.onAttachmentUpload(data, status)}\r\n                                                        maxSizeBytes={(1024 * 1024 * 2)}\r\n                                                        initialFiles={initialFiles}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-form__actions\">\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u mr-2\">\r\n                                        <Link to={\"/\" + USER_URL + \"/apu/asset\"}>\r\n                                            <i className=\"la la-long-arrow-left\"></i>\r\n                                            Cancel\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-prev\">\r\n                                        Previous\r\n                                    </div>\r\n                                    <Button type=\"submit\" onClick={(e) => this.setState({action: 'save_new'})}\r\n                                            className=\"btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                            data-ktwizard-type=\"action-submit\">\r\n                                        Submit\r\n                                    </Button>\r\n                                    <div\r\n                                        className=\"btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-next\">\r\n                                        Next Step\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <Modal show={this.state.modalDisplay} onHide={this.handleModalClose} centered>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>Suggest APU Information</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Category\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-category-id\"\r\n                                        onChange={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Manufacture\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-manufacture-id\"\r\n                                        onChange={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Type\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-type-id\"\r\n                                        onChange={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Model\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-model-id\"\r\n                                        onChange={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"secondary\" onClick={this.handleModalClose}>\r\n                                Cancel\r\n                            </Button>\r\n                            <Button variant=\"primary\" onClick={this.confirm}>\r\n                                Submit\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass CreatePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let type = props.match.params.type;\r\n        this.state = {errors: {}, showError: false};\r\n        this.state.type = type;\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                console.log(error);\r\n                                return <li key={index + i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n\r\n                <Create data={this.props} sendError={this.sendError}/>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(CreatePage);\r\n","import React from \"react\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Modal, Form, Col, Carousel} from \"react-bootstrap\";\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport {list, patch, MEDIA_URL, USER_URL, STATUSES, NO_IMAGE} from \"../../../crud/api\";\r\nimport {Paper, Grid} from \"@material-ui/core\";\r\nimport EasyEdit from 'react-easy-edit';\r\nimport Notice from \"../../../partials/content/Notice\";\r\n\r\n\r\nclass Detail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { apu_id, type } = this.props.data.match.params\r\n    const divStyle = {\r\n      padding : '15px'\r\n    };\r\n    this.txt_weight = {fontWeight:500}\r\n    this.handleModalShow = this.handleModalShow.bind(this);\r\n    this.handleModalClose = this.handleModalClose.bind(this);\r\n    this.confirm = this.confirm.bind(this);\r\n    this.state = {\r\n      type : type,\r\n      apu:{},\r\n      action:'',\r\n      showModal: false,\r\n      created_at: '',\r\n      updated_at: '',\r\n      image:[],\r\n      is_published: ''\r\n\r\n    };\r\n    this.getApu(apu_id);\r\n    this.divStyle = divStyle;\r\n  }\r\n\r\n  getApu(apu_id) {\r\n    list('apus/'+apu_id+'/').then(\r\n      (response) => {\r\n          delete response.data.type;\r\n          this.setState({\r\n              created_at : new Intl.DateTimeFormat().format(new Date(response.data.created_at)),\r\n              updated_at : new Intl.DateTimeFormat().format(new Date(response.data.updated_at)),\r\n              image: response.data.media ? response.data.media : null\r\n          });\r\n          this.props.setApuTitle(response.data.title, apu_id);\r\n          this.setState({apu : response.data})\r\n    });\r\n  }\r\n\r\n  handleChange(val, attr) {\r\n    var apu = this.state.apu;\r\n\r\n    apu[attr] = val;\r\n    this.setState({apu : apu})\r\n    patch('apus/'+this.state.apu.id+'/', this.state.apu).then(\r\n      (response) => {\r\n        this.setState({apu : response.data});\r\n    }).catch(error => {\r\n        this.props.sendError(error.response.data);\r\n    });\r\n  }\r\n\r\n  handleModalShow(event, action) {\r\n    var val = event.target.value;\r\n    if (action === 'status'){\r\n      val = parseInt(val);\r\n      this.setState({is_published : val === 1 ? 0:1})\r\n    }\r\n    this.setState({action: action});\r\n    this.setState({ showModal: true });\r\n  }\r\n\r\n  handleModalClose() {\r\n   this.setState({ showModal: false });\r\n  }\r\n\r\n  confirm() {\r\n    if(this.state.action === 'status') {\r\n      this.state.apu.is_published = this.state.is_published;\r\n      patch('apus/'+this.state.apu.id+'/', {is_published: this.state.is_published}).then(\r\n        (response) => {\r\n          delete response.data.type;\r\n          this.setState({apu : response.data});\r\n          this.setState({showModal : false});\r\n      }).catch(error => {\r\n          this.props.sendError(error.response.data);\r\n          this.setState({showModal : false});\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { validated, apu } = this.state;\r\n    return (\r\n        <div>\r\n          <Grid container spacing={3}>\r\n                <Grid item xs={12} md={9}>\r\n                  <div className=\"kt_section__detail\">\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Category</div>\r\n                                    <div>{apu.category ? apu.category.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Manfacturer</div>\r\n                                    <div>{apu.manufacturer ? apu.manufacturer.name : '---'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Type</div>\r\n                                    <div>{apu.type ? apu.type.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Model</div>\r\n                                    <div>{apu.model ? apu.model.name : '---'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Serial Number</div>\r\n                                    <div>{apu.serial_number ? apu.serial_number : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Part Number</div>\r\n                                    <div>{apu.part_number ? apu.part_number : '---'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Cycles Remaining (CR)</div>\r\n                                    <div>{apu.cycle_remaining ? apu.cycle_remaining : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Current Status</div>\r\n                                    <div>{apu.status ? apu.status : '---'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Thrust Rating</div>\r\n                                    <div>{apu.thrust_rating ? apu.thrust_rating : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">LSV Description</div>\r\n                                    <div>{apu.lsv_description ? apu.lsv_description : '---'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Thrust Rating</div>\r\n                                    <div>{apu.thrust_rating ? apu.thrust_rating : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Offer For</div>\r\n                                    <div>{apu.offer_for ? apu.offer_for : '---'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Availablility</div>\r\n                                    <div>{apu.availability ? new Intl.DateTimeFormat().format(new Date(apu.availability)) : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Current Location</div>\r\n                                    <div>{apu.current_location ? apu.current_location.name : '---'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Primary Contact</div>\r\n                                    <div>{apu.primary_contact ? apu.primary_contact.first_name + ' ' + apu.primary_contact.last_name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Owner</div>\r\n                                    <div>{apu.owner ? apu.owner.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Seller</div>\r\n                                    <div>{apu.seller ? apu.seller.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Additional details</div>\r\n                                    <div>{apu.description ? apu.description : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <hr/>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Views</div>\r\n                                    <div>{apu.views ? apu.views : 0}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Likes</div>\r\n                                    <div>{apu.likes ? apu.likes : 0}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Promote Status</div>\r\n                                    <div>{apu.is_featured ? 'Yes' : 'No'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Active Status</div>\r\n                                    <div>\r\n                                      {\r\n                                                apu.isactivestatus? STATUSES.map((val, i) => {\r\n                                                    if (val.value === apu.isactivestatus)\r\n                                                        return val.value\r\n                                                }) : '---'\r\n                                            }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Published Status</div>\r\n                                    <div>{apu.is_published ? apu.is_published : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Date Created</div>\r\n                                    <div>{this.state.created_at ? this.state.created_at : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Date Modified</div>\r\n                                    <div>{this.state.updated_at ? this.state.updated_at : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                    {this.state.image !== '' && this.state.image.length > 0  ?<Carousel>\r\n                            {this.state.image && this.state.image.map((image, index) => {\r\n                                return <Carousel.Item key={index}>\r\n                                    <img\r\n                                        className=\"d-block w-100\"\r\n                                        src={MEDIA_URL+image.original_file_name}\r\n                                    />\r\n                                </Carousel.Item>\r\n                            })\r\n                            }\r\n                        </Carousel>:\r\n                         <img className=\"d-block w-100\" src={NO_IMAGE} />\r\n                        }\r\n                </Grid>\r\n          </Grid>\r\n\r\n          <Modal show={this.state.showModal} onHide={this.handleModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Confirm</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n              <Button variant=\"danger\" onClick={this.confirm}>\r\n                Yes\r\n              </Button>\r\n              <Button variant=\"success\" onClick={this.handleModalClose}>\r\n                No\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass DetailPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let type = props.match.params.type;\r\n    this.state = {errors:{}, showError:false};\r\n    this.state.type = type;\r\n    this.sendError = this.sendError.bind(this);\r\n  }\r\n\r\n  sendError(error) {\r\n    if(Object.keys(error).length)\r\n      this.setState({showError:true});\r\n\r\n    this.setState({errors:error});\r\n  }\r\n    setApuTitle = (title, id) => {\r\n        let apuName = title.toLowerCase();\r\n        if(apuName.includes('-yom-')){\r\n            apuName = apuName.split('-yom-')[0].replace(/-/g,' ')\r\n        }else{\r\n            apuName = apuName.replace(/-/g,' ')\r\n        }\r\n        this.setState({apu_title:apuName, apu_url: id+'-'+title.toLowerCase()});\r\n      }\r\n  render() {\r\n    return (\r\n      <>\r\n      <Notice icon=\"flaticon-warning kt-font-primary\" style={{display: this.state.showError ? 'flex' : 'none' }}>\r\n        {\r\n          Object.keys(this.state.errors).map((key, index) => {\r\n            return this.state.errors[key].map((error, i) => {\r\n              console.log(error);\r\n              return <li key={index+i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n            });\r\n          })\r\n        }\r\n        </Notice>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <CustomHead\r\n              beforeCodeTitle={<h3 class=\"kt-portlet__head-title\" style={{textTransform: 'capitalize'}}>\r\n              <a target=\"_blank\" href={\"/apu/\"+this.state.apu_url}>{this.state.apu_title}</a>\r\n              </h3>}\r\n              jsCode =   {<div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                  <div className=\"dropdown dropdown-inline\">\r\n                      <Link to={\"/\"+USER_URL+\"/apu/asset\"} className=\"btn btn-clean btn-icon-sm\">\r\n                        <i className=\"la la-long-arrow-left\"></i>\r\n                        Back\r\n                      </Link>\r\n                      <Link\r\n                        to={\"/\"+USER_URL+\"/apu/asset/\" + this.props.match.params.apu_id + \"/edit\"}\r\n                        className=\"btn btn-primary\">\r\n                        <i className=\"la la-edit\"/>\r\n                        Edit\r\n                      </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> }\r\n            >\r\n              <div className=\"kt-section\">\r\n                <Detail data={this.props} setApuTitle={(title, id)=> this.setApuTitle(title, id)} sendError={this.sendError} />\r\n              </div>\r\n            </CustomHead>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(DetailPage);","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport {\r\n    IconButton, Paper, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent\r\n} from '@material-ui/core';\r\nimport { list, patch, del, API_URL, USER_URL, LOCAL_STORAGE} from \"../../crud/api\";\r\nimport {Button, Dropdown, Modal} from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.css\";\r\nimport \"datatables.net-responsive-bs4/css/responsive.bootstrap4.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Notice from \"../../partials/content/Notice\";\r\nimport { setPageNum, getPageNum } from \"../../helpers/listing\";\r\nimport {ReactComponent as SortNum1Icon} from \"../../../_metronic/layout/assets/layout-svg-icons/SortNum1.svg\";\r\n\r\nconst QuickActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <button\r\n        ref={ref}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          onClick(e);\r\n        }}\r\n        className=\"btn kt-header__btn-primary\"\r\n    >\r\n      Actions\r\n      <SortNum1Icon className=\"kt-svg-icon kt-svg-icon--sm\" />\r\n    </button>\r\n));\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(0),\r\n    paddingRight: theme.spacing(0),\r\n    display: 'block',\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  spacer: {\r\n    flex: '1 1 100%',\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    flex: '0 0 auto',\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = props => {\r\n  const classes = useToolbarStyles();\r\n  const { numSelected, type, selected, setSelected, setSelectedMany, setRowsData, rows, setTemp } = props;\r\n\r\n\r\n  function handleDelAll(event) {\r\n    if(selected.length) {\r\n      let data = {ids:selected}\r\n      del('contacts/'+selected[0]+'/', data).then(function (response) {\r\n        // here removing rows from dt-table that are deleted from database\r\n        for(let i in rows){\r\n          if(selected.indexOf(rows[i].id) > -1) {\r\n            delete rows[i];\r\n          }\r\n        }\r\n        setRowsData(rows);\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n        setSelectedMany(false);\r\n\r\n        // no use as such - just to trigger state udpate :(\r\n        const newArr = [];\r\n        newArr.push(1);\r\n        setTemp(newArr);\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n        <div className=\"kt-portlet__head kt-portlet__head--lg\">\r\n            <div className=\"kt-portlet__head-label\">\r\n              <span className=\"kt-portlet__head-icon\">\r\n                <i className=\"kt-font-brand flaticon-avatar\" />\r\n              </span>\r\n                {numSelected > 0 ? (\r\n                  <Typography color=\"inherit\" variant=\"subtitle1\">\r\n                    {numSelected} selected\r\n                  </Typography>\r\n                ) : (\r\n                  <h3 className=\"kt-portlet__head-title\">\r\n                   Contacts\r\n                  </h3>\r\n                )}\r\n            </div>\r\n            <div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                  <div className=\"dropdown dropdown-inline\">\r\n                      {numSelected > 0 ? (\r\n                          <Tooltip title=\"Delete\">\r\n                            <IconButton onClick={(e) => handleDelAll(e)} aria-label=\"Delete\">\r\n                              <DeleteIcon />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                      ) : (\r\n                            <Link to={\"/\"+USER_URL+\"/contacts/create\"} className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm\">\r\n                                <i className=\"la la-plus\"></i>\r\n                                New Record\r\n                            </Link>\r\n                      )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  selected: PropTypes.array.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  close: {\r\n    padding: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nconst $ = require('jquery');\r\n$.DataTable = require('datatables.net-responsive-bs4');\r\n\r\nfunction updateTable(type) {\r\n    const table = $('#contacts').DataTable();\r\n    table.ajax.reload(null, false);\r\n}\r\n\r\nfunction parseRowData(rowData) {\r\n    if( Array.isArray(rowData) && rowData.length > 0){\r\n    rowData.forEach(function(item, index){\r\n        if(item.company)\r\n            rowData[index]['company__name'] = item.company.name;\r\n        else\r\n            rowData[index]['company__name'] = '';\r\n        if(item.job_title)\r\n            rowData[index]['job_title__name'] = item.job_title.name;\r\n        else\r\n            rowData[index]['job_title__name'] = '';\r\n\r\n        rowData[index]['first_name'] = item.first_name+' '+item.last_name;\r\n        rowData[index]['actions'] = rowData[index]['checkbox'] = '';\r\n    });\r\n  }\r\n  return rowData;\r\n}\r\n\r\nconst ActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <a\r\n      ref={ref}\r\n      onClick={e => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n      id=\"kt_dashboard_daterangepicker\"\r\n      className=\"btn btn-sm btn-clean btn-icon btn-icon-md\"\r\n    >\r\n      {\" \"}\r\n      <i className=\"la la-ellipsis-h\"></i>\r\n    </a>\r\n));\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [rows, setRowsData] = React.useState([]);\r\n  const [count, setCount] = React.useState(0); // set counter for onload functions\r\n  const [show, setModalDisplay] = React.useState(false); // set modal to show/hide\r\n  const [userIndex, setUser] = React.useState(0); //selected user to perform actions\r\n  const [action, setAction] = React.useState({}); // selected action\r\n  const [temp, setTemp] = React.useState([]); // selected action\r\n  const [isSelectedMany, setSelectedMany] = React.useState(false);\r\n  const [open, setOpen] = React.useState(false); // show/hide Snackbar\r\n  const [message, setMessage] = React.useState('Changes applied successfully!'); // set Messageconst [table, setTable] = React.useState(false); // selected action\r\n  const [table, setTable] = React.useState(false); // selected action\r\n  let history = useHistory();\r\n  let type = props.match.params.type;\r\n\r\n  React.useEffect(() => {\r\n      if($.fn.dataTable.isDataTable( '#contacts' )) {\r\n        let table = $('#contacts').DataTable();\r\n        table.destroy();\r\n        setTable(true);\r\n        setRowsData([]);\r\n      }\r\n      return () => {\r\n          setRowsData([]);\r\n          let dtable = $('#contacts').DataTable();\r\n          dtable.destroy(true);\r\n          setTable(true);\r\n      }\r\n\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (table && $.fn.dataTable.isDataTable( '#contacts' ) ) {\r\n        if(JSON.stringify(rows) !== JSON.stringify(window.prevRows)){\r\n          window.prevRows = rows;\r\n        }\r\n      } else {\r\n        setTable(true);\r\n        loadDatatable();\r\n      }\r\n    }, [rows]);\r\n\r\n\r\n  function loadDatatable() {\r\n    let url = API_URL+'contacts?format=datatables';\r\n    let columnDefs = [\r\n      { \"bVisible\": false, \"aTargets\": [1] },\r\n      {\r\n        targets: 0,\r\n        width: '30px',\r\n        orderable: false,\r\n        searchable:false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n          ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(rowData.id)}\r\n          onChange={event => handleClick(event, rowData.id, td, row)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${row}` }}\r\n          />\r\n          , td\r\n          );\r\n        },\r\n      },\r\n      {\r\n        targets: 2,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            let contactSlug = '';\r\n            contactSlug = rowData.id+'-'+rowData.first_name.replace(/\\s+/g, '-').toLowerCase();\r\n          ReactDOM.render(\r\n          <a target=\"_blank\" style={{ cursor: 'pointer' }} href={\"/contact/\"+contactSlug}>\r\n          {cellData}\r\n          </a>\r\n              , td\r\n          );\r\n        }\r\n      },\r\n        {\r\n        targets: 4,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            let companySlug = '';\r\n            companySlug = rowData.company && rowData.company.id ? rowData.company.id+'-'+rowData.company__name.replace(/\\s+/g, '-').toLowerCase() : rowData.company__name.replace(/\\s+/g, '-').toLowerCase();\r\n          ReactDOM.render(\r\n          <a target=\"_blank\" style={{ cursor: 'pointer' }} href={\"/company/\"+companySlug}>\r\n          {cellData}\r\n          </a>\r\n              , td\r\n          );\r\n        }\r\n      },\r\n      {\r\n        targets: 5,\r\n        title: 'Status',\r\n        orderable: false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            ReactDOM.render(\r\n                  <span onClick={(e) => handleModalShow(e, row, 'status')} className={cellData === 1 ? 'kt-switch kt-switch--sm kt-switch--success':'kt-switch kt-switch--sm kt-switch--danger'}>\r\n                  <label>\r\n                    <input\r\n                      type=\"checkbox\" checked={cellData === 1 ? 'defaultChecked':''}\r\n                      name=\"quick_panel_notifications_1\"\r\n                    />\r\n                    <span />\r\n                  </label>\r\n                </span>, td\r\n              );\r\n        }\r\n      }\r\n    ];\r\n    columnDefs.push(\r\n          {\r\n            targets: 6,\r\n            title: 'Actions',\r\n            orderable: false,\r\n            searchable:false,\r\n            \"createdCell\": function (td, cellData, rowData, row, col) {\r\n              ReactDOM.render(\r\n              <Dropdown className=\"kt-header__topbar-item\" drop=\"down\" alignLeft>\r\n              <Dropdown.Toggle as={ActionsDropdownToggle} />\r\n                  <Dropdown.Menu  className=\"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround\">\r\n                <Dropdown.Item onClick={() => history.push(\"/\"+USER_URL+\"/contacts/\"+rowData.id) }><i className=\"flaticon-eye\"></i> Views Details</Dropdown.Item>\r\n                <Dropdown.Item onClick={() => history.push(\"/\"+USER_URL+\"/contacts/\"+rowData.id+\"/edit\") }><i className=\"flaticon2-edit\"></i> Edit Details</Dropdown.Item>\r\n                <Dropdown.Item onClick={(e) => handleModalShow(e, row, 'delete')}><i className=\"flaticon2-trash\"></i> Remove</Dropdown.Item>\r\n              </Dropdown.Menu>\r\n              </Dropdown>\r\n                  , td\r\n              );\r\n            }\r\n          },);\r\n\r\n    $('#contacts').DataTable({\r\n      responsive: {\r\n        details: {\r\n          renderer: $.fn.dataTable.Responsive.renderer.listHiddenNodes()\r\n        }\r\n      },\r\n      serverSide:true,\r\n      displayStart : getPageNum('contacts', props),\r\n      ajax: {\r\n        url:url ,\r\n        method: \"GET\",\r\n        headers: {'Content-Type': 'application/json', 'Authorization': 'Token '+JSON.parse(localStorage.getItem(LOCAL_STORAGE)).authToken.replace(/['\"]+/g, '')},\r\n        \"dataFilter\": function(data) {\r\n          let json = JSON.parse(data);\r\n          let rowData = parseRowData(json.data);\r\n          setRowsData(rowData);\r\n          json.data = rowData;\r\n          return JSON.stringify(json); // return JSON string\r\n        },\r\n      },\r\n\r\n      // DOM Layout settings\r\n      dom: `<'row'<'col-sm-12'tr>>\r\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\r\n\r\n      lengthMenu: [5, 10, 25, 50],\r\n\r\n      pageLength: 10,\r\n      pagingType: 'numbers',\r\n      recordsTotal: rows.recordsTotal, // The number in my test data set\r\n      recordsFiltered: rows.recordsFiltered,\r\n\r\n      language: {\r\n        'lengthMenu': 'Display _MENU_',\r\n      },\r\n\r\n      // Order settings\r\n      order: [[5, 'desc']],\r\n      columnDefs:columnDefs ,\r\n    });\r\n    $('#contacts').on( 'page.dt', function () {             \r\n      setPageNum($('#contacts'), 'contacts', props);\r\n    });\r\n  }\r\n\r\n  function handleRequestSort(event, property) {\r\n    const isDesc = orderBy === property && order === 'desc';\r\n    setOrder(isDesc ? 'asc' : 'desc');\r\n    setOrderBy(property);\r\n  }\r\n\r\n  function handleSelectAllClick(event) {\r\n\r\n    if (event.target.checked) {\r\n        const sel = selected;\r\n      const newSelecteds = rows.map(n => n.id);\r\n        newSelecteds.forEach(v => {\r\n         sel.push(v)\r\n       })\r\n      setSelected(sel);\r\n    }else{\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n    }\r\n    if(isSelectedMany)\r\n      setSelectedMany(false);\r\n    else\r\n      setSelectedMany(true);\r\n\r\n    updateTable(type);\r\n\r\n  }\r\n\r\n  function handleClick(event, id, td, idx) {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    const sel =selected;\r\n\r\n    if(selectedIndex === -1){\r\n        sel.push(id);\r\n    }else{\r\n        sel.splice(selectedIndex, 1);\r\n    }\r\n    setSelected(sel);\r\n    const newArr = [...temp];\r\n    newArr.push(1);\r\n    setTemp(newArr);\r\n    // updateTable(type);\r\n    const table = $('#contacts').DataTable();\r\n    table.cell( td ).render(ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(id)}\r\n          onChange={event => handleClick(event, id, td, idx)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${idx}` }}\r\n          />\r\n          , td\r\n    ));\r\n  }\r\n\r\n  function handleChangePage(event, newPage) {\r\n    setPage(newPage);\r\n  }\r\n\r\n  function handleChangeRowsPerPage(event) {\r\n    setRowsPerPage(+event.target.value);\r\n  }\r\n\r\n  function handleChangeDense(event) {\r\n    setDense(event.target.checked);\r\n  }\r\n\r\n  function handleSearch(event) {\r\n    const table = $('#contacts').DataTable();\r\n    table.search( event.target.value ).draw();\r\n  }\r\n\r\n  function handleModalClose(event) {\r\n    setModalDisplay(false);\r\n  }\r\n\r\n  function handleModalShow(event, index, act) {\r\n    setUser(index);\r\n    setAction(act)\r\n    setModalDisplay(true);\r\n  }\r\n\r\n\r\n  function confirm(event) {\r\n    if(action == 'status') {\r\n      var data = {'is_published': rows[userIndex].is_published === 1 ? 0:1};\r\n      patch('contacts/'+rows[userIndex].id+'/', data).then(function (response) {\r\n        let rowsData = rows.filter((v,i) => i !== userIndex);\r\n        setRowsData([...rowsData, response.data]);\r\n        setModalDisplay(false);\r\n        updateTable(type);\r\n        setOpen(true);\r\n        const statusType = response.data.is_published === 1 ? 'activated' : 'deactivated';\r\n        setMessage('Record successfully '+statusType);\r\n      })\r\n    } else if(action == 'delete') {\r\n      del('contacts/'+rows[userIndex].id+'/').then(function (response) {\r\n          let rowsData = rows.filter((v,i) => i !== userIndex);\r\n          setRowsData(rowsData);\r\n        setModalDisplay(false);\r\n        updateTable(type);\r\n        setOpen(true);\r\n        setMessage('Record successfully deleted');\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleCloseSnackbar = (event, reason) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isSelected = id => selected.indexOf(id) !== -1;\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.tableWrapper}>\r\n        <div className=\"kt-portlet kt-portlet--mobile\">\r\n            <EnhancedTableToolbar setTemp={setTemp} setRowsData={setRowsData} rows={rows} setSelectedMany={setSelectedMany} setSelected={setSelected} selected={selected} numSelected={selected.length} type={type} />\r\n          <div className=\"kt-portlet__body\">\r\n\r\n            <div className=\"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-xl-12 order-2 order-xl-1\">\r\n                  <div className=\"row align-items-center\">\r\n                    <div className=\"col-md-4 kt-margin-b-20-tablet-and-mobile\">\r\n                      <div className=\"kt-input-icon kt-input-icon--left\">\r\n                        <input onKeyUp={handleSearch}  type=\"text\" className=\"form-control\" placeholder=\"Search...\" id=\"generalSearch\" />\r\n                        <span className=\"kt-input-icon__icon kt-input-icon__icon--left\">\r\n                          <span><i className=\"la la-search\" /></span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n \r\n            <div className=\"kt-section\">\r\n                <div>\r\n                  <table className=\"table table-striped- table-bordered table-hover table-checkable\" id={\"contacts\"}>\r\n                      <thead>\r\n                      <tr>\r\n                          <th data-data=\"checkbox\">\r\n                              <Checkbox\r\n                                checked={isSelectedMany}\r\n                                onChange = {handleSelectAllClick}\r\n                                inputProps={{\r\n                                  'aria-label': 'primary checkbox',\r\n                                }}\r\n                              />\r\n                          </th>\r\n                          <th data-data=\"id\">ID</th>\r\n                          <th data-data=\"first_name\">Name</th>\r\n                          <th data-data=\"job_title__name\">Job Title</th>\r\n                          <th data-data=\"company__name\">Company</th>\r\n                          <th data-data=\"is_published\">Status</th>\r\n                          <th data-data=\"actions\">Actions</th>\r\n                      </tr>\r\n                      </thead>\r\n                  </table>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </Paper>\r\n        <Modal show={show} onHide={handleModalClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Confirm</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Footer>\r\n            <Button variant=\"success\" onClick={confirm}>\r\n              Yes\r\n            </Button>\r\n            <Button variant=\"danger\" onClick={handleModalClose}>\r\n              No\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Snackbar\r\n            anchorOrigin={{\r\n              vertical: 'top',\r\n              horizontal: 'right',\r\n            }}\r\n            open={open}\r\n            autoHideDuration={1600000}\r\n            onClose={handleCloseSnackbar}\r\n          >\r\n            <SnackbarContentWrapper\r\n              onClose={handleCloseSnackbar}\r\n              variant=\"success\"\r\n              message={message}\r\n            />\r\n        </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Notice from \"../../partials/content/Notice\";\r\nimport CustomHead from \"../../partials/content/CustomHeader.js\";\r\nimport { Button, Form, Col} from \"react-bootstrap\";\r\nimport {\r\n  Checkbox,\r\n  FormControlLabel,FormGroup,\r\n  FormControl, Button as ButtonCore,\r\n} from \"@material-ui/core\";\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { list, post, RELIGIONS, GENDERS,DROPDOWN_WAIT, CONTACT_METHODS, TITLES, USER_URL, loadOptions } from \"../../crud/api\";\r\nimport Select from 'react-select';\r\nimport {CloudUpload as CloudUploadIcon} from \"@material-ui/icons\";\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider,DatePicker } from \"@material-ui/pickers\";\r\nimport { createMuiTheme } from \"@material-ui/core\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport moment from \"moment\";\r\nimport AsyncPaginate from \"react-select-async-paginate\";\r\n\r\nconst defaultMaterialTheme = createMuiTheme({\r\n  props: {\r\n    MuiInput:{\r\n      disableUnderline: true,\r\n    },\r\n    MuiTextField:{\r\n      style: {\r\n          display: \"block\",\r\n      },\r\n    },\r\n    MuiInputBase: {\r\n      style: {\r\n          display: \"block\",\r\n      },\r\n      disableUnderline: true,\r\n      inputProps: {\r\n        style: {\r\n          display: \"block\",\r\n          height: \"calc(1.5em + 1.3rem + 2px)\",\r\n          padding: \"0.65rem 1rem\",\r\n          fontSize: \"1rem\",\r\n          fontWeight: \"400\",\r\n          lineHeight: \"1.5\",\r\n          color: \"#495057\",\r\n          backgroundColor: \"#fff\",\r\n          backgroundClip: \"padding-box\",\r\n          border: \"1px solid #e2e5ec\",\r\n          borderRadius: \"4px\",\r\n          transition: \"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n          boxSizing: \"border-box\",\r\n        }\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nclass Create extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { type } = this.props.data.match.params\r\n    this.state = { \r\n      validated: false, \r\n      contact:{}, \r\n      job_titles:[],\r\n      departments:[],\r\n      companies:[],\r\n      countries:[],\r\n      states:[],\r\n      cities:[],\r\n      action:'',\r\n      selected_gender:{value:''},\r\n      selected_job_title: {value:''},\r\n      selected_department: {value:''},\r\n      selected_company: {value:''},\r\n      selected_country: {value:''},\r\n      selected_state: {value:''},\r\n      selected_city: {value:''},\r\n      selected_religion: {value:''},\r\n      selected_preferred_contact_method: {value:''},\r\n      selected_title:{value:''},\r\n      type: type,\r\n      selectedFile: null,\r\n      previewFile: null,\r\n    };\r\n\r\n    this.loadModels();\r\n\r\n  }\r\n\r\n    loadModels() {\r\n        let models = {\r\n            'AbCompanies': {},\r\n            'AbDepartments': {},\r\n            'AbTitles': {},\r\n            'AbCountries': {},\r\n        }\r\n        post('abmodels', {models: models}).then(function (response) {\r\n            for (let opt in response.data) {\r\n\r\n                response.data[opt].map((row, i) => {\r\n                    response.data[opt][i].label = row.name;\r\n                    response.data[opt][i].value = row.id;\r\n                })\r\n            }\r\n            this.setState({\r\n                companies: response.data.AbCompanies,\r\n                departments: response.data.AbDepartments,\r\n                job_titles: response.data.AbTitles,\r\n                countries: response.data.AbCountries,\r\n                modelsLoaded: true\r\n            })\r\n        }.bind(this))\r\n    }\r\n\r\n/*  getDropdownsListing() {\r\n    let dropdowns = {// when you have database dropdown like departments just put here\r\n            company: 'companies', \r\n            department : 'departments', \r\n            job_title : 'job_titles', \r\n            country : 'countries', \r\n            // city : 'cities', \r\n            // state : 'states',\r\n          }\r\n\r\n    // database generated dropdowns - show selected value\r\n\r\n    let dropdown_keys = Object.keys(dropdowns);\r\n    for(let key in dropdown_keys) {\r\n      let params = {records:'all'}\r\n      if(dropdowns[dropdown_keys[key]] === 'companies')\r\n        params = {records:'all', 'available':true}\r\n\r\n      list(dropdowns[dropdown_keys[key]], params).then(function(response){\r\n          let data = response.data;\r\n          let selected = {};\r\n          for(let opt in data){\r\n            if(this.state.contact[dropdown_keys[key]] != undefined && data[opt].id === this.state.contact[dropdown_keys[key]].id) {\r\n              selected['label'] = data[opt].name;\r\n              selected['value'] = data[opt].id;\r\n            }\r\n            data[opt].label = data[opt].name;    \r\n            data[opt].value = data[opt].id;   \r\n          }  \r\n\r\n            console.log(selected);\r\n          this.setState({[dropdowns[dropdown_keys[key]]]: data, ['selected_'+dropdown_keys[key]]:selected});\r\n\r\n      }.bind(this));\r\n    }\r\n  }\r\n*/\r\n  handleChange(event, type) {\r\n    var contact = this.state.contact;\r\n    if(type !== 'birthday'){\r\n      var attr = event.target.name;\r\n      var val = event.target.value;\r\n    }else{\r\n      var attr = type;\r\n      var val = moment(event).format(\"YYYY-MM-DD\");\r\n      this.setState({birthday : event})\r\n    }\r\n    if(attr === 'is_active')\r\n      val = parseInt(val);\r\n    contact[attr] = val;\r\n    this.setState({contact : contact})\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    const form = event.currentTarget;\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.setState({ validated: true });\r\n    this.state.contact.department = this.state.selected_department.value;\r\n    this.state.contact.company = this.state.selected_company.value;\r\n    this.state.contact.country = this.state.selected_country.value;\r\n    this.state.contact.state = this.state.selected_state.value;\r\n    this.state.contact.city = this.state.selected_city.value;\r\n    this.state.contact.job_title = this.state.selected_job_title.value;\r\n    this.state.contact.religion = this.state.selected_religion.value;\r\n    this.state.contact.gender = this.state.selected_gender.value;\r\n    this.state.contact.preferred_contact_method = this.state.selected_preferred_contact_method.value;\r\n\r\n    post('contacts', this.state.contact).then(\r\n      (response) => {\r\n        delete response.data.type;\r\n        this.setState({contact : response.data});\r\n        this.state.action == 'save_new' ? this.clearForm(\"parts-form\") : this.props.data.history.push(\"/\"+USER_URL+\"/contacts\");\r\n    }).catch(error => { \r\n        this.props.sendError(error.response.data);\r\n    });\r\n  }\r\n\r\n  fileChangedHandler = (event) => {\r\n    let contact = this.state.contact;\r\n    let file = event.target.files[0];\r\n    this.setState({\r\n      previewFile: URL.createObjectURL(file)\r\n    });\r\n    if(file != undefined) {\r\n      file.size_c = file.size/1024;\r\n\r\n      if((file.size_c)/1024 > 2) {\r\n        file.size_c = (file.size_c/1024).toFixed(2) + ' MB';\r\n        file.error = \"Error: File is too big\";\r\n        contact.file = {};\r\n        this.setState({selectedFile:file});\r\n      } else {\r\n        file.error = null;\r\n        file.size_c = file.size_c.toFixed(2)+' KB';\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onloadend = () => {\r\n          contact.file = reader.result;\r\n          this.setState({ selectedFile: file, contact:contact });\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  handleFileRemove = (event) => {\r\n    let contact = this.state.contact;\r\n    contact.file = {}\r\n    this.setState({selectedFile:null, contact:contact, previewFile: null})\r\n    document.getElementById('contact-image-upload').value = '';\r\n  }\r\n\r\n  selectChange(value, key) {\r\n    let contact = this.state.contact;\r\n    contact[key] = value.value;\r\n    this.setState({ ['selected_'+key]: value, contact: contact});\r\n\r\n    if(key === 'country' || key === 'state') {\r\n      let endpoint = '', params={}, key_to_update = '';\r\n      if(key === 'country'){\r\n        endpoint = 'states';\r\n        params = {is_active:1, country_id:value.id}\r\n        key_to_update = 'state';\r\n      }\r\n      else {\r\n        endpoint = 'cities';\r\n        params = {is_active:1, state_id:value.id}\r\n        key_to_update = 'city';\r\n      }\r\n\r\n      list(endpoint, params).then(function(response){\r\n          let data = response.data;\r\n          let selected = {};\r\n          for(let opt in data){\r\n            if(this.state.contact[key_to_update] != undefined && data[opt].id === this.state.contact[key_to_update].id) {\r\n              selected['label'] = data[opt].name;\r\n              selected['value'] = data[opt].id;\r\n            }\r\n            data[opt].label = data[opt].name;    \r\n            data[opt].value = data[opt].id;   \r\n          }  \r\n          \r\n          this.setState({[endpoint]: data, ['selected_'+key_to_update]:selected});\r\n\r\n      }.bind(this));\r\n    }\r\n\r\n  }\r\n  \r\n  clearForm = (id) => { \r\n        this.props.data.history.replace(\"/\"+USER_URL+\"/contacts\");\r\n        this.props.data.history.replace(\"/\"+USER_URL+\"/contacts/create\");\r\n  }\r\n  render() {\r\n    const { birthday, modelsLoaded, contact, job_titles, departments, selected_job_title, selected_religion,\r\n      selected_department, selected_company, companies, selected_country, selected_gender,\r\n      selected_state, selected_title, selected_city, countries, cities, states, \r\n      selected_preferred_contact_method, selectedFile} = this.state;\r\n    return (\r\n      <Form\r\n        noValidate\r\n        id=\"create-contact-from\"\r\n        onSubmit={e => this.handleSubmit(e)}\r\n      >\r\n       <Form.Row>\r\n          <div className=\"col-12\">\r\n            <h5>Personal Information</h5>\r\n            <hr/>\r\n          </div>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Title</Form.Label>\r\n            <Select\r\n              value={selected_title}\r\n              model=\"contact\"\r\n              name=\"title\"\r\n              onChange={e => this.selectChange(e, 'title')}\r\n              options={TITLES}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>First Name *</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"first_name\"\r\n              name=\"first_name\"\r\n              defaultValue={contact ? contact.first_name:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Last Name *</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"last_name\"\r\n              defaultValue={contact ? contact.last_name:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Birthday</Form.Label>\r\n            <ThemeProvider theme={defaultMaterialTheme}>\r\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n              <DatePicker\r\n                minDate = {new Date('1990-01-01')}\r\n                value={birthday}\r\n                format=\"dd/MM/yyyy\"\r\n                onChange={e => this.handleChange(e, 'birthday')}\r\n                animateYearScrolling\r\n              />\r\n            </MuiPickersUtilsProvider>\r\n            </ThemeProvider>\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Gender</Form.Label>\r\n            <Select\r\n              value={selected_gender}\r\n              model=\"contact\"\r\n              name=\"gender\"\r\n              onChange={e => this.selectChange(e, 'gender')}\r\n              options={GENDERS}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n       <Form.Row>\r\n          <div className=\"col-12\">\r\n            <h5>Company Info</h5>\r\n            <hr/>\r\n          </div>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"4\">\r\n          <Form.Label>Job Title</Form.Label>\r\n            <AsyncPaginate\r\n                model=\"job_title\"\r\n                isClearable={true}\r\n                escapeClearsValue={true}\r\n                value={selected_job_title}\r\n                name=\"name\"\r\n                loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, job_titles, modelsLoaded)}\r\n                onChange={e => this.selectChange(e, 'job_title')}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Department</Form.Label>\r\n            <Select\r\n              value={selected_department}\r\n              model=\"department\"\r\n              name=\"name\"\r\n              onChange={e => this.selectChange(e, 'department')}\r\n              options={departments}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Company Name</Form.Label>\r\n            <AsyncPaginate\r\n                debounceTimeout={!modelsLoaded ? DROPDOWN_WAIT : 0}\r\n                model=\"company\"\r\n                isClearable={true}\r\n                escapeClearsValue={true}\r\n                value={selected_company}\r\n                name=\"name\"\r\n                loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                onChange={e => this.selectChange(e, 'company')}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n       <Form.Row>\r\n          <div className=\"col-12\">\r\n            <h5>Address Information</h5>\r\n            <hr/>\r\n          </div>\r\n        </Form.Row>\r\n\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"3\" xs=\"12\">\r\n            <Form.Label>Address</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"address\"\r\n              defaultValue={contact.address ? contact.address:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"3\" xs=\"12\">\r\n            <Form.Label>Country</Form.Label>\r\n            <AsyncPaginate\r\n                model=\"country\"\r\n                isClearable={true}\r\n                escapeClearsValue={true}\r\n                value={selected_country}\r\n                name=\"name\"\r\n                loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                onChange={e => this.selectChange(e, 'country')}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"3\" xs=\"12\">\r\n            <Form.Label>State</Form.Label>\r\n            <Select\r\n              value={selected_state}\r\n              model=\"state\"\r\n              name=\"name\"\r\n              onChange={e => this.selectChange(e, 'state')}\r\n              options={states}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"3\" xs=\"12\">\r\n            <Form.Label>City</Form.Label>\r\n            <Select\r\n              value={selected_city}\r\n              model=\"city\"\r\n              name=\"name\"\r\n              onChange={e => this.selectChange(e, 'city')}\r\n              options={cities}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Business Phone</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"business_phone\"\r\n              defaultValue={contact.business_phone ? contact.business_phone:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Mobile Phone</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"mobile_phone\"\r\n              defaultValue={contact.mobile_phone ? contact.mobile_phone:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Preferred contact method</Form.Label>\r\n            <Select\r\n              value={selected_preferred_contact_method}\r\n              model=\"contact\"\r\n              name=\"preferred_contact_method\"\r\n              onChange={e => this.selectChange(e, 'preferred_contact_method')}\r\n              options={CONTACT_METHODS}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Skpye</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"skype\"\r\n              defaultValue={contact.skype ? contact.skype:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Linkedin</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"linkedin\"\r\n              defaultValue={contact.linkedin ? contact.linkedin:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Religion</Form.Label>\r\n            <Select\r\n              value={selected_religion}\r\n              model=\"contacts\"\r\n              name=\"religion\"\r\n              onChange={e => this.selectChange(e, 'religion')}\r\n              options={RELIGIONS}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <FormGroup row>\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox name=\"is_primary\" checked={contact.is_primary ? true:false} onChange={(e) => this.handleChange(e)} value=\"1\" />\r\n            }\r\n            label=\"Primary\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox name=\"is_public\" checked={contact.is_public ? true:false} onChange={(e) => this.handleChange(e)} value=\"1\" />\r\n            }\r\n            label=\"Public\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox name=\"is_published\" checked={contact.is_published ? true:false} onChange={(e) => this.handleChange(e)} value=\"1\" />\r\n            }\r\n            label=\"Published\"\r\n          />\r\n        </FormGroup>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"12\">\r\n              <input\r\n                accept=\"image/*\"\r\n                style={{display: 'none'}}\r\n                type=\"file\"\r\n                id=\"contact-image-upload\"\r\n                name= \"image\"\r\n                onChange={this.fileChangedHandler}\r\n              />\r\n              <br />\r\n              <label htmlFor=\"contact-image-upload\">\r\n                <ButtonCore variant=\"outlined\" color=\"inherit\" component=\"span\">\r\n                  Select Image\r\n                  <CloudUploadIcon style={{marginLeft: '5px'}} />\r\n                </ButtonCore>\r\n              </label>\r\n              <div className=\"form-group form-group-last row\">\r\n                <div className=\"col-12 col-md-4\">\r\n                  <div className=\"dropzone dropzone-multi\" id=\"kt_dropzone_5\">\r\n                    <div className=\"dropzone-items\" style={{display:selectedFile ? 'block':'none'}}>\r\n                      <div className=\"dropzone-item\" >\r\n                        <div className=\"dropzone-file\">\r\n                          {this.state.previewFile &&\r\n                            <div style={{'max-width':'250px'}}><img style={{ width: \"100%\" }} src={this.state.previewFile} /></div>\r\n                          }\r\n                          <div className=\"dropzone-filename\" title=\"some_image_file_name.jpg\">\r\n                            <span data-dz-name>{selectedFile ? selectedFile.name : 'No file selected'}</span> <strong>(<span  data-dz-size>{selectedFile && selectedFile.size_c ? selectedFile.size_c : ''}</span>)</strong>\r\n                          </div>\r\n                          <div className=\"dropzone-error\" data-dz-errormessage>{selectedFile && selectedFile.error ? selectedFile.error : ''}</div>\r\n                        </div>\r\n                        <div className=\"dropzone-toolbar\">\r\n                          <span onClick={(e)=>this.handleFileRemove(e)} className=\"dropzone-delete\" data-dz-remove><i className=\"flaticon2-cross\"></i></span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <span className=\"form-text text-muted\">Max file size is 2MB.</span>\r\n                </div>\r\n              </div>\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Button type=\"submit\" onClick={(e) => this.setState({action:'save'})} className=\"btn btn-primary\">\r\n          <i className=\"la la-save\" />\r\n          Save & Close\r\n        </Button>\r\n        &nbsp;&nbsp;\r\n\r\n        <Button type=\"submit\" onClick={(e) => this.setState({action:'save_new'})} className=\"btn btn-success\">\r\n          <i className=\"la la-save\" />\r\n          Save & New\r\n        </Button>\r\n        &nbsp;&nbsp;\r\n\r\n        <Link to={\"/\"+USER_URL+\"/contacts\"} className=\"btn btn-danger\">\r\n          <i className=\"la la-remove\" />\r\n          Cancel\r\n        </Link>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nclass CreatePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {errors:{}, showError:false, type:props.match.params.type};\r\n    this.sendError = this.sendError.bind(this);\r\n  }\r\n\r\n  sendError(error) {\r\n    if(Object.keys(error).length)\r\n      this.setState({showError:true});\r\n\r\n    this.setState({errors:error});\r\n  }\r\n\r\n  render() {\r\n    \r\n    // const { Formik } = formik;\r\n    const buttons = <Link to={\"/\"+USER_URL+\"/contacts\"} className=\"btn btn-clean btn-icon-sm\">\r\n                      <i className=\"la la-long-arrow-left\"></i>\r\n                      Back\r\n                    </Link>\r\n    return (\r\n      <>\r\n        <Notice icon=\"flaticon-warning kt-font-primary\" style={{display: this.state.showError ? 'flex' : 'none' }}>\r\n        { \r\n          Object.keys(this.state.errors).map((key, index) => {\r\n            return this.state.errors[key].map((error, i) => {\r\n              console.log(key.slice(1));\r\n              const fieldName = key.charAt(0).toUpperCase() + key.slice(1);\r\n              return <li key={index+i}><span style={{'text-transform' : 'capitalize'}}>{fieldName.replace(/_/g, \" \")}</span> : {error}</li>\r\n            });\r\n          })\r\n        }\r\n        </Notice>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <CustomHead\r\n              beforeCodeTitle={'Contact'}\r\n              jsCode =   {<div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                  <div className=\"dropdown dropdown-inline\">\r\n                  {buttons}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>}\r\n            >\r\n              <div className=\"kt-section\">\r\n                <Create data = {this.props} sendError={this.sendError} />\r\n              </div>\r\n            </CustomHead>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(CreatePage);","import React from \"react\";\r\nimport Notice from \"../../partials/content/Notice\";\r\nimport CustomHead from \"../../partials/content/CustomHeader.js\";\r\nimport { Button, Form, Col} from \"react-bootstrap\";\r\nimport {\r\n  Checkbox,\r\n  FormControlLabel,FormGroup,\r\n  FormControl, Button as ButtonCore,\r\n} from \"@material-ui/core\";\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport {list, patch, RELIGIONS, GENDERS, CONTACT_METHODS, TITLES, MEDIA_URL, USER_URL} from \"../../crud/api\";\r\nimport Select from 'react-select';\r\nimport {CloudUpload as CloudUploadIcon} from \"@material-ui/icons\";\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider,DatePicker } from \"@material-ui/pickers\";\r\nimport { createMuiTheme } from \"@material-ui/core\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport moment from \"moment\";\r\n\r\nconst defaultMaterialTheme = createMuiTheme({\r\n  props: {\r\n    MuiInput:{\r\n      disableUnderline: true,\r\n    },\r\n    MuiTextField:{\r\n      style: {\r\n          display: \"block\",\r\n      },\r\n    },\r\n    MuiInputBase: {\r\n      style: {\r\n          display: \"block\",\r\n      },\r\n      disableUnderline: true,\r\n      inputProps: {\r\n        style: {\r\n          display: \"block\",\r\n          height: \"calc(1.5em + 1.3rem + 2px)\",\r\n          padding: \"0.65rem 1rem\",\r\n          fontSize: \"1rem\",\r\n          fontWeight: \"400\",\r\n          lineHeight: \"1.5\",\r\n          color: \"#495057\",\r\n          backgroundColor: \"#fff\",\r\n          backgroundClip: \"padding-box\",\r\n          border: \"1px solid #e2e5ec\",\r\n          borderRadius: \"4px\",\r\n          transition: \"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n          boxSizing: \"border-box\",\r\n        }\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\n\r\nclass Edit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { contact_id, type } = this.props.data.match.params\r\n    this.state = { \r\n      validated: false, \r\n      contact:{}, \r\n      job_titles:[],\r\n      departments:[],\r\n      companies:[],\r\n      countries:[],\r\n      states:[],\r\n      cities:[],\r\n      selected_gender:{value:''},\r\n      selected_job_title: {value:''},\r\n      selected_department: {value:''},\r\n      selected_company: {value:''},\r\n      selected_country: {value:''},\r\n      selected_state: {value:''},\r\n      selected_city: {value:''},\r\n      selected_religion: {value:''},\r\n      selected_preferred_contact_method: {value:''},\r\n      selected_title:{value:''},\r\n      type: type,\r\n      selectedFile: null,\r\n      previewFile: null,\r\n    };\r\n\r\n    this.getContact(contact_id);\r\n  }\r\n\r\n  getDropdownsListing() {\r\n    let contact_data = this.state.contact;\r\n    let dropdowns = {// when you have database dropdown like departments just put here\r\n      company: 'companies', \r\n      department : 'departments', \r\n      job_title : 'job_titles', \r\n      country : 'countries', \r\n    }\r\n\r\n    let duplicating_dropdowns = {\r\n    }\r\n    // static dropdowns calculation here - \r\n\r\n    let static_dropdowns = { // when you have static dropdown like gender just put here\r\n      religion:RELIGIONS,\r\n      gender:GENDERS,\r\n      title:TITLES,\r\n      preferred_contact_method:CONTACT_METHODS,\r\n    }\r\n\r\n    let dropdown_keys = Object.keys(static_dropdowns);\r\n    for(let key in dropdown_keys) {\r\n      for(let index in static_dropdowns[dropdown_keys[key]]) {\r\n        if(static_dropdowns[dropdown_keys[key]][index].value === contact_data[dropdown_keys[key]]){\r\n          this.setState({['selected_'+dropdown_keys[key]]:static_dropdowns[dropdown_keys[key]][index]});\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    dropdown_keys = Object.keys(dropdowns);\r\n    for(let key in dropdown_keys) {\r\n      let params = {}\r\n        list(dropdowns[dropdown_keys[key]], params).then(function(response){\r\n            let data = response.data;\r\n            let selected = {};\r\n            for(let opt in data){\r\n              // special case for contacts \r\n              if(dropdowns[dropdown_keys[key]] === 'contacts')\r\n                data[opt].name = data[opt].first_name+' '+data[opt].last_name;\r\n              else if(dropdowns[dropdown_keys[key]] === 'users')\r\n                data[opt].name = data[opt].contact.first_name+' '+data[opt].contact.last_name;\r\n\r\n              data[opt].label = data[opt].name;    \r\n              data[opt].value = data[opt].id;   \r\n\r\n              if(contact_data[dropdown_keys[key]] != undefined && data[opt].id === contact_data[dropdown_keys[key]].id)\r\n                selected = data[opt]\r\n\r\n              if(duplicating_dropdowns[dropdowns[dropdown_keys[key]]] != undefined) {\r\n                for(let index in duplicating_dropdowns[dropdowns[dropdown_keys[key]]]) {\r\n                  let duplicated_el = duplicating_dropdowns[dropdowns[dropdown_keys[key]]][index];\r\n                    \r\n                  if(contact_data[duplicated_el] != undefined && data[opt].id === contact_data[duplicated_el].id){\r\n                    this.setState({['selected_'+duplicated_el]:data[opt]});\r\n                  }\r\n                }\r\n              }\r\n            }  \r\n            this.setState({[dropdowns[dropdown_keys[key]]]: data, ['selected_'+dropdown_keys[key]]:selected, engine:contact_data});\r\n\r\n        }.bind(this));\r\n    }\r\n  }\r\n\r\n  getContact(contact_id) {\r\n    list('contacts/'+contact_id+'/').then(\r\n      (response) => {\r\n          delete response.data.type;\r\n          let birthday = response.data.birthday;\r\n          this.setState({contact : response.data, birthday:birthday})\r\n          this.getDropdownsListing();\r\n          this.setSelectfile();\r\n\r\n          if(response.data.country && response.data.country.id != undefined && response.data.country.id != \"\") {\r\n            this.setDynamicDropdowns(response.data.country.id, 'country');\r\n          }\r\n          if(response.data.state && response.data.state.id != undefined && response.data.state.id != \"\") {\r\n            this.setDynamicDropdowns(response.data.state.id, 'state');\r\n          }\r\n          this.setState({previewFile: response.data.media ? MEDIA_URL+response.data.media.original_file_name : null})\r\n    });\r\n  }\r\n\r\n  handleChange(event, type) {\r\n    var contact = this.state.contact;\r\n    if(type !== 'birthday'){\r\n      var attr = event.target.name;\r\n      var val = event.target.value;\r\n    }else{\r\n      var attr = type;\r\n      var val = moment(event).format(\"YYYY-MM-DD\");\r\n      this.setState({birthday : event})\r\n    }\r\n    if(attr === 'is_active')\r\n      val = parseInt(val);\r\n    contact[attr] = val;\r\n    this.setState({contact : contact})\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    const form = event.currentTarget;\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.setState({ validated: true });\r\n    this.checkDataFormat(); // this is done to convert foregin table objects into pk\r\n    patch('contacts/'+this.state.contact.id+'/', this.state.contact).then(\r\n      (response) => {\r\n        delete response.data.type;\r\n        this.setState({contact : response.data});\r\n        this.props.data.history.push(\"/\"+USER_URL+\"/contacts\");\r\n    }).catch(error => { \r\n        this.props.sendError(error.response.data);\r\n    });\r\n  }\r\n\r\n  checkDataFormat() {\r\n    let contact = this.state.contact;\r\n    let related_data = ['department','company','country','state','city','job_title','religion','gender','title','preferred_contact_method'];\r\n    related_data.map((val, i) => {\r\n      contact[val] = this.state['selected_'+val].value;\r\n    })\r\n    this.setState({contact:contact});\r\n  }\r\n\r\n  setSelectfile() {\r\n    if(this.state.contact.media) {\r\n      let file = {};\r\n      let filename_pieces = this.state.contact.media.original_file_name.split('/');\r\n      file.name_c = filename_pieces[filename_pieces.length - 1];\r\n      this.setState({ selectedFile: file});\r\n    }\r\n  }\r\n\r\n  fileChangedHandler = (event) => {\r\n    let file = event.target.files[0];\r\n    this.setState({\r\n      previewFile: URL.createObjectURL(file)\r\n    });\r\n    if(file != undefined) {\r\n      file.name_c = file.name;\r\n      let contact = this.state.contact;\r\n      file.size_c = file.size/1024;\r\n\r\n      if((file.size_c)/1024 > 2) {\r\n        file.size_c = (file.size_c/1024).toFixed(2) + ' MB';\r\n        file.error = \"Error: File is too big\";\r\n        contact.file = {};\r\n        this.setState({selectedFile:file});\r\n      } else {\r\n        file.error = null;\r\n        file.size_c = file.size_c.toFixed(2)+' KB';\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onloadend = () => {\r\n          contact.file = reader.result;\r\n          this.setState({ selectedFile: file, contact:contact });\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  handleFileRemove = (event) => {\r\n    let contact = this.state.contact;\r\n    delete contact.file\r\n    this.setState({selectedFile:null, contact:contact, previewFile: null})\r\n    document.getElementById('contact-image-upload').value = '';\r\n  }\r\n\r\n  selectChange(value, key) {\r\n    let contact = this.state.contact;\r\n    contact[key] = value.value;\r\n    this.setState({ ['selected_'+key]: value, contact: contact});\r\n    this.setDynamicDropdowns(value.id, key);\r\n\r\n  }\r\n\r\n  setDynamicDropdowns(id, key) {\r\n    if(key === 'country' || key === 'state') {\r\n      let endpoint = '', params={}, key_to_update = '';\r\n      if(key === 'country'){\r\n        endpoint = 'states';\r\n        params = {is_active:1, country_id:id}\r\n        key_to_update = 'state';\r\n      }\r\n      else {\r\n        endpoint = 'cities';\r\n        params = {is_active:1, state_id:id}\r\n        key_to_update = 'city';\r\n      }\r\n\r\n      list(endpoint, params).then(function(response){\r\n          let data = response.data;\r\n          let selected = {};\r\n          for(let opt in data){\r\n            if(this.state.contact[key_to_update] != undefined && data[opt].id === this.state.contact[key_to_update].id) {\r\n              selected['label'] = data[opt].name;\r\n              selected['value'] = data[opt].id;\r\n            }\r\n            data[opt].label = data[opt].name;    \r\n            data[opt].value = data[opt].id;   \r\n          }  \r\n\r\n            console.log(selected);\r\n          this.setState({[endpoint]: data, ['selected_'+key_to_update]:selected});\r\n\r\n      }.bind(this));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { birthday, contact, job_titles, departments, selected_job_title, selected_religion,\r\n      selected_department, selected_company, companies, selected_country, selected_gender,\r\n      selected_state, selected_city, countries, selected_title, cities, states,\r\n      selected_preferred_contact_method, selectedFile} = this.state;\r\n    return (\r\n      <Form\r\n        noValidate\r\n        onSubmit={e => this.handleSubmit(e)}\r\n      >\r\n       <Form.Row>\r\n          <div className=\"col-12\">\r\n            <h5>Personal Information</h5>\r\n            <hr/>\r\n          </div>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Title</Form.Label>\r\n            <Select\r\n              value={selected_title}\r\n              model=\"contact\"\r\n              name=\"title\"\r\n              onChange={e => this.selectChange(e, 'title')}\r\n              options={TITLES}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>First Name</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"first_name\"\r\n              name=\"first_name\"\r\n              defaultValue={contact ? contact.first_name:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Last Name</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"last_name\"\r\n              defaultValue={contact ? contact.last_name:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Birthday</Form.Label>\r\n            <ThemeProvider theme={defaultMaterialTheme}>\r\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n              <DatePicker\r\n                minDate = {new Date('1990-01-01')}\r\n                value={birthday}\r\n                format=\"dd/MM/yyyy\"\r\n                onChange={e => this.handleChange(e, 'birthday')}\r\n                animateYearScrolling\r\n              />\r\n            </MuiPickersUtilsProvider>\r\n            </ThemeProvider>\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Gender</Form.Label>\r\n            <Select\r\n              value={selected_gender}\r\n              model=\"contact\"\r\n              name=\"gender\"\r\n              onChange={e => this.selectChange(e, 'gender')}\r\n              options={GENDERS}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n       <Form.Row>\r\n          <div className=\"col-12\">\r\n            <h5>Company Info</h5>\r\n            <hr/>\r\n          </div>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"4\">\r\n          <Form.Label>Job Title</Form.Label>\r\n            <Select\r\n              value={selected_job_title}\r\n              model=\"job_title\"\r\n              name=\"name\"\r\n              onChange={e => this.selectChange(e, 'job_title')}\r\n              options={job_titles}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Department</Form.Label>\r\n            <Select\r\n              value={selected_department}\r\n              model=\"department\"\r\n              name=\"name\"\r\n              onChange={e => this.selectChange(e, 'department')}\r\n              options={departments}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Company Name</Form.Label>\r\n            <Select\r\n              value={selected_company}\r\n              model=\"company\"\r\n              name=\"name\"\r\n              onChange={e => this.selectChange(e, 'company')}\r\n              options={companies}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n       <Form.Row>\r\n          <div className=\"col-12\">\r\n            <h5>Address Information</h5>\r\n            <hr/>\r\n          </div>\r\n        </Form.Row>\r\n\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"3\" xs=\"12\">\r\n            <Form.Label>Address</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"address\"\r\n              defaultValue={contact.address ? contact.address:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"3\" xs=\"12\">\r\n            <Form.Label>Country</Form.Label>\r\n            <Select\r\n              value={selected_country}\r\n              model=\"country\"\r\n              name=\"name\"\r\n              onChange={e => this.selectChange(e, 'country')}\r\n              options={countries}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"3\" xs=\"12\">\r\n            <Form.Label>State</Form.Label>\r\n            <Select\r\n              value={selected_state}\r\n              model=\"state\"\r\n              name=\"name\"\r\n              onChange={e => this.selectChange(e, 'state')}\r\n              options={states}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"3\" xs=\"12\">\r\n            <Form.Label>City</Form.Label>\r\n            <Select\r\n              value={selected_city}\r\n              model=\"city\"\r\n              name=\"name\"\r\n              onChange={e => this.selectChange(e, 'city')}\r\n              options={cities}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Business Phone</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"business_phone\"\r\n              defaultValue={contact.business_phone ? contact.business_phone:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Mobile Phone</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"mobile_phone\"\r\n              defaultValue={contact.mobile_phone ? contact.mobile_phone:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Preferred contact method</Form.Label>\r\n            <Select\r\n              value={selected_preferred_contact_method}\r\n              model=\"contact\"\r\n              name=\"preferred_contact_method\"\r\n              onChange={e => this.selectChange(e, 'preferred_contact_method')}\r\n              options={CONTACT_METHODS}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Skpye</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"skype\"\r\n              defaultValue={contact.skype ? contact.skype:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Linkedin</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"contact\"\r\n              name=\"linkedin\"\r\n              defaultValue={contact.linkedin ? contact.linkedin:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n            <Form.Label>Religion</Form.Label>\r\n            <Select\r\n              value={selected_religion}\r\n              model=\"contacts\"\r\n              name=\"religion\"\r\n              onChange={e => this.selectChange(e, 'religion')}\r\n              options={RELIGIONS}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <FormGroup row>\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox name=\"is_primary\" checked={contact.is_primary ? true:false} onChange={(e) => this.handleChange(e)} value=\"1\" />\r\n            }\r\n            label=\"Primary\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox name=\"is_public\" checked={contact.is_public ? true:false} onChange={(e) => this.handleChange(e)} value=\"1\" />\r\n            }\r\n            label=\"Public\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox name=\"is_published\" checked={contact.is_published ? true:false} onChange={(e) => this.handleChange(e)} value=\"1\" />\r\n            }\r\n            label=\"Published\"\r\n          />\r\n        </FormGroup>\r\n        <Form.Row>\r\n            <Form.Group as={Col} md=\"12\">\r\n                <input\r\n                  accept=\"image/*\"\r\n                  style={{display: 'none'}}\r\n                  type=\"file\"\r\n                  id=\"contact-image-upload\"\r\n                  name= \"image\"\r\n                  onChange={this.fileChangedHandler}\r\n                />\r\n                <br />\r\n                <label htmlFor=\"contact-image-upload\">\r\n                  <ButtonCore variant=\"outlined\" color=\"inherit\" component=\"span\">\r\n                    Select Image\r\n                    <CloudUploadIcon style={{marginLeft: '5px'}} />\r\n                  </ButtonCore>\r\n                </label>\r\n              <div className=\"form-group form-group-last row\">\r\n                <div className=\"col-12 col-md-4\">\r\n                  <div className=\"dropzone dropzone-multi\" id=\"kt_dropzone_5\">\r\n                    <div className=\"dropzone-items\" style={{display:selectedFile ? 'block':'none'}}>\r\n                      <div className=\"dropzone-item\" >\r\n                        <div className=\"dropzone-file\">\r\n                          {this.state.previewFile &&\r\n                            <div style={{'max-width':'250px'}}><img style={{ width: \"100%\" }} src={this.state.previewFile} /></div>\r\n                          }\r\n                          <div className=\"dropzone-filename\" title=\"some_image_file_name.jpg\">\r\n                            <span data-dz-name>{selectedFile ? selectedFile.name_c : 'No file selected'}</span> <strong>{selectedFile && selectedFile.size_c ? '('+selectedFile.size_c+')' : ''}</strong>\r\n                          </div>\r\n                          <div className=\"dropzone-error\" data-dz-errormessage>{selectedFile && selectedFile.error ? selectedFile.error : ''}</div>\r\n                        </div>\r\n                        <div className=\"dropzone-toolbar\">\r\n                          <span onClick={(e)=>this.handleFileRemove(e)} className=\"dropzone-delete\" data-dz-remove><i className=\"flaticon2-cross\"></i></span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <span className=\"form-text text-muted\">Max file size is 2MB.</span>\r\n                </div>\r\n              </div>\r\n            </Form.Group>\r\n        </Form.Row>\r\n        <Button type=\"submit\" className=\"btn btn-primary\">\r\n          <i className=\"la la-save\" />\r\n          Update\r\n        </Button>\r\n        &nbsp;&nbsp;\r\n\r\n        <Link to={\"/\"+USER_URL+\"/contacts\"} className=\"btn btn-danger\">\r\n          <i className=\"la la-remove\" />\r\n          Cancel\r\n        </Link>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nclass EditPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {errors:{}, showError:false, type:props.match.params.type};\r\n    this.sendError = this.sendError.bind(this);\r\n  }\r\n\r\n  sendError(error) {\r\n    if(Object.keys(error).length)\r\n      this.setState({showError:true});\r\n\r\n    this.setState({errors:error});\r\n  }\r\n\r\n  render() {\r\n    \r\n    // const { Formik } = formik;\r\n    const buttons = <Link to={\"/\"+USER_URL+\"/contacts\"} className=\"btn btn-clean btn-icon-sm\">\r\n                      <i className=\"la la-long-arrow-left\"></i>\r\n                      Back\r\n                    </Link>\r\n    return (\r\n      <>\r\n        <Notice icon=\"flaticon-warning kt-font-primary\" style={{display: this.state.showError ? 'flex' : 'none' }}>\r\n        { \r\n          Object.keys(this.state.errors).map((key, index) => {\r\n            return this.state.errors[key].map((error, i) => {\r\n              console.log(error);\r\n              return <li key={index+i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n            });\r\n          })\r\n        }\r\n        </Notice>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <CustomHead\r\n              beforeCodeTitle={'Contact'}\r\n              jsCode =   {<div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                  <div className=\"dropdown dropdown-inline\">\r\n                  {buttons}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>}\r\n            >\r\n              <div className=\"kt-section\">\r\n                <Edit data = {this.props} sendError={this.sendError} />\r\n              </div>\r\n            </CustomHead>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(EditPage);","import React from \"react\";\r\nimport CustomHead from \"../../partials/content/CustomHeader.js\";\r\nimport {Button, Modal, Form, Col} from \"react-bootstrap\";\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport {list, patch, MEDIA_URL} from \"../../crud/api\";\r\nimport {Paper, Grid} from \"@material-ui/core\";\r\nimport EasyEdit from 'react-easy-edit';\r\nimport Notice from \"../../partials/content/Notice\";\r\n\r\n\r\n\r\nclass Detail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { contact_id, type } = this.props.data.match.params\r\n    const divStyle = {\r\n      padding : '15px'\r\n    };\r\n    this.txt_weight = {fontWeight:500}\r\n    this.handleModalShow = this.handleModalShow.bind(this);\r\n    this.handleModalClose = this.handleModalClose.bind(this);\r\n    this.confirm = this.confirm.bind(this);\r\n    this.state = {\r\n      type : type,\r\n      contact:{id:contact_id},\r\n      action:'',\r\n      showModal: false,\r\n      created_at: '',\r\n      updated_at: '',\r\n      image:null,\r\n      is_published: ''\r\n\r\n    };\r\n    this.getContact(contact_id);\r\n    this.divStyle = divStyle;\r\n  }\r\n\r\n  getContact(contact_id) {\r\n    list('contacts/'+contact_id+'/').then(\r\n      (response) => {\r\n          delete response.data.type;\r\n          this.setState({\r\n              created_at : new Intl.DateTimeFormat().format(new Date(response.data.created_at)),\r\n              updated_at : new Intl.DateTimeFormat().format(new Date(response.data.updated_at)),\r\n              image: response.data.media ? response.data.media.original_file_name : null\r\n          });\r\n          this.props.setTitle(response.data.first_name+' '+ response.data.last_name);\r\n          this.setState({contact : response.data})\r\n    });\r\n  }\r\n\r\n  handleChange(val, attr) {\r\n    var contact = this.state.contact;\r\n\r\n    contact[attr] = val;\r\n    this.setState({contact : contact})\r\n    patch('contacts/'+this.state.contact.id+'/', this.state.contact).then(\r\n      (response) => {\r\n        this.setState({contact : response.data});\r\n    }).catch(error => {\r\n        this.props.sendError(error.response.data);\r\n    });\r\n  }\r\n\r\n  handleModalShow(event, action) {\r\n    var val = event.target.value;\r\n    if (action === 'status'){\r\n      val = parseInt(val);\r\n      this.setState({is_published : val === 1 ? 0:1})\r\n    }\r\n    this.setState({action: action});\r\n    this.setState({ showModal: true });\r\n  }\r\n\r\n  handleModalClose() {\r\n   this.setState({ showModal: false });\r\n  }\r\n\r\n  confirm() {\r\n    if(this.state.action === 'status') {\r\n      this.state.contact.is_published = this.state.is_published;\r\n      patch('contacts/'+this.state.contact.id+'/', {is_published: this.state.is_published}).then(\r\n        (response) => {\r\n          delete response.data.type;\r\n          this.setState({contact : response.data});\r\n          this.setState({showModal : false});\r\n      }).catch(error => {\r\n          this.props.sendError(error.response.data);\r\n          this.setState({showModal : false});\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { validated, contact } = this.state;\r\n    return (\r\n        <div>\r\n          <Grid container spacing={3}>\r\n                <Grid item xs={12} md={9}>\r\n                  <Form>\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Name</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.first_name+' '+contact.last_name}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Religion</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.religion}</Form.Label>\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n                  <hr/>\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Company</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.company ? contact.company.name: ''}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Job Title</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.job_title ? contact.job_title.name: ''}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Department</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.department ? contact.department.name : ''}</Form.Label>\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n                  <hr/>\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Mobile Phone</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.mobile_phone}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Business Phone</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.business_phone}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Skype</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.skype}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Linkedin</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.linkedin}</Form.Label>\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n                  <hr/>\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Address</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.address}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>City</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.city ? contact.city.name : ''}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>State</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.state ? contact.state.name : ''}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Country</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.country ? contact.country.name : ''}</Form.Label>\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n                  <hr/>\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Preferred contact method</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.preferred_contact_method}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Published Status</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{contact.is_published}</Form.Label>\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Date Created</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{this.state.created_at}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Date Modified</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{this.state.updated_at}</Form.Label>\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n                    <Form.Group>\r\n                      <Form.Label>Status</Form.Label><br/>\r\n                      <span onClick={(e) => this.handleModalShow(e,'status')} className={this.state.contact.is_published === 1 ? 'kt-switch kt-switch--sm kt-switch--success':'kt-switch kt-switch--sm kt-switch--danger'}>\r\n                        <label>\r\n                          <input\r\n                            type=\"checkbox\" checked={contact.is_published === 1 ? 'defaultChecked':''}\r\n                            value={contact.is_published === 1 ? '1' : '0'}\r\n                            name=\"is_published\"\r\n                          />\r\n                          <span />\r\n                        </label>\r\n                      </span>\r\n                    </Form.Group>\r\n                  </Form>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                    <img style={{maxHeight:'220px', maxWidth:'200px'}} src={ this.state.image ? MEDIA_URL+this.state.image : MEDIA_URL+'dummy_image.svg' } />\r\n                </Grid>\r\n          </Grid>\r\n\r\n          <Modal show={this.state.showModal} onHide={this.handleModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Confirm</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n              <Button variant=\"danger\" onClick={this.confirm}>\r\n                Yes\r\n              </Button>\r\n              <Button variant=\"success\" onClick={this.handleModalClose}>\r\n                No\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass DetailPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let type = props.match.params.type;\r\n    this.state = {errors:{}, showError:false, title: 'Contact'};\r\n    this.state.type = type;\r\n    this.sendError = this.sendError.bind(this);\r\n  }\r\n\r\n  sendError(error) {\r\n    if(Object.keys(error).length)\r\n      this.setState({showError:true});\r\n\r\n    this.setState({errors:error});\r\n  }\r\n\r\n  setMainTitle = (value) => {\r\n    this.setState({title: value});\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      <Notice icon=\"flaticon-warning kt-font-primary\" style={{display: this.state.showError ? 'flex' : 'none' }}>\r\n        {\r\n          Object.keys(this.state.errors).map((key, index) => {\r\n            return this.state.errors[key].map((error, i) => {\r\n              console.log(error);\r\n              return <li key={index+i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n            });\r\n          })\r\n        }\r\n        </Notice>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <CustomHead\r\n              beforeCodeTitle={this.state.title}\r\n              jsCode =   {<div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                  <div className=\"dropdown dropdown-inline\">\r\n                  <Link to={\"/user/contacts\"} className=\"btn btn-clean btn-icon-sm\">\r\n                    <i className=\"la la-long-arrow-left\"></i>\r\n                    Back\r\n                  </Link>\r\n                  <Link to={\"/user/contacts/\"+this.props.match.params.contact_id+\"/edit\"} className=\"btn btn-primary\">\r\n                    <i className=\"la la-edit\" />\r\n                    Edit\r\n                  </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> }\r\n            >\r\n              <div className=\"kt-section\">\r\n                <Detail data={this.props} sendError={this.sendError} setTitle={this.setMainTitle} />\r\n              </div>\r\n            </CustomHead>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(DetailPage);","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport {\r\n    IconButton, Paper, FormControlLabel, Switch, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent, Grid, List, ListItem, ListItemText, Divider\r\n} from '@material-ui/core';\r\nimport { list, patch, del, USER_URL, API_URL, LOCAL_STORAGE} from \"../../crud/api\";\r\nimport {Button, Dropdown, Modal} from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.css\";\r\nimport \"datatables.net-responsive-bs4/css/responsive.bootstrap4.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Notice from \"../../partials/content/Notice\";\r\nimport {ReactComponent as SortNum1Icon} from \"../../../_metronic/layout/assets/layout-svg-icons/SortNum1.svg\";\r\nimport moment from \"moment\";\r\nimport {getPageNum, setPageNum} from \"../../helpers/listing\";\r\n\r\nconst QuickActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <button\r\n        ref={ref}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          onClick(e);\r\n        }}\r\n        className=\"btn kt-header__btn-primary\"\r\n    >\r\n      Actions\r\n      <SortNum1Icon className=\"kt-svg-icon kt-svg-icon--sm\" />\r\n    </button>\r\n));\r\n\r\nfunction createDataArray(  id, name, action ) {\r\n  return [ id, name, action];\r\n}\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(0),\r\n    paddingRight: theme.spacing(0),\r\n    display: 'block',\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  spacer: {\r\n    flex: '1 1 100%',\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    flex: '0 0 auto',\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = props => {\r\n  const classes = useToolbarStyles();\r\n  const { numSelected, type, selected, setSelected, setSelectedMany, setRowsData, rows, setTemp } = props;\r\n\r\n\r\n  function handleDelAll(event) {\r\n    if(selected.length) {\r\n      let data = {ids:selected}\r\n      del('likes/'+selected[0]+'/', data).then(function (response) {\r\n        // here removing rows from dt-table that are deleted from database\r\n        for(let i in rows){\r\n          if(selected.indexOf(rows[i].id) > -1) {\r\n            delete rows[i];\r\n          }\r\n        }\r\n        setRowsData(rows);\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n        setSelectedMany(false);\r\n\r\n        // no use as such - just to trigger state udpate :(\r\n        const newArr = [];\r\n        newArr.push(1);\r\n        setTemp(newArr);\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n        <div className=\"kt-portlet__head kt-portlet__head--lg\">\r\n            <div className=\"kt-portlet__head-label\">\r\n              <span className=\"kt-portlet__head-icon\">\r\n                <i className=\"kt-font-brand flaticon-attachment\" />\r\n              </span>\r\n                {numSelected > 0 ? (\r\n                  <Typography color=\"inherit\" variant=\"subtitle1\">\r\n                    {numSelected} selected\r\n                  </Typography>\r\n                ) : (\r\n                  <h3 className=\"kt-portlet__head-title\">\r\n                   Connection\r\n                  </h3>\r\n                )}\r\n            </div>\r\n            <div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                      {numSelected > 0 ? (\r\n                          <Tooltip title=\"Delete\">\r\n                            <IconButton onClick={(e) => handleDelAll(e)} aria-label=\"Delete\">\r\n                              <DeleteIcon />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                      ) : (\r\n                          <div className=\"btn-group\">\r\n                            {/*<Link to={\"/lead/create\"} className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record\">\r\n                                <i className=\"la la-plus\"></i>\r\n                                New Record\r\n                            </Link>*/}\r\n                              <Dropdown className=\"dropdown-inline\" drop=\"down\" alignRight>\r\n                                <Dropdown.Toggle as={QuickActionsDropdownToggle}\r\n                                  id=\"dropdown-toggle-quick-actions-subheader\"\r\n                                />\r\n\r\n                                <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-md dropdown-menu-right\">\r\n                                  <ul className=\"kt-nav\">\r\n                                    <li className=\"kt-nav__item\">\r\n                                      <a href=\"#\" className=\"kt-nav__link\">\r\n                                        <i className=\"kt-nav__link-icon la la-upload\" />\r\n                                        <span className=\"kt-nav__link-text\">Export</span>\r\n                                      </a>\r\n                                    </li>\r\n                                    <li className=\"kt-nav__item\">\r\n                                      <a href=\"#\" className=\"kt-nav__link\">\r\n                                        <i className=\"kt-nav__link-icon la la-download\" />\r\n                                        <span className=\"kt-nav__link-text\">Import</span>\r\n                                      </a>\r\n                                    </li>\r\n                                  </ul>\r\n                                </Dropdown.Menu>\r\n                              </Dropdown>\r\n                          </div>\r\n                      )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  selected: PropTypes.array.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  close: {\r\n    padding: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nconst $ = require('jquery');\r\n$.DataTable = require('datatables.net-responsive-bs4');\r\n\r\nfunction updateTable(type) {\r\n    const table = $('#connections').DataTable();\r\n    table.ajax.reload(null, false);\r\n}\r\n\r\nfunction parseRowData(rowData) {\r\n    //let JsonArray = [];\r\n    if( Array.isArray(rowData) && rowData.length > 0){\r\n      rowData.forEach(function(item, index){\r\n        if(item.conected_user && item.conected_user.company)\r\n            rowData[index]['conected_user__contact__company__name'] = item.conected_user.company.name;\r\n        else\r\n            rowData[index]['conected_user__contact__company__name'] = '';\r\n        if(item.conected_user && item.conected_user.job_title)\r\n            rowData[index]['conected_user__contact__job_title__name'] = item.conected_user.job_title.name;\r\n        else\r\n            rowData[index]['conected_user__contact__job_title__name'] = '';\r\n\r\n        if(item.conected_user && item.conected_user.first_name) {\r\n            rowData[index]['conected_user__contact__first_name'] = item.conected_user.first_name + ' ' + item.conected_user.last_name;\r\n        }else {\r\n            rowData[index]['conected_user__contact__first_name'] = '';\r\n        }\r\n\r\n        rowData[index]['actions'] = rowData[index]['d_id'] = '';\r\n      });\r\n    }\r\n  return rowData;\r\n}\r\n\r\nconst ActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <a\r\n      ref={ref}\r\n      onClick={e => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n      id=\"kt_dashboard_daterangepicker\"\r\n      className=\"btn btn-sm btn-clean btn-icon btn-icon-md\"\r\n    >\r\n      {\" \"}\r\n      <i className=\"la la-ellipsis-h\"></i>\r\n    </a>\r\n));\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [rows, setRowsData] = React.useState([]);\r\n  const [count, setCount] = React.useState(0); // set counter for onload functions\r\n  const [show, setModalDisplay] = React.useState(false); // set modal to show/hide\r\n  const [userIndex, setUser] = React.useState(0); //selected user to perform actions\r\n  const [action, setAction] = React.useState({}); // selected action\r\n  const [temp, setTemp] = React.useState([]); // selected action\r\n  const [isSelectedMany, setSelectedMany] = React.useState(false);\r\n  const [open, setOpen] = React.useState(false); // show/hide Snackbar\r\n  const [message, setMessage] = React.useState('Changes applied successfully!'); // set Message\r\n  const [csvData, setCsvData] = React.useState([]);\r\n  const [table, setTable] = React.useState(false); // selected action\r\n  const [exportSpinner, setExpSpin] = React.useState('d-none'); // selected action\r\n  let history = useHistory();\r\n  let type = props.match.params.type;\r\n  //  call some function only on page load\r\n\r\n  React.useEffect(() => {\r\n      if($.fn.dataTable.isDataTable( '#connections' )) {\r\n      let table = $('#connections').DataTable();\r\n      table.destroy();\r\n      setTable(true);\r\n    }\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (table && $.fn.dataTable.isDataTable( '#connections' ) ) {\r\n        if(JSON.stringify(rows) !== JSON.stringify(window.prevRows)){\r\n          window.prevRows = rows;\r\n        }\r\n      } else {\r\n        setTable(true);\r\n        loadDatatable();\r\n      }\r\n    }, [rows]);\r\n\r\n\r\n  function loadDatatable() {\r\n    let url = API_URL+'connections?format=datatables';\r\n      let columnDefs = [\r\n          { \"bVisible\": false, \"aTargets\": [0] },\r\n          {\r\n              targets: 1,\r\n              \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                  let contactSlug = '';\r\n                  contactSlug = rowData.conected_user.id+'-'+rowData.conected_user__contact__first_name.replace(/\\s+/g, '-').toLowerCase();\r\n                  ReactDOM.render(\r\n                      <a target=\"_blank\" style={{ cursor: 'pointer' }} href={\"/contact/\"+contactSlug }>\r\n                          {cellData}\r\n                      </a>\r\n                      , td\r\n                  );\r\n              }\r\n          },\r\n          {\r\n              targets: 2,\r\n              \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                  \r\n                  let companySlug = '';\r\n                    companySlug = rowData.conected_user && rowData.conected_user.company && rowData.conected_user.company.id ? rowData.conected_user.company.id+'-'+rowData.conected_user.company.name.replace(/\\s+/g, '-').toLowerCase() : \"\";\r\n                  ReactDOM.render(\r\n                      <a target=\"_blank\" style={{ cursor: 'pointer' }} href={\"/company/\"+companySlug}>\r\n                          {cellData}\r\n                      </a>\r\n                      , td\r\n                  );\r\n              }\r\n          },\r\n      ];\r\n      columnDefs.push(\r\n          {\r\n              targets: 4,\r\n              title: 'Actions',\r\n              orderable: false,\r\n              searchable:false,\r\n              \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                  ReactDOM.render(\r\n                      <>\r\n                      <IconButton aria-label=\"Delete\" onClick={(e) => handleModalShow(e, row, 'delete')}>\r\n                          <DeleteIcon />\r\n                      </IconButton>\r\n                      </>\r\n                      , td\r\n                  );\r\n              }\r\n          },);\r\n    $('#connections').DataTable({\r\n      responsive: {\r\n        details: {\r\n          renderer: $.fn.dataTable.Responsive.renderer.listHiddenNodes()\r\n        }\r\n      },\r\n      serverSide:true,\r\n      displayStart : getPageNum('connections', props),\r\n      ajax: {\r\n        url:url ,\r\n        method: \"GET\",\r\n        headers: {'Content-Type': 'application/json', 'Authorization': 'Token '+JSON.parse(localStorage.getItem(LOCAL_STORAGE)).authToken.replace(/['\"]+/g, '')},\r\n        \"dataFilter\": function(data) {\r\n          let json = JSON.parse(data);\r\n          let rowData = parseRowData(json.data);\r\n          setRowsData(rowData);\r\n          json.data = rowData;\r\n          return JSON.stringify(json); // return JSON string\r\n        },\r\n      },\r\n\r\n      // DOM Layout settings\r\n      dom: `<'row'<'col-sm-12'tr>>\r\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\r\n\r\n      lengthMenu: [5, 10, 25, 50],\r\n\r\n      pageLength: 10,\r\n      pagingType: 'numbers',\r\n      recordsTotal: rows.recordsTotal, // The number in my test data set\r\n      recordsFiltered: rows.recordsFiltered,\r\n\r\n      language: {\r\n        'lengthMenu': 'Display _MENU_',\r\n      },\r\n\r\n      // Order settings\r\n        order: [[2, 'desc']],\r\n      columnDefs:columnDefs ,\r\n    });\r\n    $('#connections').on( 'page.dt', function () {\r\n      setPageNum($('#connections'), 'connections', props);\r\n  });\r\n  }\r\n\r\n  function handleRequestSort(event, property) {\r\n    const isDesc = orderBy === property && order === 'desc';\r\n    setOrder(isDesc ? 'asc' : 'desc');\r\n    setOrderBy(property);\r\n  }\r\n\r\n  function handleSelectAllClick(event) {\r\n\r\n    if (event.target.checked) {\r\n        const sel = selected;\r\n      const newSelecteds = rows.map(n => n.id);\r\n        newSelecteds.forEach(v => {\r\n         sel.push(v)\r\n       })\r\n      setSelected(sel);\r\n    }else{\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n    }\r\n    if(isSelectedMany)\r\n      setSelectedMany(false);\r\n    else\r\n      setSelectedMany(true);\r\n\r\n    updateTable(type);\r\n\r\n  }\r\n\r\n  function handleClick(event, id, td, idx) {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    const sel =selected;\r\n\r\n    if(selectedIndex === -1){\r\n        sel.push(id);\r\n    }else{\r\n        sel.splice(selectedIndex, 1);\r\n    }\r\n    setSelected(sel);\r\n    const newArr = [...temp];\r\n    newArr.push(1);\r\n    setTemp(newArr);\r\n      updateTable(type);\r\n  }\r\n\r\n  function handleSearch(event) {\r\n      const table = $('#connections').DataTable();\r\n      table.search( event.target.value ).draw();\r\n  }\r\n\r\n  function handleModalClose(event) {\r\n    setModalDisplay(false);\r\n  }\r\n\r\n  function handleModalShow(event, index, act) {\r\n      setAction(act)\r\n      setUser(index)\r\n      setModalDisplay(true);\r\n  }\r\n\r\n  function confirm(event) {\r\n      del('likes/'+rows[userIndex][0]+'/').then(function (response) {\r\n          let rowsData = rows.filter((v,i) => i !== userIndex);\r\n          setRowsData(rowsData);\r\n          setModalDisplay(false);\r\n          updateTable();\r\n          setOpen(true);\r\n          setMessage('Record successfully deleted');\r\n      })\r\n  }\r\n\r\n  const handleCloseSnackbar = (event, reason) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isSelected = id => selected.indexOf(id) !== -1;\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.tableWrapper}>\r\n        <div className=\"kt-portlet kt-portlet--mobile\">\r\n            <EnhancedTableToolbar setTemp={setTemp} setRowsData={setRowsData} rows={rows} setSelectedMany={setSelectedMany} setSelected={setSelected} selected={selected} numSelected={selected.length} />\r\n          <div className=\"kt-portlet__body\">\r\n\r\n            <div className=\"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-xl-12 order-2 order-xl-1\">\r\n                  <div className=\"row align-items-center\">\r\n                    <div className=\"col-md-4 kt-margin-b-20-tablet-and-mobile\">\r\n                      <div className=\"kt-input-icon kt-input-icon--left\">\r\n                        <input onKeyUp={handleSearch}  type=\"text\" className=\"form-control\" placeholder=\"Search...\" id=\"generalSearch\" />\r\n                        <span className=\"kt-input-icon__icon kt-input-icon__icon--left\">\r\n                          <span><i className=\"la la-search\" /></span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"kt-section\">\r\n                <div>\r\n                  <table className=\"table table-striped- table-bordered table-hover table-checkable\" id={\"connections\"}>\r\n                      <thead>\r\n                      <tr>\r\n                          <th data-data=\"id\">ID</th>\r\n                          <th data-data=\"conected_user__contact__first_name\">Name</th>\r\n                          <th data-data=\"conected_user__contact__company__name\">Company</th>\r\n                          <th data-data=\"conected_user__contact__job_title__name\">Job Title</th>\r\n                          <th data-data=\"actions\">Action</th>\r\n                      </tr>\r\n                      </thead>\r\n                  </table>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </Paper>\r\n        <Modal show={show} onHide={handleModalClose}>\r\n            <Modal.Header closeButton>\r\n                    <Modal.Title>Confirm</Modal.Title>\r\n            </Modal.Header>\r\n          <Modal.Footer>\r\n              <Button variant=\"success\" onClick={confirm}>\r\n                  Yes\r\n              </Button>\r\n              <Button variant=\"danger\" onClick={handleModalClose}>\r\n                  No\r\n              </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={open}\r\n          autoHideDuration={1600000}\r\n          onClose={handleCloseSnackbar}\r\n        >\r\n          <SnackbarContentWrapper\r\n            onClose={handleCloseSnackbar}\r\n            variant=\"success\"\r\n            message={message}\r\n          />\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport {\r\n    IconButton, Paper, FormControlLabel, Switch, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent, Grid, List, ListItem, ListItemText, Divider\r\n} from '@material-ui/core';\r\nimport { list, patch, del, USER_URL, API_URL, LOCAL_STORAGE} from \"../../crud/api\";\r\nimport {Button, Dropdown, Modal} from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.css\";\r\nimport \"datatables.net-responsive-bs4/css/responsive.bootstrap4.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Notice from \"../../partials/content/Notice\";\r\nimport {ReactComponent as SortNum1Icon} from \"../../../_metronic/layout/assets/layout-svg-icons/SortNum1.svg\";\r\nimport moment from \"moment\";\r\nimport {getPageNum, setPageNum} from \"../../helpers/listing\";\r\n\r\nconst QuickActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <button\r\n        ref={ref}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          onClick(e);\r\n        }}\r\n        className=\"btn kt-header__btn-primary\"\r\n    >\r\n      Actions\r\n      <SortNum1Icon className=\"kt-svg-icon kt-svg-icon--sm\" />\r\n    </button>\r\n));\r\n\r\nfunction createDataArray(  id, name, action, type ) {\r\n  return [ id, name, action, type];\r\n}\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(0),\r\n    paddingRight: theme.spacing(0),\r\n    display: 'block',\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  spacer: {\r\n    flex: '1 1 100%',\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    flex: '0 0 auto',\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = props => {\r\n  const classes = useToolbarStyles();\r\n  const { numSelected, type, selected, setSelected, setSelectedMany, setRowsData, rows, setTemp } = props;\r\n\r\n\r\n  function handleDelAll(event) {\r\n    if(selected.length) {\r\n      let data = {ids:selected}\r\n      del('favourites/'+selected[0]+'/', data).then(function (response) {\r\n        // here removing rows from dt-table that are deleted from database\r\n        for(let i in rows){\r\n          if(selected.indexOf(rows[i].id) > -1) {\r\n            delete rows[i];\r\n          }\r\n        }\r\n        setRowsData(rows);\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n        setSelectedMany(false);\r\n\r\n        // no use as such - just to trigger state udpate :(\r\n        const newArr = [];\r\n        newArr.push(1);\r\n        setTemp(newArr);\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n        <div className=\"kt-portlet__head kt-portlet__head--lg\">\r\n            <div className=\"kt-portlet__head-label\">\r\n              <span className=\"kt-portlet__head-icon\">\r\n                <i className=\"kt-font-brand flaticon-black\" />\r\n              </span>\r\n                {numSelected > 0 ? (\r\n                  <Typography color=\"inherit\" variant=\"subtitle1\">\r\n                    {numSelected} selected\r\n                  </Typography>\r\n                ) : (\r\n                  <h3 className=\"kt-portlet__head-title\">\r\n                   Favourites\r\n                  </h3>\r\n                )}\r\n            </div>\r\n            <div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                      {numSelected > 0 ? (\r\n                          <Tooltip title=\"Delete\">\r\n                            <IconButton onClick={(e) => handleDelAll(e)} aria-label=\"Delete\">\r\n                              <DeleteIcon />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                      ) : (\r\n                          <div className=\"btn-group\">\r\n                            {/*<Link to={\"/lead/create\"} className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record\">\r\n                                <i className=\"la la-plus\"></i>\r\n                                New Record\r\n                            </Link>*/}\r\n                              <Dropdown className=\"dropdown-inline\" drop=\"down\" alignRight>\r\n                                <Dropdown.Toggle as={QuickActionsDropdownToggle}\r\n                                  id=\"dropdown-toggle-quick-actions-subheader\"\r\n                                />\r\n\r\n                                <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-md dropdown-menu-right\">\r\n                                  <ul className=\"kt-nav\">\r\n                                    <li className=\"kt-nav__item\">\r\n                                      <a href=\"#\" className=\"kt-nav__link\">\r\n                                        <i className=\"kt-nav__link-icon la la-upload\" />\r\n                                        <span className=\"kt-nav__link-text\">Export</span>\r\n                                      </a>\r\n                                    </li>\r\n                                    <li className=\"kt-nav__item\">\r\n                                      <a href=\"#\" className=\"kt-nav__link\">\r\n                                        <i className=\"kt-nav__link-icon la la-download\" />\r\n                                        <span className=\"kt-nav__link-text\">Import</span>\r\n                                      </a>\r\n                                    </li>\r\n                                  </ul>\r\n                                </Dropdown.Menu>\r\n                              </Dropdown>\r\n                          </div>\r\n                      )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  selected: PropTypes.array.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  close: {\r\n    padding: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nconst $ = require('jquery');\r\n$.DataTable = require('datatables.net-responsive-bs4');\r\n\r\nfunction updateTable(type) {\r\n    const table = $('#favourite').DataTable();\r\n    table.ajax.reload(null, false);\r\n}\r\n\r\nfunction parseRowData(rowData) {\r\n    const JsonArray = [];\r\n\r\n    if( Array.isArray(rowData) && rowData.length > 0){\r\n      rowData.forEach(function(item, index){\r\n        JsonArray.push(createDataArray(\r\n            item.favouritable_id,\r\n            (item.favouritable && item.favouritable_name) ? item.favouritable_name : ' --- ' ,\r\n            false,\r\n            (item.favouritable && item.favouritable_type) ? item.favouritable_type : ' --- ' ,\r\n            ));\r\n      });\r\n    }\r\n    return JsonArray;\r\n}\r\n\r\nconst ActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <a\r\n      ref={ref}\r\n      onClick={e => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n      id=\"kt_dashboard_daterangepicker\"\r\n      className=\"btn btn-sm btn-clean btn-icon btn-icon-md\"\r\n    >\r\n      {\" \"}\r\n      <i className=\"la la-ellipsis-h\"></i>\r\n    </a>\r\n));\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [rows, setRowsData] = React.useState([]);\r\n  const [count, setCount] = React.useState(0); // set counter for onload functions\r\n  const [show, setModalDisplay] = React.useState(false); // set modal to show/hide\r\n  const [userIndex, setUser] = React.useState(0); //selected user to perform actions\r\n  const [action, setAction] = React.useState({}); // selected action\r\n  const [temp, setTemp] = React.useState([]); // selected action\r\n  const [isSelectedMany, setSelectedMany] = React.useState(false);\r\n  const [open, setOpen] = React.useState(false); // show/hide Snackbar\r\n  const [message, setMessage] = React.useState('Changes applied successfully!'); // set Message\r\n  const [csvData, setCsvData] = React.useState([]);\r\n  const [table, setTable] = React.useState(false); // selected action\r\n  const [exportSpinner, setExpSpin] = React.useState('d-none'); // selected action\r\n  let history = useHistory();\r\n  let type = props.match.params.type;\r\n  //  call some function only on page load\r\n\r\n  React.useEffect(() => {\r\n      if($.fn.dataTable.isDataTable( '#favourite' )) {\r\n      let table = $('#favourite').DataTable();\r\n      table.destroy();\r\n      setTable(true);\r\n    }\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (table && $.fn.dataTable.isDataTable( '#favourite' ) ) {\r\n        if(JSON.stringify(rows) !== JSON.stringify(window.prevRows)){\r\n          window.prevRows = rows;\r\n        }\r\n      } else {\r\n        setTable(true);\r\n        loadDatatable();\r\n      }\r\n    }, [rows]);\r\n\r\n\r\n  function loadDatatable() {\r\n    let url = API_URL+'favourites?format=datatables';\r\n      let columnDefs = [\r\n          { \"bVisible\": false, \"aTargets\": [0] },\r\n          {\r\n              targets: 1,\r\n              \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                  let view_name = rowData[3]?rowData[3].replace(\"App\\\\\",'').toLowerCase():'';\r\n                  let view_slug = rowData[1]?rowData[1].replace(/\\s+/g, '-').toLowerCase():'';\r\n//                    switch(view_name){\r\n//                        case 'Aircraft':\r\n//                            view_name='aircraft';\r\n//                            break;\r\n//                        case 'Airport':\r\n//                            view_name='airport';\r\n//                            break;\r\n//\r\n//                    }\r\n                  let favName = cellData.toLowerCase();\r\n                  if(favName.includes('-yom-')){\r\n                      favName = favName.split('-yom-')[0].replace(/-/g,' ')\r\n                  }else{\r\n                      favName = favName.replace(/-/g,' ')\r\n                  }\r\n                  ReactDOM.render(\r\n                      <a style={{textTransform: 'capitalize'}} href={\"/\"+view_name+\"/\"+rowData[0]+\"-\"+view_slug} target=\"_blank\">\r\n                          {favName}</a>\r\n                      , td\r\n                  );\r\n              }\r\n          },\r\n          {\r\n              targets: 2,\r\n              \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                  let view_name = rowData[3]?rowData[3].replace(\"App\\\\\",''):'';\r\n                  ReactDOM.render(\r\n                      <span>{view_name}</span>\r\n                      , td\r\n                  );\r\n              }\r\n          },\r\n      ];\r\n      columnDefs.push(\r\n          {\r\n              targets: 3,\r\n              title: 'Actions',\r\n              orderable: false,\r\n              \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                  ReactDOM.render(\r\n                      <>\r\n                      <IconButton aria-label=\"Delete\" onClick={(e) => handleModalShow(e, row, 'delete')}>\r\n                          <DeleteIcon />\r\n                      </IconButton>\r\n                      </>\r\n                      , td\r\n                  );\r\n              }\r\n          },);\r\n    $('#favourite').DataTable({\r\n      responsive: {\r\n        details: {\r\n          renderer: $.fn.dataTable.Responsive.renderer.listHiddenNodes()\r\n        }\r\n      },\r\n      serverSide:true,\r\n      displayStart : getPageNum('favourite', props),\r\n      ajax: {\r\n        url:url ,\r\n        method: \"GET\",\r\n        headers: {'Content-Type': 'application/json', 'Authorization': 'Token '+JSON.parse(localStorage.getItem(LOCAL_STORAGE)).authToken.replace(/['\"]+/g, '')},\r\n        \"dataFilter\": function(data) {\r\n          let json = JSON.parse(data);\r\n          let rowData = parseRowData(json.data);\r\n          setRowsData(rowData);\r\n          json.data = rowData;\r\n          return JSON.stringify(json); // return JSON string\r\n        },\r\n      },\r\n\r\n      // DOM Layout settings\r\n      dom: `<'row'<'col-sm-12'tr>>\r\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\r\n\r\n      lengthMenu: [5, 10, 25, 50],\r\n\r\n      pageLength: 10,\r\n      pagingType: 'numbers',\r\n      recordsTotal: rows.recordsTotal, // The number in my test data set\r\n      recordsFiltered: rows.recordsFiltered,\r\n\r\n      language: {\r\n        'lengthMenu': 'Display _MENU_',\r\n      },\r\n\r\n      // Order settings\r\n        order: [[3, 'desc']],\r\n      columnDefs:columnDefs ,\r\n    });\r\n    $('#favourite').on( 'page.dt', function () {\r\n      setPageNum($('#favourite'), 'favourite', props);\r\n  });\r\n  }\r\n\r\n  function handleRequestSort(event, property) {\r\n    const isDesc = orderBy === property && order === 'desc';\r\n    setOrder(isDesc ? 'asc' : 'desc');\r\n    setOrderBy(property);\r\n  }\r\n\r\n  function handleSelectAllClick(event) {\r\n\r\n    if (event.target.checked) {\r\n        const sel = selected;\r\n      const newSelecteds = rows.map(n => n.id);\r\n        newSelecteds.forEach(v => {\r\n         sel.push(v)\r\n       })\r\n      setSelected(sel);\r\n    }else{\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n    }\r\n    if(isSelectedMany)\r\n      setSelectedMany(false);\r\n    else\r\n      setSelectedMany(true);\r\n\r\n    updateTable(type);\r\n\r\n  }\r\n\r\n  function handleClick(event, id, td, idx) {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    const sel =selected;\r\n\r\n    if(selectedIndex === -1){\r\n        sel.push(id);\r\n    }else{\r\n        sel.splice(selectedIndex, 1);\r\n    }\r\n    setSelected(sel);\r\n    const newArr = [...temp];\r\n    newArr.push(1);\r\n    setTemp(newArr);\r\n      updateTable(type);\r\n  }\r\n\r\n  function handleSearch(event) {\r\n      const table = $('#favourite').DataTable();\r\n      table.search( event.target.value ).draw();\r\n  }\r\n\r\n  function handleModalClose(event) {\r\n    setModalDisplay(false);\r\n  }\r\n\r\n  function handleModalShow(event, index, act) {\r\n      setAction(act)\r\n      setUser(index)\r\n      setModalDisplay(true);\r\n  }\r\n\r\n  function confirm(event) {\r\n      del('likes/'+rows[userIndex][0]+'/').then(function (response) {\r\n          let rowsData = rows.filter((v,i) => i !== userIndex);\r\n          setRowsData(rowsData);\r\n          setModalDisplay(false);\r\n          updateTable();\r\n          setOpen(true);\r\n          setMessage('Record successfully deleted');\r\n      })\r\n  }\r\n\r\n  const handleCloseSnackbar = (event, reason) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isSelected = id => selected.indexOf(id) !== -1;\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.tableWrapper}>\r\n        <div className=\"kt-portlet kt-portlet--mobile\">\r\n            <EnhancedTableToolbar setTemp={setTemp} setRowsData={setRowsData} rows={rows} setSelectedMany={setSelectedMany} setSelected={setSelected} selected={selected} numSelected={selected.length} />\r\n          <div className=\"kt-portlet__body\">\r\n\r\n            <div className=\"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-xl-12 order-2 order-xl-1\">\r\n                  <div className=\"row align-items-center\">\r\n                    <div className=\"col-md-4 kt-margin-b-20-tablet-and-mobile\">\r\n                      <div className=\"kt-input-icon kt-input-icon--left\">\r\n                        <input onKeyUp={handleSearch}  type=\"text\" className=\"form-control\" placeholder=\"Search...\" id=\"generalSearch\" />\r\n                        <span className=\"kt-input-icon__icon kt-input-icon__icon--left\">\r\n                          <span><i className=\"la la-search\" /></span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"kt-section\">\r\n                <div>\r\n                  <table className=\"table table-striped- table-bordered table-hover table-checkable\" id={\"favourite\"}>\r\n                      <thead>\r\n                      <tr>\r\n                          <th>ID</th>\r\n                          <th>Name</th>\r\n                          <th>Entity</th>\r\n                          <th>Action</th>\r\n                      </tr>\r\n                      </thead>\r\n                  </table>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </Paper>\r\n        <Modal show={show} onHide={handleModalClose}>\r\n            <Modal.Header closeButton>\r\n                    <Modal.Title>Confirm</Modal.Title>\r\n            </Modal.Header>\r\n          <Modal.Footer>\r\n              <Button variant=\"danger\" onClick={confirm}>\r\n                  Yes\r\n              </Button>\r\n              <Button variant=\"success\" onClick={handleModalClose}>\r\n                  No\r\n              </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={open}\r\n          autoHideDuration={1600000}\r\n          onClose={handleCloseSnackbar}\r\n        >\r\n          <SnackbarContentWrapper\r\n            onClose={handleCloseSnackbar}\r\n            variant=\"success\"\r\n            message={message}\r\n          />\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport Notice from \"../../partials/content/Notice\";\r\nimport CustomHead from \"../../partials/content/CustomHeader.js\";\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { list, post, USER_URL } from \"../../crud/api\";\r\nimport { Dropdown, Modal,  Button, Form, Col} from \"react-bootstrap\";\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport {\r\n    IconButton, Paper, FormControlLabel, Switch, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent\r\n} from '@material-ui/core';\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nclass Edit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const company_id = this.props.data.userProp.contact.company.id;\r\n    \r\n    console.log('edit', company_id)\r\n    this.state = { \r\n      validated: false, \r\n      company:{},\r\n      showModal:false,\r\n      request_message:'',\r\n      message:'Request sent successfully',\r\n      showMessage:false\r\n    };\r\n\r\n    this.getCompany(company_id);\r\n    \r\n  }\r\n\r\n  getCompany(company_id) {\r\n    list('companies/'+company_id+'/').then(\r\n      (response) => {\r\n        delete response.data.city;\r\n        delete response.data.state;\r\n        delete response.data.country;\r\n        delete response.data.specialities;\r\n        this.setState({company : response.data});\r\n      });  \r\n  }\r\n\r\n  handleSendRequest = () => {\r\n    post('contactqueries', {\r\n      enquiry_type:\"request for company update\",\r\n      message:this.state.request_message,\r\n      email:this.props.data.userProp.email,\r\n      name:this.props.data.userProp.contact.first_name+' '+this.props.data.userProp.contact.last_name,\r\n      phone:this.props.data.userProp.contact.business_phone\r\n    }).then(\r\n        (response) => {\r\n            this.setState({showMessage:true, showModal:false})\r\n        }).catch(error => {\r\n        this.props.sendError(error.response.data);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { company } = this.state;\r\n    return (\r\n      <Form>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md=\"4\">\r\n            <Form.Label>Name *</Form.Label>\r\n            <Form.Control\r\n              disabled\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"company\"\r\n              value = {company? company.name:''}\r\n              // onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md=\"4\">\r\n            <Form.Label>RFQ Email</Form.Label>\r\n            <Form.Control\r\n              disabled\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"company\"\r\n              name=\"rfq_email\"\r\n              value = {company? company.rfq_email:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group><Form.Group as={Col} md=\"4\">\r\n            <Form.Label>AOG Email</Form.Label>\r\n            <Form.Control\r\n              disabled\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              model=\"company\"\r\n              name=\"aog_email\"\r\n              value = {company? company.aog_email:''}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n      <Button onClick={() => this.setState({showModal:true})} className=\"btn btn-primary\">\r\n          <i className=\"la la-send\" />\r\n          Request For Update\r\n        </Button>\r\n            <Modal show={this.state.showModal} onHide={() => this.setState({showModal:false})} centered>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Send Request For Update</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <textarea rows=\"5\" onChange={(e) => this.setState({request_message:e.target.value})}\r\n                              style={{display: 'block', width: \"100%\"}}/>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"success\"\r\n                            className={this.state.showSpinner === true ? \"kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light\" : ''}\r\n                            onClick={() => this.handleSendRequest()}>\r\n                        Send\r\n                    </Button>\r\n                    <Button variant=\"danger\" onClick={() => this.setState({showModal:false})}>\r\n                        Cancel\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n      <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={this.state.showMessage}\r\n          autoHideDuration={5000}\r\n          onClose={()=>this.setState({showMessage:false})}\r\n        >\r\n          <SnackbarContentWrapper\r\n            onClose={()=>this.setState({showMessage:false})}\r\n            variant=\"success\"\r\n            message={this.state.message}\r\n          />\r\n      </Snackbar>\r\n    </Form>\r\n     );\r\n  }\r\n}\r\n\r\nclass EditPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {errors:{}, showError:false};\r\n    this.sendError = this.sendError.bind(this);\r\n  }\r\n\r\n  sendError(error) {\r\n    if(Object.keys(error).length)\r\n      this.setState({showError:true});\r\n\r\n    this.setState({errors:error});\r\n  }\r\n\r\n  render() {\r\n    \r\n    \r\n    return (\r\n      <>\r\n        <Notice icon=\"flaticon-warning kt-font-primary\" style={{display: this.state.showError ? 'flex' : 'none' }}>\r\n        { \r\n          Object.keys(this.state.errors).map((key, index) => {\r\n            return this.state.errors[key].map((error, i) => {\r\n              console.log(error);\r\n              return <li key={index+i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n            });\r\n          })\r\n        }\r\n        </Notice>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <CustomHead\r\n              beforeCodeTitle={'My Company'}\r\n              jsCode =   {<div className=\"kt-portlet__head-toolbar\">\r\n            </div>}\r\n            >\r\n              <div className=\"kt-section\">\r\n                <Edit data = {this.props} sendError={this.sendError} />\r\n              </div>\r\n            </CustomHead>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(EditPage);","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport {\r\n    IconButton, Paper, FormControlLabel, Switch, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent\r\n} from '@material-ui/core';\r\nimport { list, post, patch, del, STATUSES, USER_URL, API_URL, LOCAL_STORAGE, getLocalStorageItem, setLocalStorageItem} from \"../../../crud/api\";\r\nimport {Button, Dropdown, Modal, Form} from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.css\";\r\nimport \"datatables.net-responsive-bs4/css/responsive.bootstrap4.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport {ReactComponent as SortNum1Icon} from \"../../../../_metronic/layout/assets/layout-svg-icons/SortNum1.svg\";\r\nimport Select from 'react-select';\r\nimport { setPageNum, getPageNum } from \"../../../helpers/listing\";\r\nimport PlanModal from \"../PlanModal\";\r\nimport {CSVLink} from \"react-csv\";\r\n\r\nconst QuickActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <button\r\n        ref={ref}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          onClick(e);\r\n        }}\r\n        className=\"btn kt-header__btn-primary\"\r\n    >\r\n      Actions\r\n      <SortNum1Icon className=\"kt-svg-icon kt-svg-icon--sm\" />\r\n    </button>\r\n));\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(0),\r\n    paddingRight: theme.spacing(0),\r\n    display: 'block',\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  spacer: {\r\n    flex: '1 1 100%',\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    flex: '0 0 auto',\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = props => {\r\n  const classes = useToolbarStyles();\r\n  const { exportSpinner, setExpSpin, csvData, setCsvData, setPlanModalDisplay, numSelected, type, selected, setSelected, setSelectedMany, setRowsData, rows, setTemp } = props;\r\n\r\n\r\n  function handleDelAll(event) {\r\n    if(selected.length) {\r\n      let data = {ids:selected}\r\n      del('engines/'+selected[0]+'/', data).then(function (response) {\r\n        // here removing rows from dt-table that are deleted from database\r\n        for(let i in rows){\r\n          if(selected.indexOf(rows[i].id) > -1) {\r\n            delete rows[i];\r\n          }\r\n        }\r\n        setRowsData(rows);\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n        setSelectedMany(false);\r\n\r\n        // no use as such - just to trigger state udpate :(\r\n        const newArr = [];\r\n        newArr.push(1);\r\n        setTemp(newArr);\r\n\r\n        updateTable(type);\r\n      })\r\n    }\r\n  }\r\n\r\n    function fetchCSVData() {\r\n        setExpSpin('');\r\n        list('engines', {records: 'all'}).then(response => {\r\n            let related_models = ['type',  'model', 'manufacturer', 'category', 'owner', 'seller', 'primary_contact', 'current_location','user']\r\n\r\n            let system_fields = ['uid','status_reason', 'views', 'likes','isactivestatus', 'leads', 'created_at', 'updated_at', 'deleted_at','is_active_by_user', 'is_featured', 'is_published'];\r\n\r\n            setExpSpin('d-none');\r\n            let responseData = response.data.map((v, i) => {\r\n\r\n                system_fields.map(field => delete v[field])\r\n\r\n                related_models.map((model) => {\r\n                    v[model] = v[model] ? v[model].name : v[model];\r\n                })\r\n                v.primary_contact = v.primary_contact ? v.primary_contact.first_name + ' ' + v.primary_contact.last_name : v.primary_contact\r\n                return v;\r\n            })\r\n            setCsvData(responseData);\r\n            document.getElementById('engine-csv-btn').click();\r\n        })\r\n    }\r\n\r\n  function handlePlanModal(event) {\r\n    setPlanModalDisplay(true);\r\n  }\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n      <div className=\"kt-portlet__head kt-portlet__head--lg\">\r\n        <div className=\"kt-portlet__head-label\">\r\n          <span className=\"kt-portlet__head-icon\">\r\n            <i className=\"kt-font-brand flaticon2-layers-2\" />\r\n          </span>\r\n          {numSelected > 0 ? (\r\n            <Typography color=\"inherit\" variant=\"subtitle1\">\r\n              {numSelected} selected\r\n            </Typography>\r\n          ) : (\r\n            <h3 className=\"kt-portlet__head-title\">Engine Assets</h3>\r\n          )}\r\n        </div>\r\n        <div className=\"kt-portlet__head-toolbar\">\r\n          <div className=\"kt-portlet__head-wrapper\">\r\n            <div className=\"kt-portlet__head-actions\">\r\n              {numSelected > 0 ? (\r\n                <Tooltip title=\"Delete\">\r\n                  <IconButton\r\n                    onClick={(e) => handleDelAll(e)}\r\n                    aria-label=\"Delete\"\r\n                  >\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              ) : (\r\n                <div className=\"btn-group\">\r\n                  <a\r\n                    onClick={updateTable}\r\n                    className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record mr-2\"\r\n                  >\r\n                    <i className=\"la la-refresh\" aria-hidden=\"true\"></i>\r\n                    Refresh\r\n                  </a>\r\n                  <Link\r\n                    to={\"/\" + USER_URL + \"/engine/asset/create\"}\r\n                    className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record\"\r\n                  >\r\n                    <i className=\"la la-plus\"></i>\r\n                    Add Engine\r\n                  </Link>\r\n                  <Dropdown className=\"dropdown-inline\" drop=\"down\" alignRight>\r\n                    <Dropdown.Toggle\r\n                      as={QuickActionsDropdownToggle}\r\n                      id=\"dropdown-toggle-quick-actions-subheader\"\r\n                    />\r\n\r\n                    <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-md dropdown-menu-right\">\r\n                      <ul className=\"kt-nav\">\r\n                        <li className=\"kt-nav__item\">\r\n                          <a onClick={fetchCSVData} className=\"kt-nav__link\">\r\n                            <i className=\"kt-nav__link-icon la la-upload\" />\r\n                            <span className=\"kt-nav__link-text\">Export</span>\r\n                            <div\r\n                              className={\"spinner-grow \" + exportSpinner}\r\n                            ></div>\r\n                          </a>\r\n                          <CSVLink\r\n                            data={csvData}\r\n                            filename=\"engines.csv\"\r\n                            className=\"d-none\"\r\n                            id=\"engine-csv-btn\"\r\n                            target=\"_blank\"\r\n                          />\r\n                        </li>\r\n                      </ul>\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  selected: PropTypes.array.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  close: {\r\n    padding: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nconst $ = require('jquery');\r\n$.DataTable = require('datatables.net-responsive-bs4');\r\n\r\nfunction updateTable() {\r\n    const table = $('#engine').DataTable();\r\n    table.ajax.reload(null, false);\r\n}\r\n\r\nfunction parseRowData(rowData) {\r\n    if( Array.isArray(rowData) && rowData.length > 0){\r\n    rowData.forEach(function(item, index){\r\n      rowData[index]['actions'] = rowData[index]['checkbox'] = '';\r\n    });\r\n  }\r\n  return rowData;\r\n}\r\n\r\nconst ActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <a\r\n      ref={ref}\r\n      onClick={e => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n      id=\"kt_dashboard_daterangepicker\"\r\n      className=\"btn btn-sm btn-clean btn-icon btn-icon-md\"\r\n    >\r\n      {\" \"}\r\n      <i className=\"la la-ellipsis-h\"></i>\r\n    </a>\r\n));\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [rows, setRowsData] = React.useState([]);\r\n  const [count, setCount] = React.useState(0); // set counter for onload functions\r\n  const [show, setModalDisplay] = React.useState(false); // set modal to show/hide\r\n  const [userIndex, setUser] = React.useState(0); //selected user to perform actions\r\n  const [action, setAction] = React.useState({}); // selected action\r\n  const [temp, setTemp] = React.useState([]); // selected action\r\n  const [isSelectedMany, setSelectedMany] = React.useState(false);\r\n  const [open, setOpen] = React.useState(false); // show/hide Snackbar\r\n  const [message, setMessage] = React.useState('Changes applied successfully!'); // set Message\r\n  const [modal_display, setPlanModalDisplay] = React.useState(false);\r\n  const [messageType, setMessageType] = React.useState('success');\r\n  const [table, setTable] = React.useState(false); // selected action\r\n  const [showSpinner, setshowSpinner] = React.useState(false); // show/hide spinner\r\n  const [csvData, setCsvData] = React.useState([]);\r\n  const [exportSpinner, setExpSpin] = React.useState('d-none');\r\n  const [credits, setCredit] = React.useState(getLocalStorageItem('credits'));\r\n\r\n\r\n    let history = useHistory();\r\n  let type = props.match.params.type;\r\n  let _statuses = [{value:'', label:'All Assets'}]\r\n  STATUSES.map((val, i) => { _statuses.push(val) })\r\n\r\n\r\n  React.useEffect(() => {\r\n      if($.fn.dataTable.isDataTable( '#engine' )) {\r\n          let table = $('#engine').DataTable();\r\n          table.destroy(true);\r\n          setTable(true);\r\n          setRowsData([]);\r\n        }\r\n      return () => {\r\n          setRowsData([]);\r\n          let dtable = $('#engine').DataTable();\r\n          dtable.destroy(true);\r\n          setTable(true);\r\n      }\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (table && $.fn.dataTable.isDataTable( '#engine' ) ) {\r\n        if(JSON.stringify(rows) !== JSON.stringify(window.prevRows)){\r\n          window.prevRows = rows;\r\n        }\r\n      } else {\r\n        setTable(true);\r\n        loadDatatable();\r\n      }\r\n    }, [rows]);\r\n\r\n\r\n  function loadDatatable() {\r\n    let url = API_URL+'engines?format=datatables';\r\n    let columnDefs = [\r\n      { \"bVisible\": false, \"aTargets\": [1] },\r\n      {\r\n        targets: 0,\r\n        width: '30px',\r\n        orderable: false,\r\n        searchable:false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n          ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(rowData.id)}\r\n          onChange={event => handleClick(event, rowData.id, td, row)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${row}` }}\r\n          />\r\n          , td\r\n          );\r\n        },\r\n      },\r\n      {\r\n        targets: 2,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n          let engineName = cellData.toLowerCase();\r\n            if(engineName.includes('-yom-')){\r\n                engineName = engineName.split('-yom-')[0].replace(/-/g,' ')\r\n            }else{\r\n                engineName = engineName.replace(/-/g,' ')\r\n            }\r\n          ReactDOM.render(\r\n          <a style={{textTransform: 'capitalize'}} href={\"/engine/\"+rowData.id+\"-\"+engineName.replace(/ /g, '-').replace(/\\//g, '-')} target=\"_blank\">\r\n          {engineName}\r\n          </a>\r\n              , td\r\n          );\r\n        }\r\n      },\r\n      {\r\n        targets: 4,\r\n        orderable: false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            ReactDOM.render(\r\n            <span onClick={(e) => handleModalShow(e, row, 'is_featured')} className={cellData === 1 ? 'kt-switch kt-switch--sm kt-switch--success':'kt-switch kt-switch--sm kt-switch--danger'}>\r\n            <label>\r\n            <input\r\n            type=\"checkbox\" checked={cellData === 1 ? 'defaultChecked':''}\r\n            name=\"quick_panel_notifications_1\"\r\n                />\r\n                <span />\r\n                </label>\r\n                </span>, td\r\n            );\r\n        }\r\n      },\r\n      {\r\n        targets: 6,\r\n        title: 'Status',\r\n        orderable: false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            ReactDOM.render(\r\n            <span onClick={(e) => handleModalShow(e, row, 'status')} className={cellData === 1 ? 'kt-switch kt-switch--sm kt-switch--success':'kt-switch kt-switch--sm kt-switch--danger'}>\r\n            <label>\r\n            <input\r\n            type=\"checkbox\" checked={cellData === 1 ? 'defaultChecked':''}\r\n            name=\"quick_panel_notifications_1\"\r\n                />\r\n                <span />\r\n                </label>\r\n                </span>, td\r\n            );\r\n        }\r\n      },\r\n        {\r\n        targets: 8,\r\n        searchable:false,\r\n      },\r\n        {\r\n            targets: 9,\r\n            title: 'Actions',\r\n            orderable: false,\r\n            searchable:false,\r\n            \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                ReactDOM.render(\r\n                <Dropdown className=\"kt-header__topbar-item\" drop=\"down\" alignLeft>\r\n                <Dropdown.Toggle as={ActionsDropdownToggle} />\r\n                    <Dropdown.Menu  className=\"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround\">\r\n                    <Dropdown.Item onClick={() => history.push(\"/\"+USER_URL+\"/engine/asset/\" + rowData.id) }>\r\n                                        <i className=\"flaticon-eye\"></i> Views Details\r\n                                    </Dropdown.Item>\r\n                    <Dropdown.Item onClick={() => history.push(\"/\"+USER_URL+\"/engine/asset/\"+rowData.id+\"/edit\") }><i className=\"flaticon2-edit\"></i> Edit Details</Dropdown.Item>\r\n                <Dropdown.Item onClick={(e) => handleModalShow(e, row, 'delete')}><i className=\"flaticon2-trash\"></i> Remove</Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                    </Dropdown>\r\n                    , td\r\n                );\r\n            }\r\n        }\r\n    ];\r\n    $('#engine').DataTable({\r\n      responsive: {\r\n        details: {\r\n          renderer: $.fn.dataTable.Responsive.renderer.listHiddenNodes()\r\n        }\r\n      },\r\n      serverSide:true,\r\n      displayStart : getPageNum('engines', props),\r\n      ajax: {\r\n        url:url ,\r\n        method: \"GET\",\r\n        headers: {'Content-Type': 'application/json', 'Authorization': 'Token '+JSON.parse(localStorage.getItem(LOCAL_STORAGE)).authToken.replace(/['\"]+/g, '')},\r\n        \"dataFilter\": function(data) {\r\n          let json = JSON.parse(data);\r\n          let rowData = parseRowData(json.data);\r\n          setRowsData(rowData);\r\n          json.data = rowData;\r\n          return JSON.stringify(json); // return JSON string\r\n        },\r\n      },\r\n\r\n          // DOM Layout settings\r\n          dom: `<'row'<'col-sm-12'tr>>\r\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\r\n\r\n          lengthMenu: [5, 10, 25, 50],\r\n\r\n      pageLength: 10,\r\n      pagingType: 'numbers',\r\n      recordsTotal: rows.recordsTotal, // The number in my test data set\r\n      recordsFiltered: rows.recordsFiltered,\r\n\r\n          language: {\r\n              'lengthMenu': 'Display _MENU_',\r\n          },\r\n\r\n      // Order settings\r\n      order: [[7, 'desc']],\r\n      columnDefs:columnDefs ,\r\n    });\r\n    $('#engine').on( 'page.dt', function () {             \r\n      setPageNum($('#engine'), 'engines', props);\r\n  });\r\n  }\r\n\r\n  function handleRequestSort(event, property) {\r\n    const isDesc = orderBy === property && order === 'desc';\r\n    setOrder(isDesc ? 'asc' : 'desc');\r\n    setOrderBy(property);\r\n  }\r\n\r\n  function handleSelectAllClick(event) {\r\n\r\n    if (event.target.checked) {\r\n        const sel = selected;\r\n      const newSelecteds = rows.map(n => n.id);\r\n        newSelecteds.forEach(v => {\r\n         sel.push(v)\r\n       })\r\n      setSelected(sel);\r\n    }else{\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n    }\r\n    if(isSelectedMany)\r\n      setSelectedMany(false);\r\n    else\r\n      setSelectedMany(true);\r\n\r\n    updateTable(type);\r\n\r\n  }\r\n\r\n  function handleClick(event, id, td, idx) {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    const sel =selected;\r\n\r\n    if(selectedIndex === -1){\r\n        sel.push(id);\r\n    }else{\r\n        sel.splice(selectedIndex, 1);\r\n    }\r\n    setSelected(sel);\r\n    const newArr = [...temp];\r\n    newArr.push(1);\r\n    setTemp(newArr);\r\n    // updateTable(type);\r\n      const table = $('#engine').DataTable();\r\n    table.cell( td ).render(ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(id)}\r\n          onChange={event => handleClick(event, id, td, idx)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${idx}` }}\r\n          />\r\n          , td\r\n          ));\r\n  }\r\n\r\n  function handleChangePage(event, newPage) {\r\n    setPage(newPage);\r\n  }\r\n\r\n  function handleChangeRowsPerPage(event) {\r\n    setRowsPerPage(+event.target.value);\r\n  }\r\n\r\n  function handleChangeDense(event) {\r\n    setDense(event.target.checked);\r\n  }\r\n\r\n  function handleSearch(event) {\r\n    const table = $('#engine').DataTable();\r\n    table.search( event.target.value ).draw();\r\n  }\r\n\r\n  function handleModalClose(event) {\r\n    setModalDisplay(false);\r\n  }\r\n\r\n  function handleModalShow(event, index, act) {\r\n    setUser(index);\r\n    setAction(act)\r\n    setModalDisplay(true);\r\n  }\r\n\r\n  function confirm(event) {\r\n    if(action == 'status') {\r\n      var data = {'is_active_by_user': rows[userIndex].is_active_by_user === 1 ? 0:1};\r\n      patch('engines/'+rows[userIndex].id+'/', data).then(function (response) {\r\n        rows[userIndex] = response.data;\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n        updateTable();\r\n        setOpen(true);\r\n        let statusType = response.data.is_active_by_user === 1 ? 'activated' : 'deactivated';\r\n        setMessageType(\r\n          response.data.is_active_by_user === 1 ? \"success\" : \"error\"\r\n        );\r\n        setMessage('Record successfully '+statusType);\r\n      })\r\n    } else if(action === 'is_featured') {\r\n      var data = {is_featured: rows[userIndex].is_featured === 1 ? 0 : 1}\r\n\r\n      post('engines/'+rows[userIndex].id+'/promote/', data).then(function (response) {\r\n        rows[userIndex] = response.data;\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n        updateTable()\r\n        setOpen(true);\r\n          let new_credits = [], new_credit = {};\r\n          if(response.data.type == 'success') {\r\n              credits.map((credit, i) => {\r\n                  new_credit = {};\r\n                  Object.keys(credit).map(key => {\r\n                      new_credit[key] = credit[key];\r\n\r\n                      if(credit.name == 'Engine' && key == 'promoted') {\r\n                          if(data.is_featured == 0)\r\n                              new_credit[key] -= 1;\r\n                          else\r\n                              new_credit[key] += 1;\r\n                      }\r\n                  })\r\n\r\n                  new_credits.push(new_credit);\r\n              })\r\n\r\n\r\n              setCredit(new_credits);\r\n          }\r\n        setMessageType(response.data.type);\r\n        setMessage(response.data.message);\r\n      })\r\n    } else if(action == 'delete') {\r\n      del('engines/'+rows[userIndex].id+'/').then(function (response) {\r\n        rows.splice(userIndex,1);\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n        updateTable();\r\n        setOpen(true);\r\n        setMessage('Record successfully deleted');\r\n      })\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setLocalStorageItem('credits', credits);\r\n}, [credits]);\r\n\r\n  const handleCloseSnackbar = (event, reason) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isSelected = id => selected.indexOf(id) !== -1;\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.tableWrapper}>\r\n        <div className=\"kt-portlet kt-portlet--mobile\">\r\n            <EnhancedTableToolbar exportSpinner={exportSpinner} setExpSpin={setExpSpin} csvData={csvData}\r\n                                  setCsvData={setCsvData} setTemp={setTemp} setRowsData={setRowsData} rows={rows} setSelectedMany={setSelectedMany} setSelected={setSelected} selected={selected} numSelected={selected.length} type={type} setPlanModalDisplay={setPlanModalDisplay} />\r\n          <div className=\"kt-portlet__body\">\r\n\r\n            <div className=\"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-xl-12 order-2 order-xl-1\">\r\n                  <div className=\"row align-items-center\">\r\n                    <div className=\"col-md-4 kt-margin-b-20-tablet-and-mobile col-xs-12\">\r\n                      <div className=\"kt-input-icon kt-input-icon--left\">\r\n                        <input onKeyUp={handleSearch}  type=\"text\" className=\"form-control\" placeholder=\"Search...\" id=\"generalSearch\" />\r\n                        <span className=\"kt-input-icon__icon kt-input-icon__icon--left\">\r\n                          <span><i className=\"la la-search\" /></span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n \r\n            <div className=\"kt-section\">\r\n                <div>\r\n                  <table className=\"table table-striped- table-bordered table-hover table-checkable\" id={\"engine\"}>\r\n                      <thead>\r\n                      <tr>\r\n                          <th data-data=\"checkbox\">\r\n                              <Checkbox\r\n                                checked={isSelectedMany}\r\n                                onChange = {handleSelectAllClick}\r\n                                inputProps={{\r\n                                  'aria-label': 'primary checkbox',\r\n                                }}\r\n                              />\r\n                          </th>\r\n                          <th data-data=\"id\">ID</th>\r\n                          <th data-data=\"title\">Title</th>\r\n                          <th data-data=\"esn\">ESN</th>\r\n                          <th data-data=\"is_featured\">Promote Status</th>\r\n                          <th data-data=\"isactivestatus\">Publish Status</th>\r\n                          <th data-data=\"is_active_by_user\">Status</th>\r\n                          <th data-data=\"views\">Views</th>\r\n                          <th data-data=\"leads\">Leads</th>\r\n                          <th data-data=\"actions\">Actions</th>\r\n                      </tr>\r\n                      </thead>\r\n                  </table>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </Paper>\r\n      <Modal show={show} onHide={handleModalClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Footer>\r\n          <Button variant=\"success\" onClick={confirm}>\r\n            Yes\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={handleModalClose}>\r\n            No\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <PlanModal type={'engine'} data={props} modal_display={modal_display} setPlanModalDisplay={setPlanModalDisplay} />\r\n      <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={open}\r\n          autoHideDuration={1600000}\r\n          onClose={handleCloseSnackbar}\r\n        >\r\n          <SnackbarContentWrapper\r\n            onClose={handleCloseSnackbar}\r\n            variant={messageType}\r\n            message={message}\r\n          />\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Form, Col, Tab, Tabs, Row, Modal} from \"react-bootstrap\";\r\nimport {\r\n    Checkbox,\r\n    FormControlLabel, FormGroup,\r\n    FormControl, Button as ButtonCore, IconButton, createMuiTheme, Select as SelectCore, Divider\r\n} from \"@material-ui/core\";\r\nimport {CloudUpload as CloudUploadIcon} from \"@material-ui/icons\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {\r\n    list,\r\n    patch,\r\n    post,\r\n    getToken,\r\n    loadOptions,\r\n    MEDIA_URL,\r\n    API_URL,\r\n    ENGINE_STATUSES,\r\n    ENGINE_OFFER,\r\n    ENGINE_EXTRA_FIELDS,\r\n    ENGINE_COMMERCIAL_EXTRA_FIELDS,\r\n    USER_URL\r\n} from \"../../../crud/api\";\r\nimport Select from 'react-select';\r\nimport Gallery from 'react-grid-gallery';\r\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\r\nimport MediaLibrary from '../../../library/media'\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport 'react-dropzone-uploader/dist/styles.css';\r\nimport Dropzone from 'react-dropzone-uploader';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider, DatePicker} from \"@material-ui/pickers\";\r\nimport {ThemeProvider} from \"@material-ui/styles\";\r\nimport moment from \"moment\";\r\nimport KTWizard from \"../../../../_metronic/_assets/js/wizard\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AsyncPaginate from \"react-select-async-paginate\";\r\n\r\nconst defaultMaterialTheme = createMuiTheme({\r\n    props: {\r\n        MuiInput: {\r\n            disableUnderline: true,\r\n        },\r\n        MuiTextField: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n        },\r\n        MuiInputBase: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n            disableUnderline: true,\r\n            inputProps: {\r\n                style: {\r\n                    display: \"block\",\r\n                    height: \"calc(1.5em + 1.3rem + 2px)\",\r\n                    padding: \"0.65rem 1rem\",\r\n                    fontSize: \"1rem\",\r\n                    fontWeight: \"400\",\r\n                    lineHeight: \"1.5\",\r\n                    color: \"#495057\",\r\n                    backgroundColor: \"#fff\",\r\n                    backgroundClip: \"padding-box\",\r\n                    border: \"1px solid #e2e5ec\",\r\n                    borderRadius: \"4px\",\r\n                    transition: \"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n                    boxSizing: \"border-box\",\r\n                }\r\n            }\r\n        },\r\n    },\r\n});\r\n\r\nconst addMoreSelect = createMuiTheme({\r\n  overrides: {\r\n      MuiOutlinedInput:{\r\n          root: {\r\n            '&:hover': {\r\n              \"& $notchedOutline\":{\r\n                      borderColor: 'rgb(179, 179, 179)'\r\n                }\r\n            }\r\n          },\r\n          inputSelect: {\r\n              padding: \"13px\",\r\n              fontFamily: \"Poppins, Helvetica, sans-serif\",\r\n              color: \"#808080\"\r\n          }\r\n      }\r\n  },\r\n});\r\n\r\nclass Edit extends React.Component {\r\n\r\n    wizardRef = React.createRef();\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const {engine_id, type} = this.props.data.match.params\r\n        this.medialibraryAsset = React.createRef();\r\n\r\n        this.state = {\r\n            validated: false,\r\n            engine: {},\r\n            selectedFile: null,\r\n            category: [],\r\n            manufacturer: [],\r\n            countries: [],\r\n            type: [],\r\n            contacts: [],\r\n            model: [],\r\n            companies: [],\r\n            users: [],\r\n            selected_primary_contact: {\r\n                id:props.data.extra_data.user.contact.id,\r\n                label:props.data.extra_data.user.contact.first_name+' '+props.data.extra_data.user.contact.last_name,\r\n                value:true\r\n            },\r\n            selected_category: {value: ''},\r\n            selected_type: {value: ''},\r\n            selected_manufacturer: {value: ''},\r\n            selected_current_location: {value: ''},\r\n            selected_model: {value: ''},\r\n            selected_owner: {value: ''},\r\n            selected_seller: {value: ''},\r\n            selected_user: {value: this.props.data.extra_data.user ? this.props.data.extra_data.user.id : null},\r\n            selected_status: {value: ''},\r\n            selected_offer_for: {value: ''},\r\n            selected_images: [],\r\n            attachments: [],\r\n            initialFiles: [],\r\n            modalDisplay: false,\r\n            modalType: '',\r\n            engineExtraFields: ENGINE_EXTRA_FIELDS,\r\n            selectedExtraFields: [],\r\n            commercialExtraFields: ENGINE_COMMERCIAL_EXTRA_FIELDS,\r\n            selectedExtraFieldsCommercial: [],\r\n            modelsLoaded: false,\r\n        };\r\n        this.getEngine(engine_id);\r\n        this.confirm=this.confirm.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        new KTWizard(this.wizardRef.current);\r\n    }\r\n\r\n    getEngine(engine_id) {\r\n        list('engines/' + engine_id + '/').then(\r\n            (response) => {\r\n                let availability = response.data.availability;\r\n                this.setState({\r\n                    availability: availability\r\n                })\r\n                this.setState({engine: response.data})\r\n                // this.getDropdownsListing();\r\n                this.loadModels();\r\n\r\n                /*if (response.data.manufacturer.id != undefined && response.data.manufacturer.id != \"\")\r\n                    this.setDynamicDropdowns(response.data.manufacturer.id, 'manufacturer');\r\n\r\n                if (response.data.type.id != undefined && response.data.type.id != \"\")\r\n                    this.setDynamicDropdowns(response.data.type.id, 'type');*/\r\n\r\n                this.loadSelectedImages(response.data.media);\r\n                this.loadInitialFields();\r\n                this.renderExtraFields();\r\n            });\r\n    }\r\n\r\n    loadModels() {\r\n        let engine_data = this.state.engine;\r\n\r\n        // static dropdowns calculation here -\r\n\r\n        let static_dropdowns = { // when you have static dropdown like gender just put here\r\n            status: ENGINE_STATUSES,\r\n            offer_for: ENGINE_OFFER\r\n        }\r\n\r\n        let dropdown_keys = Object.keys(static_dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            for (let index in static_dropdowns[dropdown_keys[key]]) {\r\n                if (static_dropdowns[dropdown_keys[key]][index].value === engine_data[dropdown_keys[key]]) {\r\n                    this.setState({['selected_' + dropdown_keys[key]]: static_dropdowns[dropdown_keys[key]][index]});\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        let models = {\r\n            'AbCategories': {type: 'engine'},\r\n            'AbContacts': {},\r\n            'AbCountries': {},\r\n            'AbCompanies': {},\r\n            'AbUsers': {},\r\n        }\r\n\r\n        // lets do some mapping to avoid if else conditions\r\n        let state_endpoints = {\r\n            AbUsers:['user'],\r\n            AbContacts: ['primary_contact'],\r\n            AbCategories: ['category'],\r\n            AbManufacturers: ['manufacturer'],\r\n            AbCountries: ['current_location'],\r\n            AbCompanies: ['owner', 'seller']\r\n        }\r\n\r\n        if (engine_data.category !== null && engine_data.category.id !== undefined) {\r\n            models['AbManufacturers'] = {type: 'engine', categories__id: engine_data.category.id}\r\n            state_endpoints['AbManufacturers'] = ['manufacturer']\r\n        }\r\n\r\n        if (engine_data.manufacturer != null && engine_data.manufacturer.id != undefined) {\r\n            models['AbTypes'] = {type: 'engine', manufacturer_id: engine_data.manufacturer.id}\r\n            state_endpoints['AbTypes'] = ['type']\r\n        }\r\n\r\n        if (engine_data.type != null && engine_data.type.id != undefined) {\r\n            models['AbModels'] = {type: 'engine', type_0: engine_data.type.id}\r\n            state_endpoints['AbModels'] = ['model']\r\n        }\r\n\r\n        post('abmodels', {models: models}).then(function (response) {\r\n            let newStates = {};\r\n            for (let opt in response.data) {\r\n\r\n                response.data[opt].map((row, i) => {\r\n                    if (opt === 'AbContacts' || opt === 'AbUsers')\r\n                        row.name = row.first_name + ' ' + row.last_name;\r\n                    if (opt === 'AbUsers')\r\n                        row.id = row.user_id;\r\n\r\n                    response.data[opt][i].label = row.name;\r\n                    response.data[opt][i].value = row.id;\r\n\r\n                    Object.keys(state_endpoints).map((key, i) => {\r\n                        state_endpoints[key].map((state, index) => {\r\n                            if (opt === key && engine_data[state] !== null && engine_data[state].id !== undefined && engine_data[state].id === row.id)\r\n                                newStates['selected_' + state] = row;\r\n                        })\r\n                    })\r\n\r\n                })\r\n            }\r\n            newStates['users'] = response.data.AbUsers;\r\n            newStates['category'] = response.data.AbCategories;\r\n            newStates['contacts'] = response.data.AbContacts;\r\n            newStates['manufacturer'] = response.data.AbManufacturers;\r\n            newStates['countries'] = response.data.AbCountries;\r\n            newStates['companies'] = response.data.AbCompanies;\r\n\r\n            if (engine_data.category !== null && engine_data.category.id !== undefined)\r\n                newStates['manufacturer'] = response.data.AbManufacturers;\r\n\r\n            if (engine_data.manufacturer != null && engine_data.manufacturer.id != undefined)\r\n                newStates['type'] = response.data.AbTypes;\r\n\r\n            if (engine_data.type != null && engine_data.type.id != undefined)\r\n                newStates['model'] = response.data.AbModels;\r\n\r\n            newStates['modelsLoaded'] = true;\r\n            this.setState(newStates);\r\n        }.bind(this))\r\n    }\r\n\r\n    handleChange(event, type) {\r\n        var engine = this.state.engine;\r\n        if (type !== 'availability') {\r\n            var attr = event.target.name;\r\n            var val = event.target.value;\r\n        } else {\r\n            var attr = type;\r\n            var val = moment(event).format();\r\n            this.setState({availability: event})\r\n        }\r\n        if (attr === 'is_active')\r\n            val = parseInt(val);\r\n        engine[attr] = val;\r\n        this.setState({engine: engine})\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.setState({validated: true});\r\n        this.checkDataFormat(); // this is done to convert foregin table objects into pk\r\n        if (!this.state.selectedFile)\r\n            delete this.state.engine.file;\r\n        patch('engines/' + this.state.engine.id + '/', this.state.engine).then(\r\n            (response) => {\r\n                this.setState({engine: response.data});\r\n                this.props.data.history.push(this.state.action == 'save_new' ? \"/\" + USER_URL + \"/engine/asset/create\" : \"/\" + USER_URL + \"/engine/asset\");\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n\r\n    checkDataFormat() {\r\n        let engine = this.state.engine;\r\n        let related_data = ['category', 'primary_contact', 'manufacturer', 'current_location',\r\n            'type', 'model', 'owner', 'user', 'seller'];\r\n        related_data.map((val, i) => {\r\n            engine[val] = this.state['selected_' + val].value;\r\n        })\r\n        engine.images = this.state.selected_images;\r\n        engine.attachments = this.state.attachments;\r\n        this.setState({engine: engine});\r\n    }\r\n\r\n    getDropdownsListing() {\r\n        let engine_data = this.state.engine;\r\n        let dropdowns = {// when you have database dropdown like departments just put here\r\n            category: 'category',\r\n            primary_contact: 'contacts',\r\n            manufacturer: 'manufacturer',\r\n            current_location: 'countries',\r\n            type: 'type',\r\n            model: 'model',\r\n            owner: 'companies',\r\n            user: 'users'\r\n        }\r\n\r\n        let duplicating_dropdowns = {\r\n            companies: ['seller'],\r\n        }\r\n\r\n\r\n        // static dropdowns calculation here -\r\n\r\n        let static_dropdowns = { // when you have static dropdown like gender just put here\r\n            status: ENGINE_STATUSES,\r\n            offer_for: ENGINE_OFFER\r\n        }\r\n\r\n        let dropdown_keys = Object.keys(static_dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            for (let index in static_dropdowns[dropdown_keys[key]]) {\r\n                if (static_dropdowns[dropdown_keys[key]][index].value === engine_data[dropdown_keys[key]]) {\r\n                    this.setState({['selected_' + dropdown_keys[key]]: static_dropdowns[dropdown_keys[key]][index]});\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        dropdown_keys = Object.keys(dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            let params = {}\r\n            list(dropdowns[dropdown_keys[key]], params).then(function (response) {\r\n                let data = response.data;\r\n                let selected = {};\r\n                for (let opt in data) {\r\n                    // special case for contacts\r\n                    if (dropdowns[dropdown_keys[key]] === 'contacts')\r\n                        data[opt].name = data[opt].first_name + ' ' + data[opt].last_name;\r\n                    else if (dropdowns[dropdown_keys[key]] === 'users')\r\n                        data[opt].name = data[opt].contact.first_name + ' ' + data[opt].contact.last_name;\r\n\r\n                    data[opt].label = data[opt].name;\r\n                    data[opt].value = data[opt].id;\r\n\r\n                    if (engine_data[dropdown_keys[key]] != undefined && data[opt].id === engine_data[dropdown_keys[key]].id)\r\n                        selected = data[opt]\r\n\r\n                    if (duplicating_dropdowns[dropdowns[dropdown_keys[key]]] != undefined) {\r\n                        for (let index in duplicating_dropdowns[dropdowns[dropdown_keys[key]]]) {\r\n                            let duplicated_el = duplicating_dropdowns[dropdowns[dropdown_keys[key]]][index];\r\n\r\n                            if (engine_data[duplicated_el] != undefined && data[opt].id === engine_data[duplicated_el].id) {\r\n                                this.setState({['selected_' + duplicated_el]: data[opt]});\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({\r\n                    [dropdowns[dropdown_keys[key]]]: data,\r\n                    ['selected_' + dropdown_keys[key]]: selected,\r\n                    engine: engine_data\r\n                });\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    removeImage(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images = selected_images.filter((val, i) => {\r\n            return index !== i;\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    selectChange(value, key) {\r\n        let engine = this.state.engine;\r\n        engine[key] = value && value.value ? value.value : '';\r\n        this.setState({['selected_' + key]: value ? value : '', engine: engine});\r\n        this.setDynamicDropdowns(value && value.id ? value.id : '', key);\r\n    }\r\n\r\n    setDynamicDropdowns(id, key) {\r\n        if (['category', 'manufacturer', 'type'].indexOf(key) > -1 && id) {\r\n            let endpoint = '', params = {}, key_to_update = '', models = {};\r\n            if (key === 'category') {\r\n                models = {\r\n                    AbManufacturers: {categories__id: id, type: 'engine'}\r\n                }\r\n                key_to_update = 'manufacturer';\r\n            } else if (key === 'manufacturer') {\r\n                models = {\r\n                    AbTypes: {manufacturer_id: id, type: 'engine'}\r\n                }\r\n                key_to_update = 'type';\r\n            } else if (key === 'type') {\r\n                models = {\r\n                    AbModels: {type_0: id, type: 'engine'}\r\n                }\r\n                key_to_update = 'model';\r\n            }\r\n\r\n            post('abmodels', {models: models}).then(function (response) {\r\n                let selected = {};\r\n                for (let opt in response.data) {\r\n                    response.data[opt].map((row, i) => {\r\n                        response.data[opt][i].label = row.name;\r\n                        response.data[opt][i].value = row.id;\r\n                        selected = row;\r\n                    })\r\n                    this.setState({\r\n                        [key_to_update]: response.data[opt], ['selected_' + key_to_update]: selected\r\n                    })\r\n                }\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    setTab(event, tab) {\r\n        document.getElementById('engine-tabs-tab-' + tab).click();\r\n    }\r\n\r\n    getUploadParams(data) {\r\n        const body = new FormData()\r\n        body.append('original_file_name', data.file)\r\n        body.append('user', this.state.selected_user.value);\r\n        body.append('attachable_type', 'Engine');\r\n\r\n        if ('existing' in data.file)\r\n            body.append('existing_id', data.file.id);\r\n\r\n        return {url: API_URL + 'attaches', dataType: 'json', body, headers: {'Authorization': 'Token ' + getToken()}}\r\n    }\r\n\r\n    onAttachmentUpload(data, status) {\r\n        if (status === 'done') {\r\n            let attachment = JSON.parse(data.xhr.response);\r\n            this.setState({attachments: [...this.state.attachments, attachment]});\r\n        } else if (status === 'removed') {\r\n            if(data.xhr){\r\n                let attachment = JSON.parse(data.xhr.response);\r\n                let attachments = this.state.attachments.filter((val, i) => {\r\n                    return val.id !== attachment.id\r\n                })\r\n                this.setState({attachments: attachments})\r\n            }\r\n        }\r\n    }\r\n\r\n    loadInitialFields() {\r\n        if (this.state.engine.attachments !== undefined) {\r\n            let initialFiles = [];\r\n            this.state.engine.attachments.map((val, i) => {\r\n                let file = new File(['foo'], MEDIA_URL + val.original_file_name);\r\n                file.id = val.id;\r\n                file.existing = true;\r\n                initialFiles.push(file);\r\n            })\r\n            this.setState({initialFiles: initialFiles});\r\n        }\r\n    }\r\n\r\n    loadSelectedImages(data) {\r\n        data.map((val, i) => {\r\n            data[i].src = MEDIA_URL + val.original_file_name;\r\n            data[i].thumbnail = MEDIA_URL + val.original_file_name;\r\n            data[i].thumbnailWidth = 150;\r\n            data[i].thumbnailHeight = 150;\r\n            data[i].isSelected = true;\r\n            if (data[i].is_featured) {\r\n                data[i].isSelected = true;\r\n                data[i].tags = [{value: \"Featured\", title: \"Featured\"}];\r\n            } else\r\n                data[i].isSelected = false;\r\n            data[i].customOverlay = <Grid item xs={8}> <DeleteForeverOutlinedIcon/> </Grid>\r\n        })\r\n        this.setState({selected_images: data});\r\n    }\r\n\r\n    onClickThumbnail(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images.map((val, i) => {\r\n            if (i === index) {\r\n                selected_images[i].is_featured = 1;\r\n                selected_images[i].isSelected = true;\r\n                selected_images[i].tags = [{value: \"Featured\", title: \"Featured\"}];\r\n            } else {\r\n                selected_images[i].is_featured = 0;\r\n                selected_images[i].isSelected = false;\r\n                delete selected_images[i].tags;\r\n            }\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    renderExtraFields() {\r\n        //first render engine extrafields\r\n        let engineExtraFields = [...this.state.engineExtraFields];\r\n        let engineExtra = [];\r\n        ENGINE_EXTRA_FIELDS.map((val, i) => {\r\n            if (this.state.engine[val.value])\r\n                engineExtra.push('' + val.value + '')\r\n        })\r\n\r\n        this.setState({selectedExtraFields: engineExtra});\r\n        this.setState(state => {\r\n            const engineExtraFields = state.engineExtraFields.filter(item => !engineExtra.includes(item.value));\r\n            return {\r\n                engineExtraFields\r\n            };\r\n        });\r\n\r\n        //then render commercial extrafields\r\n        let commercialExtraFields = [...this.state.commercialExtraFields];\r\n        let commercialExtra = [];\r\n        ENGINE_COMMERCIAL_EXTRA_FIELDS.map((val, i) => {\r\n            if (this.state.engine[val.value] && typeof this.state.engine[val.value].id !== \"undefined\")\r\n                commercialExtra.push('' + val.value + '')\r\n        })\r\n\r\n        this.setState({selectedExtraFieldsCommercial: commercialExtra});\r\n        this.setState(state => {\r\n            const commercialExtraFields = state.commercialExtraFields.filter(item => !commercialExtra.includes(item.value));\r\n            return {\r\n                commercialExtraFields\r\n            };\r\n        });\r\n    }\r\n\r\n    selectMoreFields(event, key) {\r\n        let engineExtraFields = [...this.state.engineExtraFields];\r\n        engineExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({engineExtraFields: engineExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFields = [...state.selectedExtraFields, key];\r\n            return {\r\n                selectedExtraFields,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraField(event, key, label) {\r\n        let engineState = this.state.engine;\r\n        let engineExtraFields = [...this.state.engineExtraFields, {label: label, value: key}];\r\n        this.setState({engineExtraFields: engineExtraFields});\r\n        let selectedExtraFields = this.state.selectedExtraFields;\r\n        selectedExtraFields = selectedExtraFields.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFields: selectedExtraFields});\r\n        engineState[key] = null;\r\n        this.setState({engine: engineState})\r\n        this.setState({['selected_' + key]: {value: ''}});\r\n    }\r\n\r\n    selectMoreFieldsCommercial(event, key) {\r\n        let commercialExtraFields = [...this.state.commercialExtraFields];\r\n        commercialExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFieldsCommercial = [...state.selectedExtraFieldsCommercial, key];\r\n            return {\r\n                selectedExtraFieldsCommercial,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraFieldCommercial(event, key, label) {\r\n        let engineState = this.state.engine;\r\n        let commercialExtraFields = [...this.state.commercialExtraFields, {label: label, value: key}];\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        let selectedExtraFieldsCommercial = this.state.selectedExtraFieldsCommercial;\r\n        selectedExtraFieldsCommercial = selectedExtraFieldsCommercial.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFieldsCommercial: selectedExtraFieldsCommercial});\r\n        engineState[key] = null;\r\n        this.setState({engine: engineState})\r\n        this.setState({['selected_' + key]: {value: ''}});\r\n    }\r\n\r\n    handleModalShow = () => {\r\n        this.setState({\r\n            modalDisplay: true,\r\n        })\r\n    }\r\n\r\n    handleModalClose = () => {\r\n        this.setState({modalDisplay: false})\r\n    }\r\n    confirm(){\r\n        let data= {\r\n            category: document.getElementById('modal-category-id').value,\r\n            manufacturer: document.getElementById('modal-manufacture-id').value,\r\n            type: document.getElementById('modal-type-id').value,\r\n            model: document.getElementById('modal-model-id').value,\r\n            entity_type: 'engine',\r\n            user: this.props.data.extra_data.user.id\r\n        }\r\n        post('suggestions', data).then(\r\n            (response) => {\r\n                this.setState({\r\n                    modalDisplay: false,\r\n                })\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n    render() {\r\n        const {\r\n            availability, engine, selectedFile, selected_manufacturer, manufacturer,\r\n            selected_category, category, selected_current_location, countries, selected_type, type,\r\n            selected_primary_contact, contacts, model, selected_model, selected_owner, companies,\r\n            selected_seller, selected_user, users, selected_status, selected_offer_for, initialFiles, modelsLoaded\r\n        } = this.state;\r\n        return (\r\n            <div className=\"kt-portlet\">\r\n                <div className=\"kt-portlet__head\">\r\n                    <div className=\"kt-portlet__head-label\">\r\n                        <h3 className=\"kt-portlet__head-title\">\r\n                            Engine\r\n                        </h3>\r\n                    </div>\r\n                </div>\r\n                <div className=\"kt-portlet__body kt-portlet__body--fit\">\r\n                    <div ref={this.wizardRef} className=\"kt-grid  kt-wizard-v1 kt-wizard-v1--white\" id=\"kt_engine_add\"\r\n                         data-ktwizard-state=\"step-first\">\r\n                        <div className=\"kt-grid__item\">\r\n\r\n                            <div className=\"kt-wizard-v1__nav\">\r\n                                <div className=\"kt-wizard-v1__nav-items\">\r\n\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\"\r\n                                         data-ktwizard-state=\"current\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M4.875,20.75 C4.63541667,20.75 4.39583333,20.6541667 4.20416667,20.4625 L2.2875,18.5458333 C1.90416667,18.1625 1.90416667,17.5875 2.2875,17.2041667 C2.67083333,16.8208333 3.29375,16.8208333 3.62916667,17.2041667 L4.875,18.45 L8.0375,15.2875 C8.42083333,14.9041667 8.99583333,14.9041667 9.37916667,15.2875 C9.7625,15.6708333 9.7625,16.2458333 9.37916667,16.6291667 L5.54583333,20.4625 C5.35416667,20.6541667 5.11458333,20.75 4.875,20.75 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\" opacity=\"0.3\"/>\r\n                                                        <path\r\n                                                            d=\"M2,11.8650466 L2,6 C2,4.34314575 3.34314575,3 5,3 L19,3 C20.6568542,3 22,4.34314575 22,6 L22,15 C22,15.0032706 21.9999948,15.0065399 21.9999843,15.009808 L22.0249378,15 L22.0249378,19.5857864 C22.0249378,20.1380712 21.5772226,20.5857864 21.0249378,20.5857864 C20.7597213,20.5857864 20.5053674,20.4804296 20.317831,20.2928932 L18.0249378,18 L12.9835977,18 C12.7263047,14.0909841 9.47412135,11 5.5,11 C4.23590829,11 3.04485894,11.3127315 2,11.8650466 Z M6,7 C5.44771525,7 5,7.44771525 5,8 C5,8.55228475 5.44771525,9 6,9 L15,9 C15.5522847,9 16,8.55228475 16,8 C16,7.44771525 15.5522847,7 15,7 L6,7 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Engine\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13,18.9450712 L13,20 L14,20 C15.1045695,20 16,20.8954305 16,22 L8,22 C8,20.8954305 8.8954305,20 10,20 L11,20 L11,18.9448245 C9.02872877,18.7261967 7.20827378,17.866394 5.79372555,16.5182701 L4.73856106,17.6741866 C4.36621808,18.0820826 3.73370941,18.110904 3.32581341,17.7385611 C2.9179174,17.3662181 2.88909597,16.7337094 3.26143894,16.3258134 L5.04940685,14.367122 C5.46150313,13.9156769 6.17860937,13.9363085 6.56406875,14.4106998 C7.88623094,16.037907 9.86320756,17 12,17 C15.8659932,17 19,13.8659932 19,10 C19,7.73468744 17.9175842,5.65198725 16.1214335,4.34123851 C15.6753081,4.01567657 15.5775721,3.39010038 15.903134,2.94397499 C16.228696,2.49784959 16.8542722,2.4001136 17.3003976,2.72567554 C19.6071362,4.40902808 21,7.08906798 21,10 C21,14.6325537 17.4999505,18.4476269 13,18.9450712 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"12\" cy=\"10\" r=\"6\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Commercial\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13.2070325,4 C13.0721672,4.47683179 13,4.97998812 13,5.5 C13,8.53756612 15.4624339,11 18.5,11 C19.0200119,11 19.5231682,10.9278328 20,10.7929675 L20,17 C20,18.6568542 18.6568542,20 17,20 L7,20 C5.34314575,20 4,18.6568542 4,17 L4,7 C4,5.34314575 5.34314575,4 7,4 L13.2070325,4 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"18.5\" cy=\"5.5\"\r\n                                                                r=\"2.5\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Complete\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"kt-grid__item kt-grid__item--fluid kt-wizard-v1__wrapper\">\r\n                            <Form className=\"kt-form\" noValidate id=\"create-engine-form\"\r\n                                  onSubmit={e => this.handleSubmit(e)}>\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\"\r\n                                     data-ktwizard-state=\"current\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Engine Info</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Category</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_category.value?selected_category:'select...'}\r\n                                                        model=\"category\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'category')}\r\n                                                        options={category}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Manufacturer</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_manufacturer.value?selected_manufacturer:'select...'}\r\n                                                        model=\"manufacturer\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'manufacturer')}\r\n                                                        options={manufacturer}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Type</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_type.value?selected_type:'select...'}\r\n                                                        model=\"type\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'type')}\r\n                                                        options={type}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Model</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_model.value?selected_model:'select...'}\r\n                                                        model=\"model\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'model')}\r\n                                                        options={model}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">ESN</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"esn\"\r\n                                                        defaultValue={engine ? engine.esn : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Cycles Remaining (CR)</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"cycle_remaining\"\r\n                                                        defaultValue={engine ? engine.cycle_remaining : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Status</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_status.value?selected_status:'select...'}\r\n                                                        model=\"engine\"\r\n                                                        name=\"status\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'status')}\r\n                                                        options={ENGINE_STATUSES}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n\r\n                                            {this.state.selectedExtraFields.includes(\"tso\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">TSO</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"tso\"\r\n                                                        defaultValue={engine ? engine.tso : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'tso', 'TSO')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"thrust_rating\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Thrust\r\n                                                    Rating</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"thrust_rating\"\r\n                                                        defaultValue={engine ? engine.thrust_rating : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'thrust_rating', 'Thrust Rating')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"lsv_description\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">LSV\r\n                                                    Description</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"lsv_description\"\r\n                                                        defaultValue={engine ? engine.lsv_description : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'lsv_description', 'LSV Description')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.engineExtraFields.length>0 &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                        <ThemeProvider theme={addMoreSelect}>\r\n                                                        <SelectCore\r\n                                                            native\r\n                                                            value=\"\"\r\n                                                            onChange={(e) => this.selectMoreFields(e, e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\" disabled>Add more details</option>\r\n                                                            {this.state.engineExtraFields.map(item => (\r\n                                                                <option value={item.value}\r\n                                                                        data-label={item.label}>{item.label}</option>\r\n                                                            ))}\r\n                                                        </SelectCore>\r\n                                                        </ThemeProvider>\r\n                                                    </FormControl>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Divider variant=\"middle\"/>\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Form.Row>\r\n                                                <Form.Group as={Col} xs=\"12\">\r\n                                                    <Form.Label>Additional details</Form.Label>\r\n                                                    <Form.Control as=\"textarea\" rows=\"5\"\r\n                                                                  required\r\n                                                                  type=\"text\"\r\n                                                                  placeholder=\"\"\r\n                                                                  model=\"engine\"\r\n                                                                  name=\"description\"\r\n                                                                  defaultValue={engine ? engine.description : ''}\r\n                                                                  onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                            </Form.Row>\r\n                                            <div>\r\n                                                <Link className=\"label label-light-info label-inline more-info\" href=\"#\" onClick={this.handleModalShow}>\r\n                                                    <i className=\"flaticon2-information\"></i> Didn't find basic info? Please click here to suggest.\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Commercial</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Offered\r\n                                                    For</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_offer_for}\r\n                                                        model=\"engine\"\r\n                                                        name=\"offer_for\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'offer_for')}\r\n                                                        options={ENGINE_OFFER}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.engine['offer_for'] === 'Sale' &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Asking\r\n                                                    Price</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"price\"\r\n                                                        defaultValue={engine ? engine.price : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col><Form.Label column sm=\"3\" className=\"text-sm-left text-left\">USD</Form.Label>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {(\r\n                                                this.state.engine['offer_for'] === 'Lease' ||\r\n                                                this.state.engine['offer_for'] === 'Lease Purchase'\r\n                                            )\r\n                                            &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">{this.state.engine['offer_for']} terms</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        as=\"textarea\" rows=\"5\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"lease_terms\"\r\n                                                        defaultValue={engine ? engine.lease_terms : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.engine['offer_for'] === 'Exchange' &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">{this.state.engine['offer_for']} terms</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        as=\"textarea\" rows=\"5\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"exchange_terms\"\r\n                                                        defaultValue={engine ? engine.exchange_terms : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Availablity</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <ThemeProvider theme={defaultMaterialTheme}>\r\n                                                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                                            <DatePicker\r\n                                                                required\r\n                                                                minDate={new Date('1990-01-01')}\r\n                                                                value={availability}\r\n                                                                format=\"dd/MM/yyyy\"\r\n                                                                onChange={e => this.handleChange(e, 'availability')}\r\n                                                                animateYearScrolling\r\n                                                            />\r\n                                                        </MuiPickersUtilsProvider>\r\n                                                    </ThemeProvider>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Current\r\n                                                    Location</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_current_location}\r\n                                                        model=\"current_location\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'current_location')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Primary\r\n                                                    Contact</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_primary_contact}\r\n                                                        model=\"primary_contact\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'primary_contact')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, contacts, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.selectedExtraFieldsCommercial.includes(\"owner\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Owner</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_owner.value?selected_owner:'select...'}\r\n                                                        model=\"owner\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'owner')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldCommercial(e, 'owner', 'Owner')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsCommercial.includes(\"seller\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Seller</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_seller.value?selected_seller:'select...'}\r\n                                                        model=\"seller\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'seller')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldCommercial(e, 'seller', 'Seller')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.commercialExtraFields.length>0 && <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                        <ThemeProvider theme={addMoreSelect}>\r\n                                                        <SelectCore\r\n                                                            native\r\n                                                            value=\"\"\r\n                                                            onChange={(e) => this.selectMoreFieldsCommercial(e, e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\" disabled>Add more details</option>\r\n                                                            {this.state.commercialExtraFields.map(item => (\r\n                                                                <option value={item.value}\r\n                                                                        data-label={item.label}>{item.label}</option>\r\n                                                            ))}\r\n                                                        </SelectCore>\r\n                                                        </ThemeProvider>\r\n                                                    </FormControl>\r\n                                                </Col>\r\n                                            </Form.Group>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-form__section kt-form__section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n                                            <div className=\"kt-heading kt-heading--md\">Select or Upload Photos</div>\r\n                                            <div className=\"row mb-5\">\r\n                                                <div className=\"col-xs-12 col-md-12\">\r\n                                                    {/*<Button onClick={() => this.medialibraryAsset.current.galleryModalOpener()}\r\n                                                            className=\"btn btn-primary\">\r\n                                                        <i className=\"fa fa-upload\"></i> Select or Upload Images\r\n                                                    </Button>*/}\r\n                                                    <MediaLibrary modal={false} ref={this.medialibraryAsset}\r\n                                                                  user={selected_user.value}\r\n                                                                  showLibrary={selected_user.value === \"\" ? false : true}\r\n                                                                  selected_images={this.state.selected_images}\r\n                                                                  insertImages={(images) => this.setState({selected_images: images})}/>\r\n                                                    <Form.Row>\r\n                                                        {this.state.selected_images && this.state.selected_images.length > 0 &&\r\n                                                        <FormGroup as={Col} xs=\"12\">\r\n                                                            <div className=\"kt-heading kt-heading--md\">Selected Images</div>\r\n                                                        </FormGroup>\r\n                                                        }\r\n                                                        <Form.Group as={Col} xs=\"12\">\r\n                                                            <Gallery enableLightbox={false} id=\"readonlygallery\" rowHeight={150}\r\n                                                                     margin={5}\r\n                                                                     enableImageSelection={true}\r\n                                                                     onSelectImage={(e) => this.removeImage(e)}\r\n                                                                     images={this.state.selected_images}\r\n                                                                     onClickThumbnail={(e) => this.onClickThumbnail(e)}/>\r\n                                                        </Form.Group>\r\n                                                    </Form.Row>\r\n                                                </div>\r\n                                            </div>\r\n                                            <Divider />\r\n                                            <div className=\"kt-heading kt-heading--md\">Upload Files</div>\r\n                                            <div className=\"row mt-5\">\r\n                                                <div className=\"col-xs-12 col-md-6\">\r\n                                                    <Dropzone\r\n                                                        inputContent=\"Drop or click to select a file.\"\r\n                                                        accept=\".pdf\"\r\n                                                        styles={{dropzone: {minHeight: 50}, inputLabel: {fontSize:'14px', margin: '0px'}}}\r\n                                                        getUploadParams={(data) => this.getUploadParams(data)}\r\n                                                        onChangeStatus={(data, status) => this.onAttachmentUpload(data, status)}\r\n                                                        maxSizeBytes={(1024 * 1024 * 2)}\r\n                                                        initialFiles={initialFiles}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-form__actions\">\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u mr-2\">\r\n                                        <Link to={\"/\" + USER_URL + \"/engine/asset\"}>\r\n                                            <i className=\"la la-long-arrow-left\"></i>\r\n                                            Cancel\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-prev\">\r\n                                        Previous\r\n                                    </div>\r\n                                    <Button type=\"submit\" onClick={(e) => this.setState({action: 'save'})}\r\n                                            className=\"btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                            data-ktwizard-type=\"action-submit\">\r\n                                        Submit\r\n                                    </Button>\r\n                                    <div\r\n                                        className=\"btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-next\">\r\n                                        Next Step\r\n                                    </div>\r\n                                </div>\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n                    <Modal show={this.state.modalDisplay} onHide={this.handleModalClose} centered>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>Suggest Engine Information</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Category\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-category-id\"\r\n                                        onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Manufacture\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-manufacture-id\"\r\n                                        onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Type\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-type-id\"\r\n                                        onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Model\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-model-id\"\r\n                                        onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"secondary\" onClick={this.handleModalClose}>\r\n                                Cancel\r\n                            </Button>\r\n                            <Button variant=\"primary\" onClick={this.confirm}>\r\n                                Submit\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass EditPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let type = props.match.params.type;\r\n        this.state = {errors: {}, showError: false};\r\n        this.state.type = type;\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                return <li key={index + i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n\r\n                <Edit data={this.props} sendError={this.sendError}/>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(EditPage);\r\n","import React from \"react\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Form, Col, Tab, Tabs, Modal, Row} from \"react-bootstrap\";\r\nimport {\r\n    Checkbox,\r\n    FormControlLabel, FormGroup,\r\n    FormControl, Button as ButtonCore, Divider, Select as SelectCore, IconButton, createMuiTheme\r\n} from \"@material-ui/core\";\r\nimport {CloudUpload as CloudUploadIcon} from \"@material-ui/icons\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {\r\n    list,\r\n    post,\r\n    API_URL,\r\n    getToken,\r\n    loadOptions,\r\n    USER_URL,\r\n    ENGINE_STATUSES,\r\n    ENGINE_OFFER,\r\n    ENGINE_EXTRA_FIELDS,\r\n    ENGINE_COMMERCIAL_EXTRA_FIELDS\r\n} from \"../../../crud/api\";\r\nimport Select from 'react-select';\r\nimport MediaLibrary from '../../../library/media'\r\nimport Gallery from 'react-grid-gallery';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport 'react-dropzone-uploader/dist/styles.css';\r\nimport Dropzone from 'react-dropzone-uploader';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider, DatePicker} from \"@material-ui/pickers\";\r\nimport {ThemeProvider} from \"@material-ui/styles\";\r\nimport KTWizard from \"../../../../_metronic/_assets/js/wizard\";\r\nimport moment from \"moment\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AsyncPaginate from \"react-select-async-paginate\";\r\n\r\nconst defaultMaterialTheme = createMuiTheme({\r\n    props: {\r\n        MuiInput: {\r\n            disableUnderline: true,\r\n        },\r\n        MuiTextField: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n        },\r\n        MuiInputBase: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n            disableUnderline: true,\r\n            inputProps: {\r\n                style: {\r\n                    display: \"block\",\r\n                    height: \"calc(1.5em + 1.3rem + 2px)\",\r\n                    padding: \"0.65rem 1rem\",\r\n                    fontSize: \"1rem\",\r\n                    fontWeight: \"400\",\r\n                    lineHeight: \"1.5\",\r\n                    color: \"#495057\",\r\n                    backgroundColor: \"#fff\",\r\n                    backgroundClip: \"padding-box\",\r\n                    border: \"1px solid #e2e5ec\",\r\n                    borderRadius: \"4px\",\r\n                    transition: \"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n                    boxSizing: \"border-box\",\r\n                }\r\n            }\r\n        },\r\n    },\r\n});\r\n\r\nconst addMoreSelect = createMuiTheme({\r\n  overrides: {\r\n      MuiOutlinedInput:{\r\n          root: {\r\n            '&:hover': {\r\n              \"& $notchedOutline\":{\r\n                      borderColor: 'rgb(179, 179, 179)'\r\n                }\r\n            }\r\n          },\r\n          inputSelect: {\r\n              padding: \"13px\",\r\n              fontFamily: \"Poppins, Helvetica, sans-serif\",\r\n              color: \"#808080\"\r\n          }\r\n      }\r\n  },\r\n});\r\n\r\nclass Create extends React.Component {\r\n\r\n    wizardRef = React.createRef();\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.medialibraryAsset = React.createRef();\r\n        this.state = {\r\n            validated: false,\r\n            engine: {\r\n                is_featured: this.props.data.extra_data.is_featured_aircraft ? this.props.data.extra_data.is_featured_aircraft : 0,\r\n                user: this.props.data.extra_data.user ? this.props.data.extra_data.user.id : null\r\n            },\r\n            selectedFile: null,\r\n            category: [],\r\n            manufacturer: [],\r\n            countries: [],\r\n            type: [],\r\n            contacts: [],\r\n            model: [],\r\n            companies: [],\r\n            users: [],\r\n            selected_primary_contact: {\r\n                id:props.data.extra_data.user.contact.id,\r\n                label:props.data.extra_data.user.contact.first_name+' '+props.data.extra_data.user.contact.last_name,\r\n                value:true\r\n            },\r\n            selected_category: {value: ''},\r\n            selected_type: {value: ''},\r\n            selected_manufacturer: {value: ''},\r\n            selected_current_location: {value: ''},\r\n            selected_model: {value: ''},\r\n            selected_owner: {value: ''},\r\n            selected_seller: {value: ''},\r\n            selected_user: {value: this.props.data.extra_data.user ? this.props.data.extra_data.user.id : null},\r\n            selected_status: {value: ''},\r\n            selected_offer_for: {value: ''},\r\n            selected_images: [],\r\n            attachments: [],\r\n            initialFiles: [],\r\n            modalDisplay: false,\r\n            modalType: '',\r\n            engineExtraFields: ENGINE_EXTRA_FIELDS,\r\n            selectedExtraFields: [],\r\n            commercialExtraFields: ENGINE_COMMERCIAL_EXTRA_FIELDS,\r\n            selectedExtraFieldsCommercial: [],\r\n            modelsLoaded:false\r\n        };\r\n        // this.getDropdownsListing();\r\n      this.loadModels();\r\n      this.confirm=this.confirm.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        new KTWizard(this.wizardRef.current);\r\n    }\r\n\r\n    handleChange(event, type) {\r\n        var engine = this.state.engine;\r\n        if (type !== 'availability') {\r\n            var attr = event.target.name;\r\n            var val = event.target.value;\r\n        } else {\r\n            var attr = type;\r\n            var val = moment(event).format();\r\n            this.setState({availability: event})\r\n        }\r\n        if (attr === 'is_active')\r\n            val = parseInt(val);\r\n        engine[attr] = val;\r\n        this.setState({engine: engine})\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.setState({validated: true});\r\n        if (!this.state.selectedFile)\r\n            delete this.state.engine.file;\r\n        let engine = this.state.engine;\r\n        engine.images = this.state.selected_images;\r\n        engine.attachments = this.state.attachments;\r\n        post('engines', engine).then(\r\n            (response) => {\r\n                this.setState({engine: response.data});\r\n                this.props.data.history.push(\"/\" + USER_URL + \"/engine/asset\");\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n\r\n    loadModels() {\r\n        let models = {\r\n            'AbCategories': {type: 'engine'},\r\n            'AbContacts': {},\r\n            'AbCountries': {},\r\n            'AbCompanies': {},\r\n        }\r\n        post('abmodels', {models: models}).then(function (response) {\r\n            let AbEngineManufactures = [];\r\n            for (let opt in response.data) {\r\n\r\n                response.data[opt].map((row, i) => {\r\n                    if (opt === 'AbContacts' || opt === 'AbUsers')\r\n                        row.name = row.first_name + ' ' + row.last_name;\r\n\r\n                    response.data[opt][i].label = row.name;\r\n                    response.data[opt][i].value = row.id;\r\n                })\r\n            }\r\n            this.setState({\r\n                category: response.data.AbCategories,\r\n                contacts: response.data.AbContacts,\r\n                countries: response.data.AbCountries,\r\n                companies: response.data.AbCompanies,\r\n                modelsLoaded:true\r\n            })\r\n        }.bind(this))\r\n    }\r\n\r\n    fileChangedHandler = (event) => {\r\n        let engine = this.state.engine;\r\n        let file = event.target.files[0];\r\n        this.setState({\r\n            previewFile: URL.createObjectURL(file)\r\n        });\r\n        if (file != undefined) {\r\n            file.size_c = file.size / 1024;\r\n\r\n            if ((file.size_c) / 1024 > 2) {\r\n                file.size_c = (file.size_c / 1024).toFixed(2) + ' MB';\r\n                file.error = \"Error: File is too big\";\r\n                engine.file = {};\r\n                this.setState({selectedFile: file});\r\n            } else {\r\n                file.error = null;\r\n                file.size_c = file.size_c.toFixed(2) + ' KB';\r\n                let reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onloadend = () => {\r\n                    engine.file = reader.result;\r\n                    this.setState({selectedFile: file, engine: engine});\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    getDropdownsListing() {\r\n        let dropdowns = {// when you have database dropdown like departments just put here\r\n            category: 'category',\r\n            primary_contact: 'contacts',\r\n            manufacturer: 'manufacturer',\r\n            current_location: 'countries',\r\n            // type:'type',\r\n            // model:'model',\r\n            owner: 'companies',\r\n            user: 'users'\r\n        }\r\n\r\n        let duplicating_dropdowns = {\r\n            companies: ['seller'],\r\n        }\r\n\r\n        let dropdown_keys = Object.keys(dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            let params = {}\r\n            if (dropdowns[dropdown_keys[key]] === 'manufacturer')\r\n                params.type = 'engine';\r\n            list(dropdowns[dropdown_keys[key]], params).then(function (response) {\r\n                let data = response.data;\r\n                let selected = {};\r\n                for (let opt in data) {\r\n                    // special case for contacts\r\n                    if (dropdowns[dropdown_keys[key]] === 'contacts')\r\n                        data[opt].name = data[opt].first_name + ' ' + data[opt].last_name;\r\n                    else if (dropdowns[dropdown_keys[key]] === 'users')\r\n                        data[opt].name = data[opt].contact.first_name + ' ' + data[opt].contact.last_name;\r\n\r\n                    data[opt].label = data[opt].name;\r\n                    data[opt].value = data[opt].id;\r\n\r\n                    if (this.state.engine[dropdown_keys[key]] != undefined && data[opt].id === this.state.engine[dropdown_keys[key]].id)\r\n                        selected = data[opt]\r\n\r\n                    if (duplicating_dropdowns[dropdowns[dropdown_keys[key]]] != undefined) {\r\n                        for (let index in duplicating_dropdowns[dropdowns[dropdown_keys[key]]]) {\r\n                            let duplicated_el = duplicating_dropdowns[dropdowns[dropdown_keys[key]]][index];\r\n                            if (this.state.engine[duplicated_el] != undefined && data[opt].id === this.state.engine[duplicated_el].id)\r\n                                this.setState({['selected_' + duplicated_el]: selected});\r\n                        }\r\n                    }\r\n                }\r\n\r\n                console.log(selected);\r\n                this.setState({[dropdowns[dropdown_keys[key]]]: data, ['selected_' + dropdown_keys[key]]: selected});\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    handleFileRemove = (event) => {\r\n        let category = this.state.category;\r\n        category.file = {}\r\n        this.setState({selectedFile: null, category: category})\r\n        document.getElementById('category-image-upload').value = '';\r\n    }\r\n\r\n    selectChange(value, key) {\r\n        let engine = this.state.engine;\r\n        engine[key] = value && value.value ? value.value : '';\r\n        this.setState({['selected_' + key]: value ? value : '', engine: engine});\r\n        if (['category', 'manufacturer', 'type'].indexOf(key) > -1 && value) {\r\n            let endpoint = '', params = {}, key_to_update = '', models = {};\r\n            if (key === 'category') {\r\n                models = {\r\n                    AbManufacturers: {categories__id: value.id, type: 'engine'}\r\n                }\r\n                key_to_update = 'manufacturer';\r\n            } else if (key === 'manufacturer') {\r\n                models = {\r\n                    AbTypes: {manufacturer_id: value.id, type: 'engine'}\r\n                }\r\n                key_to_update = 'type';\r\n            } else if (key === 'type') {\r\n                models = {\r\n                    AbModels: {type_0: value.id, type: 'engine'}\r\n                }\r\n                key_to_update = 'model';\r\n            }\r\n\r\n            post('abmodels', {models: models}).then(function (response) {\r\n                let selected = {};\r\n                for (let opt in response.data) {\r\n                    response.data[opt].map((row, i) => {\r\n                        response.data[opt][i].label = row.name;\r\n                        response.data[opt][i].value = row.id;\r\n\r\n                        if (this.state.engine[key_to_update] != undefined && row.id === this.state.engine[key_to_update].id)\r\n                            selected = row;\r\n                    })\r\n\r\n                    this.setState({\r\n                        [key_to_update]: response.data[opt], ['selected_' + key_to_update]: selected\r\n                    })\r\n                }\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    setTab(event, tab) {\r\n        document.getElementById('engine-tabs-tab-' + tab).click();\r\n    }\r\n\r\n    removeImage(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images = selected_images.filter((val, i) => {\r\n            return index !== i;\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    onClickThumbnail(index) {\r\n        let selected_images = this.state.selected_images;\r\n        selected_images.map((val, i) => {\r\n            if (i === index) {\r\n                selected_images[i].is_featured = 1;\r\n                selected_images[i].isSelected = true;\r\n                selected_images[i].tags = [{value: \"Featured\", title: \"Featured\"}];\r\n            } else {\r\n                selected_images[i].is_featured = 0;\r\n                selected_images[i].isSelected = false;\r\n                delete selected_images[i].tags;\r\n            }\r\n        })\r\n        this.setState({selected_images: selected_images});\r\n    }\r\n\r\n    getUploadParams(data) {\r\n        const body = new FormData()\r\n        body.append('original_file_name', data.file)\r\n        body.append('user', this.state.selected_user.value);\r\n        body.append('attachable_type', 'Engine');\r\n\r\n        if ('existing' in data.file)\r\n            body.append('existing_id', data.file.id);\r\n\r\n        return {url: API_URL + 'attaches', dataType: 'json', body, headers: {'Authorization': 'Token ' + getToken()}}\r\n    }\r\n\r\n    onAttachmentUpload(data, status) {\r\n        if (status === 'done') {\r\n            let attachment = JSON.parse(data.xhr.response);\r\n            this.setState({attachments: [...this.state.attachments, attachment]});\r\n        } else if (status === 'removed') {\r\n            if(data.xhr){\r\n                let attachment = JSON.parse(data.xhr.response);\r\n                let attachments = this.state.attachments.filter((val, i) => {\r\n                    return val.id !== attachment.id\r\n                })\r\n                this.setState({attachments: attachments})\r\n            }\r\n        }\r\n    }\r\n\r\n    clearForm = (id) => {\r\n        document.getElementById(id).reset();\r\n        this.setState({selectedFile: null, previewFile: null});\r\n    }\r\n\r\n    selectMoreFields(event, key) {\r\n        let engineExtraFields = [...this.state.engineExtraFields];\r\n        engineExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({engineExtraFields: engineExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFields = [...state.selectedExtraFields, key];\r\n            return {\r\n                selectedExtraFields,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraField(event, key, label) {\r\n        let engineExtraFields = [...this.state.engineExtraFields, {label: label, value: key}];\r\n        this.setState({engineExtraFields: engineExtraFields});\r\n        let selectedExtraFields = this.state.selectedExtraFields;\r\n        selectedExtraFields = selectedExtraFields.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFields: selectedExtraFields});\r\n    }\r\n\r\n    selectMoreFieldsCommercial(event, key) {\r\n        let commercialExtraFields = [...this.state.commercialExtraFields];\r\n        commercialExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFieldsCommercial = [...state.selectedExtraFieldsCommercial, key];\r\n            return {\r\n                selectedExtraFieldsCommercial,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraFieldCommercial(event, key, label) {\r\n        let commercialExtraFields = [...this.state.commercialExtraFields, {label: label, value: key}];\r\n        this.setState({commercialExtraFields: commercialExtraFields});\r\n        let selectedExtraFieldsCommercial = this.state.selectedExtraFieldsCommercial;\r\n        selectedExtraFieldsCommercial = selectedExtraFieldsCommercial.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFieldsCommercial: selectedExtraFieldsCommercial});\r\n    }\r\n\r\n    handleModalShow = () => {\r\n        this.setState({\r\n            modalDisplay: true,\r\n        })\r\n    }\r\n\r\n    handleModalClose = () => {\r\n        this.setState({modalDisplay: false})\r\n    }\r\n    confirm(){\r\n        let data= {\r\n            category: document.getElementById('modal-category-id').value,\r\n            manufacturer: document.getElementById('modal-manufacture-id').value,\r\n            type: document.getElementById('modal-type-id').value,\r\n            model: document.getElementById('modal-model-id').value,\r\n            entity_type: 'engine',\r\n            user: this.props.data.extra_data.user.id\r\n        }\r\n        post('suggestions', data).then(\r\n            (response) => {\r\n                this.setState({\r\n                    modalDisplay: false,\r\n                })\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n    render() {\r\n        const {\r\n            availability, engine, selectedFile, selected_manufacturer, manufacturer,\r\n            selected_category, category, selected_current_location, countries, selected_type, type,\r\n            selected_primary_contact, contacts, model, selected_model, selected_owner, companies,\r\n            selected_seller, selected_user, users, selected_status, selected_offer_for, initialFiles, modelsLoaded\r\n        } = this.state;\r\n        return (\r\n            <div className=\"kt-portlet\">\r\n                <div className=\"kt-portlet__head\">\r\n                    <div className=\"kt-portlet__head-label\">\r\n                        <h3 className=\"kt-portlet__head-title\">\r\n                            Engine\r\n                        </h3>\r\n                    </div>\r\n                </div>\r\n                <div className=\"kt-portlet__body kt-portlet__body--fit\">\r\n                    <div ref={this.wizardRef} className=\"kt-grid  kt-wizard-v1 kt-wizard-v1--white\" id=\"kt_engine_add\"\r\n                         data-ktwizard-state=\"step-first\">\r\n                        <div className=\"kt-grid__item\">\r\n\r\n                            <div className=\"kt-wizard-v1__nav\">\r\n                                <div className=\"kt-wizard-v1__nav-items\">\r\n\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\"\r\n                                         data-ktwizard-state=\"current\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M4.875,20.75 C4.63541667,20.75 4.39583333,20.6541667 4.20416667,20.4625 L2.2875,18.5458333 C1.90416667,18.1625 1.90416667,17.5875 2.2875,17.2041667 C2.67083333,16.8208333 3.29375,16.8208333 3.62916667,17.2041667 L4.875,18.45 L8.0375,15.2875 C8.42083333,14.9041667 8.99583333,14.9041667 9.37916667,15.2875 C9.7625,15.6708333 9.7625,16.2458333 9.37916667,16.6291667 L5.54583333,20.4625 C5.35416667,20.6541667 5.11458333,20.75 4.875,20.75 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\" opacity=\"0.3\"/>\r\n                                                        <path\r\n                                                            d=\"M2,11.8650466 L2,6 C2,4.34314575 3.34314575,3 5,3 L19,3 C20.6568542,3 22,4.34314575 22,6 L22,15 C22,15.0032706 21.9999948,15.0065399 21.9999843,15.009808 L22.0249378,15 L22.0249378,19.5857864 C22.0249378,20.1380712 21.5772226,20.5857864 21.0249378,20.5857864 C20.7597213,20.5857864 20.5053674,20.4804296 20.317831,20.2928932 L18.0249378,18 L12.9835977,18 C12.7263047,14.0909841 9.47412135,11 5.5,11 C4.23590829,11 3.04485894,11.3127315 2,11.8650466 Z M6,7 C5.44771525,7 5,7.44771525 5,8 C5,8.55228475 5.44771525,9 6,9 L15,9 C15.5522847,9 16,8.55228475 16,8 C16,7.44771525 15.5522847,7 15,7 L6,7 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Engine\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13,18.9450712 L13,20 L14,20 C15.1045695,20 16,20.8954305 16,22 L8,22 C8,20.8954305 8.8954305,20 10,20 L11,20 L11,18.9448245 C9.02872877,18.7261967 7.20827378,17.866394 5.79372555,16.5182701 L4.73856106,17.6741866 C4.36621808,18.0820826 3.73370941,18.110904 3.32581341,17.7385611 C2.9179174,17.3662181 2.88909597,16.7337094 3.26143894,16.3258134 L5.04940685,14.367122 C5.46150313,13.9156769 6.17860937,13.9363085 6.56406875,14.4106998 C7.88623094,16.037907 9.86320756,17 12,17 C15.8659932,17 19,13.8659932 19,10 C19,7.73468744 17.9175842,5.65198725 16.1214335,4.34123851 C15.6753081,4.01567657 15.5775721,3.39010038 15.903134,2.94397499 C16.228696,2.49784959 16.8542722,2.4001136 17.3003976,2.72567554 C19.6071362,4.40902808 21,7.08906798 21,10 C21,14.6325537 17.4999505,18.4476269 13,18.9450712 Z\"\r\n                                                            fill=\"#000000\" fillRule=\"nonzero\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"12\" cy=\"10\" r=\"6\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Commercial\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"kt-wizard-v1__nav-item\" data-ktwizard-type=\"step\">\r\n                                        <div className=\"kt-wizard-v1__nav-body\">\r\n                                            <div className=\"kt-wizard-v1__nav-icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                     xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                     height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                     className=\"kt-svg-icon kt-svg-icon--xl\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                                                        <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                        <path\r\n                                                            d=\"M13.2070325,4 C13.0721672,4.47683179 13,4.97998812 13,5.5 C13,8.53756612 15.4624339,11 18.5,11 C19.0200119,11 19.5231682,10.9278328 20,10.7929675 L20,17 C20,18.6568542 18.6568542,20 17,20 L7,20 C5.34314575,20 4,18.6568542 4,17 L4,7 C4,5.34314575 5.34314575,4 7,4 L13.2070325,4 Z\"\r\n                                                            fill=\"#000000\"/>\r\n                                                        <circle fill=\"#000000\" opacity=\"0.3\" cx=\"18.5\" cy=\"5.5\"\r\n                                                                r=\"2.5\"/>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <div className=\"kt-wizard-v1__nav-label\">\r\n                                                Complete\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"kt-grid__item kt-grid__item--fluid kt-wizard-v1__wrapper\">\r\n                            <Form className=\"kt-form\" noValidate id=\"create-engine-form\"\r\n                                  onSubmit={e => this.handleSubmit(e)}>\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\"\r\n                                     data-ktwizard-state=\"current\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Engine Info</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Category</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_category.value?selected_category:'select...'}\r\n                                                        model=\"category\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'category')}\r\n                                                        options={category}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Manufacturer</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_manufacturer.value?selected_manufacturer:'select...'}\r\n                                                        model=\"manufacturer\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'manufacturer')}\r\n                                                        options={manufacturer}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Type</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_type.value?selected_type:'select...'}\r\n                                                        model=\"type\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'type')}\r\n                                                        options={type}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Model</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_model.value?selected_model:'select...'}\r\n                                                        model=\"model\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'model')}\r\n                                                        options={model}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">ESN</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"esn\"\r\n                                                        defaultValue={engine ? engine.esn : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Cycles Remaining (CR)</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"cycle_remaining\"\r\n                                                        defaultValue={engine ? engine.cycle_remaining : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Status</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_status.value?selected_status:'select...'}\r\n                                                        model=\"engine\"\r\n                                                        name=\"status\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'status')}\r\n                                                        options={ENGINE_STATUSES}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n\r\n                                            {this.state.selectedExtraFields.includes(\"tso\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">TSO</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"tso\"\r\n                                                        defaultValue={engine ? engine.tso : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'tso', 'TSO')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"thrust_rating\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Thrust\r\n                                                    Rating</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"thrust_rating\"\r\n                                                        defaultValue={engine ? engine.thrust_rating : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'thrust_rating', 'Thrust Rating')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFields.includes(\"lsv_description\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">LSV\r\n                                                    Description</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"lsv_description\"\r\n                                                        defaultValue={engine ? engine.lsv_description : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraField(e, 'lsv_description', 'LSV Description')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.engineExtraFields.length>0 &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                        <ThemeProvider theme={addMoreSelect}>\r\n                                                        <SelectCore\r\n                                                            native\r\n                                                            value=\"\"\r\n                                                            onChange={(e) => this.selectMoreFields(e, e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\" disabled>Add more details</option>\r\n                                                            {this.state.engineExtraFields.map(item => (\r\n                                                                <option value={item.value}\r\n                                                                        data-label={item.label}>{item.label}</option>\r\n                                                            ))}\r\n                                                        </SelectCore>\r\n                                                        </ThemeProvider>\r\n                                                    </FormControl>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Divider variant=\"middle\"/>\r\n                                            <div className=\"kt-space-10\"></div>\r\n                                            <Form.Row>\r\n                                                <Form.Group as={Col} xs=\"12\">\r\n                                                    <Form.Label>Additional details</Form.Label>\r\n                                                    <Form.Control as=\"textarea\" rows=\"5\"\r\n                                                                  required\r\n                                                                  type=\"text\"\r\n                                                                  placeholder=\"\"\r\n                                                                  model=\"engine\"\r\n                                                                  name=\"description\"\r\n                                                                  defaultValue={engine ? engine.description : ''}\r\n                                                                  onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Form.Group>\r\n                                            </Form.Row>\r\n                                            <div>\r\n                                                <Link className=\"label label-light-info label-inline more-info\" href=\"#\" onClick={this.handleModalShow}>\r\n                                                    <i className=\"flaticon2-information\"></i> Didn't find basic info? Please click here to suggest.\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-heading kt-heading--md\">Commercial</div>\r\n                                    <div className=\"kt-section kt-section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Offered\r\n                                                    For</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Select\r\n                                                        value={selected_offer_for.value?selected_offer_for:'select...'}\r\n                                                        model=\"engine\"\r\n                                                        name=\"offer_for\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'offer_for')}\r\n                                                        options={ENGINE_OFFER}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.engine['offer_for'] === 'Sale' &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Asking\r\n                                                    Price</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"price\"\r\n                                                        defaultValue={engine ? engine.price : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col><Form.Label column sm=\"3\" className=\"text-sm-left text-left\">USD</Form.Label>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {(\r\n                                                this.state.engine['offer_for'] === 'Lease' ||\r\n                                                this.state.engine['offer_for'] === 'Lease Purchase'\r\n                                            )\r\n                                            &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">{this.state.engine['offer_for']} terms</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        as=\"textarea\" rows=\"5\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"lease_terms\"\r\n                                                        defaultValue={engine ? engine.lease_terms : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.engine['offer_for'] === 'Exchange' &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">{this.state.engine['offer_for']} terms</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <Form.Control\r\n                                                        as=\"textarea\" rows=\"5\"\r\n                                                        model=\"engine\"\r\n                                                        name=\"exchange_terms\"\r\n                                                        defaultValue={engine ? engine.exchange_terms : ''}\r\n                                                        onBlur={e => this.handleChange(e)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Availablity</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <ThemeProvider theme={defaultMaterialTheme}>\r\n                                                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                                            <DatePicker\r\n                                                                required\r\n                                                                minDate={new Date()}\r\n                                                                disablePast={true}\r\n                                                                value={availability}\r\n                                                                format=\"dd/MM/yyyy\"\r\n                                                                onChange={e => this.handleChange(e, 'availability')}\r\n                                                                animateYearScrolling\r\n                                                            />\r\n                                                        </MuiPickersUtilsProvider>\r\n                                                    </ThemeProvider>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Current\r\n                                                    Location</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_current_location.value?selected_current_location:'select...'}\r\n                                                        model=\"current_location\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'current_location')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\" className=\"text-sm-right text-left\">Primary\r\n                                                    Contact</Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_primary_contact.value?selected_primary_contact:'select...'}\r\n                                                        model=\"primary_contact\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'primary_contact')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, contacts, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            {this.state.selectedExtraFieldsCommercial.includes(\"owner\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Owner</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_owner.value?selected_owner:'select...'}\r\n                                                        model=\"owner\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'owner')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldCommercial(e, 'owner', 'Owner')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                            {this.state.selectedExtraFieldsCommercial.includes(\"seller\") &&\r\n                                            <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"\r\n                                                            className=\"text-sm-right text-left\">Seller</Form.Label>\r\n                                                <Col sm=\"6\" lg=\"6\">\r\n                                                    <AsyncPaginate\r\n                                                        value={selected_seller.value?selected_seller:'select...'}\r\n                                                        model=\"seller\"\r\n                                                        name=\"name\"\r\n                                                        isClearable={true}\r\n                                                        escapeClearsValue={true}\r\n                                                        onChange={e => this.selectChange(e, 'seller')}\r\n                                                        loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col sm=\"3\">\r\n                                                    <IconButton aria-label=\"delete\"\r\n                                                                onClick={(e) => this.removeExtraFieldCommercial(e, 'seller', 'Seller')}>\r\n                                                        <DeleteIcon/>\r\n                                                    </IconButton>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                            }\r\n                                                {this.state.commercialExtraFields.length>0 && <Form.Group as={Row}>\r\n                                                <Form.Label column sm=\"3\"></Form.Label>\r\n                                                <Col sm=\"9\" lg=\"6\">\r\n                                                    <FormControl variant=\"outlined\" fullWidth={true}>\r\n                                                        <ThemeProvider theme={addMoreSelect}>\r\n                                                        <SelectCore\r\n                                                            native\r\n                                                            value=\"\"\r\n                                                            onChange={(e) => this.selectMoreFieldsCommercial(e, e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\" disabled>Add more details</option>\r\n                                                            {this.state.commercialExtraFields.map(item => (\r\n                                                                <option value={item.value}\r\n                                                                        data-label={item.label}>{item.label}</option>\r\n                                                            ))}\r\n                                                        </SelectCore>\r\n                                                        </ThemeProvider>\r\n                                                    </FormControl>\r\n                                                </Col>\r\n                                            </Form.Group>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-wizard-v1__content\" data-ktwizard-type=\"step-content\">\r\n                                    <div className=\"kt-form__section kt-form__section--first\">\r\n                                        <div className=\"kt-wizard-v1__form\">\r\n                                            <div className=\"kt-heading kt-heading--md\">Select or Upload Photos</div>\r\n                                            <div className=\"row mb-5\">\r\n                                                <div className=\"col-xs-12 col-md-12\">\r\n                                                    {/*<Button onClick={() => this.medialibraryAsset.current.galleryModalOpener()}\r\n                                                            className=\"btn btn-primary\">\r\n                                                        <i className=\"fa fa-upload\"></i> Select or Upload Images\r\n                                                    </Button>*/}\r\n                                                    <MediaLibrary modal={false} ref={this.medialibraryAsset}\r\n                                                                  user={selected_user.value}\r\n                                                                  showLibrary={selected_user.value === \"\" ? false : true}\r\n                                                                  selected_images={this.state.selected_images}\r\n                                                                  insertImages={(images) => this.setState({selected_images: images})}/>\r\n                                                    <Form.Row>\r\n                                                        {this.state.selected_images && this.state.selected_images.length > 0 &&\r\n                                                        <FormGroup as={Col} xs=\"12\">\r\n                                                            <div className=\"kt-heading kt-heading--md\">Selected Images</div>\r\n                                                        </FormGroup>\r\n                                                        }\r\n                                                        <Form.Group as={Col} xs=\"12\">\r\n                                                            <Gallery enableLightbox={false} id=\"readonlygallery\" rowHeight={150}\r\n                                                                     margin={5}\r\n                                                                     enableImageSelection={true}\r\n                                                                     onSelectImage={(e) => this.removeImage(e)}\r\n                                                                     images={this.state.selected_images}\r\n                                                                     onClickThumbnail={(e) => this.onClickThumbnail(e)}/>\r\n                                                        </Form.Group>\r\n                                                    </Form.Row>\r\n                                                </div>\r\n                                            </div>\r\n                                            <Divider />\r\n                                            <div className=\"kt-heading kt-heading--md\">Upload Files</div>\r\n                                            <div className=\"row mt-5\">\r\n                                                <div className=\"col-xs-12 col-md-6\">\r\n                                                    <Dropzone\r\n                                                        inputContent=\"Drop or click to select a file.\"\r\n                                                        accept=\".pdf\"\r\n                                                        styles={{dropzone: {minHeight: 50}, inputLabel: {fontSize:'14px', margin: '0px'}}}\r\n                                                        getUploadParams={(data) => this.getUploadParams(data)}\r\n                                                        onChangeStatus={(data, status) => this.onAttachmentUpload(data, status)}\r\n                                                        maxSizeBytes={(1024 * 1024 * 2)}\r\n                                                        initialFiles={initialFiles}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"kt-form__actions\">\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u mr-2\">\r\n                                        <Link to={\"/\" + USER_URL + \"/engine/asset\"}>\r\n                                            <i className=\"la la-long-arrow-left\"></i>\r\n                                            Cancel\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div\r\n                                        className=\"btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-prev\">\r\n                                        Previous\r\n                                    </div>\r\n                                    <Button type=\"submit\" onClick={(e) => this.setState({action: 'save_new'})}\r\n                                            className=\"btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                            data-ktwizard-type=\"action-submit\">\r\n                                        Submit\r\n                                    </Button>\r\n                                    <div\r\n                                        className=\"btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u\"\r\n                                        data-ktwizard-type=\"action-next\">\r\n                                        Next Step\r\n                                    </div>\r\n                                </div>\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n                    <Modal show={this.state.modalDisplay} onHide={this.handleModalClose} centered>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>Suggest Engine Information</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Category\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-category-id\"\r\n                                        onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Manufacture\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-manufacture-id\"\r\n                                        onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Type\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-type-id\"\r\n                                        onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label column sm=\"3\">\r\n                                    Model\r\n                                </Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        id=\"modal-model-id\"\r\n                                        onBlur={(e) => this.setState({meta_name: e.target.value})}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"secondary\" onClick={this.handleModalClose}>\r\n                                Cancel\r\n                            </Button>\r\n                            <Button variant=\"primary\" onClick={this.confirm}>\r\n                                Submit\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass CreatePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let type = props.match.params.type;\r\n        this.state = {errors: {}, showError: false};\r\n        this.state.type = type;\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                console.log(error);\r\n                                return <li key={index + i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n\r\n                <Create data={this.props} sendError={this.sendError}/>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(CreatePage);\r\n","import React from \"react\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Modal, Form, Col, Carousel} from \"react-bootstrap\";\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport {list, patch, MEDIA_URL, USER_URL, STATUSES, NO_IMAGE} from \"../../../crud/api\";\r\nimport {Paper, Grid} from \"@material-ui/core\";\r\nimport EasyEdit from 'react-easy-edit';\r\nimport Notice from \"../../../partials/content/Notice\";\r\n\r\n\r\nclass Detail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { engine_id, type } = this.props.data.match.params\r\n    const divStyle = {\r\n      padding : '15px'\r\n    };\r\n    this.txt_weight = {fontWeight:500}\r\n    this.handleModalShow = this.handleModalShow.bind(this);\r\n    this.handleModalClose = this.handleModalClose.bind(this);\r\n    this.confirm = this.confirm.bind(this);\r\n    this.state = {\r\n      type : type,\r\n      engine:{},\r\n      action:'',\r\n      showModal: false,\r\n      created_at: '',\r\n      updated_at: '',\r\n      image:[],\r\n      is_published: ''\r\n\r\n    };\r\n    this.getEngine(engine_id);\r\n    this.divStyle = divStyle;\r\n  }\r\n\r\n  getEngine(engine_id) {\r\n    list('engines/'+engine_id+'/').then(\r\n      (response) => {\r\n          delete response.data.type;\r\n          this.setState({\r\n              created_at : new Intl.DateTimeFormat().format(new Date(response.data.created_at)),\r\n              updated_at : new Intl.DateTimeFormat().format(new Date(response.data.updated_at)),\r\n              image: response.data.media ? response.data.media : null\r\n          });\r\n          this.props.setEngineTitle(response.data.title, engine_id);\r\n          this.setState({engine : response.data})\r\n    });\r\n  }\r\n\r\n  handleChange(val, attr) {\r\n    var engine = this.state.engine;\r\n\r\n    engine[attr] = val;\r\n    this.setState({engine : engine})\r\n    patch('engines/'+this.state.engine.id+'/', this.state.engine).then(\r\n      (response) => {\r\n        this.setState({engine : response.data});\r\n    }).catch(error => {\r\n        this.props.sendError(error.response.data);\r\n    });\r\n  }\r\n\r\n  handleModalShow(event, action) {\r\n    var val = event.target.value;\r\n    if (action === 'status'){\r\n      val = parseInt(val);\r\n      this.setState({is_published : val === 1 ? 0:1})\r\n    }\r\n    this.setState({action: action});\r\n    this.setState({ showModal: true });\r\n  }\r\n\r\n  handleModalClose() {\r\n   this.setState({ showModal: false });\r\n  }\r\n\r\n  confirm() {\r\n    if(this.state.action === 'status') {\r\n      this.state.engine.is_published = this.state.is_published;\r\n      patch('engines/'+this.state.engine.id+'/', {is_published: this.state.is_published}).then(\r\n        (response) => {\r\n          delete response.data.type;\r\n          this.setState({engine : response.data});\r\n          this.setState({showModal : false});\r\n      }).catch(error => {\r\n          this.props.sendError(error.response.data);\r\n          this.setState({showModal : false});\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { validated, engine } = this.state;\r\n    return (\r\n        <div>\r\n          <Grid container spacing={3}>\r\n                <Grid item xs={12} md={9}>\r\n                  <div className=\"kt_section__detail\">\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Category</div>\r\n                                    <div>{engine.category ? engine.category.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Manfacturer</div>\r\n                                    <div>{engine.manufacturer ? engine.manufacturer.name : '---'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Type</div>\r\n                                    <div>{engine.type ? engine.type.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Model</div>\r\n                                    <div>{engine.model ? engine.model.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">ESN</div>\r\n                                    <div>{engine.esn ? engine.esn : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Cycles Remaining (CR)</div>\r\n                                    <div>{engine.cycle_remaining ? engine.cycle_remaining : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Current Status</div>\r\n                                    <div>{engine.status ? engine.status : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">TSO</div>\r\n                                    <div>{engine.tso ? engine.tso : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Thrust Rating</div>\r\n                                    <div>{engine.thrust_rating ? engine.thrust_rating : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">LSV Description</div>\r\n                                    <div>{engine.lsv_description ? engine.lsv_description : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Offered For</div>\r\n                                    <div>{engine.offer_for ? engine.offer_for : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Availablility</div>\r\n                                    <div>{engine.availability ? new Intl.DateTimeFormat().format(new Date(engine.availability)) : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Current Location *</div>\r\n                                    <div>{engine.current_location ? engine.current_location.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Primary Contact</div>\r\n                                    <div>{engine.primary_contact ? engine.primary_contact.first_name + ' ' + engine.primary_contact.last_name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Owner</div>\r\n                                    <div>{engine.owner ? engine.owner.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Seller</div>\r\n                                    <div>{engine.seller ? engine.seller.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Additional details</div>\r\n                                    <div>{engine.description ? engine.description : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <hr/>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Views</div>\r\n                                    <div>{engine.views ? engine.views : 0}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Likes</div>\r\n                                    <div>{engine.likes ? engine.likes : 0}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Promote Status</div>\r\n                                    <div>{engine.is_featured ? 'Yes' : 'No'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Active Status</div>\r\n                                    <div>\r\n                                          {\r\n                                                engine.isactivestatus? STATUSES.map((val, i) => {\r\n                                                    if (val.value === engine.isactivestatus)\r\n                                                        return val.value\r\n                                                }) : '---'\r\n                                          }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Published Status</div>\r\n                                    <div>{engine.is_published ? 'Yes' : 'No'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Date Created</div>\r\n                                    <div>{this.state.created_at ? this.state.created_at : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Date Modified</div>\r\n                                    <div>{this.state.updated_at ? this.state.updated_at : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                    {this.state.image !== '' && this.state.image.length > 0  ?<Carousel>\r\n                            {this.state.image && this.state.image.map((image, index) => {\r\n                                return <Carousel.Item key={index}>\r\n                                    <img\r\n                                        className=\"d-block w-100\"\r\n                                        src={MEDIA_URL+image.original_file_name}\r\n                                    />\r\n                                </Carousel.Item>\r\n                            })\r\n                            }\r\n                        </Carousel>:\r\n                         <img className=\"d-block w-100\" src={NO_IMAGE} />\r\n                        }\r\n                </Grid>\r\n          </Grid>\r\n\r\n          <Modal show={this.state.showModal} onHide={this.handleModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Confirm</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n              <Button variant=\"danger\" onClick={this.confirm}>\r\n                Yes\r\n              </Button>\r\n              <Button variant=\"success\" onClick={this.handleModalClose}>\r\n                No\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass DetailPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let type = props.match.params.type;\r\n    this.state = {errors:{}, showError:false};\r\n    this.state.type = type;\r\n    this.sendError = this.sendError.bind(this);\r\n  }\r\n\r\n  sendError(error) {\r\n    if(Object.keys(error).length)\r\n      this.setState({showError:true});\r\n\r\n    this.setState({errors:error});\r\n  }\r\n    setEngineTitle = (title, id) => {\r\n        let engineName = title.toLowerCase();\r\n        if(engineName.includes('-yom-')){\r\n            engineName = engineName.split('-yom-')[0].replace(/-/g,' ')\r\n        }else{\r\n            engineName = engineName.replace(/-/g,' ')\r\n        }\r\n        this.setState({engine_title:engineName, engine_url: id+'-'+title.toLowerCase()});\r\n      }\r\n  render() {\r\n    return (\r\n      <>\r\n      <Notice icon=\"flaticon-warning kt-font-primary\" style={{display: this.state.showError ? 'flex' : 'none' }}>\r\n        {\r\n          Object.keys(this.state.errors).map((key, index) => {\r\n            return this.state.errors[key].map((error, i) => {\r\n              console.log(error);\r\n              return <li key={index+i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n            });\r\n          })\r\n        }\r\n        </Notice>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <CustomHead\r\n              beforeCodeTitle={<h3 class=\"kt-portlet__head-title\" style={{textTransform: 'capitalize'}}>\r\n              <a target=\"_blank\" href={\"/engine/\"+this.state.engine_url}>{this.state.engine_title}</a>\r\n              </h3>}\r\n              jsCode =   {<div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                  <div className=\"dropdown dropdown-inline\">\r\n                  <Link to={\"/\"+USER_URL+\"/engine/asset\"} className=\"btn btn-clean btn-icon-sm\">\r\n                        <i className=\"la la-long-arrow-left\"></i>\r\n                        Back\r\n                      </Link>\r\n                    <Link\r\n                        to={\"/\"+USER_URL+\"/engine/asset/\" + this.props.match.params.engine_id + \"/edit\"}\r\n                        className=\"btn btn-primary\">\r\n                        <i className=\"la la-edit\"/>\r\n                        Edit\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> }\r\n            >\r\n              <div className=\"kt-section\">\r\n                <Detail data={this.props} setEngineTitle={(title, id)=> this.setEngineTitle(title, id)} sendError={this.sendError} />\r\n              </div>\r\n            </CustomHead>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(DetailPage);","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport {\r\n    IconButton, Paper, FormControlLabel, Switch, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent, Grid, List, ListItem, ListItemText, Divider\r\n} from '@material-ui/core';\r\nimport { list, patch, del, USER_URL, API_URL, LOCAL_STORAGE} from \"../../crud/api\";\r\nimport {Button, Dropdown, Modal} from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.css\";\r\nimport \"datatables.net-responsive-bs4/css/responsive.bootstrap4.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Notice from \"../../partials/content/Notice\";\r\nimport {ReactComponent as SortNum1Icon} from \"../../../_metronic/layout/assets/layout-svg-icons/SortNum1.svg\";\r\nimport moment from \"moment\";\r\nimport {getPageNum, setPageNum} from \"../../helpers/listing\";\r\n\r\nconst QuickActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <button\r\n        ref={ref}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          onClick(e);\r\n        }}\r\n        className=\"btn kt-header__btn-primary\"\r\n    >\r\n      Actions\r\n      <SortNum1Icon className=\"kt-svg-icon kt-svg-icon--sm\" />\r\n    </button>\r\n));\r\n\r\nfunction createDataArray(checkbox, id, leadable_id, creator_id, company, lead_status, date, status, action ) {\r\n  return [checkbox, id, leadable_id, creator_id, company, lead_status, date, status, action ];\r\n}\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(0),\r\n    paddingRight: theme.spacing(0),\r\n    display: 'block',\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  spacer: {\r\n    flex: '1 1 100%',\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    flex: '0 0 auto',\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = props => {\r\n  const classes = useToolbarStyles();\r\n  const { numSelected, type, selected, setSelected, setSelectedMany, setRowsData, rows, setTemp } = props;\r\n\r\n\r\n  function handleDelAll(event) {\r\n    if(selected.length) {\r\n      let data = {ids:selected}\r\n      del('leads/'+selected[0]+'/', data).then(function (response) {\r\n        // here removing rows from dt-table that are deleted from database\r\n        for(let i in rows){\r\n          if(selected.indexOf(rows[i].id) > -1) {\r\n            delete rows[i];\r\n          }\r\n        }\r\n        setRowsData(rows);\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n        setSelectedMany(false);\r\n\r\n        // no use as such - just to trigger state udpate :(\r\n        const newArr = [];\r\n        newArr.push(1);\r\n        setTemp(newArr);\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n        <div className=\"kt-portlet__head kt-portlet__head--lg\">\r\n            <div className=\"kt-portlet__head-label\">\r\n              <span className=\"kt-portlet__head-icon\">\r\n                <i className=\"kt-font-brand flaticon-network\" />\r\n              </span>\r\n                {numSelected > 0 ? (\r\n                  <Typography color=\"inherit\" variant=\"subtitle1\">\r\n                    {numSelected} selected\r\n                  </Typography>\r\n                ) : (\r\n                  <h3 className=\"kt-portlet__head-title\">\r\n                   Leads\r\n                  </h3>\r\n                )}\r\n            </div>\r\n            <div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                      {numSelected > 0 ? (\r\n                          <Tooltip title=\"Delete\">\r\n                            <IconButton onClick={(e) => handleDelAll(e)} aria-label=\"Delete\">\r\n                              <DeleteIcon />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                      ) : (\r\n                          <div className=\"btn-group\">\r\n                            {/*<Link to={\"/lead/create\"} className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record\">\r\n                                <i className=\"la la-plus\"></i>\r\n                                New Record\r\n                            </Link>*/}\r\n                              <Dropdown className=\"dropdown-inline\" drop=\"down\" alignRight>\r\n                                <Dropdown.Toggle as={QuickActionsDropdownToggle}\r\n                                  id=\"dropdown-toggle-quick-actions-subheader\"\r\n                                />\r\n\r\n                                <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-md dropdown-menu-right\">\r\n                                  <ul className=\"kt-nav\">\r\n                                    <li className=\"kt-nav__item\">\r\n                                      <a href=\"#\" className=\"kt-nav__link\">\r\n                                        <i className=\"kt-nav__link-icon la la-upload\" />\r\n                                        <span className=\"kt-nav__link-text\">Export</span>\r\n                                      </a>\r\n                                    </li>\r\n                                    <li className=\"kt-nav__item\">\r\n                                      <a href=\"#\" className=\"kt-nav__link\">\r\n                                        <i className=\"kt-nav__link-icon la la-download\" />\r\n                                        <span className=\"kt-nav__link-text\">Import</span>\r\n                                      </a>\r\n                                    </li>\r\n                                  </ul>\r\n                                </Dropdown.Menu>\r\n                              </Dropdown>\r\n                          </div>\r\n                      )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  selected: PropTypes.array.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  close: {\r\n    padding: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nconst $ = require('jquery');\r\n$.DataTable = require('datatables.net-responsive-bs4');\r\n\r\nfunction updateTable(type) {\r\n    const table = $('#lead').DataTable();\r\n    table.ajax.reload(null, false);\r\n}\r\n\r\nfunction parseRowData(rowData) {\r\n    if( Array.isArray(rowData) && rowData.length > 0){\r\n    rowData.forEach(function(item, index){\r\n        if(item.leadable && item.leadable.contact)\r\n            rowData[index]['leadable__contact__first_name'] = item.leadable.contact.first_name+' '+item.leadable.contact.last_name;\r\n        else\r\n            rowData[index]['leadable__contact__first_name'] = '';\r\n\r\n        if(item.leadable) {\r\n          if(item.leadable_type === 'App\\\\Contact')\r\n            rowData[index]['leadable__contact__first_name'] = item.leadable.first_name+' '+item.leadable.last_name\r\n          else{\r\n              rowData[index]['leadable__contact__first_name'] = item.leadable.title;\r\n            }\r\n        }\r\n\r\n        if(item.creator && item.creator.contact)\r\n            rowData[index]['creator__contact__first_name'] = item.creator.contact.first_name+' '+item.creator.contact.last_name;\r\n        else\r\n            rowData[index]['creator__contact__first_name'] = '';\r\n\r\n        if(item.creator && item.creator.contact && item.creator.contact.company)\r\n            rowData[index]['creator__contact__company__name'] = item.creator.contact.company.name;\r\n        else\r\n            rowData[index]['creator__contact__company__name'] = '';\r\n        rowData[index]['leadable__contact__last_name'] = '';\r\n\r\n        rowData[index]['created_at'] = moment(item.created_at).format('DD/MM/YYYY')\r\n      rowData[index]['actions'] = rowData[index]['checkbox'] = '';\r\n    });\r\n  }\r\n  return rowData;\r\n}\r\n\r\nconst ActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <a\r\n      ref={ref}\r\n      onClick={e => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n      id=\"kt_dashboard_daterangepicker\"\r\n      className=\"btn btn-sm btn-clean btn-icon btn-icon-md\"\r\n    >\r\n      {\" \"}\r\n      <i className=\"la la-ellipsis-h\"></i>\r\n    </a>\r\n));\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [rows, setRowsData] = React.useState([]);\r\n  const [count, setCount] = React.useState(0); // set counter for onload functions\r\n  const [show, setModalDisplay] = React.useState(false); // set modal to show/hide\r\n  const [userIndex, setUser] = React.useState(0); //selected user to perform actions\r\n  const [action, setAction] = React.useState({}); // selected action\r\n  const [temp, setTemp] = React.useState([]); // selected action\r\n  const [isSelectedMany, setSelectedMany] = React.useState(false);\r\n  const [open, setOpen] = React.useState(false); // show/hide Snackbar\r\n  const [message, setMessage] = React.useState('Changes applied successfully!'); // set Message\r\n  const [csvData, setCsvData] = React.useState([]);\r\n  const [table, setTable] = React.useState(false); // selected action\r\n  const [exportSpinner, setExpSpin] = React.useState('d-none'); // selected action\r\n  let history = useHistory();\r\n  let type = props.match.params.type;\r\n\r\n\r\n  React.useEffect(() => {\r\n      if($.fn.dataTable.isDataTable( '#lead' )) {\r\n        let table = $('#lead').DataTable();\r\n        table.destroy();\r\n        setTable(true);\r\n        setRowsData([]);\r\n      }\r\n      return () => {\r\n          setRowsData([]);\r\n          let dtable = $('#lead').DataTable();\r\n          dtable.destroy(true);\r\n          setTable(true);\r\n      }\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (table && $.fn.dataTable.isDataTable( '#lead' ) ) {\r\n        if(JSON.stringify(rows) !== JSON.stringify(window.prevRows)){\r\n          window.prevRows = rows;\r\n        }\r\n      } else {\r\n        setTable(true);\r\n        loadDatatable();\r\n      }\r\n    }, [rows]);\r\n\r\n\r\n  function loadDatatable() {\r\n    let url = API_URL+'leads?format=datatables';\r\n    let columnDefs = [\r\n      { \"bVisible\": false, \"aTargets\": [1,8] },\r\n      {\r\n        targets: 0,\r\n        width: '30px',\r\n        orderable: false,\r\n        searchable:false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n          ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(rowData.id)}\r\n          onChange={event => handleClick(event, rowData.id, td, row)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${row}` }}\r\n          />\r\n          , td\r\n          );\r\n        },\r\n      },\r\n      {\r\n        targets: 2,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            let leadName = cellData.toLowerCase();\r\n              if(leadName.includes('-yom-')){\r\n                  leadName = leadName.split('-yom-')[0].replace(/-/g,' ')\r\n              }else{\r\n                  leadName = leadName.replace(/-/g,' ')\r\n              }\r\n          ReactDOM.render(\r\n                <a style={{ cursor: 'pointer' }} onClick={() => history.push(\"/\"+USER_URL+\"/leads/\"+rowData.id) }>\r\n                <span style={{textTransform: 'capitalize'}}>{leadName}</span>\r\n                </a>\r\n              , td\r\n          );\r\n        }\r\n      },\r\n      {\r\n        targets: 3,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n          let href = \"#\";\r\n          if(rowData.creator && rowData.creator.contact)\r\n            href = \"/contact/\"+rowData.creator.contact.id+\"-\"+cellData.replace(/ /g,'-')\r\n          ReactDOM.render(\r\n          <a target=\"_blank\" href={href}>\r\n          {cellData}\r\n          </a>\r\n              , td\r\n          );\r\n        }\r\n      },\r\n      {\r\n        targets: 4,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n          let href = \"#\";\r\n          if(rowData.creator && rowData.creator.contact && rowData.creator.contact.company)\r\n            href = \"/company/\"+rowData.creator.contact.company.id+\"-\"+cellData.replace(/ /g,'-')\r\n\r\n          ReactDOM.render(\r\n          <a target=\"_blank\" href={href}>\r\n          {cellData}\r\n          </a>\r\n              , td\r\n          );\r\n        }\r\n      },\r\n      {\r\n        targets: 5,\r\n        title: 'Status',\r\n        orderable: false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            ReactDOM.render(\r\n                  <span onClick={(e) => handleModalShow(e, row, 'status')} className={cellData === 1 ? 'kt-switch kt-switch--sm kt-switch--success':'kt-switch kt-switch--sm kt-switch--danger'}>\r\n                  <label>\r\n                    <input\r\n                      type=\"checkbox\" checked={cellData === 1 ? 'defaultChecked':''}\r\n                      name=\"quick_panel_notifications_1\"\r\n                    />\r\n                    <span />\r\n                  </label>\r\n                </span>, td\r\n              );\r\n        }\r\n      }\r\n    ];\r\n      columnDefs.push(\r\n          {\r\n            targets: 7,\r\n            title: 'Actions',\r\n            orderable: false,\r\n            searchable:false,\r\n            \"createdCell\": function (td, cellData, rowData, row, col) {\r\n              ReactDOM.render(\r\n              <Dropdown className=\"kt-header__topbar-item\" drop=\"down\" alignLeft>\r\n              <Dropdown.Toggle as={ActionsDropdownToggle} />\r\n                  <Dropdown.Menu  className=\"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround\">\r\n                    <Dropdown.Item onClick={() => history.push(\"/\"+USER_URL+\"/leads/\"+rowData.id) }><i className=\"flaticon-eye\"></i> Views Details</Dropdown.Item>\r\n                    <Dropdown.Item onClick={(e) => handleModalShow(e, row, 'delete')}><i className=\"flaticon2-trash\"></i> Remove</Dropdown.Item>\r\n              </Dropdown.Menu>\r\n              </Dropdown>\r\n                  , td\r\n              );\r\n            }\r\n          },);\r\n    $('#lead').DataTable({\r\n      responsive: {\r\n        details: {\r\n          renderer: $.fn.dataTable.Responsive.renderer.listHiddenNodes()\r\n        }\r\n      },\r\n      serverSide:true,\r\n      displayStart : getPageNum('leads', props),\r\n      ajax: {\r\n        url:url ,\r\n        method: \"GET\",\r\n        headers: {'Content-Type': 'application/json', 'Authorization': 'Token '+JSON.parse(localStorage.getItem(LOCAL_STORAGE)).authToken.replace(/['\"]+/g, '')},\r\n        \"dataFilter\": function(data) {\r\n          let json = JSON.parse(data);\r\n          let rowData = parseRowData(json.data);\r\n          setRowsData(rowData);\r\n          json.data = rowData;\r\n          return JSON.stringify(json); // return JSON string\r\n        },\r\n      },\r\n\r\n      // DOM Layout settings\r\n      dom: `<'row'<'col-sm-12'tr>>\r\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\r\n\r\n      lengthMenu: [5, 10, 25, 50],\r\n\r\n      pageLength: 10,\r\n      pagingType: 'numbers',\r\n      recordsTotal: rows.recordsTotal, // The number in my test data set\r\n      recordsFiltered: rows.recordsFiltered,\r\n\r\n      language: {\r\n        'lengthMenu': 'Display _MENU_',\r\n      },\r\n\r\n      // Order settings\r\n      order: [[4, 'desc']],\r\n      columnDefs:columnDefs ,\r\n    });\r\n    $('#lead').on( 'page.dt', function () {\r\n      setPageNum($('#lead'), 'lead', props);\r\n  });\r\n  }\r\n\r\n  function handleRequestSort(event, property) {\r\n    const isDesc = orderBy === property && order === 'desc';\r\n    setOrder(isDesc ? 'asc' : 'desc');\r\n    setOrderBy(property);\r\n  }\r\n\r\n  function handleSelectAllClick(event) {\r\n\r\n    if (event.target.checked) {\r\n        const sel = selected;\r\n      const newSelecteds = rows.map(n => n.id);\r\n        newSelecteds.forEach(v => {\r\n         sel.push(v)\r\n       })\r\n      setSelected(sel);\r\n    }else{\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n    }\r\n    if(isSelectedMany)\r\n      setSelectedMany(false);\r\n    else\r\n      setSelectedMany(true);\r\n\r\n    updateTable(type);\r\n\r\n  }\r\n\r\n  function handleClick(event, id, td, idx) {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    const sel =selected;\r\n\r\n    if(selectedIndex === -1){\r\n        sel.push(id);\r\n    }else{\r\n        sel.splice(selectedIndex, 1);\r\n    }\r\n    setSelected(sel);\r\n    const newArr = [...temp];\r\n    newArr.push(1);\r\n    setTemp(newArr);\r\n    // updateTable(type);\r\n    const table = $('#lead').DataTable();\r\n    table.cell( td ).render(ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(id)}\r\n          onChange={event => handleClick(event, id, td, idx)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${idx}` }}\r\n          />\r\n          , td\r\n    ));\r\n  }\r\n\r\n  function handleChangePage(event, newPage) {\r\n    setPage(newPage);\r\n  }\r\n\r\n  function handleChangeRowsPerPage(event) {\r\n    setRowsPerPage(+event.target.value);\r\n  }\r\n\r\n  function handleChangeDense(event) {\r\n    setDense(event.target.checked);\r\n  }\r\n\r\n  function handleSearch(event) {\r\n    const table = $('#lead').DataTable();\r\n    table.search( event.target.value ).draw();\r\n  }\r\n\r\n  function selectFilter(value) {\r\n    const table = $('#lead').DataTable();\r\n    table\r\n        .columns( 4 )\r\n        .search( value.value )\r\n        .draw();\r\n  }\r\n\r\n  function handleModalClose(event) {\r\n    setModalDisplay(false);\r\n  }\r\n\r\n  function handleModalShow(event, index, act) {\r\n    setUser(index);\r\n    setAction(act)\r\n    setModalDisplay(true);\r\n  }\r\n\r\n\r\n  function confirm(event) {\r\n    if(action == 'status') {\r\n      var data = {'is_active': rows[userIndex].is_active === 1 ? 0:1};\r\n      patch('leads/'+rows[userIndex].id+'/', data).then(function (response) {\r\n        let rowsData = rows.filter((v,i) => i !== userIndex);\r\n        setRowsData([...rowsData, response.data]);\r\n        setModalDisplay(false);\r\n          updateTable();\r\n        setOpen(true);\r\n        const statusType = response.data.is_active === 1 ? 'activated' : 'deactivated';\r\n        setMessage('Record successfully '+statusType);\r\n      })\r\n    } else if(action == 'delete') {\r\n      del('leads/'+rows[userIndex].id+'/').then(function (response) {\r\n        let rowsData = rows.filter((v,i) => i !== userIndex);\r\n        setRowsData(rowsData);\r\n        setModalDisplay(false);\r\n          updateTable();\r\n        setOpen(true);\r\n        setMessage('Record successfully deleted');\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleCloseSnackbar = (event, reason) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isSelected = id => selected.indexOf(id) !== -1;\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.tableWrapper}>\r\n        <div className=\"kt-portlet kt-portlet--mobile\">\r\n            <EnhancedTableToolbar setTemp={setTemp} setRowsData={setRowsData} rows={rows} setSelectedMany={setSelectedMany} setSelected={setSelected} selected={selected} numSelected={selected.length} />\r\n          <div className=\"kt-portlet__body\">\r\n\r\n            <div className=\"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-xl-12 order-2 order-xl-1\">\r\n                  <div className=\"row align-items-center\">\r\n                    <div className=\"col-md-4 kt-margin-b-20-tablet-and-mobile\">\r\n                      <div className=\"kt-input-icon kt-input-icon--left\">\r\n                        <input onKeyUp={handleSearch}  type=\"text\" className=\"form-control\" placeholder=\"Search...\" id=\"generalSearch\" />\r\n                        <span className=\"kt-input-icon__icon kt-input-icon__icon--left\">\r\n                          <span><i className=\"la la-search\" /></span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"kt-section\">\r\n                <div>\r\n                  <table className=\"table table-striped- table-bordered table-hover table-checkable\" id={\"lead\"}>\r\n                      <thead>\r\n                      <tr>\r\n                          <th data-data=\"checkbox\">\r\n                              <Checkbox\r\n                                checked={isSelectedMany}\r\n                                onChange = {handleSelectAllClick}\r\n                                inputProps={{\r\n                                  'aria-label': 'primary checkbox',\r\n                                }}\r\n                              />\r\n                          </th>\r\n                          <th data-data=\"id\">ID</th>\r\n                          <th data-data=\"leadable__contact__first_name\">Lead Title</th>\r\n                          <th data-data=\"creator__contact__first_name\">Sender</th>\r\n                          <th data-data=\"creator__contact__company__name\">Receiver</th>\r\n                          <th data-data=\"is_active\">Status</th>\r\n                          <th data-data=\"created_at\">Date</th>\r\n                          <th data-data=\"actions\">Action</th>\r\n                          <th data-data=\"leadable__contact__last_name\" className=\"d-none\">Contact</th>\r\n                      </tr>\r\n                      </thead>\r\n                  </table>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </Paper>\r\n      <Modal show={show} onHide={handleModalClose}>\r\n        <Modal.Header closeButton>\r\n            {action !== 'detail' ?\r\n                <Modal.Title>Confirm</Modal.Title>\r\n                :\r\n                <Modal.Title>Lead Details</Modal.Title>\r\n            }\r\n        </Modal.Header>\r\n          {action === 'detail' ?\r\n              <Modal.Body>\r\n                  {console.log(rows[userIndex])}\r\n                  <Grid container spacing={2}>\r\n                    <Grid item xs={12}>\r\n                        <List >\r\n                            <ListItem>\r\n                              <ListItemText\r\n                                primary=\"Lead Title\"\r\n                                secondary={rows[userIndex].leadable ? rows[userIndex].leadable.contact.first_name+' '+rows[userIndex].leadable.contact.last_name: ''}\r\n                              />\r\n                            </ListItem>\r\n                            <Divider />\r\n                            <ListItem>\r\n                              <ListItemText\r\n                                primary=\"Contact\"\r\n                                secondary={rows[userIndex].leadable ? rows[userIndex].leadable.contact.first_name+' '+rows[userIndex].leadable.contact.last_name: ''}\r\n                              />\r\n                            </ListItem>\r\n                            <Divider />\r\n                            <ListItem>\r\n                              <ListItemText\r\n                                primary=\"Company\"\r\n                                secondary={rows[userIndex].leadable ? rows[userIndex].leadable.contact.company.name: ''}\r\n                              />\r\n                            </ListItem>\r\n                            <Divider />\r\n                            <ListItem>\r\n                              <ListItemText\r\n                                primary=\"Status\"\r\n                                secondary={rows[userIndex] ? rows[userIndex].lead_status: ''}\r\n                              />\r\n                            </ListItem>\r\n                            <Divider />\r\n                            <ListItem>\r\n                              <ListItemText\r\n                                primary=\"Date\"\r\n                                secondary={rows[userIndex] ? moment(rows[userIndex].created_at).format('DD/MM/YYYY'): ''}\r\n                              />\r\n                            </ListItem>\r\n                            <Divider />\r\n                            <ListItem>\r\n                              <ListItemText\r\n                                primary=\"Message\"\r\n                                secondary={rows[userIndex] ? rows[userIndex].message: ''}\r\n                              />\r\n                            </ListItem>\r\n                        </List>\r\n                    </Grid>\r\n                  </Grid>\r\n              </Modal.Body>\r\n              :\r\n              <></>\r\n          }\r\n          {action !== 'detail' ?\r\n              <Modal.Footer>\r\n                  <Button variant=\"success\" onClick={confirm}>\r\n                      Yes\r\n                  </Button>\r\n                  <Button variant=\"danger\" onClick={handleModalClose}>\r\n                      No\r\n                  </Button>\r\n              </Modal.Footer>\r\n              :\r\n              <Modal.Footer>\r\n                  <Button variant=\"primary\" onClick={confirm}>\r\n                      Close\r\n                  </Button>\r\n              </Modal.Footer>\r\n          }\r\n      </Modal>\r\n      <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={open}\r\n          autoHideDuration={1600000}\r\n          onClose={handleCloseSnackbar}\r\n        >\r\n          <SnackbarContentWrapper\r\n            onClose={handleCloseSnackbar}\r\n            variant=\"success\"\r\n            message={message}\r\n          />\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport CustomHead from \"../../partials/content/CustomHeader.js\";\r\nimport {Button, Modal, Form, Col} from \"react-bootstrap\";\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport {list, patch, MEDIA_URL} from \"../../crud/api\";\r\nimport {Paper, Grid} from \"@material-ui/core\";\r\nimport EasyEdit from 'react-easy-edit';\r\nimport Notice from \"../../partials/content/Notice\";\r\n\r\n\r\n\r\nclass Detail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { lead_id } = this.props.data.match.params\r\n    const divStyle = {\r\n      padding : '15px'\r\n    };\r\n    this.txt_weight = {fontWeight:500}\r\n    this.state = {\r\n      lead:{},\r\n      action:'',\r\n      created_at: '',\r\n      updated_at: '',\r\n      is_published: ''\r\n\r\n    };\r\n    this.getLead(lead_id);\r\n    this.divStyle = divStyle;\r\n  }\r\n\r\n  getLead(lead_id) {\r\n    list('leads/'+lead_id+'/').then(\r\n      (response) => {\r\n          delete response.data.type;\r\n          this.setState({\r\n              created_at : new Intl.DateTimeFormat().format(new Date(response.data.created_at)),\r\n              updated_at : new Intl.DateTimeFormat().format(new Date(response.data.updated_at))\r\n          });\r\n          //this.props.setTitle(response.data.first_name+' '+ response.data.last_name);\r\n          this.setState({lead : response.data})\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { validated, lead } = this.state;\r\n    return (\r\n        <div>\r\n          <Grid container spacing={3}>\r\n                <Grid item xs={12} md={9}>\r\n                  <Form>\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Lead Title</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>\r\n                        {lead.leadable ? (lead.leadable_type === 'App\\\\Contact' ? lead.leadable.first_name+' '+lead.leadable.last_name: lead.leadable.title) : '---'}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Sender</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{lead.creator && lead.creator.contact ? lead.creator.contact.first_name+' '+lead.creator.contact.last_name : '---'}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Receiver</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{lead.creator && lead.creator.contact && lead.creator.contact.company ? lead.creator.contact.company.name: ' --- '}</Form.Label>\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n                  <hr/>\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Message</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{lead.message ? lead.message: ' --- '}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Status</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{lead.lead_status ? lead.lead_status: ' --- '}</Form.Label>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                      <Form.Label>Date Created</Form.Label><br/>\r\n                      <Form.Label style={this.txt_weight}>{this.state.created_at}</Form.Label>\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n                  </Form>\r\n                </Grid>\r\n          </Grid>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass DetailPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {errors:{}, showError:false, title: 'Lead'};\r\n    this.sendError = this.sendError.bind(this);\r\n  }\r\n\r\n  sendError(error) {\r\n    if(Object.keys(error).length)\r\n      this.setState({showError:true});\r\n\r\n    this.setState({errors:error});\r\n  }\r\n\r\n  setMainTitle = (value) => {\r\n    this.setState({title: value});\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      <Notice icon=\"flaticon-warning kt-font-primary\" style={{display: this.state.showError ? 'flex' : 'none' }}>\r\n        {\r\n          Object.keys(this.state.errors).map((key, index) => {\r\n            return this.state.errors[key].map((error, i) => {\r\n              console.log(error);\r\n              return <li key={index+i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n            });\r\n          })\r\n        }\r\n        </Notice>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <CustomHead\r\n              beforeCodeTitle={this.state.title}\r\n              jsCode =   {<div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                  <div className=\"dropdown dropdown-inline\">\r\n                  <Link to={\"/user/lead\"} className=\"btn btn-clean btn-icon-sm\">\r\n                        <i className=\"la la-long-arrow-left\"></i>\r\n                        Back\r\n                      </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> }\r\n            >\r\n              <div className=\"kt-section\">\r\n                <Detail data={this.props} sendError={this.sendError} setTitle={this.setMainTitle} />\r\n              </div>\r\n            </CustomHead>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(DetailPage);","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport {\r\n    IconButton, Paper, FormControlLabel, Switch, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent\r\n} from '@material-ui/core';\r\nimport {list, patch, del, STATUSES, USER_URL, API_URL,MEDIA_URL, LOCAL_STORAGE, importData} from \"../../../crud/api\";\r\nimport {Button, Dropdown, Modal, Form} from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.css\";\r\nimport \"datatables.net-responsive-bs4/css/responsive.bootstrap4.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport {ReactComponent as SortNum1Icon} from \"../../../../_metronic/layout/assets/layout-svg-icons/SortNum1.svg\";\r\nimport Select from 'react-select';\r\nimport { setPageNum, getPageNum } from \"../../../helpers/listing\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport CSVReader from 'react-csv-reader';\r\n\r\nconst QuickActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <button\r\n        ref={ref}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          onClick(e);\r\n        }}\r\n        className=\"btn kt-header__btn-primary\"\r\n    >\r\n      Actions\r\n      <SortNum1Icon className=\"kt-svg-icon kt-svg-icon--sm\" />\r\n    </button>\r\n));\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(0),\r\n    paddingRight: theme.spacing(0),\r\n    display: 'block',\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  spacer: {\r\n    flex: '1 1 100%',\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    flex: '0 0 auto',\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = props => {\r\n  const classes = useToolbarStyles();\r\n  const { setMessageType, setMessage, setOpen, exportSpinner,setExpSpin, csvData, setCsvData, numSelected, type, selected, setSelected, setSelectedMany, setRowsData, rows, setTemp } = props;\r\n\r\n\r\n  function handleDelAll(event) {\r\n    if(selected.length) {\r\n      let data = {ids:selected}\r\n      del('parts/'+selected[0]+'/', data).then(function (response) {\r\n        // here removing rows from dt-table that are deleted from database\r\n        for(let i in rows){\r\n          if(selected.indexOf(rows[i].id) > -1) {\r\n            delete rows[i];\r\n          }\r\n        }\r\n        setRowsData(rows);\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n        setSelectedMany(false);\r\n\r\n        // no use as such - just to trigger state udpate :(\r\n        const newArr = [];\r\n        newArr.push(1);\r\n        setTemp(newArr);\r\n\r\n        updateTable(type);\r\n      })\r\n    }\r\n  }\r\n\r\n  function fetchCSVData() {\r\n    setExpSpin('');\r\n    list('parts', {records:'all'}).then(response => {\r\n      let related_models = ['condition', 'release', 'owner','seller','primary_contact', 'location','user'];\r\n\r\n      let system_fields = ['uid', 'views', 'likes', 'leads', 'created_at', 'updated_at', 'deleted_at', 'promote_status','is_active', 'is_featured', 'is_published'];\r\n\r\n      setExpSpin('d-none');\r\n      let responseData = response.data.map((v, i) => {\r\n\r\n        system_fields.map(field => delete v[field])\r\n\r\n        related_models.map((model) => {\r\n          v[model] = v[model] ? v[model].name : v[model];\r\n        })\r\n        v.primary_contact = v.primary_contact ? v.primary_contact.first_name+' '+v.primary_contact.last_name:v.primary_contact\r\n        return v;\r\n      })\r\n      setCsvData(responseData);\r\n      document.getElementById('parts-csv-btn').click();\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n      <div className=\"kt-portlet__head kt-portlet__head--lg\">\r\n        <div className=\"kt-portlet__head-label\">\r\n          <span className=\"kt-portlet__head-icon\">\r\n            <i className=\"kt-font-brand flaticon2-layers-2\" />\r\n          </span>\r\n          {numSelected > 0 ? (\r\n            <Typography color=\"inherit\" variant=\"subtitle1\">\r\n              {numSelected} selected\r\n            </Typography>\r\n          ) : (\r\n            <h3 className=\"kt-portlet__head-title\">Part Assets</h3>\r\n          )}\r\n        </div>\r\n        <div className=\"kt-portlet__head-toolbar\">\r\n          <div className=\"kt-portlet__head-wrapper\">\r\n            <div className=\"kt-portlet__head-actions\">\r\n              {numSelected > 0 ? (\r\n                <Tooltip title=\"Delete\">\r\n                  <IconButton\r\n                    onClick={(e) => handleDelAll(e)}\r\n                    aria-label=\"Delete\"\r\n                  >\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              ) : (\r\n                <div className=\"btn-group\">\r\n                  <a\r\n                    onClick={updateTable}\r\n                    className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record mr-2\"\r\n                  >\r\n                    <i className=\"la la-refresh\" aria-hidden=\"true\"></i>\r\n                    Refresh\r\n                  </a>\r\n                  <a\r\n                    href=\"/static/media/import_templates/parts.csv\"\r\n                    className=\"mr-2 btn btn-sm btn-brand btn-elevate btn-icon-sm new-record\"\r\n                  >\r\n                    <i className=\"la la-download\"></i>\r\n                    Bulk Upload Template\r\n                  </a>\r\n                  <Link\r\n                    to={\"/\" + USER_URL + \"/part/asset/create\"}\r\n                    className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record\"\r\n                  >\r\n                    <i className=\"la la-plus\"></i>\r\n                    Add Part\r\n                  </Link>\r\n                  <Dropdown className=\"dropdown-inline\" drop=\"down\" alignRight>\r\n                    <Dropdown.Toggle\r\n                      as={QuickActionsDropdownToggle}\r\n                      id=\"dropdown-toggle-quick-actions-subheader\"\r\n                    />\r\n\r\n                    <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-md dropdown-menu-right\">\r\n                      <ul className=\"kt-nav\">\r\n                        <li className=\"kt-nav__item\">\r\n                          <a onClick={fetchCSVData} className=\"kt-nav__link\">\r\n                            <i className=\"kt-nav__link-icon la la-upload\" />\r\n                            <span className=\"kt-nav__link-text\">Export</span>\r\n                            <div\r\n                              className={\"spinner-grow \" + exportSpinner}\r\n                            ></div>\r\n                          </a>\r\n                          <CSVLink\r\n                            data={csvData}\r\n                            filename=\"parts.csv\"\r\n                            className=\"d-none\"\r\n                            id=\"parts-csv-btn\"\r\n                            target=\"_blank\"\r\n                          />\r\n                        </li>\r\n                        <li className=\"kt-nav__item\">\r\n                          <a className=\"kt-nav__link\">\r\n                            <i className=\"kt-nav__link-icon la la-upload\" />\r\n                            <CSVReader\r\n                              inputId=\"airport-csv-reader\"\r\n                              cssClass=\"kt-nav__link-text\"\r\n                              cssInputClass=\"d-none\"\r\n                              label=\"Import\"\r\n                              onFileLoaded={(data) => {\r\n                                importData(data, \"AbParts\").then((response) => {\r\n                                  if (response.data.success)\r\n                                    setMessageType(\"success\");\r\n                                  else setMessageType(\"error\");\r\n\r\n                                  setMessage(response.data.message);\r\n                                  setOpen(true);\r\n                                  updateTable();\r\n                                });\r\n                              }}\r\n                            />\r\n                          </a>\r\n                        </li>\r\n                      </ul>\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  selected: PropTypes.array.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  close: {\r\n    padding: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nconst $ = require('jquery');\r\n$.DataTable = require('datatables.net-responsive-bs4');\r\n\r\nfunction updateTable() {\r\n    const table = $('#part').DataTable();\r\n    table.ajax.reload(null, false);\r\n}\r\n\r\nfunction parseRowData(rowData) {\r\n    if( Array.isArray(rowData) && rowData.length > 0){\r\n    rowData.forEach(function(item, index){\r\n      if(item.condition != null)\r\n        rowData[index]['condition__name'] = item.condition.name;\r\n      else\r\n        rowData[index]['condition__name'] = '';\r\n\r\n      rowData[index]['actions'] = rowData[index]['checkbox'] = '';\r\n    });\r\n  }\r\n  return rowData;\r\n}\r\n\r\nconst ActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <a\r\n      ref={ref}\r\n      onClick={e => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n      id=\"kt_dashboard_daterangepicker\"\r\n      className=\"btn btn-sm btn-clean btn-icon btn-icon-md\"\r\n    >\r\n      {\" \"}\r\n      <i className=\"la la-ellipsis-h\"></i>\r\n    </a>\r\n));\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [rows, setRowsData] = React.useState([]);\r\n  const [count, setCount] = React.useState(0); // set counter for onload functions\r\n  const [show, setModalDisplay] = React.useState(false); // set modal to show/hide\r\n  const [userIndex, setUser] = React.useState(0); //selected user to perform actions\r\n  const [action, setAction] = React.useState({}); // selected action\r\n  const [temp, setTemp] = React.useState([]); // selected action\r\n  const [isSelectedMany, setSelectedMany] = React.useState(false);\r\n  const [open, setOpen] = React.useState(false); // show/hide Snackbar\r\n  const [message, setMessage] = React.useState('Changes applied successfully!'); // set Message\r\n  const [table, setTable] = React.useState(false); // selected action\r\n  const [csvData, setCsvData] = React.useState([]);\r\n  const [exportSpinner, setExpSpin] = React.useState('d-none');\r\n  const [messageType, setMessageType] = React.useState('success');\r\n\r\n  let history = useHistory();\r\n  let type = props.match.params.type;\r\n\r\n\r\n  React.useEffect(() => {\r\n      if($.fn.dataTable.isDataTable( '#part' )) {\r\n        let table = $('#part').DataTable();\r\n        table.destroy(true);\r\n        setTable(true);\r\n        setRowsData([]);\r\n      }\r\n      return () => {\r\n        setRowsData([]);\r\n          let dtable = $('#part').DataTable();\r\n          dtable.destroy(true);\r\n          setTable(true);\r\n      }\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (table && $.fn.dataTable.isDataTable( '#part' ) ) {\r\n        if(JSON.stringify(rows) !== JSON.stringify(window.prevRows)){\r\n          window.prevRows = rows;\r\n        }\r\n      } else {\r\n        setTable(true);\r\n        loadDatatable();\r\n      }\r\n    }, [rows]);\r\n\r\n\r\n  function loadDatatable() {\r\n    let url = API_URL+'parts?format=datatables';\r\n    let columnDefs = [\r\n      { \"bVisible\": false, \"aTargets\": [1] },\r\n      {\r\n        targets: 0,\r\n        width: '30px',\r\n        orderable: false,\r\n        searchable:false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n          ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(rowData.id)}\r\n          onChange={event => handleClick(event, rowData.id, td, row)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${row}` }}\r\n          />\r\n          , td\r\n          );\r\n        },\r\n      },\r\n      {\r\n        targets: 2,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            let partName = cellData.toLowerCase();\r\n            if(partName.includes('-yom-')){\r\n                partName = partName.split('-yom-')[0].replace(/-/g,' ')\r\n            }else{\r\n                partName = partName.replace(/-/g,' ')\r\n            }\r\n          ReactDOM.render(\r\n          <a style={{textTransform: 'capitalize'}} href={\"/parts/\"+rowData.id+\"-\"+partName} target=\"_blank\">\r\n          {partName}\r\n          </a>\r\n              , td\r\n          );\r\n        }\r\n      },\r\n      {\r\n        targets: 7,\r\n        title: 'Status',\r\n        orderable: false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            ReactDOM.render(\r\n                  <span onClick={(e) => handleModalShow(e, row, 'status')} className={cellData === 1 ? 'kt-switch kt-switch--sm kt-switch--success':'kt-switch kt-switch--sm kt-switch--danger'}>\r\n                  <label>\r\n                    <input\r\n                      type=\"checkbox\" checked={cellData === 1 ? 'defaultChecked':''}\r\n                      name=\"quick_panel_notifications_1\"\r\n                    />\r\n                    <span />\r\n                  </label>\r\n                </span>, td\r\n              );\r\n        }\r\n      },\r\n        {\r\n        targets: 8,\r\n        searchable:false,\r\n      },{\r\n            targets: 9,\r\n            title: 'Actions',\r\n            orderable: false,\r\n            searchable:false,\r\n            \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                ReactDOM.render(\r\n                <Dropdown className=\"kt-header__topbar-item\" drop=\"down\" alignLeft>\r\n                <Dropdown.Toggle as={ActionsDropdownToggle} />\r\n                    <Dropdown.Menu  className=\"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround\">\r\n                    <Dropdown.Item onClick={() => history.push(\"/\"+USER_URL+\"/part/asset/\"+rowData.id) }>\r\n                    <i className=\"flaticon-eye\"></i> Views Details\r\n                </Dropdown.Item>\r\n                    <Dropdown.Item onClick={() => history.push(\"/\"+USER_URL+\"/part/asset/\"+rowData.id+\"/edit\") }><i className=\"flaticon2-edit\"></i> Edit Details</Dropdown.Item>\r\n                <Dropdown.Item onClick={(e) => handleModalShow(e, row, 'delete')}><i className=\"flaticon2-trash\"></i> Remove</Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                    </Dropdown>\r\n                    , td\r\n                );\r\n            }\r\n        }\r\n    ];\r\n    $('#part').DataTable({\r\n      responsive: {\r\n        details: {\r\n          renderer: $.fn.dataTable.Responsive.renderer.listHiddenNodes()\r\n        }\r\n      },\r\n      serverSide:true,\r\n      displayStart : getPageNum('parts', props),\r\n      ajax: {\r\n        url:url ,\r\n        method: \"GET\",\r\n        headers: {'Content-Type': 'application/json', 'Authorization': 'Token '+JSON.parse(localStorage.getItem(LOCAL_STORAGE)).authToken.replace(/['\"]+/g, '')},\r\n        \"dataFilter\": function(data) {\r\n          let json = JSON.parse(data);\r\n          let rowData = parseRowData(json.data);\r\n          setRowsData(rowData);\r\n          json.data = rowData;\r\n          return JSON.stringify(json); // return JSON string\r\n        },\r\n      },\r\n\r\n          // DOM Layout settings\r\n          dom: `<'row'<'col-sm-12'tr>>\r\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\r\n\r\n          lengthMenu: [5, 10, 25, 50],\r\n\r\n      pageLength: 10,\r\n      pagingType: 'numbers',\r\n      recordsTotal: rows.recordsTotal, // The number in my test data set\r\n      recordsFiltered: rows.recordsFiltered,\r\n\r\n      language: {\r\n        'lengthMenu': 'Display _MENU_',\r\n      },\r\n\r\n      // Order settings\r\n      order: [[6, 'desc']],\r\n      columnDefs:columnDefs ,\r\n    });\r\n    $('#part').on( 'page.dt', function () {\r\n      setPageNum($('#part'), 'parts', props);\r\n  });\r\n  }\r\n\r\n  function handleRequestSort(event, property) {\r\n    const isDesc = orderBy === property && order === 'desc';\r\n    setOrder(isDesc ? 'asc' : 'desc');\r\n    setOrderBy(property);\r\n  }\r\n\r\n  function handleSelectAllClick(event) {\r\n\r\n    if (event.target.checked) {\r\n        const sel = selected;\r\n      const newSelecteds = rows.map(n => n.id);\r\n        newSelecteds.forEach(v => {\r\n         sel.push(v)\r\n       })\r\n      setSelected(sel);\r\n    }else{\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n    }\r\n    if(isSelectedMany)\r\n      setSelectedMany(false);\r\n    else\r\n      setSelectedMany(true);\r\n\r\n    updateTable(type);\r\n\r\n  }\r\n\r\n  function handleClick(event, id, td, idx) {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    const sel =selected;\r\n\r\n    if(selectedIndex === -1){\r\n        sel.push(id);\r\n    }else{\r\n        sel.splice(selectedIndex, 1);\r\n    }\r\n    setSelected(sel);\r\n    const newArr = [...temp];\r\n    newArr.push(1);\r\n    setTemp(newArr);\r\n    // updateTable(type);\r\n    const table = $('#part').DataTable();\r\n    table.cell( td ).render(ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(id)}\r\n          onChange={event => handleClick(event, id, td, idx)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${idx}` }}\r\n          />\r\n          , td\r\n          ));\r\n  }\r\n\r\n  function handleChangePage(event, newPage) {\r\n    setPage(newPage);\r\n  }\r\n\r\n  function handleChangeRowsPerPage(event) {\r\n    setRowsPerPage(+event.target.value);\r\n  }\r\n\r\n  function handleChangeDense(event) {\r\n    setDense(event.target.checked);\r\n  }\r\n\r\n  function handleSearch(event) {\r\n    const table = $('#part').DataTable();\r\n    table.search( event.target.value ).draw();\r\n  }\r\n\r\n\r\n  function handleModalClose(event) {\r\n    setModalDisplay(false);\r\n  }\r\n\r\n  function handleModalShow(event, index, act) {\r\n    setUser(index);\r\n    setAction(act)\r\n    setModalDisplay(true);\r\n  }\r\n\r\n  function confirm(event) {\r\n    if(action == 'status') {\r\n      var data = {'is_active': rows[userIndex].is_active === 1 ? 0:1};\r\n      patch('parts/'+rows[userIndex].id+'/', data).then(function (response) {\r\n        rows[userIndex] = response.data;\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n          updateTable();\r\n        setOpen(true);\r\n        const statusType = response.data.is_active === 1 ? 'activated' : 'deactivated';\r\n        setMessageType(\r\n          response.data.is_active_by_user === 1 ? \"success\" : \"error\"\r\n        );\r\n          setMessageType('success');\r\n          setMessage('Record successfully '+statusType);\r\n      })\r\n    } else if(action == 'delete') {\r\n      del('parts/'+rows[userIndex].id+'/').then(function (response) {\r\n        rows.splice(userIndex,1);\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n          updateTable();\r\n        setOpen(true);\r\n          setMessageType('success');\r\n        setMessage('Record successfully deleted');\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleCloseSnackbar = (event, reason) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isSelected = id => selected.indexOf(id) !== -1;\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.tableWrapper}>\r\n        <div className=\"kt-portlet kt-portlet--mobile\">\r\n            <EnhancedTableToolbar setMessageType={setMessageType} exportSpinner={exportSpinner} setMessage={setMessage} setOpen={setOpen} setExpSpin={setExpSpin} setTemp={setTemp} setRowsData={setRowsData} rows={rows} setSelectedMany={setSelectedMany} setSelected={setSelected} selected={selected} numSelected={selected.length} type={type} csvData={csvData} setCsvData={setCsvData} />\r\n          <div className=\"kt-portlet__body\">\r\n\r\n            <div className=\"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-xl-12 order-2 order-xl-1\">\r\n                  <div className=\"row align-items-center\">\r\n                    <div className=\"col-md-4 kt-margin-b-20-tablet-and-mobile col-xs-12\">\r\n                      <div className=\"kt-input-icon kt-input-icon--left\">\r\n                        <input onKeyUp={handleSearch}  type=\"text\" className=\"form-control\" placeholder=\"Search...\" id=\"generalSearch\" />\r\n                        <span className=\"kt-input-icon__icon kt-input-icon__icon--left\">\r\n                          <span><i className=\"la la-search\" /></span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"kt-section\">\r\n                <div>\r\n                  <table className=\"table table-striped- table-bordered table-hover table-checkable\" id={\"part\"}>\r\n                      <thead>\r\n                      <tr>\r\n                          <th data-data=\"checkbox\">\r\n                              <Checkbox\r\n                                checked={isSelectedMany}\r\n                                onChange = {handleSelectAllClick}\r\n                                inputProps={{\r\n                                  'aria-label': 'primary checkbox',\r\n                                }}\r\n                              />\r\n                          </th>\r\n                          <th data-data=\"id\">ID</th>\r\n                          <th data-data=\"title\">Title</th>\r\n                          <th data-data=\"part_number\">Part No.</th>\r\n                          <th data-data=\"alternate_part_number\">Alternate Part</th>\r\n                          <th data-data=\"condition__name\">Condition</th>\r\n                          <th data-data=\"quantity\">Quantity</th>\r\n                          <th data-data=\"is_active\">Status</th>\r\n                          <th data-data=\"leads\">Leads</th>\r\n                          <th data-data=\"actions\">Actions</th>\r\n                      </tr>\r\n                      </thead>\r\n                  </table>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </Paper>\r\n      <Modal show={show} onHide={handleModalClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Footer>\r\n          <Button variant=\"success\" onClick={confirm}>\r\n            Yes\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={handleModalClose}>\r\n            No\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={open}\r\n          autoHideDuration={3000}\r\n          onClose={handleCloseSnackbar}\r\n        >\r\n          <SnackbarContentWrapper\r\n            onClose={handleCloseSnackbar}\r\n            variant={messageType}\r\n            message={message}\r\n          />\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Form, Col, Row} from \"react-bootstrap\";\r\nimport {\r\n    createMuiTheme,\r\n    FormControl, IconButton, Select as SelectCore,\r\n} from \"@material-ui/core\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {\r\n    list,\r\n    patch,\r\n    post,\r\n    loadOptions,\r\n    UNIT_MEASURES,\r\n    PARTS_EXTRA_FIELDS,\r\n    USER_URL\r\n} from \"../../../crud/api\";\r\nimport Select from 'react-select';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AsyncPaginate from \"react-select-async-paginate\";\r\nimport {ThemeProvider} from \"@material-ui/styles\";\r\n\r\nconst addMoreSelect = createMuiTheme({\r\n  overrides: {\r\n      MuiOutlinedInput:{\r\n          root: {\r\n            '&:hover': {\r\n              \"& $notchedOutline\":{\r\n                      borderColor: 'rgb(179, 179, 179)'\r\n                }\r\n            }\r\n          },\r\n          inputSelect: {\r\n              padding: \"13px\",\r\n              fontFamily: \"Poppins, Helvetica, sans-serif\",\r\n              color: \"#808080\"\r\n          }\r\n      }\r\n  },\r\n});\r\n\r\nclass Create extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const {part_id, type} = this.props.data.match.params\r\n\r\n        this.state = {\r\n            validated: false,\r\n            part: {},\r\n            selectedFile: null,\r\n            countries: [],\r\n            contacts: [],\r\n            companies: [],\r\n            users: [],\r\n            conditions: [],\r\n            releases: [],\r\n            selected_primary_contact: {value: ''},\r\n            selected_location: {value: ''},\r\n            selected_owner: {value: ''},\r\n            selected_seller: {value: ''},\r\n            selected_user: {value: this.props.data.extra_data.user ? this.props.data.extra_data.user.id : null},\r\n            selected_release: {value: ''},\r\n            selected_unit_measure: {value: ''},\r\n            selected_condition: {value: ''},\r\n            partsExtraFields: PARTS_EXTRA_FIELDS,\r\n            selectedExtraFieldsParts: [],\r\n            modelsLoaded: false\r\n        };\r\n        this.getPart(part_id);\r\n    }\r\n\r\n    getPart(part_id) {\r\n        list('parts/' + part_id + '/').then(\r\n            (response) => {\r\n                this.setState({part: response.data})\r\n                //this.getDropdownsListing();\r\n                this.loadModels();\r\n                this.renderExtraFields();\r\n            });\r\n    }\r\n\r\n    handleChange(event) {\r\n        var part = this.state.part;\r\n        var attr = event.target.name;\r\n        var val = event.target.value;\r\n        if (attr === 'is_active')\r\n            val = parseInt(val);\r\n\r\n        part[attr] = val;\r\n        this.setState({part: part})\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.setState({validated: true});\r\n        this.checkDataFormat(); // this is done to convert foregin table objects into pk\r\n        if (!this.state.selectedFile)\r\n            delete this.state.part.file;\r\n        patch('parts/' + this.state.part.id + '/', this.state.part).then(\r\n            (response) => {\r\n                this.setState({part: response.data});\r\n                this.props.data.history.push(this.state.action == 'save_new' ? \"/\" + USER_URL + \"/part/asset/create\" : \"/\" + USER_URL + \"/part/asset\");\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n\r\n    loadModels() {\r\n        let part_data = this.state.part;\r\n\r\n        // static dropdowns calculation here -\r\n\r\n        let static_dropdowns = { // when you have static dropdown like gender just put here\r\n            unit_measure: UNIT_MEASURES\r\n        }\r\n\r\n        let dropdown_keys = Object.keys(static_dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            for (let index in static_dropdowns[dropdown_keys[key]]) {\r\n                if (static_dropdowns[dropdown_keys[key]][index].value === part_data[dropdown_keys[key]]) {\r\n                    this.setState({['selected_' + dropdown_keys[key]]: static_dropdowns[dropdown_keys[key]][index]});\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        let models = {\r\n            'AbUsers': {},\r\n            'AbContacts': {},\r\n            'AbConditions': {},\r\n            'AbReleases': {},\r\n            'AbCountries': {},\r\n            'AbCompanies': {},\r\n        }\r\n\r\n        // lets do some mapping to avoid if else conditions\r\n        let state_endpoints = {\r\n            AbUsers: ['user'],\r\n            AbContacts: ['primary_contact'],\r\n            AbCountries: ['location'],\r\n            AbReleases: ['release'],\r\n            AbConditions: ['condition'],\r\n            AbCompanies: ['owner', 'seller']\r\n        }\r\n\r\n        post('abmodels', {models: models}).then(function (response) {\r\n            let newStates = {};\r\n            for (let opt in response.data) {\r\n\r\n                response.data[opt].map((row, i) => {\r\n                    if (opt === 'AbContacts' || opt === 'AbUsers')\r\n                        row.name = row.first_name + ' ' + row.last_name;\r\n                    if (opt === 'AbUsers')\r\n                        row.id = row.user_id;\r\n\r\n                    response.data[opt][i].label = row.name;\r\n                    response.data[opt][i].value = row.id;\r\n\r\n                    Object.keys(state_endpoints).map((key, i) => {\r\n                        state_endpoints[key].map((state, index) => {\r\n                            if (opt === key && part_data[state] !== null && part_data[state].id !== undefined && part_data[state].id === row.id)\r\n                                newStates['selected_' + state] = row;\r\n                        })\r\n                    })\r\n\r\n                })\r\n            }\r\n            newStates['users'] = response.data.AbUsers;\r\n            newStates['contacts'] = response.data.AbContacts;\r\n            newStates['countries'] = response.data.AbCountries;\r\n            newStates['conditions'] = response.data.AbConditions;\r\n            newStates['releases'] = response.data.AbReleases;\r\n            newStates['companies'] = response.data.AbCompanies;\r\n\r\n            newStates['modelsLoaded'] = true;\r\n            this.setState(newStates);\r\n        }.bind(this))\r\n    }\r\n\r\n    getDropdownsListing() {\r\n        let part_data = this.state.part;\r\n        let dropdowns = {// when you have database dropdown like departments just put here\r\n            // dbcolumn: api_endpoint\r\n            primary_contact: 'contacts',\r\n            location: 'countries',\r\n            owner: 'companies',\r\n            user: 'users',\r\n            condition: 'conditions',\r\n            release: 'releases'\r\n        }\r\n\r\n        let duplicating_dropdowns = {\r\n            companies: ['seller'],\r\n        }\r\n\r\n        // static dropdowns calculation here -\r\n        let static_dropdowns = { // when you have static dropdown like gender just put here\r\n            // dbcolumn: imported name\r\n            unit_measure: UNIT_MEASURES\r\n        }\r\n        let dropdown_keys = Object.keys(static_dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            for (let index in static_dropdowns[dropdown_keys[key]]) {\r\n                if (static_dropdowns[dropdown_keys[key]][index].value === part_data[dropdown_keys[key]]) {\r\n                    this.setState({['selected_' + dropdown_keys[key]]: static_dropdowns[dropdown_keys[key]][index]});\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        dropdown_keys = Object.keys(dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            let params = {}\r\n            list(dropdowns[dropdown_keys[key]], params).then(function (response) {\r\n                let data = response.data;\r\n                let selected = {};\r\n                for (let opt in data) {\r\n                    // special case for contacts\r\n                    if (dropdowns[dropdown_keys[key]] === 'contacts')\r\n                        data[opt].name = data[opt].first_name + ' ' + data[opt].last_name;\r\n                    else if (dropdowns[dropdown_keys[key]] === 'users')\r\n                        data[opt].name = data[opt].contact.first_name + ' ' + data[opt].contact.last_name;\r\n\r\n                    data[opt].label = data[opt].name;\r\n                    data[opt].value = data[opt].id;\r\n\r\n                    if (part_data[dropdown_keys[key]] != undefined && data[opt].id === part_data[dropdown_keys[key]].id)\r\n                        selected = data[opt]\r\n\r\n                    if (duplicating_dropdowns[dropdowns[dropdown_keys[key]]] != undefined) {\r\n                        for (let index in duplicating_dropdowns[dropdowns[dropdown_keys[key]]]) {\r\n                            let duplicated_el = duplicating_dropdowns[dropdowns[dropdown_keys[key]]][index];\r\n\r\n                            if (part_data[duplicated_el] != undefined && data[opt].id === part_data[duplicated_el].id) {\r\n                                this.setState({['selected_' + duplicated_el]: data[opt]});\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.setState({\r\n                    [dropdowns[dropdown_keys[key]]]: data,\r\n                    ['selected_' + dropdown_keys[key]]: selected,\r\n                    part: part_data\r\n                });\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    checkDataFormat() {\r\n        let part = this.state.part;\r\n        let related_data = ['user','condition', 'release', 'owner', 'seller', 'primary_contact', 'location'];\r\n        related_data.map((val, i) => {\r\n            if(this.state['selected_' + val])\r\n              part[val] = this.state['selected_' + val].value;\r\n        })\r\n        this.setState({part: part});\r\n    }\r\n\r\n    selectChange(value, key) {\r\n        let part = this.state.part;\r\n        part[key] = value && value.value ? value.value : '';\r\n        this.setState({['selected_' + key]: value ? value : '', part: part});\r\n    }\r\n\r\n    setTab(event, tab) {\r\n        document.getElementById('part-tabs-tab-' + tab).click();\r\n    }\r\n\r\n    renderExtraFields() {\r\n        //first render parts extrafields\r\n        let partsExtra = [];\r\n        PARTS_EXTRA_FIELDS.map((val, i) => {\r\n            if (this.state.part[val.value] instanceof Object && typeof this.state.part[val.value].id !== \"undefined\") {\r\n                partsExtra.push('' + val.value + '')\r\n            } else if (this.state.part[val.value] instanceof Object === false && this.state.part[val.value]) {\r\n                partsExtra.push('' + val.value + '')\r\n            }\r\n        })\r\n\r\n        this.setState({selectedExtraFieldsParts: partsExtra});\r\n        this.setState(state => {\r\n            const partsExtraFields = state.partsExtraFields.filter(item => !partsExtra.includes(item.value));\r\n            return {\r\n                partsExtraFields\r\n            };\r\n        });\r\n    }\r\n\r\n    selectMoreFields(event, key) {\r\n        let partsExtraFields = [...this.state.partsExtraFields];\r\n        partsExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({partsExtraFields: partsExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFieldsParts = [...state.selectedExtraFieldsParts, key];\r\n            return {\r\n                selectedExtraFieldsParts,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraField(event, key, label) {\r\n        let partState = this.state.part;\r\n        let partsExtraFields = [...this.state.partsExtraFields, {label: label, value: key}];\r\n        this.setState({partsExtraFields: partsExtraFields});\r\n        let selectedExtraFieldsParts = this.state.selectedExtraFieldsParts;\r\n        selectedExtraFieldsParts = selectedExtraFieldsParts.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFieldsParts: selectedExtraFieldsParts});\r\n        partState[key] = null;\r\n        this.setState({part: partState})\r\n        this.setState({['selected_' + key]: {value: ''}});\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            validated, part, selectedFile, selected_location, countries, selected_primary_contact,\r\n            contacts, selected_owner, companies, selected_seller, selected_user, users, conditions,\r\n            selected_condition, releases, selected_release, selected_unit_measure, modelsLoaded\r\n        } = this.state;\r\n        return (\r\n            <Form\r\n                noValidate\r\n                onSubmit={e => this.handleSubmit(e)}\r\n            >\r\n                <Form.Row>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Part Number</Form.Label>\r\n                        <Form.Control\r\n                            required\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            model=\"part\"\r\n                            name=\"part_number\"\r\n                            defaultValue={part ? part.part_number : ''}\r\n                            onChange={e => this.handleChange(e)}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Alternate Part Number</Form.Label>\r\n                        <Form.Control\r\n                            required\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            model=\"part\"\r\n                            name=\"alternate_part_number\"\r\n                            defaultValue={part ? part.alternate_part_number : ''}\r\n                            onChange={e => this.handleChange(e)}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Condition</Form.Label>\r\n                        <Select\r\n                            value={selected_condition.value?selected_condition:'select...'}\r\n                            model=\"condition\"\r\n                            name=\"name\"\r\n                            isClearable={true}\r\n                            escapeClearsValue={true}\r\n                            onChange={e => this.selectChange(e, 'condition')}\r\n                            options={conditions}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Quantity</Form.Label>\r\n                        <Form.Control\r\n                            required\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            model=\"part\"\r\n                            name=\"quantity\"\r\n                            defaultValue={part ? part.quantity : ''}\r\n                            onChange={e => this.handleChange(e)}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control required\r\n                                      type=\"text\"\r\n                                      placeholder=\"\"\r\n                                      model=\"part\"\r\n                                      name=\"description\"\r\n                                      defaultValue={part ? part.description : ''}\r\n                                      onChange={e => this.handleChange(e)}\r\n                        />\r\n                    </Form.Group>\r\n                </Form.Row>\r\n                <Form.Row>\r\n                    {this.state.selectedExtraFieldsParts.includes(\"primary_contact\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Release</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                        <Form.Label>Primary Contact</Form.Label>\r\n                        <AsyncPaginate\r\n                            value={selected_primary_contact.value?selected_primary_contact:'select...'}\r\n                            model=\"primary_contact\"\r\n                            name=\"name\"\r\n                            isClearable={true}\r\n                            escapeClearsValue={true}\r\n                            onChange={e => this.selectChange(e, 'primary_contact')}\r\n                            loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, contacts, modelsLoaded)}\r\n                        />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'primary_contact', 'Primary Contact')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                    {this.state.selectedExtraFieldsParts.includes(\"release\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Release</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <Select\r\n                                    value={selected_release.value?selected_release:'select...'}\r\n                                    model=\"release\"\r\n                                    name=\"name\"\r\n                                    isClearable={true}\r\n                                    escapeClearsValue={true}\r\n                                    onChange={e => this.selectChange(e, 'release')}\r\n                                    options={releases}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'release', 'Release')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                    {this.state.selectedExtraFieldsParts.includes(\"location\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Location</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <AsyncPaginate\r\n                                    value={selected_location.value?selected_location:'select...'}\r\n                                    model=\"location\"\r\n                                    name=\"name\"\r\n                                    isClearable={true}\r\n                                    escapeClearsValue={true}\r\n                                    onChange={e => this.selectChange(e, 'location')}\r\n                                    loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'location', 'Location')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                    {this.state.selectedExtraFieldsParts.includes(\"unit_measure\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Unit Measure</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <Select\r\n                                    value={selected_unit_measure.value?selected_unit_measure:'select...'}\r\n                                    model=\"part\"\r\n                                    name=\"unit_measure\"\r\n                                    isClearable={true}\r\n                                    escapeClearsValue={true}\r\n                                    onChange={e => this.selectChange(e, 'unit_measure')}\r\n                                    options={UNIT_MEASURES}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'unit_measure', 'Unit Measure')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                    {this.state.selectedExtraFieldsParts.includes(\"price\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Price</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <Form.Control\r\n                                    required\r\n                                    type=\"text\"\r\n                                    placeholder=\"USD\"\r\n                                    model=\"part\"\r\n                                    name=\"price\"\r\n                                    defaultValue={part ? part.price : ''}\r\n                                    onChange={e => this.handleChange(e)}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'price', 'Price')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                </Form.Row>\r\n                <Form.Row>\r\n                    {this.state.selectedExtraFieldsParts.includes(\"owner\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Owner</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <AsyncPaginate\r\n                                    value={selected_owner.value?selected_owner:'select...'}\r\n                                    model=\"owner\"\r\n                                    name=\"name\"\r\n                                    isClearable={true}\r\n                                    escapeClearsValue={true}\r\n                                    onChange={e => this.selectChange(e, 'owner')}\r\n                                    loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'owner', 'Owner')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                    {this.state.selectedExtraFieldsParts.includes(\"seller\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Seller</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <AsyncPaginate\r\n                                    value={selected_seller.value?selected_seller:'select...'}\r\n                                    model=\"seller\"\r\n                                    name=\"name\"\r\n                                    isClearable={true}\r\n                                    escapeClearsValue={true}\r\n                                    onChange={e => this.selectChange(e, 'seller')}\r\n                                    loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'seller', 'Seller')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                </Form.Row>\r\n                {this.state.partsExtraFields.length>0 && <Form.Group as={Row}>\r\n                    <Col sm=\"2\" lg=\"2\">\r\n                        <FormControl variant=\"outlined\" fullWidth={true}>\r\n                            <ThemeProvider theme={addMoreSelect}>\r\n                            <SelectCore\r\n                                native\r\n                                value=\"\"\r\n                                onChange={(e) => this.selectMoreFields(e, e.target.value)}\r\n                            >\r\n                                <option value=\"\" disabled>Add more fields</option>\r\n                                {this.state.partsExtraFields.map(item => (\r\n                                    <option value={item.value} data-label={item.label}>{item.label}</option>\r\n                                ))}\r\n                            </SelectCore>\r\n                            </ThemeProvider>\r\n                        </FormControl>\r\n                    </Col>\r\n                </Form.Group>}\r\n                <Button type=\"submit\" onClick={(e) => this.setState({action: 'save'})} className=\"btn btn-primary\">\r\n                    <i className=\"la la-edit\"/>\r\n                    Update\r\n                </Button>\r\n                &nbsp;&nbsp;\r\n                <Link to={\"/\" + USER_URL + \"/part/asset\"} className=\"btn btn-danger\">\r\n                    <i className=\"la la-remove\"/>\r\n                    Cancel\r\n                </Link>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nclass CreatePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let type = props.match.params.type;\r\n        this.state = {errors: {}, showError: false};\r\n        this.state.type = type;\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                console.log(error);\r\n                                return <li key={index + i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                        <CustomHead\r\n                            beforeCodeTitle={\"Part\"}\r\n                            jsCode={<div className=\"kt-portlet__head-toolbar\">\r\n                                <div className=\"kt-portlet__head-wrapper\">\r\n                                    <div className=\"kt-portlet__head-actions\">\r\n                                        <div className=\"dropdown dropdown-inline\">\r\n                                            <Link to={\"/\" + USER_URL + \"/part/asset\"}\r\n                                                  className=\"btn btn-clean btn-icon-sm\">\r\n                                                <i className=\"la la-long-arrow-left\"></i>\r\n                                                Back\r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            }>\r\n                            <div className=\"kt-section\">\r\n                                <Create data={this.props} sendError={this.sendError}/>\r\n                            </div>\r\n                        </CustomHead>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(CreatePage);\r\n","import React from \"react\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Form, Col, Row} from \"react-bootstrap\";\r\nimport {\r\n    FormControl, Select as SelectCore, IconButton, createMuiTheme,\r\n} from \"@material-ui/core\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {list, post, loadOptions, USER_URL, UNIT_MEASURES, PARTS_EXTRA_FIELDS} from \"../../../crud/api\";\r\nimport Select from 'react-select';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AsyncPaginate from \"react-select-async-paginate\";\r\nimport {ThemeProvider} from \"@material-ui/styles\";\r\n\r\nconst addMoreSelect = createMuiTheme({\r\n  overrides: {\r\n      MuiOutlinedInput:{\r\n          root: {\r\n            '&:hover': {\r\n              \"& $notchedOutline\":{\r\n                      borderColor: 'rgb(179, 179, 179)'\r\n                }\r\n            }\r\n          },\r\n          inputSelect: {\r\n              padding: \"13px\",\r\n              fontFamily: \"Poppins, Helvetica, sans-serif\",\r\n              color: \"#808080\"\r\n          }\r\n      }\r\n  },\r\n});\r\n\r\nclass Create extends React.Component {\r\n\r\n    constructor(props) {\r\n        console.log('p for props', props);\r\n        super(props);\r\n        this.state = {\r\n            validated: false,\r\n            part: {user:props.data.extra_data.user.id,primary_contact:props.data.extra_data.user.contact.id},\r\n            selectedFile: null,\r\n            countries: [],\r\n            contacts: [],\r\n            companies: [],\r\n            users: [],\r\n            conditions: [],\r\n            releases: [],\r\n            selected_primary_contact: {\r\n                id:props.data.extra_data.user.contact.id,\r\n                label:props.data.extra_data.user.contact.first_name+' '+props.data.extra_data.user.contact.last_name,\r\n                value:true\r\n            },\r\n            selected_owner: {value: ''},\r\n            selected_seller: {value: ''},\r\n            selected_user: {value: this.props.data.extra_data.user ? this.props.data.extra_data.user.id : null},\r\n            selected_release: {value: ''},\r\n            selected_unit_measure: {value: ''},\r\n            selected_condition: {value: ''},\r\n            partsExtraFields: PARTS_EXTRA_FIELDS,\r\n            selectedExtraFieldsParts: [],\r\n            modelsLoaded: false\r\n        };\r\n        //this.getDropdownsListing();\r\n        this.loadModels();\r\n    }\r\n\r\n    handleChange(event) {\r\n        var part = this.state.part;\r\n        var attr = event.target.name;\r\n        var val = event.target.value;\r\n        if (attr === 'is_active')\r\n            val = parseInt(val);\r\n\r\n        part[attr] = val;\r\n        this.setState({part: part})\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.setState({validated: true});\r\n        if (!this.state.selectedFile)\r\n            delete this.state.part.file;\r\n        post('parts', this.state.part).then(\r\n            (response) => {\r\n                this.setState({part: response.data});\r\n                this.props.data.history.push(this.state.action == 'save_new' ? this.clearForm(\"parts-form\") : \"/\" + USER_URL + \"/part/asset\");\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n\r\n    loadModels() {\r\n        let models = {\r\n            'AbUsers': {},\r\n            'AbContacts': {},\r\n            'AbConditions': {},\r\n            'AbReleases': {},\r\n            'AbCountries': {},\r\n            'AbCompanies': {},\r\n        }\r\n        post('abmodels', {models: models}).then(function (response) {\r\n            for (let opt in response.data) {\r\n\r\n                response.data[opt].map((row, i) => {\r\n                    if (opt === 'AbContacts' || opt === 'AbUsers')\r\n                        row.name = row.first_name + ' ' + row.last_name;\r\n\r\n                    if (opt === 'AbUsers')\r\n                        row.id = row.user_id;\r\n\r\n                    response.data[opt][i].label = row.name;\r\n                    response.data[opt][i].value = row.id;\r\n                })\r\n            }\r\n            this.setState({\r\n                users: response.data.AbUsers,\r\n                contacts: response.data.AbContacts,\r\n                conditions: response.data.AbConditions,\r\n                releases: response.data.AbReleases,\r\n                countries: response.data.AbCountries,\r\n                companies: response.data.AbCompanies,\r\n                modelsLoaded: true\r\n            })\r\n        }.bind(this))\r\n    }\r\n\r\n    getDropdownsListing() {\r\n        let dropdowns = {// when you have database dropdown like departments just put here\r\n            // dbcolumn: api_endpoint\r\n            primary_contact: 'contacts',\r\n            location: 'countries',\r\n            owner: 'companies',\r\n            user: 'users',\r\n            condition: 'conditions',\r\n            release: 'releases'\r\n        }\r\n\r\n        let duplicating_dropdowns = {\r\n            companies: ['seller'],\r\n        }\r\n\r\n        let dropdown_keys = Object.keys(dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            let params = {}\r\n            list(dropdowns[dropdown_keys[key]], params).then(function (response) {\r\n                let data = response.data;\r\n                let selected = {};\r\n                for (let opt in data) {\r\n                    // special case for contacts\r\n                    if (dropdowns[dropdown_keys[key]] === 'contacts')\r\n                        data[opt].name = data[opt].first_name + ' ' + data[opt].last_name;\r\n                    else if (dropdowns[dropdown_keys[key]] === 'users')\r\n                        data[opt].name = data[opt].contact.first_name + ' ' + data[opt].contact.last_name;\r\n\r\n                    data[opt].label = data[opt].name;\r\n                    data[opt].value = data[opt].id;\r\n\r\n                    if (this.state.part[dropdown_keys[key]] != undefined && data[opt].id === this.state.part[dropdown_keys[key]].id)\r\n                        selected = data[opt]\r\n\r\n                    if (duplicating_dropdowns[dropdowns[dropdown_keys[key]]] != undefined) {\r\n                        for (let index in duplicating_dropdowns[dropdowns[dropdown_keys[key]]]) {\r\n                            let duplicated_el = duplicating_dropdowns[dropdowns[dropdown_keys[key]]][index];\r\n                            if (this.state.part[duplicated_el] != undefined && data[opt].id === this.state.part[duplicated_el].id)\r\n                                this.setState({['selected_' + duplicated_el]: selected});\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({[dropdowns[dropdown_keys[key]]]: data, ['selected_' + dropdown_keys[key]]: selected});\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    selectChange(value, key) {\r\n        let part = this.state.part;\r\n        part[key] = value && value.value ? value.value : '';\r\n        this.setState({['selected_' + key]: value ? value : '', part: part});\r\n    }\r\n\r\n    setTab(event, tab) {\r\n        document.getElementById('part-tabs-tab-' + tab).click();\r\n    }\r\n\r\n    clearForm = (id) => {\r\n        this.props.data.history.replace(\"/\" + USER_URL + \"/part/asset\");\r\n        this.props.data.history.replace(\"/\" + USER_URL + \"/part/asset/create\");\r\n    }\r\n\r\n    selectMoreFields(event, key) {\r\n        let partsExtraFields = [...this.state.partsExtraFields];\r\n        partsExtraFields.splice(event.target.selectedIndex - 1, 1);\r\n        this.setState({partsExtraFields: partsExtraFields});\r\n        this.setState(state => {\r\n            const selectedExtraFieldsParts = [...state.selectedExtraFieldsParts, key];\r\n            return {\r\n                selectedExtraFieldsParts,\r\n            };\r\n        });\r\n    }\r\n\r\n    removeExtraField(event, key, label) {\r\n        let partsExtraFields = [...this.state.partsExtraFields, {label: label, value: key}];\r\n        this.setState({partsExtraFields: partsExtraFields});\r\n        let selectedExtraFieldsParts = this.state.selectedExtraFieldsParts;\r\n        selectedExtraFieldsParts = selectedExtraFieldsParts.filter((val, i) => {\r\n            return key !== val;\r\n        })\r\n        this.setState({selectedExtraFieldsParts: selectedExtraFieldsParts});\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            validated, part, selectedFile, selected_location, countries, selected_primary_contact,\r\n            contacts, selected_owner, companies, selected_seller, selected_user, users, conditions,\r\n            selected_condition, releases, selected_release, selected_unit_measure, modelsLoaded\r\n        } = this.state;\r\n        return (\r\n            <Form\r\n                noValidate\r\n                id=\"parts-form\"\r\n                onSubmit={e => this.handleSubmit(e)}\r\n            >\r\n                <Form.Row>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Part Number</Form.Label>\r\n                        <Form.Control\r\n                            required\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            model=\"part\"\r\n                            name=\"part_number\"\r\n                            defaultValue={part ? part.part_number : ''}\r\n                            onChange={e => this.handleChange(e)}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Alternate Part Number</Form.Label>\r\n                        <Form.Control\r\n                            required\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            model=\"part\"\r\n                            name=\"alternate_part_number\"\r\n                            defaultValue={part ? part.alternate_part_number : ''}\r\n                            onChange={e => this.handleChange(e)}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Condition</Form.Label>\r\n                        <Select\r\n                            value={selected_condition.value?selected_condition:'select...'}\r\n                            model=\"condition\"\r\n                            name=\"name\"\r\n                            isClearable={true}\r\n                            escapeClearsValue={true}\r\n                            onChange={e => this.selectChange(e, 'condition')}\r\n                            options={conditions}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Quantity</Form.Label>\r\n                        <Form.Control\r\n                            required\r\n                            type=\"number\"\r\n                            placeholder=\"\"\r\n                            model=\"part\"\r\n                            name=\"quantity\"\r\n                            defaultValue={part ? part.quantity : ''}\r\n                            onChange={e => this.handleChange(e)}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control\r\n                          required\r\n                          type=\"text\"\r\n                          placeholder=\"\"\r\n                          model=\"part\"\r\n                          name=\"description\"\r\n                          defaultValue={part ? part.description : ''}\r\n                          onChange={e => this.handleChange(e)}\r\n                        />\r\n                    </Form.Group>\r\n                </Form.Row>\r\n                <Form.Row>\r\n                    {this.state.selectedExtraFieldsParts.includes(\"primary_contact\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label>Primary Contact</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <AsyncPaginate\r\n                                    value={selected_primary_contact.value?selected_primary_contact:'select...'}\r\n                                    model=\"primary_contact\"\r\n                                    name=\"name\"\r\n                                    isClearable={true}\r\n                                    escapeClearsValue={true}\r\n                                    onChange={e => this.selectChange(e, 'primary_contact')}\r\n                                    loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, contacts, modelsLoaded)}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                        onClick={(e) => this.removeExtraField(e, 'primary_contact', 'Primary Contact')}>\r\n                                <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                    {this.state.selectedExtraFieldsParts.includes(\"release\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Release</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <Select\r\n                                    value={selected_release.value?selected_release:'select...'}\r\n                                    model=\"release\"\r\n                                    name=\"name\"\r\n                                    isClearable={true}\r\n                                    escapeClearsValue={true}\r\n                                    onChange={e => this.selectChange(e, 'release')}\r\n                                    options={releases}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'release', 'Release')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                    {this.state.selectedExtraFieldsParts.includes(\"location\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Location</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <AsyncPaginate\r\n                                    value={selected_location?selected_location:'select...'}\r\n                                    model=\"location\"\r\n                                    name=\"name\"\r\n                                    isClearable={true}\r\n                                    escapeClearsValue={true}\r\n                                    onChange={e => this.selectChange(e, 'location')}\r\n                                    loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'location', 'Location')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                    {this.state.selectedExtraFieldsParts.includes(\"unit_measure\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Unit Measure</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <Select\r\n                                    value={selected_unit_measure.value?selected_unit_measure:'select...'}\r\n                                    model=\"part\"\r\n                                    name=\"unit_measure\"\r\n                                    isClearable={true}\r\n                                    escapeClearsValue={true}\r\n                                    onChange={e => this.selectChange(e, 'unit_measure')}\r\n                                    options={UNIT_MEASURES}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'unit_measure', 'Unit Measure')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                    {this.state.selectedExtraFieldsParts.includes(\"price\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Price</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <Form.Control\r\n                                    required\r\n                                    type=\"text\"\r\n                                    placeholder=\"USD\"\r\n                                    model=\"part\"\r\n                                    name=\"price\"\r\n                                    defaultValue={part ? part.price : ''}\r\n                                    onChange={e => this.handleChange(e)}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'price', 'Price')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                </Form.Row>\r\n                <Form.Row>\r\n                    {this.state.selectedExtraFieldsParts.includes(\"owner\") &&\r\n                    <Col sm=\"6\">\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm=\"2\" className=\"text-left\">Owner</Form.Label>\r\n                            <Col sm=\"9\" lg=\"8\">\r\n                                <AsyncPaginate\r\n                                    value={selected_owner.value?selected_owner:'select...'}\r\n                                    model=\"owner\"\r\n                                    name=\"name\"\r\n                                    isClearable={true}\r\n                                    escapeClearsValue={true}\r\n                                    onChange={e => this.selectChange(e, 'owner')}\r\n                                    loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'owner', 'Owner')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                    {this.state.selectedExtraFieldsParts.includes(\"seller\") &&\r\n                    <Col sm=\"6\">\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column sm=\"2\" className=\"text-left\">Seller</Form.Label>\r\n                        <Col sm=\"9\" lg=\"8\">\r\n                                <AsyncPaginate\r\n                                    value={selected_seller.value?selected_seller:'select...'}\r\n                                    model=\"seller\"\r\n                                    name=\"name\"\r\n                                    isClearable={true}\r\n                                    escapeClearsValue={true}\r\n                                    onChange={e => this.selectChange(e, 'seller')}\r\n                                    loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, companies, modelsLoaded)}\r\n                                />\r\n                            </Col>\r\n                            <Col sm=\"2\">\r\n                                <IconButton aria-label=\"delete\"\r\n                                            onClick={(e) => this.removeExtraField(e, 'seller', 'Seller')}>\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    }\r\n                </Form.Row>\r\n                {this.state.partsExtraFields.length>0 && <Form.Group as={Row}>\r\n                    <Col sm=\"2\" lg=\"2\">\r\n                        <FormControl variant=\"outlined\" fullWidth={true}>\r\n                            <ThemeProvider theme={addMoreSelect}>\r\n                            <SelectCore\r\n                                native\r\n                                value=\"\"\r\n                                onChange={(e) => this.selectMoreFields(e, e.target.value)}\r\n                            >\r\n                                <option value=\"\" disabled>Add more details</option>\r\n                                {this.state.partsExtraFields.map(item => (\r\n                                    <option value={item.value} data-label={item.label}>{item.label}</option>\r\n                                ))}\r\n                            </SelectCore>\r\n                            </ThemeProvider>\r\n                        </FormControl>\r\n                    </Col>\r\n                </Form.Group>}\r\n                <Button type=\"submit\" onClick={(e) => this.setState({action: 'save'})} className=\"btn btn-primary\">\r\n                    <i className=\"la la-save\"/>\r\n                    Save & Close\r\n                </Button>\r\n                &nbsp;&nbsp;\r\n\r\n                <Button type=\"submit\" onClick={(e) => this.setState({action: 'save_new'})} className=\"btn btn-success\">\r\n                    <i className=\"la la-save\"/>\r\n                    Save & New\r\n                </Button>\r\n                &nbsp;&nbsp;\r\n\r\n                <Link to={\"/\" + USER_URL + \"/part/asset\"} className=\"btn btn-danger\">\r\n                    <i className=\"la la-remove\"/>\r\n                    Cancel\r\n                </Link>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nclass CreatePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let type = props.match.params.type;\r\n        this.state = {errors: {}, showError: false};\r\n        this.state.type = type;\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                console.log(error);\r\n                                return <li key={index + i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                        <CustomHead\r\n                            beforeCodeTitle={\"Part\"}\r\n                            jsCode={<div className=\"kt-portlet__head-toolbar\">\r\n                                <div className=\"kt-portlet__head-wrapper\">\r\n                                    <div className=\"kt-portlet__head-actions\">\r\n                                        <div className=\"dropdown dropdown-inline\">\r\n                                            <Link to={\"/\" + USER_URL + \"/part/asset\"}\r\n                                                  className=\"btn btn-clean btn-icon-sm\">\r\n                                                <i className=\"la la-long-arrow-left\"></i>\r\n                                                Back\r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            }>\r\n                            <div className=\"kt-section\">\r\n                                <Create data={this.props} sendError={this.sendError}/>\r\n                            </div>\r\n                        </CustomHead>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(CreatePage);\r\n","import React from \"react\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Modal, Form, Col} from \"react-bootstrap\";\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport {list, patch, MEDIA_URL, USER_URL} from \"../../../crud/api\";\r\nimport {Paper, Grid} from \"@material-ui/core\";\r\nimport EasyEdit from 'react-easy-edit';\r\nimport Notice from \"../../../partials/content/Notice\";\r\n\r\n\r\nclass Detail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { part_id, type } = this.props.data.match.params\r\n    const divStyle = {\r\n      padding : '15px'\r\n    };\r\n    this.txt_weight = {fontWeight:500}\r\n    this.handleModalShow = this.handleModalShow.bind(this);\r\n    this.handleModalClose = this.handleModalClose.bind(this);\r\n    this.confirm = this.confirm.bind(this);\r\n    this.state = {\r\n      type : type,\r\n      part:{},\r\n      action:'',\r\n      showModal: false,\r\n      created_at: '',\r\n      updated_at: '',\r\n      is_published: ''\r\n\r\n    };\r\n    this.getPart(part_id);\r\n    this.divStyle = divStyle;\r\n  }\r\n\r\n  getPart(part_id) {\r\n    list('parts/'+part_id+'/').then(\r\n      (response) => {\r\n          delete response.data.type;\r\n          this.setState({\r\n              created_at : new Intl.DateTimeFormat().format(new Date(response.data.created_at)),\r\n              updated_at : new Intl.DateTimeFormat().format(new Date(response.data.updated_at)),\r\n          });\r\n          this.props.setPartTitle(response.data.title, part_id);\r\n          this.setState({part : response.data})\r\n    });\r\n  }\r\n\r\n  handleChange(val, attr) {\r\n    var part = this.state.part;\r\n\r\n    part[attr] = val;\r\n    this.setState({part : part})\r\n    patch('parts/'+this.state.part.id+'/', this.state.part).then(\r\n      (response) => {\r\n        this.setState({part : response.data});\r\n    }).catch(error => {\r\n        this.props.sendError(error.response.data);\r\n    });\r\n  }\r\n\r\n  handleModalShow(event, action) {\r\n    var val = event.target.value;\r\n    if (action === 'status'){\r\n      val = parseInt(val);\r\n      this.setState({is_published : val === 1 ? 0:1})\r\n    }\r\n    this.setState({action: action});\r\n    this.setState({ showModal: true });\r\n  }\r\n\r\n  handleModalClose() {\r\n   this.setState({ showModal: false });\r\n  }\r\n\r\n  confirm() {\r\n    if(this.state.action === 'status') {\r\n      this.state.part.is_published = this.state.is_published;\r\n      patch('parts/'+this.state.part.id+'/', {is_published: this.state.is_published}).then(\r\n        (response) => {\r\n          delete response.data.type;\r\n          this.setState({part : response.data});\r\n          this.setState({showModal : false});\r\n      }).catch(error => {\r\n          this.props.sendError(error.response.data);\r\n          this.setState({showModal : false});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { validated, part } = this.state;\r\n    const username = part.user ? (part.user.contact ? part.user.contact.first_name + ' ' + part.user.contact.last_name : part.user.email) : '';\r\n    return (\r\n        <div>\r\n          <Grid container spacing={3}>\r\n                <Grid item xs={12} md={9}>\r\n                  <div className=\"kt_section__detail\">\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">User</div>\r\n                                    <div>{part.user ? <Link target=\"_blank\"\r\n                                                            to={\"/contact/\" + part.user.id + \"/\"}>{username}</Link> : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Part Number</div>\r\n                                    <div>{part.part_number ? part.part_number : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Alternate Part Number</div>\r\n                                    <div>{part.alternate_part_number ? part.alternate_part_number : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Condition</div>\r\n                                    <div>{part.condition ? part.condition.name : ''}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Release</div>\r\n                                    <div>{part.release ? part.release.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Quantity</div>\r\n                                    <div>{part.quantity ? part.quantity : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Primary Contact</div>\r\n                                    <div>{part.primary_contact ? part.primary_contact.first_name + \" \" + part.primary_contact.last_name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Location</div>\r\n                                    <div>{part.location ? part.location.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Unit Measure</div>\r\n                                    <div>{part.unit_measure ? part.unit_measure : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Price</div>\r\n                                    <div>{part.price ? part.price : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Owner</div>\r\n                                    <div>{part.owner ? part.owner.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Seller</div>\r\n                                    <div>{part.seller ? part.seller.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Published Status</div>\r\n                                    <div>{part.is_published ? 'Yes' : 'No'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Date Created</div>\r\n                                    <div>{this.state.created_at ? this.state.created_at : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Date Modified</div>\r\n                                    <div>{this.state.updated_at ? this.state.updated_at : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n              </Grid>\r\n          </Grid>\r\n\r\n          <Modal show={this.state.showModal} onHide={this.handleModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Confirm</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n              <Button variant=\"danger\" onClick={this.confirm}>\r\n                Yes\r\n              </Button>\r\n              <Button variant=\"success\" onClick={this.handleModalClose}>\r\n                No\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass DetailPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let type = props.match.params.type;\r\n    this.state = {errors:{}, showError:false};\r\n    this.state.type = type;\r\n    this.sendError = this.sendError.bind(this);\r\n  }\r\n\r\n  sendError(error) {\r\n    if(Object.keys(error).length)\r\n      this.setState({showError:true});\r\n\r\n    this.setState({errors:error});\r\n  }\r\n    setPartTitle = (title, id) => {\r\n        let partName = title.toLowerCase();\r\n        if(partName.includes('-yom-')){\r\n            partName = partName.split('-yom-')[0].replace(/-/g,' ')\r\n        }else{\r\n            partName = partName.replace(/-/g,' ')\r\n        }\r\n        this.setState({part_title:partName, part_url: id+'-'+title.toLowerCase()});\r\n      }\r\n  render() {\r\n    return (\r\n      <>\r\n      <Notice icon=\"flaticon-warning kt-font-primary\" style={{display: this.state.showError ? 'flex' : 'none' }}>\r\n        {\r\n          Object.keys(this.state.errors).map((key, index) => {\r\n            return this.state.errors[key].map((error, i) => {\r\n              console.log(error);\r\n              return <li key={index+i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n            });\r\n          })\r\n        }\r\n        </Notice>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <CustomHead\r\n              beforeCodeTitle={<h3 class=\"kt-portlet__head-title\" style={{textTransform: 'capitalize'}}>\r\n              <a target=\"_blank\" href={\"/part/\"+this.state.part_url}>{this.state.part_title}</a>\r\n              </h3>}\r\n              jsCode =   {<div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                  <div className=\"dropdown dropdown-inline\">\r\n                  <Link to={\"/\"+USER_URL+\"/part/asset\"} className=\"btn btn-clean btn-icon-sm\">\r\n                        <i className=\"la la-long-arrow-left\"></i>\r\n                        Back\r\n                      </Link>\r\n                    <Link\r\n                                                to={\"/\"+USER_URL+\"/part/asset/\" + this.props.match.params.part_id + \"/edit\"}\r\n                                                className=\"btn btn-primary\">\r\n                                                <i className=\"la la-edit\"/>\r\n                                                Edit\r\n                                            </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> }\r\n            >\r\n              <div className=\"kt-section\">\r\n                <Detail data={this.props} setPartTitle={(title, id)=> this.setPartTitle(title, id)} sendError={this.sendError} />\r\n              </div>\r\n            </CustomHead>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(DetailPage);","import React from \"react\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Form, Col} from \"react-bootstrap\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {list, post, loadOptions, ASSETS, AIRCRAFT_TERMS, ENGINE_TERMS, PART_TERMS, USER_URL} from \"../../../crud/api\";\r\nimport Select from 'react-select';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {MuiPickersUtilsProvider, DatePicker} from \"@material-ui/pickers\";\r\nimport {createMuiTheme} from \"@material-ui/core\";\r\nimport {ThemeProvider} from \"@material-ui/styles\";\r\nimport moment from \"moment\";\r\nimport AsyncPaginate from \"react-select-async-paginate\";\r\n\r\nconst defaultMaterialTheme = createMuiTheme({\r\n    props: {\r\n        MuiInput: {\r\n            disableUnderline: true,\r\n        },\r\n        MuiTextField: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n        },\r\n        MuiInputBase: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n            disableUnderline: true,\r\n            inputProps: {\r\n                style: {\r\n                    display: \"block\",\r\n                    height: \"calc(1.5em + 1.3rem + 2px)\",\r\n                    padding: \"0.65rem 1rem\",\r\n                    fontSize: \"1rem\",\r\n                    fontWeight: \"400\",\r\n                    lineHeight: \"1.5\",\r\n                    color: \"#495057\",\r\n                    backgroundColor: \"#fff\",\r\n                    backgroundClip: \"padding-box\",\r\n                    border: \"1px solid #e2e5ec\",\r\n                    borderRadius: \"4px\",\r\n                    transition: \"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n                    boxSizing: \"border-box\",\r\n                }\r\n            }\r\n        },\r\n    },\r\n});\r\n\r\nclass Create extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            validated: false,\r\n            wanted: {\r\n                yom: new Date(),\r\n                user:props.data.extra_data.user.id,\r\n                primary_contact:props.data.extra_data.user.contact.id\r\n            },\r\n            selectedFile: null,\r\n            manufacturer: [],\r\n            countries: [],\r\n            type_0: [],\r\n            contacts: [],\r\n            model: [],\r\n            selected_primary_contact: {\r\n                id:props.data.extra_data.user.contact.id,\r\n                label:props.data.extra_data.user.contact.first_name+' '+props.data.extra_data.user.contact.last_name,\r\n                value:true\r\n            },\r\n            selected_type: {value: ''},\r\n            selected_type_0: {value: ''},\r\n            selected_manufacturer: {value: ''},\r\n            selected_country: {value: ''},\r\n            selected_model: {value: ''},\r\n            selected_terms: {value: ''},\r\n            yom: new Date(),\r\n            modelsLoaded: false\r\n        };\r\n        // this.getDropdownsListing();\r\n        this.loadModels();\r\n    }\r\n\r\n    handleChange(event, type) {\r\n        var wanted = this.state.wanted;\r\n        if (type !== 'date' && type !== 'yom') {\r\n            var attr = event.target.name;\r\n            var val = event.target.value;\r\n        } else if (type == 'yom') {\r\n            var attr = type;\r\n            var val = moment(event).format(\"YYYY\");\r\n            this.setState({yom: event})\r\n        } else {\r\n            var attr = type;\r\n            var val = moment(event).format(\"YYYY-MM-DD\");\r\n            this.setState({date: event})\r\n        }\r\n        if (attr === 'is_active')\r\n            val = parseInt(val);\r\n        wanted[attr] = val;\r\n        this.setState({wanted: wanted})\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.setState({validated: true});\r\n        if (!this.state.selectedFile)\r\n            delete this.state.wanted.file;\r\n        post('wanteds', this.state.wanted).then(\r\n            (response) => {\r\n                this.setState({wanted: response.data});\r\n                this.props.data.history.push(this.state.action == 'save_new' ? this.clearForm(\"wanted-form\") : \"/\" + USER_URL + \"/wanted/asset\");\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n\r\n    loadModels() {\r\n        let models = {\r\n            'AbUsers': {},\r\n            'AbContacts': {},\r\n            'AbCountries': {},\r\n        }\r\n        post('abmodels', {models: models}).then(function (response) {\r\n            for (let opt in response.data) {\r\n\r\n                response.data[opt].map((row, i) => {\r\n                    if (opt === 'AbContacts' || opt === 'AbUsers')\r\n                        row.name = row.first_name + ' ' + row.last_name;\r\n\r\n                    if (opt === 'AbUsers')\r\n                        row.id = row.user_id;\r\n\r\n                    response.data[opt][i].label = row.name;\r\n                    response.data[opt][i].value = row.id;\r\n                })\r\n            }\r\n            this.setState({\r\n                users: response.data.AbUsers,\r\n                contacts: response.data.AbContacts,\r\n                countries: response.data.AbCountries,\r\n                modelsLoaded: true\r\n            })\r\n        }.bind(this))\r\n    }\r\n\r\n    getDropdownsListing() {\r\n        let dropdowns = {// when you have database dropdown like dewantedments just put here\r\n            // dbcolumn: api_endpoint\r\n            primary_contact: 'contacts',\r\n            country: 'countries',\r\n            user: 'users',\r\n            manufacturer: 'manufacturer',\r\n            // type_0:'type',\r\n            model: 'model',\r\n        }\r\n\r\n        let duplicating_dropdowns = {}\r\n\r\n        let dropdown_keys = Object.keys(dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            let params = {records:'all'}\r\n            list(dropdowns[dropdown_keys[key]], params).then(function (response) {\r\n                let data = response.data;\r\n                let selected = {};\r\n                for (let opt in data) {\r\n                    // special case for contacts\r\n                    if (dropdowns[dropdown_keys[key]] === 'contacts')\r\n                        data[opt].name = data[opt].first_name + ' ' + data[opt].last_name;\r\n                    else if (dropdowns[dropdown_keys[key]] === 'users')\r\n                        data[opt].name = data[opt].contact.first_name + ' ' + data[opt].contact.last_name;\r\n\r\n                    data[opt].label = data[opt].name;\r\n                    data[opt].value = data[opt].id;\r\n\r\n                    if (this.state.wanted[dropdown_keys[key]] != undefined && data[opt].id === this.state.wanted[dropdown_keys[key]].id)\r\n                        selected = data[opt]\r\n\r\n                    if (duplicating_dropdowns[dropdowns[dropdown_keys[key]]] != undefined) {\r\n                        for (let index in duplicating_dropdowns[dropdowns[dropdown_keys[key]]]) {\r\n                            let duplicated_el = duplicating_dropdowns[dropdowns[dropdown_keys[key]]][index];\r\n                            if (this.state.wanted[duplicated_el] != undefined && data[opt].id === this.state.wanted[duplicated_el].id)\r\n                                this.setState({['selected_' + duplicated_el]: selected});\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({[dropdowns[dropdown_keys[key]]]: data, ['selected_' + dropdown_keys[key]]: selected});\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    selectChange(value, key) {\r\n        let wanted = this.state.wanted;\r\n        wanted[key] = value && value.value ? value.value : '';\r\n        this.setState({['selected_' + key]: value ? value : '', wanted: wanted});\r\n\r\n        let type = value ? value : '';\r\n        if (key !== 'type')\r\n            type = this.state.selected_type;\r\n\r\n\r\n        if (['manufacturer', 'type', 'type_0'].indexOf(key) > -1 && type !== '' && value) {\r\n            if (['aircraft', 'engine', 'apu'].indexOf(type.value) > -1) {\r\n                let endpoint = '', params = {records:'all'}, key_to_update = '';\r\n                if (key === 'manufacturer') {\r\n                    endpoint = 'type';\r\n                    params = {...params, ...{is_active: 1, manufacturer_id: value.id, type: type.value}}\r\n                    key_to_update = 'type_0';\r\n                } else if (key === 'type_0') {\r\n                    endpoint = 'model';\r\n                    params = {...params, ...{is_active: 1, type_0: value.id, type: type.value}}\r\n                    key_to_update = 'model';\r\n                } else if (key === 'type') {\r\n                    endpoint = 'manufacturer';\r\n                    params = {...params, ...{is_active: 1, type: type.value}}\r\n                    key_to_update = 'manufacturer';\r\n                }\r\n\r\n                list(endpoint, params).then(function (response) {\r\n                    let data = response.data;\r\n                    let selected = {};\r\n                    for (let opt in data) {\r\n                        if (this.state.wanted[key_to_update] != undefined && data[opt].id === this.state.wanted[key_to_update].id) {\r\n                            selected['label'] = data[opt].name;\r\n                            selected['value'] = data[opt].id;\r\n                        }\r\n                        data[opt].label = data[opt].name;\r\n                        data[opt].value = data[opt].id;\r\n                    }\r\n                    this.setState({[key_to_update]: data, ['selected_' + key_to_update]: selected});\r\n\r\n                }.bind(this));\r\n            }\r\n        }\r\n    }\r\n\r\n    clearForm = (id) => {\r\n        this.props.data.history.replace(\"/\" + USER_URL + \"/wanted/asset\");\r\n        this.props.data.history.replace(\"/\" + USER_URL + \"/wanted/asset/create\");\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            date, wanted, selectedFile, selected_manufacturer, manufacturer,\r\n            selected_country, countries, selected_type, type_0, selected_type_0,\r\n            selected_primary_contact, contacts, model, selected_model,\r\n            selected_terms, yom, modelsLoaded\r\n        } = this.state;\r\n        return (\r\n            <Form\r\n                noValidate\r\n                id=\"wanted-form\"\r\n                onSubmit={e => this.handleSubmit(e)}\r\n            >\r\n                <Form.Row>\r\n                    <Form.Group as={Col} md=\"12\" xs=\"12\">\r\n                        <Form.Label>Wanted Asset</Form.Label>\r\n                        <Select\r\n                            value={selected_type.value?selected_type:'select...'}\r\n                            model=\"type\"\r\n                            name=\"name\"\r\n                            isClearable={true}\r\n                            escapeClearsValue={true}\r\n                            onChange={e => this.selectChange(e, 'type')}\r\n                            options={ASSETS}\r\n                        />\r\n                    </Form.Group>\r\n                    {selected_type.value !== 'parts' && selected_type.value !== '' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>{selected_type.label} Manfacturer</Form.Label>\r\n                            <Select\r\n                                value={selected_manufacturer.value?selected_manufacturer:'select...'}\r\n                                model=\"manufacturer\"\r\n                                name=\"name\"\r\n                                isClearable={true}\r\n                                escapeClearsValue={true}\r\n                                onChange={e => this.selectChange(e, 'manufacturer')}\r\n                                options={manufacturer}\r\n                            />\r\n                        </Form.Group> : ''}\r\n                    {selected_type.value !== 'parts' && selected_type.value !== '' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>{selected_type.label} Type</Form.Label>\r\n                            <Select\r\n                                value={selected_type_0.value?selected_type_0:'select...'}\r\n                                model=\"type_0\"\r\n                                name=\"name\"\r\n                                isClearable={true}\r\n                                escapeClearsValue={true}\r\n                                onChange={e => this.selectChange(e, 'type_0')}\r\n                                options={type_0}\r\n                            />\r\n                        </Form.Group> : ''}\r\n                    {selected_type.value !== 'parts' && selected_type.value !== '' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>{selected_type.label} Model</Form.Label>\r\n                            <Select\r\n                                value={selected_model.value?selected_model:'select...'}\r\n                                model=\"model\"\r\n                                name=\"name\"\r\n                                isClearable={true}\r\n                                escapeClearsValue={true}\r\n                                onChange={e => this.selectChange(e, 'model')}\r\n                                options={model}\r\n                            />\r\n                        </Form.Group> : ''}\r\n                    {selected_type.value === 'aircraft' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>YOM</Form.Label>\r\n                            <ThemeProvider theme={defaultMaterialTheme}>\r\n                                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                        <DatePicker\r\n                                            views={[\"year\"]}\r\n                                            minDate={new Date('1980')}\r\n                                            name=\"yom\"\r\n                                            value={yom}\r\n                                            onChange={e => this.handleChange(e, 'yom')}\r\n                                        />\r\n                                </MuiPickersUtilsProvider>\r\n                            </ThemeProvider>\r\n                        </Form.Group>\r\n                        : ''\r\n                    }\r\n                    {selected_type.value === 'parts' || selected_type.value === 'apu' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>Part Number</Form.Label>\r\n                            <Form.Control\r\n                                required\r\n                                type=\"text\"\r\n                                placeholder=\"\"\r\n                                model=\"wanted\"\r\n                                name=\"part_number\"\r\n                                defaultValue={wanted ? wanted.part_number : ''}\r\n                                onChange={e => this.handleChange(e)}\r\n                            />\r\n                        </Form.Group> : ''}\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Primary Contact</Form.Label>\r\n                        <AsyncPaginate\r\n                            model=\"primary_contact\"\r\n                            isClearable={true}\r\n                            escapeClearsValue={true}\r\n                            value={selected_primary_contact.value?selected_primary_contact:'select...'}\r\n                            name=\"name\"\r\n                            loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, contacts, modelsLoaded)}\r\n                            onChange={e => this.selectChange(e, 'primary_contact')}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Location</Form.Label>\r\n                        <AsyncPaginate\r\n                            model=\"country\"\r\n                            isClearable={true}\r\n                            escapeClearsValue={true}\r\n                            value={selected_country.value?selected_country:'select...'}\r\n                            name=\"name\"\r\n                            loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                            onChange={e => this.selectChange(e, 'country')}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Wanted By</Form.Label>\r\n                        <ThemeProvider theme={defaultMaterialTheme}>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                <DatePicker\r\n                                    minDate={new Date()}\r\n                                    value={date}\r\n                                    format=\"dd/MM/yyyy\"\r\n                                    onChange={e => this.handleChange(e, 'date')}\r\n                                    animateYearScrolling\r\n                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </ThemeProvider>\r\n                    </Form.Group>\r\n                    {selected_type.value !== '' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>Wanted Terms*</Form.Label>\r\n                            <Select\r\n                                required\r\n                                value={selected_terms.value?selected_terms:'select...'}\r\n                                model=\"terms\"\r\n                                name=\"name\"\r\n                                isClearable={true}\r\n                                escapeClearsValue={true}\r\n                                onChange={e => this.selectChange(e, 'terms')}\r\n                                options={selected_type.value === 'aircraft' ? AIRCRAFT_TERMS : (selected_type.value === 'parts' ? PART_TERMS : (selected_type.value === 'engine' || selected_type.value === 'apu' ? ENGINE_TERMS : []))}\r\n                            />\r\n                        </Form.Group> : ''}\r\n                    <Form.Group as={Col} xs=\"12\">\r\n                        <Form.Label>Comments</Form.Label>\r\n                        <Form.Control as=\"textarea\" rows=\"5\"\r\n                                      required\r\n                                      type=\"text\"\r\n                                      placeholder=\"\"\r\n                                      model=\"wanted\"\r\n                                      name=\"comments\"\r\n                                      defaultValue={wanted ? wanted.comments : ''}\r\n                                      onChange={e => this.handleChange(e)}\r\n                        />\r\n                    </Form.Group>\r\n                </Form.Row>\r\n                <Button type=\"submit\" onClick={(e) => this.setState({action: 'save'})} className=\"btn btn-primary\">\r\n                    <i className=\"la la-save\"/>\r\n                    Save & Close\r\n                </Button>\r\n                &nbsp;&nbsp;\r\n\r\n                <Button type=\"submit\" onClick={(e) => this.setState({action: 'save_new'})} className=\"btn btn-success\">\r\n                    <i className=\"la la-save\"/>\r\n                    Save & New\r\n                </Button>\r\n                &nbsp;&nbsp;\r\n\r\n                <Link to={\"/\" + USER_URL + \"/wanted/asset\"} className=\"btn btn-danger\">\r\n                    <i className=\"la la-remove\"/>\r\n                    Cancel\r\n                </Link>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nclass CreatePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let type = props.match.params.type;\r\n        this.state = {errors: {}, showError: false};\r\n        this.state.type = type;\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                return <li key={index + i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                        <CustomHead\r\n                            beforeCodeTitle={\"Wanted\"}\r\n                            jsCode={<div className=\"kt-portlet__head-toolbar\">\r\n                                <div className=\"kt-portlet__head-wrapper\">\r\n                                    <div className=\"kt-portlet__head-actions\">\r\n                                        <div className=\"dropdown dropdown-inline\">\r\n                                            <Link to={\"/\" + USER_URL + \"/wanted/asset\"}\r\n                                                  className=\"btn btn-clean btn-icon-sm\">\r\n                                                <i className=\"la la-long-arrow-left\"></i>\r\n                                                Back\r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            }>\r\n                            <div className=\"kt-section\">\r\n                                <Create data={this.props} sendError={this.sendError}/>\r\n                            </div>\r\n                        </CustomHead>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(CreatePage);\r\n","import React from \"react\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Modal, Form, Col} from \"react-bootstrap\";\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport {list, patch, MEDIA_URL, USER_URL} from \"../../../crud/api\";\r\nimport {Paper, Grid} from \"@material-ui/core\";\r\nimport EasyEdit from 'react-easy-edit';\r\nimport Notice from \"../../../partials/content/Notice\";\r\n\r\n\r\nclass Detail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { wanted_id, type } = this.props.data.match.params\r\n    const divStyle = {\r\n      padding : '15px'\r\n    };\r\n    this.txt_weight = {fontWeight:500}\r\n    this.handleModalShow = this.handleModalShow.bind(this);\r\n    this.handleModalClose = this.handleModalClose.bind(this);\r\n    this.confirm = this.confirm.bind(this);\r\n    this.state = {\r\n      type : type,\r\n      wanted:{},\r\n      action:'',\r\n      showModal: false,\r\n      created_at: '',\r\n      updated_at: '',\r\n      is_published: ''\r\n\r\n    };\r\n    this.getWanted(wanted_id);\r\n    this.divStyle = divStyle;\r\n  }\r\n\r\n  getWanted(wanted_id) {\r\n    list('wanteds/'+wanted_id+'/').then(\r\n      (response) => {\r\n          delete response.data.type;\r\n          this.setState({\r\n              created_at : new Intl.DateTimeFormat().format(new Date(response.data.created_at)),\r\n              updated_at : new Intl.DateTimeFormat().format(new Date(response.data.updated_at)),\r\n          });\r\n          this.props.setWantedTitle(response.data.title, wanted_id);\r\n          this.setState({wanted : response.data})\r\n    });\r\n  }\r\n\r\n  handleChange(val, attr) {\r\n    var wanted = this.state.wanted;\r\n\r\n    wanted[attr] = val;\r\n    this.setState({wanted : wanted})\r\n    patch('wanteds/'+this.state.wanted.id+'/', this.state.wanted).then(\r\n      (response) => {\r\n        this.setState({wanted : response.data});\r\n    }).catch(error => {\r\n        this.props.sendError(error.response.data);\r\n    });\r\n  }\r\n\r\n  handleModalShow(event, action) {\r\n    var val = event.target.value;\r\n    if (action === 'status'){\r\n      val = parseInt(val);\r\n      this.setState({is_published : val === 1 ? 0:1})\r\n    }\r\n    this.setState({action: action});\r\n    this.setState({ showModal: true });\r\n  }\r\n\r\n  handleModalClose() {\r\n   this.setState({ showModal: false });\r\n  }\r\n\r\n  confirm() {\r\n    if(this.state.action === 'status') {\r\n      this.state.wanted.is_published = this.state.is_published;\r\n      patch('wanteds/'+this.state.wanted.id+'/', {is_published: this.state.is_published}).then(\r\n        (response) => {\r\n          delete response.data.type;\r\n          this.setState({wanted : response.data});\r\n          this.setState({showModal : false});\r\n      }).catch(error => {\r\n          this.props.sendError(error.response.data);\r\n          this.setState({showModal : false});\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { wanted } = this.state;\r\n    const username = wanted.user ? (wanted.user.contact ? wanted.user.contact.first_name + ' ' + wanted.user.contact.last_name : wanted.user.email) : '';\r\n    return (\r\n        <div>\r\n          <Grid container spacing={3}>\r\n                <Grid item xs={12} md={9}>\r\n                  <div className=\"kt_section__detail\">\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Wanted Asset</div>\r\n                                    <div>{wanted.type_0 ? wanted.type_0.type : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">User</div>\r\n                                    <div>{wanted.user ? <Link target=\"_blank\"\r\n                                                              to={\"/contact/\" + wanted.user.contact.id + \"/\"}>{username}</Link> : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Aircraft Manfacturer</div>\r\n                                    <div>{wanted.manufacturer ? wanted.manufacturer.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Aircraft Type</div>\r\n                                    <div>{wanted.type_0 ? wanted.type_0.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Aircraft Model</div>\r\n                                    <div>{wanted.model ? wanted.model.name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">YOM</div>\r\n                                    <div>{wanted.yom ? wanted.yom : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Primary Contact</div>\r\n                                    <div>{wanted.primary_contact ? wanted.primary_contact.first_name + \" \" + wanted.primary_contact.last_name : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Location</div>\r\n                                    <div>{wanted.country ? wanted.country.name : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Wanted By</div>\r\n                                    <div>{wanted.wanted_by ? wanted.wanted_by : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Wanted Terms</div>\r\n                                    <div>{wanted.terms ? wanted.terms : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Comments</div>\r\n                                    <div>{wanted.comments ? wanted.comments : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Published Status</div>\r\n                                    <div>{wanted.is_published ? 'Yes' : 'No'}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mb-4\">\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Date Created</div>\r\n                                    <div>{this.state.created_at ? this.state.created_at : '-----'}</div>\r\n                                </div>\r\n                                <div className=\"col-md-6 col-12\">\r\n                                    <div className=\"kt_detail__item_title\">Date Modified</div>\r\n                                    <div>{this.state.updated_at ? this.state.updated_at : '-----'}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                </Grid>\r\n            </Grid>\r\n\r\n          <Modal show={this.state.showModal} onHide={this.handleModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Confirm</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n              <Button variant=\"danger\" onClick={this.confirm}>\r\n                Yes\r\n              </Button>\r\n              <Button variant=\"success\" onClick={this.handleModalClose}>\r\n                No\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass DetailPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let type = props.match.params.type;\r\n    this.state = {errors:{}, showError:false};\r\n    this.state.type = type;\r\n    this.sendError = this.sendError.bind(this);\r\n  }\r\n\r\n  sendError(error) {\r\n    if(Object.keys(error).length)\r\n      this.setState({showError:true});\r\n\r\n    this.setState({errors:error});\r\n  }\r\n    setWantedTitle = (title, id) => {\r\n        let wantedName = title.toLowerCase();\r\n        if(wantedName.includes('-yom-')){\r\n            wantedName = wantedName.split('-yom-')[0].replace(/-/g,' ')\r\n        }else{\r\n            wantedName = wantedName.replace(/-/g,' ')\r\n        }\r\n        this.setState({wanted_title:wantedName, wanted_url: id+'-'+title.toLowerCase()});\r\n      }\r\n  render() {\r\n    return (\r\n      <>\r\n      <Notice icon=\"flaticon-warning kt-font-primary\" style={{display: this.state.showError ? 'flex' : 'none' }}>\r\n        {\r\n          Object.keys(this.state.errors).map((key, index) => {\r\n            return this.state.errors[key].map((error, i) => {\r\n              console.log(error);\r\n              return <li key={index+i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n            });\r\n          })\r\n        }\r\n        </Notice>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <CustomHead\r\n              beforeCodeTitle={<h3 class=\"kt-portlet__head-title\" style={{textTransform: 'capitalize'}}>\r\n              <a target=\"_blank\" href={\"/engine/\"+this.state.wanted_url}>{this.state.wanted_title}</a>\r\n              </h3>}\r\n              jsCode =   {<div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                  <div className=\"dropdown dropdown-inline\">\r\n                  <Link to={\"/\"+USER_URL+\"/wanted/asset\"} className=\"btn btn-clean btn-icon-sm\">\r\n                        <i className=\"la la-long-arrow-left\"></i>\r\n                        Back\r\n                      </Link>\r\n                    <Link\r\n                                                to={\"/\"+USER_URL+\"/wanted/asset/\" + this.props.match.params.wanted_id + \"/edit\"}\r\n                                                className=\"btn btn-primary\">\r\n                                                <i className=\"la la-edit\"/>\r\n                                                Edit\r\n                                            </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> }\r\n            >\r\n              <div className=\"kt-section\">\r\n                <Detail data={this.props} setWantedTitle={(title, id)=> this.setWantedTitle(title, id)} sendError={this.sendError} />\r\n              </div>\r\n            </CustomHead>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(DetailPage);","import React from \"react\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport CustomHead from \"../../../partials/content/CustomHeader.js\";\r\nimport {Button, Form, Col} from \"react-bootstrap\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {\r\n    list,\r\n    patch,\r\n    loadOptions,\r\n    post,\r\n    ASSETS,\r\n    AIRCRAFT_TERMS,\r\n    ENGINE_TERMS,\r\n    PART_TERMS,\r\n    USER_URL\r\n} from \"../../../crud/api\";\r\nimport Select from 'react-select';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {MuiPickersUtilsProvider, DatePicker} from \"@material-ui/pickers\";\r\nimport {createMuiTheme} from \"@material-ui/core\";\r\nimport {ThemeProvider} from \"@material-ui/styles\";\r\nimport moment from \"moment\";\r\nimport AsyncPaginate from \"react-select-async-paginate\";\r\n\r\nconst defaultMaterialTheme = createMuiTheme({\r\n    props: {\r\n        MuiInput: {\r\n            disableUnderline: true,\r\n        },\r\n        MuiTextField: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n        },\r\n        MuiInputBase: {\r\n            style: {\r\n                display: \"block\",\r\n            },\r\n            disableUnderline: true,\r\n            inputProps: {\r\n                style: {\r\n                    display: \"block\",\r\n                    height: \"calc(1.5em + 1.3rem + 2px)\",\r\n                    padding: \"0.65rem 1rem\",\r\n                    fontSize: \"1rem\",\r\n                    fontWeight: \"400\",\r\n                    lineHeight: \"1.5\",\r\n                    color: \"#495057\",\r\n                    backgroundColor: \"#fff\",\r\n                    backgroundClip: \"padding-box\",\r\n                    border: \"1px solid #e2e5ec\",\r\n                    borderRadius: \"4px\",\r\n                    transition: \"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n                    boxSizing: \"border-box\",\r\n                }\r\n            }\r\n        },\r\n    },\r\n});\r\n\r\n\r\nclass Edit extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const {wanted_id, type} = this.props.data.match.params;\r\n        this.state = {\r\n            validated: false,\r\n            wanted: {\r\n                yom: new Date(),\r\n                user:props.data.extra_data.user.id,\r\n                primary_contact:props.data.extra_data.user.contact.id\r\n            },\r\n            selectedFile: null,\r\n            manufacturer: [],\r\n            countries: [],\r\n            type_0: [],\r\n            contacts: [],\r\n            model: [],\r\n            users: [],\r\n            selected_primary_contact: {value: ''},\r\n            selected_type: {value: ''},\r\n            selected_user: {},\r\n            selected_type_0: {value: ''},\r\n            selected_manufacturer: {value: ''},\r\n            selected_country: {value: ''},\r\n            selected_model: {value: ''},\r\n            selected_terms: {value: ''},\r\n            yom: new Date(),\r\n            modelsLoaded: false\r\n        };\r\n        this.getWanted(wanted_id);\r\n    }\r\n\r\n    getWanted(wanted_id) {\r\n        list('wanteds/' + wanted_id + '/').then(\r\n            (response) => {\r\n                this.setState({\r\n                    wanted: response.data,\r\n                    yom: moment(response.data.yom, 'YYYY'),\r\n                    date: response.data.wanted_by\r\n                })\r\n                // this.getDropdownsListing();\r\n                this.loadModels();\r\n\r\n                this.setDynamicDropdowns(this.state.selected_type, 'type', null);\r\n\r\n                if (response.data.manufacturer && response.data.manufacturer.id != undefined && response.data.manufacturer.id != \"\")\r\n                    this.setDynamicDropdowns(this.state.selected_type, 'manufacturer', response.data.manufacturer.id);\r\n\r\n                if (response.data.type_0 && response.data.type_0.id != undefined && response.data.type_0.id != \"\")\r\n                    this.setDynamicDropdowns(this.state.selected_type, 'type_0', response.data.type_0.id);\r\n            });\r\n    }\r\n\r\n    handleChange(event, type) {\r\n        var wanted = this.state.wanted;\r\n        if (type !== 'wanted_by' && type !== 'yom') {\r\n            var attr = event.target.name;\r\n            var val = event.target.value;\r\n        } else if (type == 'yom') {\r\n            var attr = type;\r\n            var val = moment(event).format(\"YYYY\");\r\n            this.setState({yom: event})\r\n        } else {\r\n            var attr = type;\r\n            var val = moment(event).format();\r\n            this.setState({date: event})\r\n        }\r\n        if (attr === 'is_active')\r\n            val = parseInt(val);\r\n        wanted[attr] = val;\r\n        this.setState({wanted: wanted})\r\n    }\r\n\r\n\r\n    handleSubmit(event) {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.setState({validated: true});\r\n        this.checkDataFormat(); // this is done to convert foregin table objects into pk\r\n        if (!this.state.selectedFile)\r\n            delete this.state.wanted.file;\r\n        patch('wanteds/' + this.state.wanted.id + '/', this.state.wanted).then(\r\n            (response) => {\r\n                this.setState({wanted: response.data});\r\n                this.props.data.history.push(this.state.action == 'save_new' ? \"/\" + USER_URL + \"/wanted/asset/create\" : \"/\" + USER_URL + \"/wanted/asset\");\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n\r\n    loadModels() {\r\n        let wanted_data = this.state.wanted;\r\n\r\n        // static dropdowns calculation here -\r\n\r\n        let static_dropdowns = { // when you have static dropdown like gender just put here\r\n            type: ASSETS,\r\n        }\r\n        if (this.state.wanted.type == 'aircraft')\r\n            static_dropdowns.terms = AIRCRAFT_TERMS;\r\n        else if (this.state.wanted.type == 'engine' || this.state.wanted.type == 'apu')\r\n            static_dropdowns.terms = ENGINE_TERMS;\r\n        else if (this.state.wanted.type == 'parts')\r\n            static_dropdowns.terms = PART_TERMS;\r\n\r\n        let dropdown_keys = Object.keys(static_dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            for (let index in static_dropdowns[dropdown_keys[key]]) {\r\n                if (static_dropdowns[dropdown_keys[key]][index].value === wanted_data[dropdown_keys[key]]) {\r\n                    this.setState({['selected_' + dropdown_keys[key]]: static_dropdowns[dropdown_keys[key]][index]});\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        let models = {\r\n            'AbUsers': {},\r\n            'AbContacts': {},\r\n            'AbCountries': {},\r\n            'AbManufacturers': {type: this.state.wanted.type},\r\n        }\r\n\r\n        // lets do some mapping to avoid if else conditions\r\n        let state_endpoints = {\r\n            AbUsers: ['user'],\r\n            AbContacts: ['primary_contact'],\r\n            AbCountries: ['country'],\r\n        }\r\n\r\n        post('abmodels', {models: models}).then(function (response) {\r\n            let newStates = {};\r\n            for (let opt in response.data) {\r\n\r\n                response.data[opt].map((row, i) => {\r\n                    if (opt === 'AbContacts' || opt === 'AbUsers')\r\n                        row.name = row.first_name + ' ' + row.last_name;\r\n                    if (opt === 'AbUsers')\r\n                        row.id = row.user_id;\r\n\r\n                    response.data[opt][i].label = row.name;\r\n                    response.data[opt][i].value = row.id;\r\n\r\n                    Object.keys(state_endpoints).map((key, i) => {\r\n                        state_endpoints[key].map((state, index) => {\r\n                            if (opt === key && wanted_data[state] !== null && wanted_data[state].id !== undefined && wanted_data[state].id === row.id)\r\n                                newStates['selected_' + state] = row;\r\n                        })\r\n                    })\r\n\r\n                })\r\n            }\r\n            newStates['users'] = response.data.AbUsers;\r\n            newStates['contacts'] = response.data.AbContacts;\r\n            newStates['countries'] = response.data.AbCountries;\r\n            newStates['manufacturer'] = response.data.AbManufacturers;\r\n\r\n            newStates['modelsLoaded'] = true;\r\n            this.setState(newStates);\r\n        }.bind(this))\r\n    }\r\n\r\n    checkDataFormat() {\r\n        let wanted = this.state.wanted;\r\n        let related_data = ['user', 'primary_contact', 'country', 'manufacturer', 'type_0', 'model'];\r\n        related_data.map((val, i) => {\r\n            wanted[val] = this.state['selected_' + val].value;\r\n        })\r\n        this.setState({wanted: wanted});\r\n    }\r\n\r\n\r\n    getDropdownsListing() {\r\n        let wanted_data = this.state.wanted;\r\n        let dropdowns = {// when you have database dropdown like departments just put here\r\n            // dbcolumn: api_endpoint\r\n            primary_contact: 'contacts',\r\n            country: 'countries',\r\n            manufacturer: 'manufacturer',\r\n            model: 'model',\r\n            user: 'users',\r\n        }\r\n\r\n        let duplicating_dropdowns = {}\r\n\r\n        // static dropdowns calculation here -\r\n        let static_dropdowns = { // when you have static dropdown like gender just put here\r\n            // dbcolumn: imported name\r\n            type: ASSETS,\r\n        }\r\n        if (this.state.wanted.type == 'aircraft')\r\n            static_dropdowns.terms = AIRCRAFT_TERMS;\r\n        else if (this.state.wanted.type == 'engine' || this.state.wanted.type == 'apu')\r\n            static_dropdowns.terms = ENGINE_TERMS;\r\n        else if (this.state.wanted.type == 'parts')\r\n            static_dropdowns.terms = PART_TERMS;\r\n\r\n        let dropdown_keys = Object.keys(static_dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            for (let index in static_dropdowns[dropdown_keys[key]]) {\r\n                if (static_dropdowns[dropdown_keys[key]][index].value === wanted_data[dropdown_keys[key]]) {\r\n                    this.setState({['selected_' + dropdown_keys[key]]: static_dropdowns[dropdown_keys[key]][index]});\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        dropdown_keys = Object.keys(dropdowns);\r\n        for (let key in dropdown_keys) {\r\n            let params = {records:'all'}\r\n            list(dropdowns[dropdown_keys[key]], params).then(function (response) {\r\n                let data = response.data;\r\n                let selected = {};\r\n                for (let opt in data) {\r\n                    // special case for contacts\r\n                    if (dropdowns[dropdown_keys[key]] === 'contacts')\r\n                        data[opt].name = data[opt].first_name + ' ' + data[opt].last_name;\r\n                    else if (dropdowns[dropdown_keys[key]] === 'users')\r\n                        data[opt].name = data[opt].contact.first_name + ' ' + data[opt].contact.last_name;\r\n\r\n                    data[opt].label = data[opt].name;\r\n                    data[opt].value = data[opt].id;\r\n\r\n                    if (wanted_data[dropdown_keys[key]] != undefined && data[opt].id === wanted_data[dropdown_keys[key]].id)\r\n                        selected = data[opt]\r\n\r\n                    if (duplicating_dropdowns[dropdowns[dropdown_keys[key]]] != undefined) {\r\n                        for (let index in duplicating_dropdowns[dropdowns[dropdown_keys[key]]]) {\r\n                            let duplicated_el = duplicating_dropdowns[dropdowns[dropdown_keys[key]]][index];\r\n\r\n                            if (wanted_data[duplicated_el] != undefined && data[opt].id === wanted_data[duplicated_el].id) {\r\n                                this.setState({['selected_' + duplicated_el]: data[opt]});\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.setState({\r\n                    [dropdowns[dropdown_keys[key]]]: data,\r\n                    ['selected_' + dropdown_keys[key]]: selected,\r\n                    part: wanted_data\r\n                });\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    selectChange(value, key) {\r\n        let wanted = this.state.wanted;\r\n        wanted[key] = value && value.value ? value.value : '';\r\n        this.setState({['selected_' + key]: value ? value : '', wanted: wanted});\r\n\r\n        let type = value ? value : '';\r\n        if (key !== 'type')\r\n            type = this.state.selected_type;\r\n\r\n        this.setDynamicDropdowns(type, key, value ? value.id : '');\r\n    }\r\n\r\n    setDynamicDropdowns(type, key, id) {\r\n        if (['manufacturer', 'type', 'type_0'].indexOf(key) > -1 && type !== '' && id !== '') {\r\n            if (['aircraft', 'engine', 'apu'].indexOf(type.value) > -1) {\r\n                let endpoint = '', params = {records:'all'}, key_to_update = '';\r\n                if (key === 'manufacturer') {\r\n                    endpoint = 'type';\r\n                    params = {...params, ...{is_active: 1, manufacturer_id: id, type: type.value}}\r\n                    key_to_update = 'type_0';\r\n                } else if (key === 'type_0') {\r\n                    endpoint = 'model';\r\n                    params = {...params, ...{is_active: 1, type_0: id, type: type.value}}\r\n                    key_to_update = 'model';\r\n                } else if (key === 'type') {\r\n                    endpoint = 'manufacturer';\r\n                    params = {...params, ...{is_active: 1, type: type.value}}\r\n                    key_to_update = 'manufacturer';\r\n                }\r\n\r\n                list(endpoint, params).then(function (response) {\r\n                    let data = response.data;\r\n                    let selected = {};\r\n                    for (let opt in data) {\r\n                        if (this.state.wanted[key_to_update] != undefined && data[opt].id === this.state.wanted[key_to_update].id) {\r\n                            selected['label'] = data[opt].name;\r\n                            selected['value'] = data[opt].id;\r\n                        }\r\n                        data[opt].label = data[opt].name;\r\n                        data[opt].value = data[opt].id;\r\n                    }\r\n\r\n                    this.setState({[key_to_update]: data, ['selected_' + key_to_update]: selected});\r\n\r\n                }.bind(this));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const {\r\n            date, wanted, selected_manufacturer, manufacturer,\r\n            selected_country, countries, selected_type, type_0, selected_type_0,\r\n            selected_primary_contact, contacts, model, selected_model, selected_user, users,\r\n            selected_terms, yom, modelsLoaded\r\n        } = this.state;\r\n        return (\r\n            <Form\r\n                noValidate\r\n                onSubmit={e => this.handleSubmit(e)}\r\n            >\r\n                <Form.Row>\r\n                    <Form.Group as={Col} md=\"12\" xs=\"12\">\r\n                        <Form.Label>Wanted Asset*</Form.Label>\r\n                        <Select\r\n                            value={selected_type.value?selected_type:'select...'}\r\n                            model=\"type\"\r\n                            name=\"name\"\r\n                            isClearable={true}\r\n                            escapeClearsValue={true}\r\n                            onChange={e => this.selectChange(e, 'type')}\r\n                            options={ASSETS}\r\n                        />\r\n                    </Form.Group>\r\n                    {selected_type.value !== 'parts' && selected_type.value !== '' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>{selected_type.label} Manfacturer</Form.Label>\r\n                            <Select\r\n                                value={selected_manufacturer.value?selected_manufacturer:'select...'}\r\n                                model=\"manufacturer\"\r\n                                name=\"name\"\r\n                                isClearable = {true}\r\n                                escapeClearsValue = {true}\r\n                                onChange={e => this.selectChange(e, 'manufacturer')}\r\n                                options={manufacturer}\r\n                            />\r\n                        </Form.Group> : ''}\r\n                    {selected_type.value !== 'parts' && selected_type.value !== '' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>{selected_type.label} Type</Form.Label>\r\n                            <Select\r\n                                value={selected_type_0.value?selected_type_0:'select...'}\r\n                                model=\"type_0\"\r\n                                name=\"name\"\r\n                                isClearable = {true}\r\n                                escapeClearsValue = {true}\r\n                                onChange={e => this.selectChange(e, 'type_0')}\r\n                                options={type_0}\r\n                            />\r\n                        </Form.Group> : ''}\r\n                    {selected_type.value !== 'parts' && selected_type.value !== '' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>{selected_type.label} Model</Form.Label>\r\n                            <Select\r\n                                value={selected_model.value?selected_model:'select...'}\r\n                                model=\"model\"\r\n                                name=\"name\"\r\n                                isClearable = {true}\r\n                                escapeClearsValue = {true}\r\n                                onChange={e => this.selectChange(e, 'model')}\r\n                                options={model}\r\n                            />\r\n                        </Form.Group> : ''}\r\n                    {selected_type.value === 'aircraft' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>YOM</Form.Label>\r\n                            <ThemeProvider theme={defaultMaterialTheme}>\r\n                                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                        <DatePicker\r\n                                            views={[\"year\"]}\r\n                                            minDate={new Date('1990')}\r\n                                            name=\"yom\"\r\n                                            value={yom}\r\n                                            onChange={e => this.handleChange(e, 'yom')}\r\n                                        />\r\n                                </MuiPickersUtilsProvider>\r\n                            </ThemeProvider>\r\n                        </Form.Group> : ''\r\n                    }\r\n                    {selected_type.value === 'parts' || selected_type.value === 'apu' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>Part Number</Form.Label>\r\n                            <Form.Control\r\n                                required\r\n                                type=\"text\"\r\n                                placeholder=\"\"\r\n                                model=\"wanted\"\r\n                                name=\"yom\"\r\n                                defaultValue={wanted ? wanted.part_number : ''}\r\n                                onChange={e => this.handleChange(e)}\r\n                            />\r\n                        </Form.Group> : ''}\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Primary Contact</Form.Label>\r\n                        <AsyncPaginate\r\n                            model=\"primary_contact\"\r\n                            isClearable={true}\r\n                            escapeClearsValue={true}\r\n                            value={selected_primary_contact.value?selected_primary_contact:'select...'}\r\n                            name=\"name\"\r\n                            loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, contacts, modelsLoaded)}\r\n                            onChange={e => this.selectChange(e, 'primary_contact')}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Location</Form.Label>\r\n                        <AsyncPaginate\r\n                            model=\"country\"\r\n                            isClearable={true}\r\n                            escapeClearsValue={true}\r\n                            value={selected_country.value?selected_country:'select...'}\r\n                            name=\"name\"\r\n                            loadOptions={(search, prevOptions) => loadOptions(search, prevOptions, countries, modelsLoaded)}\r\n                            onChange={e => this.selectChange(e, 'country')}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                        <Form.Label>Wanted By</Form.Label>\r\n                        <ThemeProvider theme={defaultMaterialTheme}>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                <DatePicker\r\n                                    minDate={new Date()}\r\n                                    value={date}\r\n                                    format=\"dd/MM/yyyy\"\r\n                                    onChange={e => this.handleChange(e, 'wanted_by')}\r\n                                    animateYearScrolling\r\n                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </ThemeProvider>\r\n                    </Form.Group>\r\n                    {selected_type.value !== '' ?\r\n                        <Form.Group as={Col} md=\"4\" xs=\"12\">\r\n                            <Form.Label>Wanted Terms</Form.Label>\r\n                            <Select\r\n                                value={selected_terms.value?selected_terms:'select...'}\r\n                                model=\"terms\"\r\n                                name=\"name\"\r\n                                isClearable = {true}\r\n                                escapeClearsValue = {true}\r\n                                onChange={e => this.selectChange(e, 'terms')}\r\n                                options={selected_type.value === 'aircraft' ? AIRCRAFT_TERMS : (selected_type.value === 'parts' ? PART_TERMS : (selected_type.value === 'engine' || selected_type.value === 'apu' ? ENGINE_TERMS : []))}\r\n                            />\r\n                        </Form.Group> : ''}\r\n                    <Form.Group as={Col} xs=\"12\">\r\n                        <Form.Label>Comments</Form.Label>\r\n                        <Form.Control as=\"textarea\" rows=\"5\"\r\n                                      required\r\n                                      type=\"text\"\r\n                                      placeholder=\"\"\r\n                                      model=\"wanted\"\r\n                                      name=\"comments\"\r\n                                      defaultValue={wanted ? wanted.comments : ''}\r\n                                      onChange={e => this.handleChange(e)}\r\n                        />\r\n                    </Form.Group>\r\n                </Form.Row>\r\n                <Button type=\"submit\" onClick={(e) => this.setState({action: 'save'})} className=\"btn btn-primary\">\r\n                    <i className=\"la la-save\"/>\r\n                    Update\r\n                </Button>\r\n                &nbsp;&nbsp;\r\n\r\n                <Link to={\"/\" + USER_URL + \"/wanted/asset\"} className=\"btn btn-danger\">\r\n                    <i className=\"la la-remove\"/>\r\n                    Cancel\r\n                </Link>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nclass EditPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let type = props.match.params.type;\r\n        this.state = {errors: {}, showError: false};\r\n        this.state.type = type;\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                console.log(error);\r\n                                return <li key={index + i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                        <CustomHead\r\n                            beforeCodeTitle={\"Wanted\"}\r\n                            jsCode={<div className=\"kt-portlet__head-toolbar\">\r\n                                <div className=\"kt-portlet__head-wrapper\">\r\n                                    <div className=\"kt-portlet__head-actions\">\r\n                                        <div className=\"dropdown dropdown-inline\">\r\n                                            <Link to={\"/\" + USER_URL + \"/wanted/asset\"}\r\n                                                  className=\"btn btn-clean btn-icon-sm\">\r\n                                                <i className=\"la la-long-arrow-left\"></i>\r\n                                                Back\r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            }>\r\n                            <div className=\"kt-section\">\r\n                                <Edit data={this.props} sendError={this.sendError}/>\r\n                            </div>\r\n                        </CustomHead>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(EditPage);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport {\r\n    IconButton, Paper, FormControlLabel, Switch, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent\r\n} from '@material-ui/core';\r\nimport { list, post, patch, del, STATUSES, USER_URL, API_URL, LOCAL_STORAGE, getLocalStorageItem, setLocalStorageItem} from \"../../../crud/api\";\r\nimport {Button, Dropdown, Modal, Form} from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.css\";\r\nimport \"datatables.net-responsive-bs4/css/responsive.bootstrap4.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Notice from \"../../../partials/content/Notice\";\r\nimport {ReactComponent as SortNum1Icon} from \"../../../../_metronic/layout/assets/layout-svg-icons/SortNum1.svg\";\r\nimport Select from 'react-select';\r\nimport { setPageNum, getPageNum } from \"../../../helpers/listing\";\r\nimport { CSVLink } from \"react-csv\";\r\n\r\nconst QuickActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <button\r\n        ref={ref}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          onClick(e);\r\n        }}\r\n        className=\"btn kt-header__btn-primary\"\r\n    >\r\n      Actions\r\n      <SortNum1Icon className=\"kt-svg-icon kt-svg-icon--sm\" />\r\n    </button>\r\n));\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(0),\r\n    paddingRight: theme.spacing(0),\r\n    display: 'block',\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  spacer: {\r\n    flex: '1 1 100%',\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    flex: '0 0 auto',\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = props => {\r\n  const classes = useToolbarStyles();\r\n  const { exportSpinner,setExpSpin, csvData, setCsvData,numSelected, type, selected, setSelected, setSelectedMany, setRowsData, rows, setTemp } = props;\r\n\r\n\r\n  function handleDelAll(event) {\r\n    if(selected.length) {\r\n      let data = {ids:selected}\r\n      del('wanteds/'+selected[0]+'/', data).then(function (response) {\r\n        // here removing rows from dt-table that are deleted from database\r\n        for(let i in rows){\r\n          if(selected.indexOf(rows[i].id) > -1) {\r\n            delete rows[i];\r\n          }\r\n        }\r\n        setRowsData(rows);\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n        setSelectedMany(false);\r\n\r\n        // no use as such - just to trigger state udpate :(\r\n        const newArr = [];\r\n        newArr.push(1);\r\n        setTemp(newArr);\r\n        updateTable();\r\n      })\r\n    }\r\n  }\r\n\r\n  function fetchCSVData() {\r\n    setExpSpin('');\r\n    list('wanteds', {records:'all'}).then(response => {\r\n      let related_models = ['type_0','model','manufacturer','primary_contact','user']\r\n\r\n      let system_fields = ['uid','promote_status', 'views', 'likes','is_active', 'leads', 'created_at', 'updated_at', 'deleted_at', 'is_featured', 'is_published'];\r\n\r\n        setExpSpin('d-none');\r\n      let responseData = response.data.map((v, i) => {\r\n\r\n        system_fields.map(field => delete v[field])\r\n\r\n        related_models.map((model) => {\r\n          v[model] = v[model] ? v[model].name : v[model];\r\n        })\r\n        v.primary_contact = v.primary_contact ? v.primary_contact.first_name+' '+v.primary_contact.last_name:v.primary_contact\r\n        return v;\r\n      })\r\n      setCsvData(responseData);\r\n      document.getElementById('wanted-csv-btn').click();\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n      <div className=\"kt-portlet__head kt-portlet__head--lg\">\r\n        <div className=\"kt-portlet__head-label\">\r\n          <span className=\"kt-portlet__head-icon\">\r\n            <i className=\"kt-font-brand flaticon2-layers-2\" />\r\n          </span>\r\n          {numSelected > 0 ? (\r\n            <Typography color=\"inherit\" variant=\"subtitle1\">\r\n              {numSelected} selected\r\n            </Typography>\r\n          ) : (\r\n            <h3 className=\"kt-portlet__head-title\">Wanted Assets</h3>\r\n          )}\r\n        </div>\r\n        <div className=\"kt-portlet__head-toolbar\">\r\n          <div className=\"kt-portlet__head-wrapper\">\r\n            <div className=\"kt-portlet__head-actions\">\r\n              {numSelected > 0 ? (\r\n                <Tooltip title=\"Delete\">\r\n                  <IconButton\r\n                    onClick={(e) => handleDelAll(e)}\r\n                    aria-label=\"Delete\"\r\n                  >\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              ) : (\r\n                <div className=\"btn-group\">\r\n                  <a\r\n                    onClick={updateTable}\r\n                    className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record mr-2\"\r\n                  >\r\n                    <i className=\"la la-refresh\" aria-hidden=\"true\"></i>\r\n                    Refresh\r\n                  </a>\r\n                  <Link\r\n                    to={\"/\" + USER_URL + \"/wanted/asset/create\"}\r\n                    className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record\"\r\n                  >\r\n                    <i className=\"la la-plus\"></i>\r\n                    Add Wanted\r\n                  </Link>\r\n                  <Dropdown className=\"dropdown-inline\" drop=\"down\" alignRight>\r\n                    <Dropdown.Toggle\r\n                      as={QuickActionsDropdownToggle}\r\n                      id=\"dropdown-toggle-quick-actions-subheader\"\r\n                    />\r\n\r\n                    <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-md dropdown-menu-right\">\r\n                      <ul className=\"kt-nav\">\r\n                        <li className=\"kt-nav__item\">\r\n                          <a onClick={fetchCSVData} className=\"kt-nav__link\">\r\n                            <i className=\"kt-nav__link-icon la la-upload\" />\r\n                            <span className=\"kt-nav__link-text\">Export</span>\r\n                            <div\r\n                              className={\"spinner-grow \" + exportSpinner}\r\n                            ></div>\r\n                          </a>\r\n                          <CSVLink\r\n                            data={csvData}\r\n                            filename=\"wanteds.csv\"\r\n                            className=\"d-none\"\r\n                            id=\"wanted-csv-btn\"\r\n                            target=\"_blank\"\r\n                          />\r\n                        </li>\r\n                      </ul>\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  selected: PropTypes.array.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  close: {\r\n    padding: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nconst $ = require('jquery');\r\n$.DataTable = require('datatables.net-responsive-bs4');\r\n\r\nfunction updateTable() {\r\n    const table = $('#wanted').DataTable();\r\n    table.ajax.reload(null, false);\r\n}\r\n\r\nfunction parseRowData(rowData) {\r\n    if( Array.isArray(rowData) && rowData.length > 0){\r\n    rowData.forEach(function(item, index){\r\n      rowData[index]['actions'] = rowData[index]['checkbox'] = '';\r\n    });\r\n  }\r\n  return rowData;\r\n}\r\n\r\nconst ActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <a\r\n      ref={ref}\r\n      onClick={e => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n      id=\"kt_dashboard_daterangepicker\"\r\n      className=\"btn btn-sm btn-clean btn-icon btn-icon-md\"\r\n    >\r\n      {\" \"}\r\n      <i className=\"la la-ellipsis-h\"></i>\r\n    </a>\r\n));\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [rows, setRowsData] = React.useState([]);\r\n  const [count, setCount] = React.useState(0); // set counter for onload functions\r\n  const [show, setModalDisplay] = React.useState(false); // set modal to show/hide\r\n  const [userIndex, setUser] = React.useState(0); //selected user to perform actions\r\n  const [action, setAction] = React.useState({}); // selected action\r\n  const [temp, setTemp] = React.useState([]); // selected action\r\n  const [isSelectedMany, setSelectedMany] = React.useState(false);\r\n  const [open, setOpen] = React.useState(false); // show/hide Snackbar\r\n  const [message, setMessage] = React.useState('Changes applied successfully!'); // set Message\r\n  const [exportSpinner, setExpSpin] = React.useState('d-none');\r\n  const [csvData, setCsvData] = React.useState([]);\r\n  const [messageType, setMessageType] = React.useState('success');\r\n  const [credits, setCredit] = React.useState(getLocalStorageItem('credits'));\r\n\r\n  const [table, setTable] = React.useState(false); // selected action\r\n  let history = useHistory();\r\n  let type = props.match.params.type;\r\n\r\n\r\n  React.useEffect(() => {\r\n      if($.fn.dataTable.isDataTable( '#wanted' )) {\r\n        let table = $('#wanted').DataTable();\r\n        table.destroy();\r\n        setTable(true);\r\n        setRowsData([]);\r\n      }\r\n      return () => {\r\n        setRowsData([]);\r\n          let dtable = $('#wanted').DataTable();\r\n          dtable.destroy(true);\r\n          setTable(true);\r\n      }\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (table && $.fn.dataTable.isDataTable( '#wanted' ) ) {\r\n        if(JSON.stringify(rows) !== JSON.stringify(window.prevRows)){\r\n          window.prevRows = rows;\r\n        }\r\n      } else {\r\n        setTable(true);\r\n        loadDatatable();\r\n      }\r\n    }, [rows]);\r\n\r\n\r\n  function loadDatatable() {\r\n    let url = API_URL+'wanteds?format=datatables';\r\n    let columnDefs = [\r\n      { \"bVisible\": false, \"aTargets\": [1] },\r\n      {\r\n        targets: 0,\r\n        width: '30px',\r\n        orderable: false,\r\n        searchable:false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n          ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(rowData.id)}\r\n          onChange={event => handleClick(event, rowData.id, td, row)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${row}` }}\r\n          />\r\n          , td\r\n          );\r\n        },\r\n      },\r\n      {\r\n        targets: 2,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            let wantedName = cellData.toLowerCase();\r\n            let wantedSlug = rowData.title.toLowerCase();\r\n\r\n            if(wantedName.includes('-yom-')){\r\n                wantedName = wantedName.split('-yom-')[0].replace(/-/g,' ')\r\n            }else{\r\n                wantedName = wantedName.replace(/-/g,' ')\r\n            }\r\n          ReactDOM.render(\r\n          <a style={{textTransform: 'capitalize'}} href={\"/wanted/\"+rowData.id+\"-\"+wantedSlug} target=\"_blank\">\r\n          {wantedName}\r\n          </a>\r\n              , td\r\n          );\r\n        }\r\n      },\r\n      {\r\n        targets: 4,\r\n        orderable: false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n          ReactDOM.render(\r\n              <span onClick={(e) => handleModalShow(e, row, 'is_featured')} className={cellData === 1 ? 'kt-switch kt-switch--sm kt-switch--success':'kt-switch kt-switch--sm kt-switch--danger'}>\r\n            <label>\r\n              <input\r\n                  type=\"checkbox\" checked={cellData === 1 ? 'defaultChecked':''}\r\n                  name=\"quick_panel_notifications_1\"\r\n              />\r\n              <span />\r\n            </label>\r\n                </span>, td\r\n          );\r\n        }\r\n      },\r\n      {\r\n        targets: 5,\r\n        title: 'Status',\r\n        orderable: false,\r\n        \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            ReactDOM.render(\r\n                  <span onClick={(e) => handleModalShow(e, row, 'status')} className={cellData === 1 ? 'kt-switch kt-switch--sm kt-switch--success':'kt-switch kt-switch--sm kt-switch--danger'}>\r\n                  <label>\r\n                    <input\r\n                      type=\"checkbox\" checked={cellData === 1 ? 'defaultChecked':''}\r\n                      name=\"quick_panel_notifications_1\"\r\n                    />\r\n                    <span />\r\n                  </label>\r\n                </span>, td\r\n              );\r\n        }\r\n      }, {\r\n        targets: 7,\r\n        searchable:false,\r\n      },{\r\n          targets: 8,\r\n          title: 'Actions',\r\n          orderable: false,\r\n        searchable:false,\r\n          \"createdCell\": function (td, cellData, rowData, row, col) {\r\n              ReactDOM.render(\r\n              <Dropdown className=\"kt-header__topbar-item\" drop=\"down\" alignLeft>\r\n              <Dropdown.Toggle as={ActionsDropdownToggle} />\r\n                  <Dropdown.Menu  className=\"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround\">\r\n                  <Dropdown.Item onClick={() => history.push(\"/\"+USER_URL+\"/wanted/asset/\"+rowData.id) }>\r\n                    <i className=\"flaticon-eye\"></i> Views Details\r\n                </Dropdown.Item>\r\n                  <Dropdown.Item onClick={() => history.push(\"/\"+USER_URL+\"/wanted/asset/\"+rowData.id+\"/edit\") }><i className=\"flaticon2-edit\"></i> Edit Details</Dropdown.Item>\r\n              <Dropdown.Item onClick={(e) => handleModalShow(e, row, 'delete')}><i className=\"flaticon2-trash\"></i> Remove</Dropdown.Item>\r\n                  </Dropdown.Menu>\r\n                  </Dropdown>\r\n                  , td\r\n              );\r\n          }\r\n      }\r\n    ];\r\n    $('#wanted').DataTable({\r\n      responsive: {\r\n        details: {\r\n          renderer: $.fn.dataTable.Responsive.renderer.listHiddenNodes()\r\n        }\r\n      },\r\n      serverSide:true,\r\n      displayStart : getPageNum('wanteds', props),\r\n      ajax: {\r\n        url:url ,\r\n        method: \"GET\",\r\n        headers: {'Content-Type': 'application/json', 'Authorization': 'Token '+JSON.parse(localStorage.getItem(LOCAL_STORAGE)).authToken.replace(/['\"]+/g, '')},\r\n        \"dataFilter\": function(data) {\r\n          let json = JSON.parse(data);\r\n          let rowData = parseRowData(json.data);\r\n          setRowsData(rowData);\r\n          json.data = rowData;\r\n          return JSON.stringify(json); // return JSON string\r\n        },\r\n      },\r\n\r\n          // DOM Layout settings\r\n          dom: `<'row'<'col-sm-12'tr>>\r\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\r\n\r\n          lengthMenu: [5, 10, 25, 50],\r\n\r\n      pageLength: 10,\r\n      pagingType: 'numbers',\r\n      recordsTotal: rows.recordsTotal, // The number in my test data set\r\n      recordsFiltered: rows.recordsFiltered,\r\n\r\n      language: {\r\n        'lengthMenu': 'Display _MENU_',\r\n      },\r\n\r\n      // Order settings\r\n      order: [[5, 'desc']],\r\n      columnDefs:columnDefs ,\r\n    });\r\n    $('#wanted').on( 'page.dt', function () {\r\n      setPageNum($('#wanted'), 'wanteds', props);\r\n  });\r\n  }\r\n\r\n  function handleRequestSort(event, property) {\r\n    const isDesc = orderBy === property && order === 'desc';\r\n    setOrder(isDesc ? 'asc' : 'desc');\r\n    setOrderBy(property);\r\n  }\r\n\r\n  function handleSelectAllClick(event) {\r\n\r\n    if (event.target.checked) {\r\n        const sel = selected;\r\n      const newSelecteds = rows.map(n => n.id);\r\n        newSelecteds.forEach(v => {\r\n         sel.push(v)\r\n       })\r\n      setSelected(sel);\r\n    }else{\r\n        selected.length = 0;\r\n        setSelected(selected);\r\n    }\r\n    if(isSelectedMany)\r\n      setSelectedMany(false);\r\n    else\r\n      setSelectedMany(true);\r\n\r\n    updateTable(type);\r\n\r\n  }\r\n\r\n  function handleClick(event, id, td, idx) {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    const sel =selected;\r\n\r\n    if(selectedIndex === -1){\r\n        sel.push(id);\r\n    }else{\r\n        sel.splice(selectedIndex, 1);\r\n    }\r\n    setSelected(sel);\r\n    const newArr = [...temp];\r\n    newArr.push(1);\r\n    setTemp(newArr);\r\n    // updateTable(type);\r\n    const table = $('#wanted').DataTable();\r\n    table.cell( td ).render(ReactDOM.render(\r\n          <Checkbox\r\n          checked={isSelected(id)}\r\n          onChange={event => handleClick(event, id, td, idx)}\r\n          inputProps={{ 'aria-labelledby': `enhanced-table-checkbox-${idx}` }}\r\n          />\r\n          , td\r\n    ));\r\n  }\r\n\r\n  function handleChangePage(event, newPage) {\r\n    setPage(newPage);\r\n  }\r\n\r\n  function handleChangeRowsPerPage(event) {\r\n    setRowsPerPage(+event.target.value);\r\n  }\r\n\r\n  function handleChangeDense(event) {\r\n    setDense(event.target.checked);\r\n  }\r\n\r\n  function handleSearch(event) {\r\n    const table = $('#wanted').DataTable();\r\n    table.search( event.target.value ).draw();\r\n  }\r\n\r\n  function handleModalClose(event) {\r\n    setModalDisplay(false);\r\n  }\r\n\r\n  function handleModalShow(event, index, act) {\r\n    setUser(index);\r\n    setAction(act)\r\n    setModalDisplay(true);\r\n  }\r\n\r\n  function confirm(event) {\r\n    if(action == 'status') {\r\n      var data = {'is_active': rows[userIndex].is_active === 1 ? 0:1};\r\n      patch('wanteds/'+rows[userIndex].id+'/', data).then(function (response) {\r\n        rows[userIndex] = response.data;\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n        updateTable();\r\n        setOpen(true);\r\n        const statusType = response.data.is_active === 1 ? 'activated' : 'deactivated';\r\n        setMessageType(\r\n          response.data.is_active_by_user === 1 ? \"success\" : \"error\"\r\n        );\r\n        setMessage('Record successfully '+statusType);\r\n      })\r\n    }\r\n    else if(action === 'is_featured') {\r\n      var data = {is_featured: rows[userIndex].is_featured === 1 ? 0 : 1}\r\n\r\n      post('wanteds/'+rows[userIndex].id+'/promote/', data).then(function (response) {\r\n        rows[userIndex] = response.data;\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n        updateTable()\r\n        setOpen(true);\r\n        let new_credits = [], new_credit = {};\r\n        if(response.data.type == 'success') {\r\n          credits.map((credit, i) => {\r\n            new_credit = {};\r\n            Object.keys(credit).map(key => {\r\n              new_credit[key] = credit[key];\r\n\r\n              if(credit.name == 'Wanted' && key == 'promoted') {\r\n                if(data.is_featured == 0)\r\n                  new_credit[key] -= 1;\r\n                else\r\n                  new_credit[key] += 1;\r\n              }\r\n            })\r\n\r\n            new_credits.push(new_credit);\r\n          })\r\n\r\n\r\n          setCredit(new_credits);\r\n        }\r\n\r\n        setMessageType(response.data.type);\r\n        setMessage(response.data.message);\r\n      })\r\n    } else if(action == 'delete') {\r\n      del('wanteds/'+rows[userIndex].id+'/').then(function (response) {\r\n        rows.splice(userIndex,1);\r\n        setRowsData(rows);\r\n        setModalDisplay(false);\r\n          updateTable();\r\n        setOpen(true);\r\n        setMessage('Record successfully deleted');\r\n      })\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setLocalStorageItem('credits', credits);\r\n}, [credits]);\r\n\r\n  const handleCloseSnackbar = (event, reason) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isSelected = id => selected.indexOf(id) !== -1;\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.tableWrapper}>\r\n        <div className=\"kt-portlet kt-portlet--mobile\">\r\n            <EnhancedTableToolbar setTemp={setTemp} exportSpinner={exportSpinner} setExpSpin={setExpSpin} setRowsData={setRowsData} rows={rows} setSelectedMany={setSelectedMany} setSelected={setSelected} selected={selected} numSelected={selected.length} type={type} csvData={csvData} setCsvData={setCsvData} />\r\n          <div className=\"kt-portlet__body\">\r\n\r\n            <div className=\"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-xl-12 order-2 order-xl-1\">\r\n                  <div className=\"row align-items-center\">\r\n                    <div className=\"col-md-4 kt-margin-b-20-tablet-and-mobile col-xs-12\">\r\n                      <div className=\"kt-input-icon kt-input-icon--left\">\r\n                        <input onKeyUp={handleSearch}  type=\"text\" className=\"form-control\" placeholder=\"Search...\" id=\"generalSearch\" />\r\n                        <span className=\"kt-input-icon__icon kt-input-icon__icon--left\">\r\n                          <span><i className=\"la la-search\" /></span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n  \r\n            <div className=\"kt-section\">\r\n                <div>\r\n                  <table className=\"table table-striped- table-bordered table-hover table-checkable\" id={\"wanted\"}>\r\n                      <thead>\r\n                      <tr>\r\n                          <th data-data=\"checkbox\">\r\n                              <Checkbox\r\n                                checked={isSelectedMany}\r\n                                onChange = {handleSelectAllClick}\r\n                                inputProps={{\r\n                                  'aria-label': 'primary checkbox',\r\n                                }}\r\n                              />\r\n                          </th>\r\n                          <th data-data=\"id\">ID</th>\r\n                          <th data-data=\"title\">Title</th>\r\n                          <th data-data=\"terms\">Wanted Term</th>\r\n                          <th data-data=\"is_featured\">Promote</th>\r\n                          <th data-data=\"is_active\">Status</th>\r\n                          <th data-data=\"views\">Views</th>\r\n                          <th data-data=\"leads\">Leads</th>\r\n                          <th data-data=\"actions\">Actions</th>\r\n                      </tr>\r\n                      </thead>\r\n                  </table>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </Paper>\r\n      <Modal show={show} onHide={handleModalClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Footer>\r\n          <Button variant=\"success\" onClick={confirm}>\r\n            Yes\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={handleModalClose}>\r\n            No\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={open}\r\n          autoHideDuration={1600000}\r\n          onClose={handleCloseSnackbar}\r\n        >\r\n          <SnackbarContentWrapper\r\n            onClose={handleCloseSnackbar}\r\n            variant={messageType}\r\n            message={message}\r\n          />\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport {\r\n    IconButton, Paper, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent\r\n} from '@material-ui/core';\r\nimport { list, patch, del, API_URL, USER_URL, LOCAL_STORAGE} from \"../../crud/api\";\r\nimport {Button, Dropdown, Modal} from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.css\";\r\nimport \"datatables.net-responsive-bs4/css/responsive.bootstrap4.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Notice from \"../../partials/content/Notice\";\r\nimport { setPageNum, getPageNum } from \"../../helpers/listing\";\r\nimport {ReactComponent as SortNum1Icon} from \"../../../_metronic/layout/assets/layout-svg-icons/SortNum1.svg\";\r\n\r\nconst QuickActionsDropdownToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <button\r\n        ref={ref}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          onClick(e);\r\n        }}\r\n        className=\"btn kt-header__btn-primary\"\r\n    >\r\n      Actions\r\n      <SortNum1Icon className=\"kt-svg-icon kt-svg-icon--sm\" />\r\n    </button>\r\n));\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(0),\r\n    paddingRight: theme.spacing(0),\r\n    display: 'block',\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  spacer: {\r\n    flex: '1 1 100%',\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    flex: '0 0 auto',\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = props => {\r\n  const classes = useToolbarStyles();\r\n  const { numSelected, type, selected, setSelected, setSelectedMany, setRowsData, rows, setTemp } = props;\r\n\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n        <div className=\"kt-portlet__head kt-portlet__head--lg\">\r\n            <div className=\"kt-portlet__head-label\">\r\n              <span className=\"kt-portlet__head-icon\">\r\n                <i className=\"kt-font-brand flaticon-avatar\" />\r\n              </span>\r\n                {numSelected > 0 ? (\r\n                  <Typography color=\"inherit\" variant=\"subtitle1\">\r\n                    {numSelected} selected\r\n                  </Typography>\r\n                ) : (\r\n                  <h3 className=\"kt-portlet__head-title\">\r\n                   Inovices\r\n                  </h3>\r\n                )}\r\n            </div>\r\n          </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  selected: PropTypes.array.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  close: {\r\n    padding: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nconst $ = require('jquery');\r\n$.DataTable = require('datatables.net-responsive-bs4');\r\n\r\nfunction updateTable(type) {\r\n    const table = $('#paymenthistories').DataTable();\r\n    table.ajax.reload(null, false);\r\n}\r\n\r\nfunction parseRowData(rowData) {\r\n    if( Array.isArray(rowData) && rowData.length > 0){\r\n    rowData.forEach(function(item, index){\r\n        rowData[index]['status'] = item.status ? 'Success': 'Failed'\r\n        rowData[index]['transaction_amount'] = '$'+item.transaction_amount\r\n    });\r\n  }\r\n  return rowData;\r\n}\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [rows, setRowsData] = React.useState([]);\r\n  const [count, setCount] = React.useState(0); // set counter for onload functions\r\n  const [show, setModalDisplay] = React.useState(false); // set modal to show/hide\r\n  const [userIndex, setUser] = React.useState(0); //selected user to perform actions\r\n  const [action, setAction] = React.useState({}); // selected action\r\n  const [temp, setTemp] = React.useState([]); // selected action\r\n  const [isSelectedMany, setSelectedMany] = React.useState(false);\r\n  const [open, setOpen] = React.useState(false); // show/hide Snackbar\r\n  const [message, setMessage] = React.useState('Changes applied successfully!'); // set Messageconst [table, setTable] = React.useState(false); // selected action\r\n  const [table, setTable] = React.useState(false); // selected action\r\n  let history = useHistory();\r\n  let type = props.match.params.type;\r\n\r\n  React.useEffect(() => {\r\n      if($.fn.dataTable.isDataTable( '#paymenthistories' )) {\r\n        let table = $('#paymenthistories').DataTable();\r\n        table.destroy();\r\n        setTable(true);\r\n        setRowsData([]);\r\n      }\r\n      return () => {\r\n          setRowsData([]);\r\n          let dtable = $('#paymenthistories').DataTable();\r\n          dtable.destroy(true);\r\n          setTable(true);\r\n      }\r\n\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (table && $.fn.dataTable.isDataTable( '#paymenthistories' ) ) {\r\n        if(JSON.stringify(rows) !== JSON.stringify(window.prevRows)){\r\n          window.prevRows = rows;\r\n        }\r\n      } else {\r\n        setTable(true);\r\n        loadDatatable();\r\n      }\r\n    }, [rows]);\r\n\r\n\r\n  function loadDatatable() {\r\n    let url = API_URL+'paymenthistories?format=datatables';\r\n    let columnDefs = [\r\n        {\r\n          targets: 0,\r\n          \"createdCell\": function (td, cellData, rowData, row, col) {\r\n            ReactDOM.render(\r\n            <a target=\"_blank\" style={{ cursor: 'pointer' }} onClick={() => history.push(\"/\"+USER_URL+\"/invoices/\"+rowData.transaction_id) }>\r\n            {cellData}\r\n            </a>\r\n                , td\r\n            );\r\n          }\r\n        },\r\n    ];\r\n\r\n    $('#paymenthistories').DataTable({\r\n      responsive: {\r\n        details: {\r\n          renderer: $.fn.dataTable.Responsive.renderer.listHiddenNodes()\r\n        }\r\n      },\r\n      serverSide:true,\r\n      displayStart : getPageNum('paymenthistories', props),\r\n      ajax: {\r\n        url:url ,\r\n        method: \"GET\",\r\n        headers: {'Content-Type': 'application/json', 'Authorization': 'Token '+JSON.parse(localStorage.getItem(LOCAL_STORAGE)).authToken.replace(/['\"]+/g, '')},\r\n        \"dataFilter\": function(data) {\r\n          let json = JSON.parse(data);\r\n          let rowData = parseRowData(json.data);\r\n          setRowsData(rowData);\r\n          json.data = rowData;\r\n          return JSON.stringify(json); // return JSON string\r\n        },\r\n      },\r\n\r\n      // DOM Layout settings\r\n      dom: `<'row'<'col-sm-12'tr>>\r\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\r\n\r\n      lengthMenu: [5, 10, 25, 50],\r\n\r\n      pageLength: 10,\r\n      pagingType: 'numbers',\r\n      recordsTotal: rows.recordsTotal, // The number in my test data set\r\n      recordsFiltered: rows.recordsFiltered,\r\n\r\n      language: {\r\n        'lengthMenu': 'Display _MENU_',\r\n      },\r\n      order: [[4, 'desc']],\r\n      columnDefs:columnDefs ,\r\n    });\r\n    $('#paymenthistories').on( 'page.dt', function () {             \r\n      setPageNum($('#paymenthistories'), 'paymenthistories', props);\r\n    });\r\n  }\r\n\r\n  function handleRequestSort(event, property) {\r\n    const isDesc = orderBy === property && order === 'desc';\r\n    setOrder(isDesc ? 'asc' : 'desc');\r\n    setOrderBy(property);\r\n  }\r\n\r\n  function handleChangePage(event, newPage) {\r\n    setPage(newPage);\r\n  }\r\n\r\n  function handleChangeRowsPerPage(event) {\r\n    setRowsPerPage(+event.target.value);\r\n  }\r\n\r\n  function handleSearch(event) {\r\n    const table = $('#paymenthistories').DataTable();\r\n    table.search( event.target.value ).draw();\r\n  }\r\n\r\n  function handleModalClose(event) {\r\n    setModalDisplay(false);\r\n  }\r\n\r\n  function handleModalShow(event, index, act) {\r\n    setUser(index);\r\n    setAction(act)\r\n    setModalDisplay(true);\r\n  }\r\n\r\n  const handleCloseSnackbar = (event, reason) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isSelected = id => selected.indexOf(id) !== -1;\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.tableWrapper}>\r\n        <div className=\"kt-portlet kt-portlet--mobile\">\r\n            <EnhancedTableToolbar setTemp={setTemp} setRowsData={setRowsData} rows={rows} setSelectedMany={setSelectedMany} setSelected={setSelected} selected={selected} numSelected={selected.length} type={type} />\r\n          <div className=\"kt-portlet__body\">\r\n\r\n            <div className=\"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-xl-12 order-2 order-xl-1\">\r\n                  <div className=\"row align-items-center\">\r\n                    <div className=\"col-md-4 kt-margin-b-20-tablet-and-mobile\">\r\n                      <div className=\"kt-input-icon kt-input-icon--left\">\r\n                        <input onKeyUp={handleSearch}  type=\"text\" className=\"form-control\" placeholder=\"Search...\" id=\"generalSearch\" />\r\n                        <span className=\"kt-input-icon__icon kt-input-icon__icon--left\">\r\n                          <span><i className=\"la la-search\" /></span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n \r\n            <div className=\"kt-section\">\r\n                <div>\r\n                  <table className=\"table table-striped- table-bordered table-hover table-checkable\" id={\"paymenthistories\"}>\r\n                      <thead>\r\n                      <tr>\r\n                          <th data-data=\"transaction_id\">Transaction ID</th>\r\n                          <th data-data=\"customer_name\">Name</th>\r\n                          <th data-data=\"customer_email\">Email</th>\r\n                          <th data-data=\"transaction_amount\">Amount</th>\r\n                          <th data-data=\"trans_date\">Date</th>\r\n                          <th data-data=\"status\">Status</th>\r\n                      </tr>\r\n                      </thead>\r\n                  </table>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport CustomHead from \"../../partials/content/CustomHeader.js\";\r\nimport {Button, Modal, Form, Col, Carousel} from \"react-bootstrap\";\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport {list, patch, MEDIA_URL, USER_URL, STATUSES, NO_IMAGE} from \"../../crud/api\";\r\nimport {Paper, Grid} from \"@material-ui/core\";\r\nimport EasyEdit from 'react-easy-edit';\r\nimport Notice from \"../../partials/content/Notice\";\r\nimport { getDateWithFormat } from \"../../helpers/listing\";\r\nimport { Preview, print } from 'react-html2pdf';\r\nimport \"../../../_metronic/_assets/sass/pages/invoices/invoice-2.scss\";\r\n\r\n\r\nexport class Detail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      invoice:{credits:[]}\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // Typical usage (don't forget to compare props):\r\n    if (!Object.keys(prevProps.stateData.invoice).length) {\r\n      this.setState({invoice:this.props.stateData.invoice})\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let {invoice} = this.state;\r\n    return (\r\n        <div className=\"kt-invoice-2\">\r\n          <div className=\"kt-invoice__head\">\r\n            <div className=\"kt-invoice__container\">\r\n              <div className=\"kt-invoice__brand\">\r\n                <h1 className=\"kt-invoice__title\">INVOICE</h1>\r\n                <div href=\"#\" className=\"kt-invoice__logo\">\r\n                  <a href=\"#\"><img style={{width:'180px', height:'32px'}} src=\"/static/media/logos/airbook.jpg\" /></a>\r\n                  <span className=\"kt-invoice__desc\">\r\n                    <span>Dubai World Central Headquarters Aviation City,</span>\r\n                    <span> Dubai South</span>\r\n                    <span>P.O. Box 712430 Dubai, </span>\r\n                    <span>United Arab Emirates</span>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"kt-invoice__items\">\r\n                <div className=\"kt-invoice__item\">\r\n                  <span className=\"kt-invoice__subtitle\">Name</span>\r\n                  <span className=\"kt-invoice__text\">{invoice.customer_name}</span>\r\n                </div>\r\n                <div className=\"kt-invoice__item\">\r\n                  <span className=\"kt-invoice__subtitle\">DATA</span>\r\n                  <span className=\"kt-invoice__text\">{invoice.trans_date}</span>\r\n                </div>\r\n                <div className=\"kt-invoice__item\">\r\n                  <span className=\"kt-invoice__subtitle\">INVOICE NO.</span>\r\n                  <span className=\"kt-invoice__text\">{invoice.transaction_id}</span>\r\n                </div>\r\n                <div className=\"kt-invoice__item\">\r\n                  <span className=\"kt-invoice__subtitle\">INVOICE TO.</span>\r\n                  <span className=\"kt-invoice__text\">{invoice.customer_email}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"kt-invoice__body\">\r\n            <div className=\"kt-invoice__container\">\r\n              <div className=\"table-responsive\">\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Asset</th>\r\n                      <th>Credits</th>\r\n                      <th>Unit Price</th>\r\n                      <th>Total</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    \r\n                      {invoice.credits.map(credit => {\r\n                        if(credit.quantity != 0)\r\n                          return <tr>\r\n                                  <td>{credit.type}</td>\r\n                                  <td>{credit.quantity}</td>\r\n                                  <td>{credit.unit_price}</td>\r\n                                  <td>{credit.unit_price * credit.quantity}</td>\r\n                                  </tr>\r\n                      })}\r\n                    \r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"kt-invoice__footer\">\r\n            <div className=\"kt-invoice__container\">\r\n              <div className=\"table-responsive\">\r\n                <table className=\"table text-right\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th></th>\r\n                      <th></th>\r\n                      <th></th>\r\n                      <th>TOTAL AMOUNT</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td className=\"kt-font-danger kt-font-xl kt-font-boldest\">{invoice.transaction_amount} USD</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass DetailPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: 'Invoice', \r\n      invoice: {},\r\n      credits:{aircraft:0, engine:0, apu:0}\r\n    };\r\n    const { invoice_id} = this.props.match.params;\r\n    this.getInvoice(invoice_id);\r\n  }\r\n\r\n  getInvoice(invoice_id) {\r\n    list('paymenthistories/'+invoice_id+'/').then(\r\n      (response) => {\r\n          let invoice = response.data;\r\n          invoice.trans_date = new Intl.DateTimeFormat().format(new Date(invoice.trans_date))\r\n          this.setState({invoice : response.data})\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <CustomHead\r\n              beforeCodeTitle={'Invoice detail for customer '+this.state.invoice.customer_name}\r\n              jsCode =   {<div className=\"kt-portlet__head-toolbar\">\r\n              <div className=\"kt-portlet__head-wrapper\">\r\n                <div className=\"kt-portlet__head-actions\">\r\n                  <div className=\"dropdown dropdown-inline\">\r\n                      <Link to={\"/\"+USER_URL+\"/invoices/\"} className=\"btn btn-clean btn-icon-sm\">\r\n                        <i className=\"la la-long-arrow-left\"></i>\r\n                        Back\r\n                      </Link>\r\n                       <Link onClick={()=>print('airbook-invoice', 'invoice-template')} className=\"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record\">\r\n                            <i className=\"la la-download\"></i>\r\n                            Download\r\n                        </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> }\r\n            >\r\n              <div className=\"kt-section\">\r\n                <Preview id={'invoice-template'} >\r\n                  <Detail data={this.props} stateData={this.state} />\r\n                </Preview>\r\n              </div>\r\n            </CustomHead>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(DetailPage);","import React from \"react\";\r\nimport CustomHead from \"../../partials/content/CustomHeader.js\";\r\nimport {Button, Modal, Form, Col} from \"react-bootstrap\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {list, patch, MEDIA_URL} from \"../../crud/api\";\r\nimport {Paper, Grid} from \"@material-ui/core\";\r\nimport EasyEdit from 'react-easy-edit';\r\nimport Notice from \"../../partials/content/Notice\";\r\n\r\n\r\nclass Detail extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const user_id = props.data.userProp.contact ? props.data.userProp.contact.id :  null;\r\n        const divStyle = {\r\n            padding: '15px'\r\n        };\r\n        this.txt_weight = {fontWeight: 500}\r\n        this.handleModalShow = this.handleModalShow.bind(this);\r\n        this.handleModalClose = this.handleModalClose.bind(this);\r\n        this.confirm = this.confirm.bind(this);\r\n        this.state = {\r\n            contact: {},\r\n            action: '',\r\n            showModal: false,\r\n            created_at: '',\r\n            updated_at: '',\r\n            image: null,\r\n            is_published: ''\r\n\r\n        };\r\n        this.getUser(user_id);\r\n        this.divStyle = divStyle;\r\n    }\r\n\r\n    getUser(contact_id) {\r\n        list('contacts/' + contact_id + '/').then(\r\n            (response) => {\r\n                this.setState({\r\n                    created_at: new Intl.DateTimeFormat().format(new Date(response.data.created_at)),\r\n                    updated_at: new Intl.DateTimeFormat().format(new Date(response.data.updated_at)),\r\n                    image: response.data.media ? response.data.media.original_file_name : null\r\n                });\r\n                //this.props.setTitle(response.data.first_name+' '+ response.data.last_name);\r\n                this.setState({contact: response.data})\r\n            });\r\n    }\r\n\r\n    handleChange(val, attr) {\r\n        var contact = this.state.contact;\r\n\r\n        contact[attr] = val;\r\n        this.setState({contact: contact})\r\n        patch('contacts/' + this.state.contact.id + '/', this.state.contact).then(\r\n            (response) => {\r\n                this.setState({contact: response.data});\r\n            }).catch(error => {\r\n            this.props.sendError(error.response.data);\r\n        });\r\n    }\r\n\r\n    handleModalShow(event, action) {\r\n        var val = event.target.value;\r\n        if (action === 'status') {\r\n            val = parseInt(val);\r\n            this.setState({is_published: val === 1 ? 0 : 1})\r\n        }\r\n        this.setState({action: action});\r\n        this.setState({showModal: true});\r\n    }\r\n\r\n    handleModalClose() {\r\n        this.setState({showModal: false});\r\n    }\r\n\r\n    confirm() {\r\n        if (this.state.action === 'status') {\r\n            this.state.contact.is_published = this.state.is_published;\r\n            patch('contacts/' + this.state.contact.id + '/', {is_published: this.state.is_published}).then(\r\n                (response) => {\r\n                    this.setState({contact: response.data});\r\n                    this.setState({showModal: false});\r\n                }).catch(error => {\r\n                this.props.sendError(error.response.data);\r\n                this.setState({showModal: false});\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const {validated, contact} = this.state;\r\n        console.log(this.state.image);\r\n        return (\r\n            <div>\r\n                <Grid container spacing={3}>\r\n                    <Grid item xs={12} md={9}>\r\n                        <Form>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Name</Form.Label><br/>\r\n                                    <Form.Label\r\n                                        style={this.txt_weight}>{contact.first_name + ' ' + contact.last_name}</Form.Label>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Religion</Form.Label><br/>\r\n                                    <Form.Label style={this.txt_weight}>{contact.religion}</Form.Label>\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <hr/>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Company</Form.Label><br/>\r\n                                    <Form.Label\r\n                                        style={this.txt_weight}>{contact.company ? contact.company.name : ''}</Form.Label>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Job Title</Form.Label><br/>\r\n                                    <Form.Label\r\n                                        style={this.txt_weight}>{contact.job_title ? contact.job_title.name : ''}</Form.Label>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Department</Form.Label><br/>\r\n                                    <Form.Label\r\n                                        style={this.txt_weight}>{contact.department ? contact.department.name : ''}</Form.Label>\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <hr/>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Mobile Phone</Form.Label><br/>\r\n                                    <Form.Label style={this.txt_weight}>{contact.mobile_phone}</Form.Label>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Business Phone</Form.Label><br/>\r\n                                    <Form.Label style={this.txt_weight}>{contact.business_phone}</Form.Label>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Skype</Form.Label><br/>\r\n                                    <Form.Label style={this.txt_weight}>{contact.skype}</Form.Label>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Linkedin</Form.Label><br/>\r\n                                    <Form.Label style={this.txt_weight}>{contact.linkedin}</Form.Label>\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <hr/>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Address</Form.Label><br/>\r\n                                    <Form.Label style={this.txt_weight}>{contact.address}</Form.Label>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>City</Form.Label><br/>\r\n                                    <Form.Label\r\n                                        style={this.txt_weight}>{contact.city ? contact.city.name : ''}</Form.Label>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>State</Form.Label><br/>\r\n                                    <Form.Label\r\n                                        style={this.txt_weight}>{contact.state ? contact.state.name : ''}</Form.Label>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Country</Form.Label><br/>\r\n                                    <Form.Label\r\n                                        style={this.txt_weight}>{contact.country ? contact.country.name : ''}</Form.Label>\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <hr/>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Preferred contact method</Form.Label><br/>\r\n                                    <Form.Label style={this.txt_weight}>{contact.preferred_contact_method}</Form.Label>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col} md=\"6\" xs=\"12\">\r\n                                    <Form.Label>Primary Status</Form.Label><br/>\r\n                                    <Form.Label style={this.txt_weight}>{contact.is_primary == 0 ? 'No' : 'Yes'}</Form.Label>\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n\r\n                        </Form>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={3}>\r\n                        <img style={{maxHeight: '220px', maxWidth: '200px'}}\r\n                             src={this.state.image ? MEDIA_URL + this.state.image : MEDIA_URL + 'dummy_image.svg'}/>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <Modal show={this.state.showModal} onHide={this.handleModalClose}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Confirm</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"danger\" onClick={this.confirm}>\r\n                            Yes\r\n                        </Button>\r\n                        <Button variant=\"success\" onClick={this.handleModalClose}>\r\n                            No\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass DetailPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {errors: {}, showError: false, title: 'Account Setting'};\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n\r\n    setMainTitle = (value) => {\r\n        this.setState({title: value});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                console.log(error);\r\n                                return <li key={index + i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                        <CustomHead\r\n                            beforeCodeTitle={this.state.title}\r\n                            jsCode={<div className=\"kt-portlet__head-toolbar\">\r\n                                <div className=\"kt-portlet__head-wrapper\">\r\n                                    <div className=\"kt-portlet__head-actions\">\r\n                                        <div className=\"dropdown dropdown-inline\">\r\n                                            <button onClick={() => this.props.history.push(\"/user/update-account-password\")} className=\"btn btn-brand btn-square btn-icon-sm mr-2\">\r\n                                                Update Password\r\n                                            </button>\r\n                                            <button onClick={() => this.props.history.push(\"/user/contacts/\" + this.props.userProp.contact.id + \"/edit\")}\r\n                                                    className=\"btn btn-primary\">\r\n                                                <i className=\"la la-edit\"/>\r\n                                                Edit\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>}\r\n                        >\r\n                            <div className=\"kt-section\">\r\n                                <Detail data={this.props} sendError={this.sendError} setTitle={this.setMainTitle}/>\r\n                            </div>\r\n                        </CustomHead>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(DetailPage);\r\n","import React from \"react\";\r\nimport Notice from \"../../partials/content/Notice\";\r\nimport CustomHead from \"../../partials/content/CustomHeader.js\";\r\nimport {Button, Form, Col, Row} from \"react-bootstrap\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {list, post, PERMISSIONS} from \"../../crud/api\";\r\nimport {Paper, Grid, Snackbar, SnackbarContent, IconButton, withStyles} from \"@material-ui/core\";\r\nimport {\r\n    CheckCircle as CheckCircleIcon, Close as CloseIcon,\r\n    Error as ErrorIcon,\r\n    Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from \"@material-ui/icons\";\r\nimport {amber, green} from \"@material-ui/core/colors\";\r\nimport clsx from \"clsx\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\nconst useStylesSnackbarContent = theme => ({\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n});\r\n\r\nfunction AeroSnackbarContent(props) {\r\n    const {classes, className, message, onClose, variant, ...other} = props;\r\n    const Icon = variantIcon[variant];\r\n    return (\r\n        <SnackbarContent\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n              <Icon className={clsx(classes.icon, classes.iconVariant)}/>\r\n                    {message}\r\n            </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon}/>\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nAeroSnackbarContent.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.string,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst SnackbarContentWrapper = withStyles(useStylesSnackbarContent)(AeroSnackbarContent);\r\n\r\nclass Edit extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const user_id = props.data.userProp ? props.data.userProp.id : null;\r\n\r\n        this.state = {\r\n            validated: false,\r\n            user: {},\r\n            showSnackbar: false,\r\n            variant: 'success',\r\n        };\r\n\r\n        this.getUser(user_id);\r\n    }\r\n\r\n    getUser(user_id) {\r\n        list('users/' + user_id + '/').then(\r\n            (response) => {\r\n                this.setState({user: response.data,})\r\n            });\r\n    }\r\n\r\n    handleChange(event) {\r\n        var user = this.state.user;\r\n        var attr = event.target.name;\r\n        var val = event.target.value;\r\n\r\n        if (attr == 'current_password' || attr == 'newest_password') {\r\n            if (val != '' && val.length < 8){\r\n                this.setState({\r\n                    showSnackbar: true,\r\n                    variant: \"error\",\r\n                    snackMessage: \"The password field must be at least 8 characters.\",\r\n                });\r\n            }else{\r\n                this.setState({showSnackbar: false})\r\n            }\r\n\r\n        }\r\n\r\n        user[attr] = val;\r\n        this.setState({user: user})\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.setState({validated: true});\r\n        let user = this.state.user;\r\n        post('changepassword', user).then(\r\n            (response) => {\r\n                this.props.data.history.push(\"/user/dashboard\");\r\n            }).catch(error => {;\r\n            this.setState({\r\n                showSnackbar: true,\r\n                variant: \"error\",\r\n                snackMessage: error.response.data.error,\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    handleCloseSnackbar = () => {\r\n        this.setState({showSnackbar: false})\r\n    }\r\n\r\n    render() {\r\n        const {user} = this.state;\r\n        return (\r\n            <div>\r\n                <Form\r\n                    noValidate\r\n                    onSubmit={e => this.handleSubmit(e)}\r\n                >\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column sm=\"3\"\r\n                                    className=\"text-sm-right text-left\">Current Password</Form.Label>\r\n                        <Col sm=\"9\" lg=\"6\">\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                placeholder=\"\"\r\n                                name=\"current_password\"\r\n                                onChange={e => this.handleChange(e)}\r\n                            />\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column sm=\"3\"\r\n                                    className=\"text-sm-right text-left\">New Password</Form.Label>\r\n                        <Col sm=\"9\" lg=\"6\">\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                placeholder=\"\"\r\n                                name=\"newest_password\"\r\n                                onChange={e => this.handleChange(e)}\r\n                            />\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Button type=\"submit\" className=\"btn btn-primary\">\r\n                        <i className=\"la la-save\"/>\r\n                        Update\r\n                    </Button>\r\n                    &nbsp;&nbsp;\r\n\r\n                    <Link to=\"/user/account-setting\" className=\"btn btn-danger\">\r\n                        <i className=\"la la-remove\"/>\r\n                        Cancel\r\n                    </Link>\r\n                </Form>\r\n\r\n                <Snackbar\r\n                    anchorOrigin={{\r\n                        vertical: 'bottom',\r\n                        horizontal: 'right',\r\n                    }}\r\n                    open={this.state.showSnackbar}\r\n                    autoHideDuration={1600000}\r\n                    onClose={this.handleCloseSnackbar}\r\n                >\r\n                    <SnackbarContentWrapper\r\n                        onClose={this.handleCloseSnackbar}\r\n                        variant={this.state.variant}\r\n                        message={this.state.snackMessage}\r\n                    />\r\n                </Snackbar>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// const { Formik } = formik;\r\nconst buttons = <Link to=\"/user/account-setting\" className=\"btn btn-clean btn-icon-sm\">\r\n    <i className=\"la la-long-arrow-left\"></i>\r\n    Back\r\n</Link>\r\n\r\nclass EditPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {errors: {}, showError: false};\r\n        this.sendError = this.sendError.bind(this);\r\n    }\r\n\r\n    sendError(error) {\r\n        if (Object.keys(error).length)\r\n            this.setState({showError: true});\r\n\r\n        this.setState({errors: error});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Notice icon=\"flaticon-warning kt-font-primary\"\r\n                        style={{display: this.state.showError ? 'flex' : 'none'}}>\r\n                    {\r\n                        Object.keys(this.state.errors).map((key, index) => {\r\n                            return this.state.errors[key].map((error, i) => {\r\n                                return <li key={index + i}>{key.charAt(0).toUpperCase() + key.slice(1)} : {error}</li>\r\n                            });\r\n                        })\r\n                    }\r\n                </Notice>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                        <CustomHead\r\n                            beforeCodeTitle=\"Update Password\"\r\n                            jsCode={<div className=\"kt-portlet__head-toolbar\">\r\n                                <div className=\"kt-portlet__head-wrapper\">\r\n                                    <div className=\"kt-portlet__head-actions\">\r\n                                        <div className=\"dropdown dropdown-inline\">\r\n                                            {buttons}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>}\r\n                        >\r\n                            <div className=\"kt-section\">\r\n                                <Edit data={this.props} sendError={this.sendError}/>\r\n                            </div>\r\n                        </CustomHead>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(EditPage);\r\n","import React from \"react\";\r\n\r\nexport const HeaderDropdownToggle = React.forwardRef((props, ref) => {\r\n    return (\r\n        <div\r\n            ref={ref}\r\n            className=\"kt-header__topbar-wrapper\"\r\n            onClick={e => {\r\n                e.preventDefault();\r\n                props.onClick(e);\r\n            }}\r\n        >\r\n            {props.children}\r\n        </div>\r\n    );\r\n});\r\n\r\nHeaderDropdownToggle.displayName = 'HeaderDropdownToggle';\r\nexport default HeaderDropdownToggle;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"Stockholm-icons / Shopping / Cart3\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Stockholm-icons-/-Shopping-/-Cart3\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"rect\", {\n  id: \"bound\",\n  x: 0,\n  y: 0,\n  width: 24,\n  height: 24\n}), React.createElement(\"path\", {\n  d: \"M12,4.56204994 L7.76822128,9.6401844 C7.4146572,10.0644613 6.7840925,10.1217854 6.3598156,9.76822128 C5.9355387,9.4146572 5.87821464,8.7840925 6.23177872,8.3598156 L11.2317787,2.3598156 C11.6315738,1.88006147 12.3684262,1.88006147 12.7682213,2.3598156 L17.7682213,8.3598156 C18.1217854,8.7840925 18.0644613,9.4146572 17.6401844,9.76822128 C17.2159075,10.1217854 16.5853428,10.0644613 16.2317787,9.6401844 L12,4.56204994 Z\",\n  id: \"Path-30\",\n  fill: \"#000000\",\n  fillRule: \"nonzero\",\n  opacity: 0.3\n}), React.createElement(\"path\", {\n  d: \"M3.5,9 L20.5,9 C21.0522847,9 21.5,9.44771525 21.5,10 C21.5,10.132026 21.4738562,10.2627452 21.4230769,10.3846154 L17.7692308,19.1538462 C17.3034221,20.271787 16.2111026,21 15,21 L9,21 C7.78889745,21 6.6965779,20.271787 6.23076923,19.1538462 L2.57692308,10.3846154 C2.36450587,9.87481408 2.60558331,9.28934029 3.11538462,9.07692308 C3.23725479,9.02614384 3.36797398,9 3.5,9 Z M12,17 C13.1045695,17 14,16.1045695 14,15 C14,13.8954305 13.1045695,13 12,13 C10.8954305,13 10,13.8954305 10,15 C10,16.1045695 10.8954305,17 12,17 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\"\n}));\n\nvar SvgCartNum3 = function SvgCartNum3(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCartNum3, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/CartNum3.41e04e34.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\nimport { toAbsoluteUrl } from \"../../../_metronic\";\r\nimport HeaderDropdownToggle from \"../../partials/content/CustomDropdowns/HeaderDropdownToggle\";\r\nimport { ReactComponent as CartNum3Icon } from \"../../../_metronic/layout/assets/layout-svg-icons/CartNum3.svg\";\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\nimport { list, patch, USER_URL, setLocalStorageItem, post} from \"../../crud/api\";\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    IconButton, Paper, FormControlLabel, Switch, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent\r\n} from '@material-ui/core';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\n\r\nconst perfectScrollbarOptions = {\r\n    wheelSpeed: 2,\r\n    wheelPropagation: false\r\n  };\r\n  \r\n  const variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n  };\r\n  \r\n  const useStylesSnackbarContent = makeStyles(theme => ({\r\n    success: {\r\n      backgroundColor: green[600],\r\n    },\r\n    error: {\r\n      backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n      backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n      backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n      fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n      opacity: 0.9,\r\n      marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n    },\r\n  }));\r\n  \r\n  function SnackbarContentWrapper(props) {\r\n    const classes = useStylesSnackbarContent();\r\n    const { className, message, onClose, variant, ...other } = props;\r\n    const Icon = variantIcon[variant];\r\n  \r\n    return (\r\n      <SnackbarContent\r\n        className={clsx(classes[variant], className)}\r\n        aria-describedby=\"client-snackbar\"\r\n        message={\r\n          <span id=\"client-snackbar\" className={classes.message}>\r\n            <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n            {message}\r\n          </span>\r\n        }\r\n        action={[\r\n          <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n            <CloseIcon className={classes.icon} />\r\n          </IconButton>,\r\n        ]}\r\n        {...other}\r\n      />\r\n    );\r\n  }\r\n  \r\n  SnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.string,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n  };\r\n  \r\nexport class Cart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      products : [],\r\n      total: 0,\r\n      quantity:0,\r\n      open:true,\r\n      showDropdown:true,\r\n      message:'Error occur - try again',\r\n      message_type:'error',\r\n    }\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    list(\"pricing\").then((response) => {\r\n      this.setState({ products: response.data });\r\n      this.calculateTotal()\r\n      setLocalStorageItem(\"credits\", response.data);\r\n    });\r\n  }\r\n\r\n  setQuantity = (i,op) => {\r\n    let products = this.state.products;\r\n    if(op === '+')\r\n      products[i].credits.cart_val += 1;\r\n    else {\r\n      if(products[i].credits.cart_val > 0)\r\n        products[i].credits.cart_val -= 1;\r\n    }\r\n\r\n    if('id' in products[i].credits)\r\n      patch('credits/'+products[i].credits.id+'/', {\r\n        cart_val:products[i].credits.cart_val\r\n      }).then(\r\n        (response) => {\r\n          // this.setState({products:response.data})\r\n      });\r\n    else\r\n      post('credits',{\r\n        cart_val:products[i].credits.cart_val,\r\n        pricing:products[i].id,\r\n      }).then(\r\n        (response) => {\r\n          products[i].credits.id = response.data.id\r\n          this.setState({products:products}, () => {\r\n            this.calculateTotal()\r\n          })\r\n      });\r\n\r\n    this.setState({products:products}, () => {\r\n      this.calculateTotal()\r\n    })\r\n  }\r\n\r\n  calculateTotal = () => {\r\n    let total = 0, quantity = 0, products = this.state.products;\r\n    products.map(product => {\r\n      total += (product.credits.cart_val * product.price)\r\n      quantity += product.credits.cart_val\r\n\r\n    })\r\n    this.setState({total:total, quantity});\r\n  }\r\n\r\n\r\n  handleCloseSnackbar = (event, reason) => {\r\n    this.setState({open:false});\r\n  };\r\n\r\n  toggle(e) {\r\n    if (this.state.dropdownOpen && (e.target === this.dropdown.current || !this.dropdown.current.contains(e.target))) return;\r\n    this.setState(prevState => ({\r\n      dropdownOpen: !prevState.dropdownOpen\r\n    }));\r\n  }\r\n\r\n\r\n  render() {\r\n    const { bgImage, useSVG, icon, iconType } = this.props;\r\n    const { products, total } = this.state;\r\n\r\n    const onSuccess = (payment) => {\r\n      this.setState({\r\n              message_type: 'info',\r\n              message: 'Finalizing! please wait',\r\n              open: true,\r\n              showDropdown:false\r\n            })\r\n      post('paymenthistories_update_payment',payment).then(\r\n        (response) => {\r\n          if(response.data.type == 'success') {\r\n            this.setState({\r\n              message_type: response.data.type,\r\n              message: response.data.message,\r\n            })\r\n            let new_products = [], new_product = {};\r\n            this.state.products.map(product => {\r\n              new_product = {};\r\n              Object.keys(product).map(key => {\r\n                new_product[key] = product[key]\r\n                if(key == 'credits') {\r\n                  new_product[key].value = product[key].cart_val + product[key].value\r\n                  new_product[key].cart_val = 0\r\n                }\r\n              })\r\n              new_products.push(new_product);\r\n            })\r\n            this.setState({products:new_products, total:0, quantity:0})\r\n            this.props.propsData.history.push('/'+USER_URL+'/invoices/'+response.data.transaction_id)\r\n          }\r\n      });\r\n    }\r\n\r\n    const onCancel = (data) => {\r\n        // User pressed \"cancel\" or close Paypal's popup!\r\n        this.setState({\r\n              message_type:'error',\r\n              message: 'Paypal: The payment was cancelled!',\r\n              open: true,\r\n              showDropdown:false\r\n            })\r\n        // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\r\n    }\r\n\r\n    const onError = (err) => {\r\n        // The main Paypal's script cannot be loaded or somethings block the loading of that script!\r\n        console.log(\"Error!\", err);\r\n        this.setState({\r\n          message_type:'error',\r\n          message: 'Paypal: '+err.message,\r\n          open: true,\r\n        })\r\n        // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\r\n        // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\r\n    }\r\n\r\n    let env = process.env.REACT_APP_PAYMENT_MODE; // you can set here to 'production' for production\r\n    let currency = 'USD'; // or you can set this value from your props or state\r\n     // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\r\n    // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\r\n\r\n    const client = {\r\n        sandbox:    process.env.REACT_APP_PAYPAL_CLIENT_ID,\r\n        production: 'YOUR-PRODUCTION-APP-ID',\r\n    }\r\n    return (\r\n      <div style={{alignContent:'right'}} className=\"main\">\r\n           <form className=\"flex-column p-0\">\r\n            <div className=\"kt-mycart\">\r\n              <div\r\n                className=\"kt-mycart__head kt-head\"\r\n                style={{ backgroundImage: `url(${toAbsoluteUrl(\"/media/misc/bg-1.jpg\")})` }}\r\n              >\r\n                <div className=\"kt-mycart__info\">\r\n                  <span className=\"kt-mycart__icon\">\r\n                    <i className=\"flaticon2-shopping-cart-1 kt-font-success\" />\r\n                  </span>\r\n                  <h3 className=\"kt-mycart__title\">My Cart</h3>\r\n                </div>\r\n                <div className=\"kt-mycart__button\">\r\n                  <button type=\"button\" className=\"btn btn-success btn-sm\">\r\n                    {this.state.quantity} Items\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n                <div className=\"kt-mycart__body bg-white\" style={{fontSize:'15px'}}>\r\n\r\n                  {products.map((product, i) => {\r\n                    return <div className=\"kt-mycart__item\">\r\n                      <div className=\"kt-mycart__container\">\r\n                        <div className=\"kt-mycart__info\">\r\n                          <Link to=\"cart-item\" className=\"kt-mycart__title\">\r\n                            {product.name}\r\n                          </Link>\r\n\r\n                          <span className=\"kt-mycart__desc\">\r\n                            {product.description}\r\n                          </span>\r\n\r\n                          <div className=\"kt-mycart__action\">\r\n                            <span className=\"kt-mycart__price\">$ {product.price * product.credits.cart_val}</span>\r\n                            <span className=\"kt-mycart__text\">for</span>\r\n                            <span className=\"kt-mycart__quantity\">{product.credits.cart_val}</span>\r\n                            <span className=\"btn btn-danger btn-icon\" onClick={()=>this.setQuantity(i, '-')} style={{position:\"absolute\", marginLeft:\"110px\"}}>\r\n                              −\r\n                            </span>\r\n                            <span className=\"btn btn-success btn-icon\" onClick={()=>this.setQuantity(i, '+')} style={{position:\"absolute\", marginLeft:\"135px\"}}>\r\n                              +\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"kt-mycart__info\">\r\n                          <Link to=\"cart-item\" className=\"kt-mycart__title\">\r\n                            Existing Credits\r\n                          </Link>\r\n\r\n                          <span className=\"kt-mycart__desc\">\r\n                            {product.credits.value ? product.credits.value:0}\r\n                          </span>\r\n\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  })}\r\n                </div>\r\n\r\n              <div className=\"kt-mycart__footer bg-white\" fontWeight='fontWeightBold'>\r\n                <div className=\"kt-mycart__section\">\r\n                  <div className=\"kt-mycart__subtitel font-weight-bold\" fontWeight='fontWeightBold'>\r\n                    <span>Sub Total</span>\r\n                    <span>Discount</span>\r\n                    <span>Total</span>\r\n                  </div>\r\n\r\n                  <div className=\"kt-mycart__prices\">\r\n                    <span>$ {total}</span>\r\n                    <span>$ 0</span>\r\n                    <span className=\"kt-font-brand\">$ {total}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"kt-mycart__button kt-align-right\">\r\n                  {total > 0 ?\r\n                    <PaypalExpressBtn env={env} client={client} currency={currency} total={total} onError={onError} onSuccess={onSuccess} onCancel={onCancel} />\r\n                  : ''}\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Cart;\r\n","import React, { Suspense, lazy } from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport Builder from \"./Builder\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport DocsPage from \"./docs/DocsPage\";\r\nimport { LayoutSplashScreen } from \"../../../_metronic\";\r\nimport {USER_URL} from \"../../crud/api\";\r\n\r\nimport AircraftAssetsCreate from \"../assets/aircraft/Create\";\r\nimport AircraftAssetsDetail from \"../assets/aircraft/Detail\";\r\nimport AircraftAssetsEdit from \"../assets/aircraft/Edit\";\r\nimport AircraftAssetsList from \"../assets/aircraft/List\";\r\n\r\nimport ApuAssetsList from \"../assets/apu/List\";\r\nimport ApuAssetsEdit from \"../assets/apu/Edit\";\r\nimport ApuAssetsCreate from \"../assets/apu/Create\";\r\nimport ApuAssetsDetail from \"../assets/apu/Detail\";\r\n\r\nimport ContactsList from \"../../pages/contacts/List\";\r\nimport ContactsCreate from \"../../pages/contacts/Create\";\r\nimport ContactsEdit from \"../../pages/contacts/Edit\";\r\nimport ContactsView from \"../../pages/contacts/Detail\";\r\n\r\nimport ConnectionList from \"../connection/List\";\r\nimport FavouriteList from \"../favourite/List\";\r\n\r\nimport CompanyEdit from \"../../pages/company/Edit\";\r\n\r\nimport EngineAssetsList from \"../assets/engine/List\";\r\nimport EngineAssetsEdit from \"../assets/engine/Edit\";\r\nimport EngineAssetsCreate from \"../assets/engine/Create\";\r\nimport EngineAssetsDetail from \"../assets/engine/Detail\";\r\n\r\nimport LeadList from \"../lead/List\";\r\nimport LeadDetail from \"../../pages/lead/Detail\";\r\n\r\nimport PartAssetsList from \"../assets/parts/List\";\r\nimport PartAssetsEdit from \"../assets/parts/Edit\";\r\nimport PartAssetsCreate from \"../assets/parts/Create\";\r\nimport PartAssetsDetail from \"../assets/parts/Detail\";\r\n\r\nimport WantedAssetsCreate from \"../assets/wanted/Create\";\r\nimport WantedAssetsDetail from \"../assets/wanted/Detail\";\r\nimport WantedAssetsEdit from \"../assets/wanted/Edit\";\r\nimport WantedAssetsList from \"../assets/wanted/List\";\r\n\r\nimport InvoiceList from \"../invoice/List\";\r\nimport InvoiceDetail from \"../invoice/Detail\";\r\nimport * as routerHelpers from \"../../router/RouterHelpers\";\r\nimport AccountSettings from \"../security/Account\";\r\nimport UserUpdatePassword from \"../security/UserUpdatePassword\";\r\nimport Cart from '../cart/cart'\r\n\r\nconst GoogleMaterialPage = lazy(() =>\r\n  import(\"./google-material/GoogleMaterialPage\")\r\n);\r\nconst ReactBootstrapPage = lazy(() =>\r\n  import(\"./react-bootstrap/ReactBootstrapPage\")\r\n);\r\n\r\nexport default function HomePage(props) {\r\n  let extra_data = props.extra_data;\r\n  extra_data.user = props.user;\r\n  props.setExtraData(extra_data);\r\n\r\n  return (\r\n    <Suspense fallback={<LayoutSplashScreen />}>\r\n      <Switch>\r\n        {\r\n          /* Redirect from root URL to /dashboard. */\r\n          <Redirect exact from=\"/\" to={\"/\"+USER_URL+\"/dashboard\"} />\r\n        }\r\n        <Route path=\"/builder\" component={Builder} />\r\n        <Route path={\"/\"+USER_URL+\"/dashboard\"} component={Dashboard} />\r\n        <Route path=\"/google-material\" component={GoogleMaterialPage} />\r\n        <Route path=\"/react-bootstrap\" component={ReactBootstrapPage} />\r\n        <Route path=\"/docs\" component={DocsPage} />\r\n\r\n        <Route exact\r\n          path={\"/\"+USER_URL+\"/aircraft/asset\"}\r\n          render={(routeProps) => <AircraftAssetsList {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n\r\n        <Route\r\n          path={\"/\"+USER_URL+\"/aircraft/asset/create\"}\r\n          render={(routeProps) => <AircraftAssetsCreate {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n\r\n        <Route\r\n          path={\"/\"+USER_URL+\"/aircraft/asset/:aircraft_id/edit\"}\r\n          render={(routeProps) => <AircraftAssetsEdit {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n        <Route path={\"/\"+USER_URL+\"/aircraft/asset/:aircraft_id\"} component={AircraftAssetsDetail} />\r\n\r\n        <Route exact\r\n          path={\"/\"+USER_URL+\"/apu/asset\"}\r\n          render={(routeProps) => <ApuAssetsList {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n\r\n        <Route\r\n          path={\"/\"+USER_URL+\"/apu/asset/create\"}\r\n          render={(routeProps) => <ApuAssetsCreate {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n\r\n        <Route path={\"/\"+USER_URL+\"/apu/asset/:apu_id/edit\"}\r\n          render={(routeProps) => <ApuAssetsEdit {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n        <Route path={\"/\"+USER_URL+\"/apu/asset/:apu_id\"} component={ApuAssetsDetail} />\r\n\r\n        <Route exact path={\"/\"+USER_URL+\"/contacts\"} component={ContactsList} />\r\n        <Route path={\"/\"+USER_URL+\"/contacts/create\"} component={ContactsCreate} />\r\n        <Route path={\"/\"+USER_URL+\"/contacts/:contact_id/edit\"} component={ContactsEdit} />\r\n        <Route path={\"/\"+USER_URL+\"/contacts/:contact_id\"} component={ContactsView} />\r\n\r\n         <Route\r\n          path={\"/\"+USER_URL+\"/connection\"}\r\n          render={(routeProps) => <ConnectionList {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n\r\n        <Route\r\n          path={\"/\"+USER_URL+\"/favourite\"}\r\n          render={(routeProps) => <FavouriteList {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n\r\n        <Route path={\"/\"+USER_URL+\"/company/edit\"} render={(routeProps) => <CompanyEdit {...routeProps} userProp={props.user} />} />\r\n\r\n        <Route exact\r\n          path={\"/\"+USER_URL+\"/engine/asset\"}\r\n          render={(routeProps) => <EngineAssetsList {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n\r\n        <Route\r\n          path={\"/\"+USER_URL+\"/engine/asset/create\"}\r\n          render={(routeProps) => <EngineAssetsCreate {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n\r\n        <Route path={\"/\"+USER_URL+\"/engine/asset/:engine_id/edit\"}\r\n        render={(routeProps) => <EngineAssetsEdit {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n        <Route path={\"/\"+USER_URL+\"/engine/asset/:engine_id\"} component={EngineAssetsDetail} />\r\n\r\n        <Route exact\r\n          path={\"/\"+USER_URL+\"/part/asset\"}\r\n          render={(routeProps) => <PartAssetsList {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n        <Route path={\"/\"+USER_URL+\"/part/asset/create\"}\r\n          render={(routeProps) => <PartAssetsCreate {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n        <Route path={\"/\"+USER_URL+\"/part/asset/:part_id/edit\"}\r\n          render={(routeProps) => <PartAssetsEdit {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n        <Route path={\"/\"+USER_URL+\"/part/asset/:part_id\"} component={PartAssetsDetail} />\r\n\r\n        {/*Leads Routes*/}\r\n        {/*<Route exact path={\"/\"+USER_URL+\"/lead\"} component={LeadList} />*/}\r\n        <Route\r\n          path={\"/\"+USER_URL+\"/lead\"}\r\n          render={(routeProps) => <LeadList {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n        <Route exact path={\"/\"+USER_URL+\"/leads/:lead_id\"} component={LeadDetail} />\r\n\r\n        <Route exact\r\n          path={\"/\"+USER_URL+\"/wanted/asset\"}\r\n          render={(routeProps) => <WantedAssetsList {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n        <Route path={\"/\"+USER_URL+\"/wanted/asset/create\"}\r\n          render={(routeProps) => <WantedAssetsCreate {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n        <Route path={\"/\"+USER_URL+\"/wanted/asset/:wanted_id/edit\"}\r\n               render={(routeProps) => <WantedAssetsEdit {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n        <Route path={\"/\"+USER_URL+\"/wanted/asset/:wanted_id\"} component={WantedAssetsDetail} />\r\n\r\n        <Route exact\r\n          path={\"/\"+USER_URL+\"/invoices\"}\r\n          render={(routeProps) => <InvoiceList {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} user={props.user} />}\r\n        />\r\n        <Route path={\"/\"+USER_URL+\"/invoices/:invoice_id\"}\r\n               render={(routeProps) => <InvoiceDetail {...routeProps} setExtraData={props.setExtraData} extra_data={props.extra_data} />}\r\n        />\r\n        <Route path={\"/\"+USER_URL+\"/cart\"}\r\n               render={(routeProps) => <Cart />}\r\n        />\r\n          <Route exact path={\"/\"+USER_URL+\"/account-setting\"} render={(routeProps) => <AccountSettings {...routeProps} userProp={props.user} />} />\r\n          <Route path={\"/\"+USER_URL+\"/contacts/:contact_id/edit\"} component={ContactsEdit} />\r\n          <Route exact path={\"/\"+USER_URL+\"/update-account-password\"} render={(routeProps) => <UserUpdatePassword {...routeProps} userProp={props.user} />} />\r\n        <Redirect to=\"/error/404\" />\r\n      </Switch>\r\n    </Suspense>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { toAbsoluteUrl } from \"../../../_metronic\";\r\nimport \"../../../_metronic/_assets/sass/pages/error/error-6.scss\";\r\n\r\nexport function ErrorPage6() {\r\n  return (\r\n    <>\r\n      <div className=\"kt-grid kt-grid--ver kt-grid--root\">\r\n        <div\r\n          className=\"kt-grid__item kt-grid__item--fluid kt-grid  kt-error-v6\"\r\n          style={{\r\n            backgroundImage: `url(${toAbsoluteUrl(\"/media//error/bg6.jpg\")})`\r\n          }}\r\n        >\r\n          <div className=\"kt-error_container\">\r\n            <div className=\"kt-error_subtitle kt-font-light\">\r\n              <h1>Oops...</h1>\r\n            </div>\r\n\r\n            <p className=\"kt-error_description kt-font-light\">\r\n              Looks like something went wrong.\r\n              <br />\r\n              We're working on it\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { ErrorPage1 } from \"./ErrorPage1\";\r\nimport { ErrorPage2 } from \"./ErrorPage2\";\r\nimport { ErrorPage3 } from \"./ErrorPage3\";\r\nimport { ErrorPage4 } from \"./ErrorPage4\";\r\nimport { ErrorPage5 } from \"./ErrorPage5\";\r\nimport { ErrorPage6 } from \"./ErrorPage6\";\r\n\r\nexport default function ErrorsPage() {\r\n  return (\r\n      <Switch>\r\n        <Redirect from=\"/error\" exact={true} to=\"/error/404\" />\r\n        {/*<Route path=\"/error/error-v1\" component={ErrorPage1} />\r\n        <Route path=\"/error/error-v2\" component={ErrorPage2} />\r\n        <Route path=\"/error/error-v3\" component={ErrorPage3} />\r\n        <Route path=\"/error/error-v4\" component={ErrorPage4} />\r\n        <Route path=\"/error/error-v5\" component={ErrorPage5} />\r\n        <Route path=\"/error/error-v6\" component={ErrorPage6} />*/}\r\n        <Route path=\"/error/404\" component={ErrorPage6} />\r\n      </Switch>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport * as auth from \"../../store/ducks/auth.duck\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { LayoutSplashScreen } from \"../../../_metronic\";\r\nimport { USER_URL } from \"../../crud/api\";\r\nimport { logoutUser } from \"../../crud/auth.crud\";\r\n\r\nclass Logout extends Component {\r\n  componentDidMount() {\r\n    logoutUser().then(response => {\r\n  \t\tdocument.cookie = `authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT`;\r\n    \tthis.props.logout()\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { hasAuthToken } = this.props;\r\n\r\n    return hasAuthToken ? <LayoutSplashScreen /> : window.location.assign(process.env.REACT_APP_GUEST_URL);\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ auth }) => ({ hasAuthToken: Boolean(auth.authToken) }),\r\n  auth.actions\r\n)(Logout);\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nexport default class SearchResult extends React.Component {\r\n  render() {\r\n    const { data } = this.props;\r\n\r\n    if (!data) {\r\n      return null;\r\n    }\r\n\r\n    if (data.length === 0) {\r\n      return (\r\n        <div className=\"kt-quick-search__result\">\r\n          <div className=\"kt-quick-search__message kt-hidden\">\r\n            No record found\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"kt-quick-search__result\">\r\n        {data.map((item, index) => (\r\n          <React.Fragment key={index}>\r\n            {item.type === 1 && (\r\n              <div className=\"kt-quick-search__item\">\r\n                <div className={clsx({\"kt-quick-search__item-img\": item.iconImage, \"kt-quick-search__item-icon\": item.iconClassName})}>\r\n                  {item.iconClassName ? (\r\n                    <i className={item.iconClassName} />\r\n                  ) : item.iconImage ? (\r\n                    <img src={item.iconImage} alt=\"\" />\r\n                  ) : null}\r\n                </div>\r\n\r\n                <div className=\"kt-quick-search__item-wrapper\">\r\n                  <a href=\"#\" className=\"kt-quick-search__item-title\">\r\n                    {item.text}\r\n                  </a>\r\n                  <div className=\"kt-quick-search__item-desc\">\r\n                    {item.description}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {item.type === 0 && (\r\n              <div className=\"kt-quick-search__category\">{item.text}</div>\r\n            )}\r\n          </React.Fragment>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"Stockholm-icons / General / Search\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Stockholm-icons-/-General-/-Search\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"rect\", {\n  id: \"bound\",\n  x: 0,\n  y: 0,\n  width: 24,\n  height: 24\n}), React.createElement(\"path\", {\n  d: \"M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z\",\n  id: \"Path-2\",\n  fill: \"#000000\",\n  fillRule: \"nonzero\",\n  opacity: 0.3\n}), React.createElement(\"path\", {\n  d: \"M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z\",\n  id: \"Path\",\n  fill: \"#000000\",\n  fillRule: \"nonzero\"\n}));\n\nvar SvgSearch = function SvgSearch(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSearch, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Search.5c98a9b7.svg\";\nexport { ForwardRef as ReactComponent };","import React, { createRef } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport SearchResult from \"./SearchResult\";\r\nimport { toAbsoluteUrl } from \"../../../_metronic\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\nimport HeaderDropdownToggle from \"../content/CustomDropdowns/HeaderDropdownToggle\";\r\nimport { ReactComponent as SearchIcon } from \"../../../_metronic/layout/assets/layout-svg-icons/Search.svg\";\r\n\r\nconst perfectScrollbarOptions = {\r\n  wheelSpeed: 2,\r\n  wheelPropagation: false\r\n};\r\n\r\nconst fakeData = [\r\n  {\r\n    type: 0,\r\n    text: \"Reports\"\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"AirPlus Requirements\",\r\n    description: \"by Grog John\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/doc.svg\")\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"TechNav Documentation\",\r\n    description: \"by Mary Brown\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/pdf.svg\")\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"All Framework Docs\",\r\n    description: \"by Grog John\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/zip.svg\")\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"AirPlus Requirements\",\r\n    description: \"by Tim Hardy\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/xml.svg\")\r\n  },\r\n  {\r\n    text: \"Customers\",\r\n    type: 0\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Jimmy Curry\",\r\n    description: \"Software Developer\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_11.jpg\")\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Milena Gibson\",\r\n    description: \"UI Designer\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_16.jpg\")\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Stefan JohnStefan\",\r\n    description: \"Marketing Manager\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_22.jpg\")\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Anna Strong\",\r\n    description: \"Software Developer\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_5.jpg\")\r\n  },\r\n  {\r\n    type: 0,\r\n    text: \"Files\"\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"2 New items submitted\",\r\n    description: \"Marketing Manager\",\r\n    iconClassName: \"flaticon2-box kt-font-danger\"\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"79 PSD files generated\",\r\n    description: \"by Grog John\",\r\n    iconClassName: \"flaticon-psd kt-font-brand\"\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"$2900 worth products sold\",\r\n    description: \"Total 234 items\",\r\n    iconClassName: \"flaticon2-supermarket kt-font-warning\"\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"4 New items submitted\",\r\n    description: \"Marketing Manager\",\r\n    iconClassName: \"flaticon-safe-shield-protection kt-font-info\"\r\n  }\r\n];\r\n\r\nexport default class SearchDropdown extends React.Component {\r\n  buttonRef = createRef();\r\n  state = { loading: false, data: null, searchValue: \"\" };\r\n\r\n  clearTimeout() {\r\n    if (this.timeoutId) {\r\n      clearTimeout(this.timeoutId);\r\n      this.timeoutId = undefined;\r\n    }\r\n  }\r\n\r\n  handleSearchChange = event => {\r\n    this.setState({ data: null, searchValue: event.target.value });\r\n\r\n    if (event.target.value.length > 2) {\r\n      this.clearTimeout();\r\n\r\n      this.setState({ loading: true });\r\n\r\n      // simulate getting search result\r\n      this.timeoutId = setTimeout(() => {\r\n        this.setState({ data: fakeData, loading: false });\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  clear = () => {\r\n    this.setState({ data: null, searchValue: \"\" });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.clearTimeout();\r\n  }\r\n\r\n  render() {\r\n    const { data, loading, searchValue } = this.state;\r\n    const { useSVG, icon, iconType } = this.props;\r\n    return (\r\n      <Dropdown\r\n        alignRight\r\n        className=\"kt-header__topbar-item kt-header__topbar-item--search\"\r\n        drop=\"down\"\r\n        onToggle={() => {\r\n          this.setState({\r\n            data: null,\r\n            loading: false,\r\n            searchValue: \"\"\r\n          });\r\n        }}\r\n      >\r\n        <Dropdown.Toggle as={HeaderDropdownToggle} id=\"dropdown-toggle-search\">\r\n          <span\r\n            className={clsx(\"kt-header__topbar-icon\", {\r\n              [`kt-header__topbar-icon--${iconType}`]: iconType\r\n            })}\r\n          >\r\n            {!useSVG ? (\r\n              <i className={icon} />\r\n            ) : (\r\n              <span className=\"kt-svg-icon\">\r\n                <SearchIcon />\r\n              </span>\r\n            )}\r\n          </span>\r\n        </Dropdown.Toggle>\r\n        <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-right dropdown-menu-anim dropdown-menu-lg\">\r\n          <div\r\n            id=\"kt_quick_search_dropdown\"\r\n            className={clsx(\r\n              \"kt-quick-search kt-quick-search--dropdown kt-quick-search--result-compact\",\r\n              {\r\n                \"kt-quick-search--has-result\": data && data.length\r\n              }\r\n            )}\r\n          >\r\n            <form className=\"kt-quick-search__form\">\r\n              <div\r\n                className={clsx(\"input-group\", {\r\n                  \"kt-spinner kt-spinner--input kt-spinner--sm kt-spinner--brand kt-spinner--right\": loading\r\n                })}\r\n              >\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"flaticon2-search-1\" />\r\n                  </span>\r\n                </div>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  autoFocus={true}\r\n                  placeholder=\"Search...\"\r\n                  value={searchValue}\r\n                  onChange={this.handleSearchChange}\r\n                  className=\"form-control kt-quick-search__input\"\r\n                />\r\n\r\n                <div className=\"input-group-append\">\r\n                  <span className=\"input-group-text\">\r\n                    <i\r\n                      style={{ display: \"flex\" }}\r\n                      onClick={this.clear}\r\n                      hidden={!data || (data && !data.length)}\r\n                      className=\"la la-close kt-quick-search__close\"\r\n                    />\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </form>\r\n            <PerfectScrollbar\r\n              className=\"kt-quick-search__wrapper kt-scroll\"\r\n              data-height=\"325\"\r\n              data-mobile-height=\"200\"\r\n              data-scroll=\"true\"\r\n              options={perfectScrollbarOptions}\r\n              style={{ maxHeight: \"40vh\"}}\r\n            >\r\n              <SearchResult data={data} />\r\n            </PerfectScrollbar>\r\n          </div>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"Stockholm-icons / Code / Compiling\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Stockholm-icons-/-Code-/-Compiling\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"rect\", {\n  id: \"bound\",\n  x: 0,\n  y: 0,\n  width: 24,\n  height: 24\n}), React.createElement(\"path\", {\n  d: \"M2.56066017,10.6819805 L4.68198052,8.56066017 C5.26776695,7.97487373 6.21751442,7.97487373 6.80330086,8.56066017 L8.9246212,10.6819805 C9.51040764,11.267767 9.51040764,12.2175144 8.9246212,12.8033009 L6.80330086,14.9246212 C6.21751442,15.5104076 5.26776695,15.5104076 4.68198052,14.9246212 L2.56066017,12.8033009 C1.97487373,12.2175144 1.97487373,11.267767 2.56066017,10.6819805 Z M14.5606602,10.6819805 L16.6819805,8.56066017 C17.267767,7.97487373 18.2175144,7.97487373 18.8033009,8.56066017 L20.9246212,10.6819805 C21.5104076,11.267767 21.5104076,12.2175144 20.9246212,12.8033009 L18.8033009,14.9246212 C18.2175144,15.5104076 17.267767,15.5104076 16.6819805,14.9246212 L14.5606602,12.8033009 C13.9748737,12.2175144 13.9748737,11.267767 14.5606602,10.6819805 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\",\n  opacity: 0.3\n}), React.createElement(\"path\", {\n  d: \"M8.56066017,16.6819805 L10.6819805,14.5606602 C11.267767,13.9748737 12.2175144,13.9748737 12.8033009,14.5606602 L14.9246212,16.6819805 C15.5104076,17.267767 15.5104076,18.2175144 14.9246212,18.8033009 L12.8033009,20.9246212 C12.2175144,21.5104076 11.267767,21.5104076 10.6819805,20.9246212 L8.56066017,18.8033009 C7.97487373,18.2175144 7.97487373,17.267767 8.56066017,16.6819805 Z M8.56066017,4.68198052 L10.6819805,2.56066017 C11.267767,1.97487373 12.2175144,1.97487373 12.8033009,2.56066017 L14.9246212,4.68198052 C15.5104076,5.26776695 15.5104076,6.21751442 14.9246212,6.80330086 L12.8033009,8.9246212 C12.2175144,9.51040764 11.267767,9.51040764 10.6819805,8.9246212 L8.56066017,6.80330086 C7.97487373,6.21751442 7.97487373,5.26776695 8.56066017,4.68198052 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\"\n}));\n\nvar SvgCompiling = function SvgCompiling(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCompiling, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Compiling.2b249961.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { Nav, Tab, Dropdown } from \"react-bootstrap\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport HeaderDropdownToggle from \"../content/CustomDropdowns/HeaderDropdownToggle\";\r\nimport { ReactComponent as CompilingIcon } from \"../../../_metronic/layout/assets/layout-svg-icons/Compiling.svg\";\r\n\r\nconst perfectScrollbarOptions = {\r\n  wheelSpeed: 2,\r\n  wheelPropagation: false\r\n};\r\n\r\nexport default class UserNotifications extends React.Component {\r\n  state = { key: \"Alerts\" };\r\n\r\n  getHeaderTopBarCssClassList = () => {\r\n    let result = \"kt-header__topbar-icon \";\r\n    if (this.props.pulse) {\r\n      result += \"kt-pulse kt-pulse--brand \";\r\n    }\r\n\r\n    const { iconType } = this.props;\r\n    if (iconType) {\r\n      result += `kt-header__topbar-icon--${iconType}`;\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  getSvgCssClassList = () => {\r\n    let result = \"kt-svg-icon \";\r\n    const { iconType } = this.props;\r\n    if (iconType) {\r\n      result += `kt-svg-icon--${iconType}`;\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  getHetBackGroundCssClassList = () => {\r\n    let result = \"kt-head \";\r\n    if (this.props.skin) {\r\n      result += `kt-head--skin-${this.props.skin} `;\r\n    }\r\n\r\n    result += \"kt-head--fit-x kt-head--fit-b\";\r\n    return result;\r\n  };\r\n\r\n  backGroundStyle = () => {\r\n    if (!this.props.bgImage) {\r\n      return \"none\";\r\n    }\r\n\r\n    return \"url(\" + this.props.bgImage + \")\";\r\n  };\r\n\r\n  userNotificationsButtonCssClassList = () => {\r\n    let result = \"btn \";\r\n    if (this.props.type) {\r\n      result += `btn-label-${this.props.type} `;\r\n    }\r\n\r\n    result += \"btn-sm btn-bold btn-font-md\";\r\n    return result;\r\n  };\r\n\r\n  ulTabsClassList = () => {\r\n    let result = \"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x  \";\r\n    if (this.props.type) {\r\n      result += `nav-tabs-line-${this.props.type} `;\r\n    }\r\n\r\n    result += \"kt-notification-item-padding-x\";\r\n    return result;\r\n  };\r\n\r\n  render() {\r\n    // eslint-disable-next-line no-unused-vars\r\n    const { key } = this.state;\r\n    const { useSVG, icon, pulse } = this.props;\r\n    return (\r\n      <Dropdown className=\"kt-header__topbar-item\" drop=\"down\" alignRight>\r\n        <Dropdown.Toggle\r\n          as={HeaderDropdownToggle}\r\n          id=\"dropdown-toggle-user-notifications\"\r\n        >\r\n          <span className={this.getHeaderTopBarCssClassList()}>\r\n            {!useSVG && <i className={icon} />}\r\n\r\n            {useSVG && (\r\n              <span className={this.getSvgCssClassList()}>\r\n                <CompilingIcon />\r\n              </span>\r\n            )}\r\n\r\n            <span className=\"kt-pulse__ring\" hidden={!pulse} />\r\n            <span className=\"kt-hidden kt-badge kt-badge--dot kt-badge--notify kt-badge--sm\"></span>\r\n\r\n          </span>\r\n        </Dropdown.Toggle>\r\n\r\n        <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-right dropdown-menu-anim dropdown-menu-top-unround dropdown-menu-lg\">\r\n          <form>\r\n            {/** Head */}\r\n            <div\r\n              className={this.getHetBackGroundCssClassList()}\r\n              style={{ backgroundImage: this.backGroundStyle() }}\r\n            >\r\n              <h3 className=\"kt-head__title\">\r\n                User Notifications{' '} {' '}\r\n                <span className={this.userNotificationsButtonCssClassList()}>\r\n                  23 new\r\n                </span>\r\n              </h3>\r\n\r\n              <Tab.Container\r\n                defaultActiveKey={key}\r\n                className={this.ulTabsClassList()}\r\n              >\r\n                <Nav\r\n                  className={this.ulTabsClassList()}\r\n                  onSelect={_key => this.setState({ key: _key })}\r\n                >\r\n                  <Nav.Item className=\"nav-item\">\r\n                    <Nav.Link eventKey=\"Alerts\" className=\"nav-link show\">\r\n                      Alerts\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                  <Nav.Item>\r\n                    <Nav.Link eventKey=\"Events\" className=\"nav-link show\">\r\n                      Events\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                  <Nav.Item>\r\n                    <Nav.Link eventKey=\"Logs\" className=\"nav-link show\">\r\n                      Logs\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                </Nav>\r\n\r\n                <Tab.Content>\r\n                  <Tab.Pane eventKey=\"Alerts\">\r\n                    <PerfectScrollbar\r\n                      options={perfectScrollbarOptions}\r\n                      style={{ maxHeight: \"100vh\", position: \"relative\" }}\r\n                    >\r\n                      <div\r\n                        className=\"kt-notification kt-margin-t-10 kt-margin-b-10\"\r\n                        style={{ maxHeight: \"40vh\", position: \"relative\" }}\r\n                      >\r\n                        <div\r\n                          className=\"kt-notification kt-margin-t-10 kt-margin-b-10 kt-scroll\"\r\n                          data-scroll=\"true\"\r\n                          data-height=\"300\"\r\n                          data-mobile-height=\"200\"\r\n                        >\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-line-chart kt-font-success\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New order has been received\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                2 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-box-1 kt-font-brand\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New customer is registered\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                3 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-chart2 kt-font-danger\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                Application has been approved\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                3 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-image-file kt-font-warning\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New file has been uploaded\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                5 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-bar-chart kt-font-info\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New user feedback received\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                8 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-pie-chart-2 kt-font-success\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                System reboot has been successfully completed\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                12 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-favourite kt-font-danger\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New order has been placed\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                15 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item kt-notification__item--read\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-safe kt-font-primary\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                Company meeting canceled\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                19 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-psd kt-font-success\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New report has been received\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                23 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon-download-1 kt-font-danger\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                Finance report has been generated\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                25 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon-security kt-font-warning\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New customer comment recieved\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                2 days ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-pie-chart kt-font-success\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New customer is registered\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                3 days ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </PerfectScrollbar>\r\n                  </Tab.Pane>\r\n                  <Tab.Pane eventKey=\"Events\">\r\n                    <PerfectScrollbar\r\n                      options={perfectScrollbarOptions}\r\n                      style={{ maxHeight: \"100vh\", position: \"relative\" }}\r\n                    >\r\n                      <div\r\n                        className=\"kt-notification kt-margin-t-10 kt-margin-b-10\"\r\n                        style={{ maxHeight: \"40vh\", position: \"relative\" }}\r\n                      >\r\n                        <div\r\n                          className=\"kt-notification kt-margin-t-10 kt-margin-b-10 kt-scroll\"\r\n                          data-scroll=\"true\"\r\n                          data-height=\"300\"\r\n                          data-mobile-height=\"200\"\r\n                        >\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-psd kt-font-success\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New report has been received\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                23 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon-download-1 kt-font-danger\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                Finance report has been generated\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                25 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-line-chart kt-font-success\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New order has been received\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                2 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-box-1 kt-font-brand\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New customer is registered\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                3 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-chart2 kt-font-danger\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                Application has been approved\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                3 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-image-file kt-font-warning\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New file has been uploaded\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                5 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-bar-chart kt-font-info\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New user feedback received\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                8 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-pie-chart-2 kt-font-success\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                System reboot has been successfully completed\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                12 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-favourite kt-font-brand\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New order has been placed\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                15 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item kt-notification__item--read\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-safe kt-font-primary\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                Company meeting canceled\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                19 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-psd kt-font-success\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New report has been received\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                23 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon-download-1 kt-font-danger\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                Finance report has been generated\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                25 hrs ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon-security kt-font-warning\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New customer comment recieved\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                2 days ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                          <a className=\"kt-notification__item\">\r\n                            <div className=\"kt-notification__item-icon\">\r\n                              <i className=\"flaticon2-pie-chart kt-font-success\" />\r\n                            </div>\r\n                            <div className=\"kt-notification__item-details\">\r\n                              <div className=\"kt-notification__item-title\">\r\n                                New customer is registered\r\n                              </div>\r\n                              <div className=\"kt-notification__item-time\">\r\n                                3 days ago\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </PerfectScrollbar>\r\n                  </Tab.Pane>\r\n                  <Tab.Pane eventKey=\"Logs\">\r\n                    <div\r\n                      className=\"kt-grid kt-grid--ver\"\r\n                      style={{ minHeight: \"200px\" }}\r\n                    >\r\n                      <div className=\"kt-grid kt-grid--hor kt-grid__item kt-grid__item--fluid kt-grid__item--middle\">\r\n                        <div className=\"kt-grid__item kt-grid__item--middle kt-align-center\">\r\n                          All caught up!\r\n                          <br />\r\n                          No new notifications.\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </Tab.Pane>\r\n                </Tab.Content>\r\n              </Tab.Container>\r\n            </div>\r\n          </form>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\nimport { toAbsoluteUrl } from \"../../../_metronic\";\r\nimport HeaderDropdownToggle from \"../content/CustomDropdowns/HeaderDropdownToggle\";\r\nimport { ReactComponent as CartNum3Icon } from \"../../../_metronic/layout/assets/layout-svg-icons/CartNum3.svg\";\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\nimport { patch, post, getLocalStorageItem, setLocalStorageItem, USER_URL } from \"../../../app/crud/api\";\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    IconButton, Paper, FormControlLabel, Switch, Snackbar, Checkbox, Toolbar, Tooltip, Typography, SnackbarContent\r\n} from '@material-ui/core';\r\nimport {\r\n    Delete as DeleteIcon, Close as CloseIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Info as InfoIcon,\r\n    Warning as WarningIcon\r\n} from '@material-ui/icons';\r\n\r\nconst perfectScrollbarOptions = {\r\n  wheelSpeed: 2,\r\n  wheelPropagation: false\r\n};\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStylesSnackbarContent = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStylesSnackbarContent();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nexport default class MyCart extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      products : this.props.products,\r\n      total: 0,\r\n      quantity:0,\r\n      open:false,\r\n      showDropdown:false,\r\n      message:'Error occur - try again',\r\n      message_type:'error',\r\n    }\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if(this.props != nextProps) {\r\n      this.setState({\r\n        products: nextProps.products\r\n      }, () => {\r\n        this.calculateTotal()\r\n      });\r\n    }\r\n  }\r\n\r\n  setQuantity = (i,op) => {\r\n    let products = this.state.products;\r\n    if(op === '+')\r\n      products[i].credits.cart_val += 1;\r\n    else {\r\n      if(products[i].credits.cart_val > 0)\r\n        products[i].credits.cart_val -= 1;\r\n    }\r\n\r\n    if('id' in products[i].credits)\r\n      patch('credits/'+products[i].credits.id+'/', {\r\n        cart_val:products[i].credits.cart_val\r\n      }).then(\r\n        (response) => {\r\n          // this.setState({products:response.data})\r\n      });\r\n    else\r\n      post('credits',{\r\n        cart_val:products[i].credits.cart_val,\r\n        pricing:products[i].id,\r\n      }).then(\r\n        (response) => {\r\n          products[i].credits.id = response.data.id\r\n          this.setState({products:products}, () => {\r\n            this.calculateTotal()\r\n          })\r\n      });\r\n\r\n    this.setState({products:products}, () => {\r\n      this.calculateTotal()\r\n    })\r\n  }\r\n\r\n  calculateTotal = () => {\r\n    let total = 0, quantity = 0, products = this.state.products;\r\n    products.map(product => {\r\n      total += (product.credits.cart_val * product.price)\r\n      quantity += product.credits.cart_val\r\n\r\n    })\r\n    this.setState({total:total, quantity});\r\n  }\r\n\r\n\r\n  handleCloseSnackbar = (event, reason) => {\r\n    this.setState({open:false});\r\n  };\r\n\r\n  toggle(e) {\r\n    if (this.state.dropdownOpen && (e.target === this.dropdown.current || !this.dropdown.current.contains(e.target))) return;\r\n    this.setState(prevState => ({\r\n      dropdownOpen: !prevState.dropdownOpen\r\n    }));\r\n  }\r\n\r\n  render() {\r\n      const { bgImage, useSVG, icon, iconType } = this.props;\r\n      const { products, total } = this.state;\r\n\r\n      const onSuccess = (payment) => {\r\n        this.setState({\r\n                message_type: 'info',\r\n                message: 'Finalizing! please wait',\r\n                open: true,\r\n                showDropdown:false\r\n              })\r\n        post('paymenthistories_update_payment',payment).then(\r\n          (response) => {\r\n            if(response.data.type == 'success') {\r\n              this.setState({\r\n                message_type: response.data.type,\r\n                message: response.data.message,\r\n              })\r\n              let new_products = [], new_product = {};\r\n              this.state.products.map(product => {\r\n                new_product = {};\r\n                Object.keys(product).map(key => {\r\n                  new_product[key] = product[key]\r\n                  if(key == 'credits') {\r\n                    new_product[key].value = product[key].cart_val + product[key].value\r\n                    new_product[key].cart_val = 0\r\n                  }\r\n                })\r\n                new_products.push(new_product);\r\n              })\r\n              this.setState({products:new_products, total:0, quantity:0})\r\n              this.props.propsData.history.push('/'+USER_URL+'/invoices/'+response.data.transaction_id)\r\n            }\r\n        });\r\n      }\r\n\r\n      const onCancel = (data) => {\r\n          // User pressed \"cancel\" or close Paypal's popup!\r\n          this.setState({\r\n                message_type:'error',\r\n                message: 'Paypal: The payment was cancelled!',\r\n                open: true,\r\n                showDropdown:false\r\n              })\r\n          // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\r\n      }\r\n\r\n      const onError = (err) => {\r\n          // The main Paypal's script cannot be loaded or somethings block the loading of that script!\r\n          console.log(\"Error!\", err);\r\n          this.setState({\r\n            message_type:'error',\r\n            message: 'Paypal: '+err.message,\r\n            open: true,\r\n          })\r\n          // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\r\n          // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\r\n      }\r\n\r\n      let env = process.env.REACT_APP_PAYMENT_MODE; // you can set here to 'production' for production\r\n      let currency = 'USD'; // or you can set this value from your props or state\r\n       // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\r\n      // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\r\n\r\n      const client = {\r\n          sandbox:    process.env.REACT_APP_PAYPAL_CLIENT_ID,\r\n          production: 'YOUR-PRODUCTION-APP-ID',\r\n      }\r\n\r\n    return (\r\n      <Dropdown toggle={this.toggle} show={this.state.showDropdown} className=\"kt-header__topbar-item\" drop=\"down\" alignRight>\r\n        <Dropdown.Toggle as={HeaderDropdownToggle} id=\"dropdown-toggle-my-cart\">\r\n          <span onClick={() => this.setState({showDropdown:!this.state.showDropdown})}\r\n            className={clsx(\"kt-header__topbar-icon\", {\r\n              \"kt-header__topbar-icon--brand\": iconType === \"brand\"\r\n            })}\r\n          >\r\n            {!useSVG && <i className={icon} />}\r\n\r\n            {useSVG && (\r\n              <span\r\n                className={clsx(\"kt-svg-icon\", {\r\n                  \"kt-svg-icon-brand\": iconType === \"brand\"\r\n                })}\r\n              >\r\n                <CartNum3Icon className=\"kt-svg-icon kt-svg-icon--primary\" />\r\n              </span>\r\n            )}\r\n          </span>\r\n        </Dropdown.Toggle>\r\n        <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-right dropdown-menu-anim dropdown-menu-top-unround dropdown-menu-xl\">\r\n          <form className=\"flex-column p-0\">\r\n            <div className=\"kt-mycart\">\r\n              <div\r\n                className=\"kt-mycart__head kt-head\"\r\n                style={{ backgroundImage: `url(${bgImage})` }}\r\n              >\r\n                <div className=\"kt-mycart__info\">\r\n                  <span className=\"kt-mycart__icon\">\r\n                    <i className=\"flaticon2-shopping-cart-1 kt-font-success\" />\r\n                  </span>\r\n                  <h3 className=\"kt-mycart__title\">My Cart</h3>\r\n                </div>\r\n                <div className=\"kt-mycart__button\">\r\n                  <button type=\"button\" className=\"btn btn-success btn-sm\">\r\n                    {this.state.quantity} Items\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <PerfectScrollbar\r\n                options={perfectScrollbarOptions}\r\n                style={{ maxHeight: \"35vh\", position: \"relative\" }}\r\n              >\r\n                <div className=\"kt-mycart__body\">\r\n\r\n                  {products.map((product, i) => {\r\n                    return <div className=\"kt-mycart__item\">\r\n                      <div className=\"kt-mycart__container\">\r\n                        <div className=\"kt-mycart__info\">\r\n                          <Link to=\"cart-item\" className=\"kt-mycart__title\">\r\n                            {product.name}\r\n                          </Link>\r\n\r\n                          <span className=\"kt-mycart__desc\">\r\n                            {product.description}\r\n                          </span>\r\n\r\n                          <div className=\"kt-mycart__action\">\r\n                            <span className=\"kt-mycart__price\">$ {product.price * product.credits.cart_val}</span>\r\n                            <span className=\"kt-mycart__text\">for</span>\r\n                            <span className=\"kt-mycart__quantity\">{product.credits.cart_val}</span>\r\n                            <span className=\"btn btn-danger btn-icon\" onClick={()=>this.setQuantity(i, '-')} style={{position:\"absolute\", marginLeft:\"110px\"}}>\r\n                              −\r\n                            </span>\r\n                            <span className=\"btn btn-success btn-icon\" onClick={()=>this.setQuantity(i, '+')} style={{position:\"absolute\", marginLeft:\"135px\"}}>\r\n                              +\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"kt-mycart__info\">\r\n                          <Link to=\"cart-item\" className=\"kt-mycart__title\">\r\n                            Existing Credits\r\n                          </Link>\r\n\r\n                          <span className=\"kt-mycart__desc\">\r\n                            {product.credits.value ? product.credits.value:0}\r\n                          </span>\r\n\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  })}\r\n                </div>\r\n              </PerfectScrollbar>\r\n\r\n              <div className=\"kt-mycart__footer\">\r\n                <div className=\"kt-mycart__section\">\r\n                  <div className=\"kt-mycart__subtitel\">\r\n                    <span>Sub Total</span>\r\n                    <span>Discount</span>\r\n                    <span>Total</span>\r\n                  </div>\r\n\r\n                  <div className=\"kt-mycart__prices\">\r\n                    <span>$ {total}</span>\r\n                    <span>$ 0</span>\r\n                    <span className=\"kt-font-brand\">$ {total}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"kt-mycart__button kt-align-right\">\r\n                  {total > 0 ?\r\n                    <PaypalExpressBtn env={env} client={client} currency={currency} total={total} onError={onError} onSuccess={onSuccess} onCancel={onCancel} />\r\n                  : ''}\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </Dropdown.Menu>\r\n          <Snackbar\r\n              anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              open={this.state.open}\r\n              autoHideDuration={10000}\r\n              onClose={this.handleCloseSnackbar}\r\n            >\r\n              <SnackbarContentWrapper\r\n                onClose={this.handleCloseSnackbar}\r\n                variant={this.state.message_type}\r\n                message={this.state.message}\r\n              />\r\n          </Snackbar>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"Stockholm-icons / Media / Equalizer\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Stockholm-icons-/-Media-/-Equalizer\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"rect\", {\n  id: \"bound\",\n  x: 0,\n  y: 0,\n  width: 24,\n  height: 24\n}), React.createElement(\"rect\", {\n  id: \"Rectangle-62-Copy\",\n  fill: \"#000000\",\n  opacity: 0.3,\n  x: 13,\n  y: 4,\n  width: 3,\n  height: 16,\n  rx: 1.5\n}), React.createElement(\"rect\", {\n  id: \"Rectangle-62-Copy-2\",\n  fill: \"#000000\",\n  x: 8,\n  y: 9,\n  width: 3,\n  height: 11,\n  rx: 1.5\n}), React.createElement(\"rect\", {\n  id: \"Rectangle-62-Copy-4\",\n  fill: \"#000000\",\n  x: 18,\n  y: 11,\n  width: 3,\n  height: 9,\n  rx: 1.5\n}), React.createElement(\"rect\", {\n  id: \"Rectangle-62-Copy-3\",\n  fill: \"#000000\",\n  x: 3,\n  y: 13,\n  width: 3,\n  height: 7,\n  rx: 1.5\n}));\n\nvar SvgEqualizer = function SvgEqualizer(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEqualizer, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Equalizer.8eae8061.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"Stockholm-icons / Shopping / Euro\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Stockholm-icons-/-Shopping-/-Euro\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"rect\", {\n  id: \"bound\",\n  x: 0,\n  y: 0,\n  width: 24,\n  height: 24\n}), React.createElement(\"path\", {\n  d: \"M4.3618034,10.2763932 L4.8618034,9.2763932 C4.94649941,9.10700119 5.11963097,9 5.30901699,9 L15.190983,9 C15.4671254,9 15.690983,9.22385763 15.690983,9.5 C15.690983,9.57762255 15.6729105,9.65417908 15.6381966,9.7236068 L15.1381966,10.7236068 C15.0535006,10.8929988 14.880369,11 14.690983,11 L4.80901699,11 C4.53287462,11 4.30901699,10.7761424 4.30901699,10.5 C4.30901699,10.4223775 4.32708954,10.3458209 4.3618034,10.2763932 Z M14.6381966,13.7236068 L14.1381966,14.7236068 C14.0535006,14.8929988 13.880369,15 13.690983,15 L4.80901699,15 C4.53287462,15 4.30901699,14.7761424 4.30901699,14.5 C4.30901699,14.4223775 4.32708954,14.3458209 4.3618034,14.2763932 L4.8618034,13.2763932 C4.94649941,13.1070012 5.11963097,13 5.30901699,13 L14.190983,13 C14.4671254,13 14.690983,13.2238576 14.690983,13.5 C14.690983,13.5776225 14.6729105,13.6541791 14.6381966,13.7236068 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\",\n  opacity: 0.3\n}), React.createElement(\"path\", {\n  d: \"M17.369,7.618 C16.976998,7.08599734 16.4660031,6.69750122 15.836,6.4525 C15.2059968,6.20749878 14.590003,6.085 13.988,6.085 C13.2179962,6.085 12.5180032,6.2249986 11.888,6.505 C11.2579969,6.7850014 10.7155023,7.16999755 10.2605,7.66 C9.80549773,8.15000245 9.45550123,8.72399671 9.2105,9.382 C8.96549878,10.0400033 8.843,10.7539961 8.843,11.524 C8.843,12.3360041 8.96199881,13.0779966 9.2,13.75 C9.43800119,14.4220034 9.7774978,14.9994976 10.2185,15.4825 C10.6595022,15.9655024 11.1879969,16.3399987 11.804,16.606 C12.4200031,16.8720013 13.1129962,17.005 13.883,17.005 C14.681004,17.005 15.3879969,16.8475016 16.004,16.5325 C16.6200031,16.2174984 17.1169981,15.8010026 17.495,15.283 L19.616,16.774 C18.9579967,17.6000041 18.1530048,18.2404977 17.201,18.6955 C16.2489952,19.1505023 15.1360064,19.378 13.862,19.378 C12.6999942,19.378 11.6325049,19.1855019 10.6595,18.8005 C9.68649514,18.4154981 8.8500035,17.8765035 8.15,17.1835 C7.4499965,16.4904965 6.90400196,15.6645048 6.512,14.7055 C6.11999804,13.7464952 5.924,12.6860058 5.924,11.524 C5.924,10.333994 6.13049794,9.25950479 6.5435,8.3005 C6.95650207,7.34149521 7.5234964,6.52600336 8.2445,5.854 C8.96550361,5.18199664 9.8159951,4.66400182 10.796,4.3 C11.7760049,3.93599818 12.8399943,3.754 13.988,3.754 C14.4640024,3.754 14.9609974,3.79949954 15.479,3.8905 C15.9970026,3.98150045 16.4939976,4.12149906 16.97,4.3105 C17.4460024,4.49950095 17.8939979,4.7339986 18.314,5.014 C18.7340021,5.2940014 19.0909985,5.62999804 19.385,6.022 L17.369,7.618 Z\",\n  id: \"C\",\n  fill: \"#000000\"\n}));\n\nvar SvgEuro = function SvgEuro(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEuro, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Euro.29f878b2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"Stockholm-icons / Communication / Mail-attachment\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Stockholm-icons-/-Communication-/-Mail-attachment\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"rect\", {\n  id: \"bound\",\n  x: 0,\n  y: 0,\n  width: 24,\n  height: 24\n}), React.createElement(\"path\", {\n  d: \"M14.8571499,13 C14.9499122,12.7223297 15,12.4263059 15,12.1190476 L15,6.88095238 C15,5.28984632 13.6568542,4 12,4 L11.7272727,4 C10.2210416,4 9,5.17258756 9,6.61904762 L10.0909091,6.61904762 C10.0909091,5.75117158 10.823534,5.04761905 11.7272727,5.04761905 L12,5.04761905 C13.0543618,5.04761905 13.9090909,5.86843034 13.9090909,6.88095238 L13.9090909,12.1190476 C13.9090909,12.4383379 13.8240964,12.7385644 13.6746497,13 L10.3253503,13 C10.1759036,12.7385644 10.0909091,12.4383379 10.0909091,12.1190476 L10.0909091,9.5 C10.0909091,9.06606198 10.4572216,8.71428571 10.9090909,8.71428571 C11.3609602,8.71428571 11.7272727,9.06606198 11.7272727,9.5 L11.7272727,11.3333333 L12.8181818,11.3333333 L12.8181818,9.5 C12.8181818,8.48747796 11.9634527,7.66666667 10.9090909,7.66666667 C9.85472911,7.66666667 9,8.48747796 9,9.5 L9,12.1190476 C9,12.4263059 9.0500878,12.7223297 9.14285008,13 L6,13 C5.44771525,13 5,12.5522847 5,12 L5,3 C5,2.44771525 5.44771525,2 6,2 L18,2 C18.5522847,2 19,2.44771525 19,3 L19,12 C19,12.5522847 18.5522847,13 18,13 L14.8571499,13 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\",\n  opacity: 0.3\n}), React.createElement(\"path\", {\n  d: \"M9,10.3333333 L9,12.1190476 C9,13.7101537 10.3431458,15 12,15 C13.6568542,15 15,13.7101537 15,12.1190476 L15,10.3333333 L20.2072547,6.57253826 C20.4311176,6.4108595 20.7436609,6.46126971 20.9053396,6.68513259 C20.9668779,6.77033951 21,6.87277228 21,6.97787787 L21,17 C21,18.1045695 20.1045695,19 19,19 L5,19 C3.8954305,19 3,18.1045695 3,17 L3,6.97787787 C3,6.70173549 3.22385763,6.47787787 3.5,6.47787787 C3.60510559,6.47787787 3.70753836,6.51099993 3.79274528,6.57253826 L9,10.3333333 Z M10.0909091,11.1212121 L12,12.5 L13.9090909,11.1212121 L13.9090909,12.1190476 C13.9090909,13.1315697 13.0543618,13.952381 12,13.952381 C10.9456382,13.952381 10.0909091,13.1315697 10.0909091,12.1190476 L10.0909091,11.1212121 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\"\n}));\n\nvar SvgMailAttachment = function SvgMailAttachment(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgMailAttachment, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Mail-attachment.450b3dd3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"Stockholm-icons / Shopping / Box2\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Stockholm-icons-/-Shopping-/-Box2\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"rect\", {\n  id: \"bound\",\n  x: 0,\n  y: 0,\n  width: 24,\n  height: 24\n}), React.createElement(\"path\", {\n  d: \"M4,9.67471899 L10.880262,13.6470401 C10.9543486,13.689814 11.0320333,13.7207107 11.1111111,13.740321 L11.1111111,21.4444444 L4.49070127,17.526473 C4.18655139,17.3464765 4,17.0193034 4,16.6658832 L4,9.67471899 Z M20,9.56911707 L20,16.6658832 C20,17.0193034 19.8134486,17.3464765 19.5092987,17.526473 L12.8888889,21.4444444 L12.8888889,13.6728275 C12.9050191,13.6647696 12.9210067,13.6561758 12.9368301,13.6470401 L20,9.56911707 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\"\n}), React.createElement(\"path\", {\n  d: \"M4.21611835,7.74669402 C4.30015839,7.64056877 4.40623188,7.55087574 4.5299008,7.48500698 L11.5299008,3.75665466 C11.8237589,3.60013944 12.1762411,3.60013944 12.4700992,3.75665466 L19.4700992,7.48500698 C19.5654307,7.53578262 19.6503066,7.60071528 19.7226939,7.67641889 L12.0479413,12.1074394 C11.9974761,12.1365754 11.9509488,12.1699127 11.9085461,12.2067543 C11.8661433,12.1699127 11.819616,12.1365754 11.7691509,12.1074394 L4.21611835,7.74669402 Z\",\n  id: \"Path\",\n  fill: \"#000000\",\n  opacity: 0.3\n}));\n\nvar SvgBoxNum2 = function SvgBoxNum2(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBoxNum2, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/BoxNum2.4f024802.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"Stockholm-icons / Communication / Group\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Stockholm-icons-/-Communication-/-Group\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"polygon\", {\n  id: \"Shape\",\n  points: \"0 0 24 0 24 24 0 24\"\n}), React.createElement(\"path\", {\n  d: \"M18,14 C16.3431458,14 15,12.6568542 15,11 C15,9.34314575 16.3431458,8 18,8 C19.6568542,8 21,9.34314575 21,11 C21,12.6568542 19.6568542,14 18,14 Z M9,11 C6.790861,11 5,9.209139 5,7 C5,4.790861 6.790861,3 9,3 C11.209139,3 13,4.790861 13,7 C13,9.209139 11.209139,11 9,11 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\",\n  fillRule: \"nonzero\",\n  opacity: 0.3\n}), React.createElement(\"path\", {\n  d: \"M17.6011961,15.0006174 C21.0077043,15.0378534 23.7891749,16.7601418 23.9984937,20.4 C24.0069246,20.5466056 23.9984937,21 23.4559499,21 L19.6,21 C19.6,18.7490654 18.8562935,16.6718327 17.6011961,15.0006174 Z M0.00065168429,20.1992055 C0.388258525,15.4265159 4.26191235,13 8.98334134,13 C13.7712164,13 17.7048837,15.2931929 17.9979143,20.2 C18.0095879,20.3954741 17.9979143,21 17.2466999,21 C13.541124,21 8.03472472,21 0.727502227,21 C0.476712155,21 -0.0204617505,20.45918 0.00065168429,20.1992055 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\",\n  fillRule: \"nonzero\"\n}));\n\nvar SvgGroup = function SvgGroup(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgGroup, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Group.e338db2a.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport HeaderDropdownToggle from \"../content/CustomDropdowns/HeaderDropdownToggle\";\r\nimport { ReactComponent as EqualizerIcon } from \"../../../_metronic/layout/assets/layout-svg-icons/Equalizer.svg\";\r\nimport { ReactComponent as EuroIcon } from \"../../../_metronic/layout/assets/layout-svg-icons/Euro.svg\";\r\nimport { ReactComponent as MailAttachmentIcon } from \"../../../_metronic/layout/assets/layout-svg-icons/Mail-attachment.svg\";\r\nimport { ReactComponent as BoxNum2Icon } from \"../../../_metronic/layout/assets/layout-svg-icons/BoxNum2.svg\";\r\nimport { ReactComponent as GroupIcon } from \"../../../_metronic/layout/assets/layout-svg-icons/Group.svg\";\r\n\r\nexport default class QuickActionsPanel extends React.Component {\r\n  render() {\r\n    const { icon, useSVG, bgImage, iconType, gridNavSkin } = this.props;\r\n    return (\r\n      <Dropdown className=\"kt-header__topbar-item\" drop=\"down\" alignRight>\r\n        <Dropdown.Toggle\r\n          as={HeaderDropdownToggle}\r\n          id=\"dropdown-toggle-quick-actions-panel-toggle\"\r\n        >\r\n          <span\r\n            className={clsx(`kt-header__topbar-icon`, {\r\n              \"kt-header__topbar-icon--warning\": iconType === \"warning\"\r\n            })}\r\n          >\r\n            {!useSVG && <i className={icon} />}\r\n\r\n            {useSVG && (\r\n              <span\r\n                className={clsx(\"kt-svg-icon\", {\r\n                  \"kt-svg-icon--warning\": iconType === \"warning\"\r\n                })}\r\n              >\r\n                <EqualizerIcon className=\"kt-svg-icon kt-svg-icon--primary kt-svg-icon--lg\" />\r\n              </span>\r\n            )}\r\n          </span>\r\n        </Dropdown.Toggle>\r\n\r\n        <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-right dropdown-menu-anim dropdown-menu-top-unround dropdown-menu-xl\">\r\n          <form className=\"flex-column p-0\">\r\n            {/* begin: Head */}\r\n            <div\r\n              className={`kt-head kt-head--skin-${{ gridNavSkin }}`}\r\n              style={{ backgroundImage: `url(${bgImage})` }}\r\n            >\r\n              <h3 className=\"kt-head__title text-white\">\r\n                User Quick Actions\r\n                <span className=\"kt-space-15\" />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-success btn-sm btn-bold btn-font-md\"\r\n                >\r\n                  23 tasks pending\r\n                </button>\r\n              </h3>\r\n            </div>\r\n            {/* end: Head */}\r\n\r\n            <div className={`kt-grid-nav kt-grid-nav--skin-${gridNavSkin}`}>\r\n              <div className=\"kt-grid-nav__row\">\r\n                <a className=\"kt-grid-nav__item\">\r\n                  <EuroIcon className=\"kt-svg-icon kt-svg-icon--success kt-svg-icon--lg\" />\r\n                  <span className=\"kt-grid-nav__title\">Accounting</span>\r\n                  <span className=\"kt-grid-nav__desc\">eCommerce</span>\r\n                </a>\r\n\r\n                <a className=\"kt-grid-nav__item\">\r\n                  <div className=\"d-flex align-items-center flex-column\">\r\n                    <span className=\"kt-grid-nav__icon\">\r\n                      <MailAttachmentIcon className=\"kt-svg-icon kt-svg-icon--success kt-svg-icon--lg\" />\r\n                    </span>\r\n                    <span className=\"kt-grid-nav__title\">Administration</span>\r\n                    <span className=\"kt-grid-nav__desc\">Console</span>\r\n                  </div>\r\n                </a>\r\n              </div>\r\n\r\n              <div className=\"kt-grid-nav__row\">\r\n                <a className=\"kt-grid-nav__item\">\r\n                  <div className=\"d-flex align-items-center flex-column\">\r\n                    <span className=\"kt-grid-nav__icon\">\r\n                      <BoxNum2Icon className=\"kt-svg-icon kt-svg-icon--success kt-svg-icon--lg\" />\r\n                    </span>\r\n                    <span className=\"kt-grid-nav__title\">Projects</span>\r\n                    <span className=\"kt-grid-nav__desc\">Pending Tasks</span>\r\n                  </div>\r\n                </a>\r\n\r\n                <a className=\"kt-grid-nav__item\">\r\n                  <div className=\"d-flex align-items-center flex-column\">\r\n                    <span className=\"kt-grid-nav__icon\">\r\n                      <GroupIcon className=\"kt-svg-icon kt-svg-icon--success kt-svg-icon--lg\" />\r\n                    </span>\r\n                    <span className=\"kt-grid-nav__title\">Customers</span>\r\n                    <span className=\"kt-grid-nav__desc\">Latest cases</span>\r\n                  </div>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { connect } from \"react-redux\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\nimport { metronic, toAbsoluteUrl } from \"../../../_metronic\";\r\nimport HeaderDropdownToggle from \"../content/CustomDropdowns/HeaderDropdownToggle\";\r\n\r\nconst languages = [\r\n  {\r\n    lang: \"en\",\r\n    name: \"English\",\r\n    flag: toAbsoluteUrl(\"/media/flags/260-united-kingdom.svg\")\r\n  },\r\n  {\r\n    lang: \"zh\",\r\n    name: \"Mandarin\",\r\n    flag: toAbsoluteUrl(\"/media/flags/034-china.svg\")\r\n  },\r\n  {\r\n    lang: \"es\",\r\n    name: \"Spanish\",\r\n    flag: toAbsoluteUrl(\"/media/flags/128-spain.svg\")\r\n  },\r\n  {\r\n    lang: \"ja\",\r\n    name: \"Japanese\",\r\n    flag: toAbsoluteUrl(\"/media/flags/063-japan.svg\")\r\n  },\r\n  {\r\n    lang: \"de\",\r\n    name: \"German\",\r\n    flag: toAbsoluteUrl(\"/media/flags/162-germany.svg\")\r\n  },\r\n  {\r\n    lang: \"fr\",\r\n    name: \"French\",\r\n    flag: toAbsoluteUrl(\"/media/flags/195-france.svg\")\r\n  }\r\n];\r\n\r\nclass LanguageSelector extends React.Component {\r\n  render() {\r\n    const { lang, iconType, setLanguage } = this.props;\r\n    const currentLanguage = languages.find(x => x.lang === lang);\r\n    return (\r\n      <Dropdown\r\n        className=\"kt-header__topbar-item kt-header__topbar-item--langs\"\r\n        drop=\"down\" alignRight\r\n      >\r\n        <Dropdown.Toggle as={HeaderDropdownToggle} id=\"dropdown-toggle-my-cart\">\r\n          <span\r\n            className={clsx(\"kt-header__topbar-icon\", {\r\n              \"kt-header__topbar-icon--brand\": iconType === \"brand\"\r\n            })}\r\n          >\r\n            <img src={currentLanguage.flag} alt={currentLanguage.name} />\r\n          </span>\r\n        </Dropdown.Toggle>\r\n        <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-right dropdown-menu-anim dropdown-menu-top-unround\">\r\n          <ul className=\"kt-nav kt-margin-t-10 kt-margin-b-10\">\r\n            {languages.map(language => (\r\n              <li\r\n                key={language.lang}\r\n                className={clsx(\"kt-nav__item\", {\r\n                  \"kt-nav__item--active\": language.lang === currentLanguage.lang\r\n                })}\r\n              >\r\n                <span\r\n                  onClick={() => {\r\n                    setLanguage(language.lang);\r\n                    this.setState({ open: false });\r\n                    setTimeout(()=> window.location.reload(), 400);\r\n                  }}\r\n                  className={clsx(\"kt-nav__link\", {\r\n                    \"kt-nav__link--active\":\r\n                      language.lang === currentLanguage.lang\r\n                  })}\r\n                >\r\n                  <span className=\"kt-nav__link-icon\">\r\n                    <img src={language.flag} alt={language.name} />\r\n                  </span>\r\n                  <span className=\"kt-nav__link-text\">{language.name}</span>\r\n                </span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ i18n }) => ({ lang: i18n.lang });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  metronic.i18n.actions\r\n)(LanguageSelector);\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport KTOffcanvas from \"../../_assets/js/offcanvas\";\r\n\r\nexport default class QuickPanelToggler extends React.Component {\r\n  componentDidMount() {\r\n    // eslint-disable-next-line\r\n    const panel = document.getElementById(\"kt_quick_panel\");\r\n\r\n    // eslint-disable-next-line\r\n    const offCanvas = new KTOffcanvas(panel, {\r\n      overlay: true,\r\n      baseClass: \"kt-quick-panel\",\r\n      closeBy: \"kt_quick_panel_close_btn\",\r\n      toggleBy: \"kt_quick_panel_toggler_btn\"\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <OverlayTrigger\r\n          placement=\"bottom\"\r\n          overlay={<Tooltip id=\"quick-panel-tooltip\">Quick panel</Tooltip>}\r\n        >\r\n          <div\r\n            className=\"kt-header__topbar-item kt-header__topbar-item--quick-panel\"\r\n            data-toggle=\"kt-tooltip\"\r\n            title=\"Quick panel\"\r\n            data-placement=\"right\"\r\n          >\r\n            <span\r\n              className=\"kt-header__topbar-icon\"\r\n              id=\"kt_quick_panel_toggler_btn\"\r\n            >\r\n              <i className=\"flaticon2-cube-1\"></i>\r\n            </span>\r\n          </div>\r\n        </OverlayTrigger>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport {USER_URL, MEDIA_URL} from \"../../crud/api\"\r\nimport { connect } from \"react-redux\";\r\nimport { toAbsoluteUrl } from \"../../../_metronic\";\r\nimport {HeaderDropdownToggle} from \"../content/CustomDropdowns/HeaderDropdownToggle\";\r\n\r\nclass UserProfile extends React.Component {\r\n  render() {\r\n    const { user, showHi, showAvatar, showBadge } = this.props;\r\n\r\n    return (\r\n      <Dropdown className=\"kt-header__topbar-item kt-header__topbar-item--user\" drop=\"down\" alignRight>\r\n        <Dropdown.Toggle as={HeaderDropdownToggle}\r\n          id=\"dropdown-toggle-user-profile\"\r\n        >\r\n\r\n          <div className=\"kt-header__topbar-user\">\r\n            {showHi && (\r\n              <span className=\"kt-header__topbar-welcome kt-hidden-mobile\">\r\n                Hi,\r\n              </span>\r\n            )}\r\n\r\n            {showHi && (\r\n              <span className=\"kt-header__topbar-username kt-hidden-mobile\">\r\n                {user.contact ? user.contact.first_name : 'User'}\r\n              </span>\r\n            )}\r\n\r\n            {<img alt=\"Pic\" src={user.media != null  ? MEDIA_URL+user.media.original_file_name: `${toAbsoluteUrl(\"/media/users/default.jpg\")}`} />}\r\n\r\n          </div>\r\n        </Dropdown.Toggle>\r\n        <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-right dropdown-menu-anim dropdown-menu-top-unround dropdown-menu-xl\">\r\n          {/** ClassName should be 'dropdown-menu dropdown-menu-fit dropdown-menu-right dropdown-menu-anim dropdown-menu-top-unround dropdown-menu-xl' */}\r\n          <div\r\n            className=\"kt-user-card kt-user-card--skin-dark kt-notification-item-padding-x d-block\"\r\n            style={{\r\n              backgroundImage: `url(${toAbsoluteUrl(\"/media/misc/bg-1.jpg\")})`\r\n            }}\r\n          >\r\n            {user.media &&\r\n            <div className=\"kt-user-card__avatar\">\r\n              <img alt=\"Pic\" className=\"kt-hidden\" src={user.pic} />\r\n              {user.contact && user.contact.first_name ?\r\n                  <span className=\"kt-badge kt-badge--lg kt-badge--rounded kt-badge--bold kt-font-success\">\r\n                  {user.contact && user.contact.first_name.charAt(0)}\r\n              </span> : ''\r\n              }\r\n            </div>\r\n            }\r\n            <div className=\"kt-user-card__name\">\r\n              {user.contact && user.contact.first_name ? user.contact.first_name+' ' : ''}\r\n              {user.contact && user.contact.last_name ? user.contact.last_name : ''}\r\n            </div>\r\n            <div className=\"kt-user-card__details\">\r\n              {user.contact && user.contact.job_title ? user.contact.job_title.name : ''}\r\n              <br />\r\n              {user.contact && user.contact.company ? user.contact.company.name : ''}\r\n            </div>\r\n            {/*<div className=\"kt-user-card__badge\">\r\n              <span className=\"btn btn-success btn-sm btn-bold btn-font-md\">\r\n                23 messages\r\n             </span>\r\n            </div>*/}\r\n          </div>\r\n          <div className=\"kt-notification\">\r\n            <div className=\"kt-notification__item\">\r\n              <div className=\"kt-notification__item-icon\">\r\n                <i className=\"flaticon2-calendar-3 kt-font-success\" />\r\n              </div>\r\n              <div className=\"kt-notification__item-details\">\r\n                <Link style={{color: 'inherit'}} to={\"/user/account-setting\"}>\r\n                <div className=\"kt-notification__item-title kt-font-bold\">\r\n                  My Profile\r\n                </div>\r\n                    <div className=\"kt-notification__item-time\">\r\n                      Account settings and more\r\n                    </div>\r\n                  </Link>\r\n              </div>\r\n            </div>\r\n            {/*<a className=\"kt-notification__item\">\r\n              <div className=\"kt-notification__item-icon\">\r\n                <i className=\"flaticon2-mail kt-font-warning\" />\r\n              </div>\r\n              <div className=\"kt-notification__item-details\">\r\n                <div className=\"kt-notification__item-title kt-font-bold\">\r\n                  My Messages\r\n                </div>\r\n                <div className=\"kt-notification__item-time\">\r\n                  Inbox and tasks\r\n                </div>\r\n              </div>\r\n            </a>\r\n            <a className=\"kt-notification__item\">\r\n              <div className=\"kt-notification__item-icon\">\r\n                <i className=\"flaticon2-rocket-1 kt-font-danger\" />\r\n              </div>\r\n              <div className=\"kt-notification__item-details\">\r\n                <div className=\"kt-notification__item-title kt-font-bold\">\r\n                  My Activities\r\n                </div>\r\n                <div className=\"kt-notification__item-time\">\r\n                  Logs and notifications\r\n                </div>\r\n              </div>\r\n            </a>\r\n            <a className=\"kt-notification__item\">\r\n              <div className=\"kt-notification__item-icon\">\r\n                <i className=\"flaticon2-hourglass kt-font-brand\" />\r\n              </div>\r\n              <div className=\"kt-notification__item-details\">\r\n                <div className=\"kt-notification__item-title kt-font-bold\">\r\n                  My Tasks\r\n                </div>\r\n                <div className=\"kt-notification__item-time\">\r\n                  latest tasks and projects\r\n                </div>\r\n              </div>\r\n            </a>*/}\r\n            <div className=\"kt-notification__custom\">\r\n              <Link\r\n                to={\"/\"+USER_URL+\"/logout\"}\r\n                className=\"btn btn-label-brand btn-sm btn-bold\"\r\n              >\r\n                Sign Out\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth: { user } }) => ({\r\n  user\r\n});\r\n\r\nexport default connect(mapStateToProps)(UserProfile);\r\n","import React from \"react\";\r\nimport SearchDropdown from \"../../../app/partials/layout/SearchDropdown\";\r\nimport UserNotifications from \"../../../app/partials/layout/UserNotifications\";\r\nimport MyCart from \"../../../app/partials/layout/MyCart\";\r\nimport QuickActionsPanel from \"../../../app/partials/layout/QuickActionsPanel\";\r\nimport QuickPanelToggler from \"./QuickPanelToggle\";\r\nimport LanguageSelector from \"../../../app/partials/layout/LanguageSelector\";\r\nimport UserProfile from \"../../../app/partials/layout/UserProfile\";\r\nimport { toAbsoluteUrl } from \"../../utils/utils\";\r\nimport { list, patch, USER_URL, setLocalStorageItem } from \"../../../app/crud/api\";\r\n\r\nexport default class Topbar extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      products: []\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    list('pricing').then(\r\n      (response) => {\r\n        this.setState({products:response.data});\r\n        setLocalStorageItem('credits', response.data);\r\n    });  \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"kt-header__topbar\">\r\n        {/*<SearchDropdown icon=\"flaticon2-search-1\" />\r\n\r\n        <UserNotifications\r\n          skin=\"light\"\r\n          iconType=\"\"\r\n          icon=\"flaticon2-bell-alarm-symbol\"\r\n          type=\"primary\"\r\n          dot=\"false\"\r\n        />\r\n\r\n        <QuickActionsPanel\r\n          bgImage={toAbsoluteUrl(\"/media/misc/bg-2.jpg\")}\r\n          skin=\"light\"\r\n          iconType=\"\"\r\n          gridNavSkin=\"light\"\r\n          icon=\"flaticon2-gear\"\r\n        />*/}\r\n\r\n        <MyCart\r\n          iconType=\"\"\r\n          products={this.state.products}\r\n          propsData={this.props.propsData}\r\n          skin=\"light\"\r\n          icon=\"flaticon2-shopping-cart-1\"\r\n          bgImage={toAbsoluteUrl(\"/media/misc/bg-1.jpg\")}\r\n        />\r\n\r\n\r\n        {/*<LanguageSelector iconType=\"\" />*/}\r\n\r\n        <UserProfile showBadge={true} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class HMenuItemInner extends React.Component {\r\n\r\n  itemCssClassWithBullet(item, parentItem) {\r\n    if (item.bullet) {\r\n      return `kt-menu__link-bullet--${item.bullet}`;\r\n    }\r\n\r\n    if (parentItem && parentItem.bullet) {\r\n      return `kt-menu__link-bullet--${parentItem.bullet}`;\r\n    }\r\n\r\n    return \"\";\r\n  }\r\n\r\n  render() {\r\n    const { item, parentItem} = this.props;\r\n    return (\r\n      <>\r\n        {/* if menu item has icon */}\r\n        {item.icon && (\r\n          <i className={`kt-menu__link-icon ${item.icon}`} />\r\n        )}\r\n\r\n        {/* if menu item using bullet */}\r\n        {(!item.icon && (item.bullet || (parentItem && parentItem.bullet))) && (\r\n         <i className={`kt-menu__link-bullet ${this.itemCssClassWithBullet(item, parentItem)}`}><span /></i>\r\n        )}\r\n\r\n        {!item.badge ? (\r\n          <>\r\n            <span className=\"kt-menu__item-here\"/>\r\n            {/* menu item title text */}\r\n            <span className=\"kt-menu__link-text\">{item.title}</span>\r\n          </>\r\n        ) : (\r\n          <>\r\n            {/* menu item with badge */}\r\n            <span className=\"kt-menu__link-text\">{item.title}</span>\r\n            <span className=\"kt-menu__link-badge\">\r\n              <span className={`kt-badge kt-badge--brand kt-badge--inline kt-badge--pill ${item.badge.type} `}>\r\n                {item.badge.value}\r\n              </span>\r\n            </span>\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport HMenuItem from \"./HMenuItem\";\r\n\r\nexport default class HMenuColumn extends React.Component {\r\n  render() {\r\n    const { item, currentUrl } = this.props;\r\n    return (\r\n      <li className=\"kt-menu__item\">\r\n        {item.heading && (\r\n          <h3 className=\"kt-menu__heading kt-menu__toggle\">\r\n            <span className=\"kt-menu__link-text\">{item.heading.title}</span>\r\n            <i className=\"kt-menu__ver-arrow la la-angle-right\" />\r\n          </h3>\r\n        )}\r\n        {item.items && item.items.length && (\r\n          <ul className=\"kt-menu__inner\">\r\n            {item.items.map((child, index) => {\r\n              return (\r\n                <React.Fragment key={`hmenuColumnInnerColumn${index}`}>\r\n                  <HMenuItem\r\n                    item={child}\r\n                    parentItem={item}\r\n                    currentUrl={currentUrl}\r\n                  />\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </ul>\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport objectPath from \"object-path\";\r\nimport clsx from \"clsx\";\r\nimport MenuItemInner from \"./HMenuItemInner\";\r\nimport HMenuColumn from \"./HMenuColumn\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class HMenuItem extends React.Component {\r\n  /**\r\n   * Returns Attribute SubMenu Toggle\r\n   * @param item: any\r\n   */\r\n  getItemAttrSubmenuToggle = item => {\r\n    const toggleEvent = objectPath.get(item, \"toggle\");\r\n    if (toggleEvent === \"click\") {\r\n      return \"click\";\r\n    }\r\n\r\n    if (objectPath.get(item, \"submenu.type\") === \"tabs\") {\r\n      return \"tabs\";\r\n    }\r\n\r\n    return \"hover\";\r\n  };\r\n\r\n  /**\r\n   * Check Menu is active\r\n   * @param item: any\r\n   */\r\n  isMenuItemIsActive = item => {\r\n    if (item.submenu) {\r\n      return this.isMenuRootItemIsActive(item);\r\n    }\r\n\r\n    if (!item.page) {\r\n      return false;\r\n    }\r\n\r\n    return this.props.currentUrl.indexOf(item.page) !== -1;\r\n  };\r\n\r\n  /**\r\n   * Check Menu Root Item is active\r\n   * @param item: any\r\n   */\r\n  isMenuRootItemIsActive = item => {\r\n    if (item.submenu && !item.submenu.type) {\r\n      for (const _subItem of item.submenu) {\r\n        const isActive = this.isMenuItemIsActive(_subItem);\r\n        if (isActive) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\n    if (item.submenu && item.submenu.columns) {\r\n      for (const _column of item.submenu.columns) {\r\n        for (const _subItem of _column.items)\r\n        {\r\n          const isActive = this.isMenuItemIsActive(_subItem);\r\n          if (isActive) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  /**\r\n   * Return Css Class Name\r\n   * @param item: any\r\n   */\r\n  getItemCssClasses = item => {\r\n    let classes = \"kt-menu__item\";\r\n\r\n    if (objectPath.get(item, \"submenu\")) {\r\n      classes += \" kt-menu__item--submenu\";\r\n    }\r\n\r\n    const isActive = this.isMenuItemIsActive(item);\r\n    if (!item.submenu && isActive) {\r\n      classes += \" kt-menu__item--active kt-menu__item--here\";\r\n    }\r\n\r\n    if (item.submenu && isActive) {\r\n      classes += \" kt-menu__item--open kt-menu__item--here\";\r\n    }\r\n\r\n    if (objectPath.get(item, \"resizer\")) {\r\n      classes += \" kt-menu__item--resize\";\r\n    }\r\n\r\n    const menuType = objectPath.get(item, \"submenu.type\") || \"classic\";\r\n    if (\r\n      (objectPath.get(item, \"root\") && menuType === \"classic\") ||\r\n      parseInt(objectPath.get(item, \"submenu.width\"), 10) > 0\r\n    ) {\r\n      classes += \" kt-menu__item--rel\";\r\n    }\r\n\r\n    const customClass = objectPath.get(item, \"custom-class\");\r\n    if (customClass) {\r\n      classes += \" \" + customClass;\r\n    }\r\n\r\n    if (objectPath.get(item, \"icon-only\")) {\r\n      classes += \" kt-menu__item--icon-only\";\r\n    }\r\n\r\n    return classes;\r\n  };\r\n\r\n  /**\r\n   * Returns Submenu CSS Class Name\r\n   * @param item: any\r\n   */\r\n  getItemMenuSubmenuClass = item => {\r\n    let classes = \"\";\r\n\r\n    const alignment = objectPath.get(item, \"alignment\") || \"right\";\r\n\r\n    if (alignment) {\r\n      classes += \" kt-menu__submenu--\" + alignment;\r\n    }\r\n\r\n    const type = objectPath.get(item, \"type\") || \"classic\";\r\n    if (type === \"classic\") {\r\n      classes += \" kt-menu__submenu--classic\";\r\n    }\r\n    if (type === \"tabs\") {\r\n      classes += \" kt-menu__submenu--tabs\";\r\n    }\r\n    if (type === \"mega\") {\r\n      if (objectPath.get(item, \"width\")) {\r\n        classes += \" kt-menu__submenu--fixed\";\r\n      }\r\n    }\r\n\r\n    if (objectPath.get(item, \"pull\")) {\r\n      classes += \" kt-menu__submenu--pull\";\r\n    }\r\n\r\n    return classes;\r\n  };\r\n\r\n  render() {\r\n    const { item, parentItem, currentUrl, rootArrowEnabled } = this.props;\r\n    return (\r\n      <li\r\n        className={this.getItemCssClasses(item)}\r\n        aria-haspopup=\"true\"\r\n        data-ktmenu-submenu-toggle={this.getItemAttrSubmenuToggle(item)}\r\n        data-ktmenu-submenu-mode={item.mode}\r\n        data-ktmenu-dropdown-toggle-class={item[\"dropdown-toggle-class\"]}\r\n      >\r\n        {/* if item has submenu */}\r\n        {item.submenu && (\r\n          <a\r\n            className={`kt-menu__link ${clsx({\r\n              \"kt-menu__toggle\": item.root || item.submenu\r\n            })}`}\r\n          >\r\n            <MenuItemInner\r\n              item={item}\r\n              parentItem={parentItem}\r\n              currentUrl={currentUrl}\r\n            />\r\n            {rootArrowEnabled && (\r\n              <>\r\n                {item.submenu && item.root && (\r\n                  <>\r\n                    <i className=\"kt-menu__hor-arrow la la-angle-down\" />\r\n                    <i className=\"kt-menu__ver-arrow la la-angle-right\" />\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {item.submenu && !item.root && (\r\n              <>\r\n                <i className=\"kt-menu__hor-arrow la la-angle-right\" />\r\n                <i className=\"kt-menu__ver-arrow la la-angle-right\" />\r\n              </>\r\n            )}\r\n          </a>\r\n        )}\r\n\r\n        {/* if item hasn't submenu */}\r\n        {!item.submenu && (\r\n          <Link to={`/${item.page || \"\"}`} className=\"kt-menu__link\">\r\n            <MenuItemInner\r\n              item={item}\r\n              parentItem={parentItem}\r\n              currentUrl={currentUrl}\r\n            />\r\n          </Link>\r\n        )}\r\n\r\n        {/* if menu item has submenu child then recursively call new menu item component */}\r\n        {item.submenu && (\r\n          <div\r\n            className={`kt-menu__submenu ${this.getItemMenuSubmenuClass(item)}`}\r\n            style={{ width: item.submenu.width }}\r\n          >\r\n            <span\r\n              className={`kt-menu__arrow ${clsx({\r\n                \"kt-menu__arrow--adjust\": item.root\r\n              })}`}\r\n            />\r\n\r\n            {item.submenu && item.submenu.length && (\r\n              <ul className=\"kt-menu__subnav\">\r\n                {item.submenu.map((child, index) => {\r\n                  return (\r\n                    <React.Fragment key={`hmenuListInner${index}`}>\r\n                      <HMenuItem\r\n                        item={child}\r\n                        parentItem={item}\r\n                        currentUrl={currentUrl}\r\n                      />\r\n                    </React.Fragment>\r\n                  );\r\n                })}\r\n              </ul>\r\n            )}\r\n\r\n            {item.submenu.items && item.submenu.items.length && (\r\n              <ul className=\"kt-menu__subnav\">\r\n                {item.submenu.items.map((child, index) => {\r\n                  return (\r\n                    <React.Fragment key={`hmenuListInner2${index}`}>\r\n                      <HMenuItem\r\n                        item={child}\r\n                        parentItem={item}\r\n                        currentUrl={currentUrl}\r\n                      />\r\n                    </React.Fragment>\r\n                  );\r\n                })}\r\n              </ul>\r\n            )}\r\n\r\n            {item.submenu.type === \"mega\" &&\r\n              (item.submenu.columns && item.submenu.columns.length) && (\r\n                <div className=\"kt-menu__subnav\">\r\n                  <ul className=\"kt-menu__content\">\r\n                    {item.submenu.columns.map((child, index) => {\r\n                      return (\r\n                        <React.Fragment key={`hmenuColumnInner${index}`}>\r\n                          <HMenuColumn\r\n                            item={child}\r\n                            parentItem={item}\r\n                            currentUrl={currentUrl}\r\n                          />\r\n                        </React.Fragment>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n          </div>\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport objectPath from \"object-path\";\r\nimport HMenuItem from \"./HMenuItem\";\r\nimport * as builder from \"../../../ducks/builder\";\r\nimport { toAbsoluteUrl } from \"../../..\";\r\nimport KTMenu from \"../../../_assets/js/menu\";\r\nimport KTOffcanvas from \"../../../_assets/js/offcanvas\";\r\n\r\nconst offcanvasOptions = {\r\n  overlay: true,\r\n  baseClass: \"kt-header-menu-wrapper\",\r\n  closeBy: \"kt_header_menu_mobile_close_btn\",\r\n  toggleBy: {\r\n    target: \"kt_header_mobile_toggler\",\r\n    state: \"kt-header-mobile__toolbar-toggler--active\"\r\n  }\r\n};\r\n\r\nclass HMenu extends React.Component {\r\n  offCanvasCommonRef = React.createRef();\r\n  ktMenuCommonRef = React.createRef();\r\n\r\n  getHeaderLogo() {\r\n    let result = \"logo-light.png\";\r\n    console.log(\"this.props.headerSelfSkin\", this.props.headerSelfSkin);\r\n    if (this.props.headerSelfSkin && this.props.headerSelfSkin !== \"dark\") {\r\n      result = \"logo-dark.png\";\r\n    }\r\n    return toAbsoluteUrl(`/media/logos/${result}`);\r\n  }\r\n\r\n  get currentUrl() {\r\n    return this.props.location.pathname.split(/[?#]/)[0];\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Canvas\r\n    this.initOffCanvas();\r\n    // Menu\r\n    this.initKTMenu();\r\n  }\r\n\r\n  initOffCanvas = () => {\r\n    // eslint-disable-next-line no-undef\r\n    new KTOffcanvas(this.offCanvasCommonRef.current, offcanvasOptions);\r\n  };\r\n\r\n  initKTMenu = () => {\r\n    let menuOptions = {\r\n      submenu: {\r\n        desktop: \"dropdown\",\r\n        tablet: \"accordion\",\r\n        mobile: \"accordion\"\r\n      },\r\n      accordion: {\r\n        slideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n        expandAll: false // allow having multiple expanded accordions in the menu\r\n      },\r\n      dropdown: {\r\n        timeout: 50\r\n      }\r\n    };\r\n\r\n    let menuDesktopMode = \"accordion\";\r\n    if (\r\n      this.ktMenuCommonRef.current.getAttribute(\"data-ktmenu-dropdown\") === \"1\"\r\n    ) {\r\n      menuDesktopMode = \"dropdown\";\r\n    }\r\n\r\n    if (typeof objectPath.get(menuOptions, \"submenu.desktop\") === \"object\") {\r\n      menuOptions.submenu.desktop = {\r\n        default: menuDesktopMode\r\n      };\r\n    }\r\n\r\n    // eslint-disable-next-line no-undef\r\n    new KTMenu(this.ktMenuCommonRef.current, menuOptions);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      disabledAsideSelfDisplay,\r\n      ktMenuClasses,\r\n      ulClasses,\r\n      rootArrowEnabled\r\n    } = this.props;\r\n    const items = this.props.menuConfig.header.items;\r\n    return (\r\n      <>\r\n        <button\r\n          className=\"kt-header-menu-wrapper-close\"\r\n          id=\"kt_header_menu_mobile_close_btn\"\r\n        >\r\n          <i className=\"la la-close\" />\r\n        </button>\r\n        <div\r\n          className=\"kt-header-menu-wrapper\"\r\n          id=\"kt_header_menu_wrapper\"\r\n          ref={this.offCanvasCommonRef}\r\n        >\r\n          {disabledAsideSelfDisplay && (\r\n            <div className=\"kt-header-logo\">\r\n              <Link to=\"/\">\r\n                <img alt=\"logo\" src={this.getHeaderLogo()} />\r\n              </Link>\r\n            </div>\r\n          )}\r\n\r\n          <div\r\n            id=\"kt_header_menu\"\r\n            className={`kt-header-menu kt-header-menu-mobile ${ktMenuClasses}`}\r\n            ref={this.ktMenuCommonRef}\r\n          >\r\n            <ul className={`kt-menu__nav ${ulClasses}`}>\r\n              {items.map((item, index) => {\r\n                return (\r\n                  <React.Fragment key={`hmenuList${index}`}>\r\n                    {item.title && (\r\n                      <HMenuItem\r\n                        item={item}\r\n                        currentUrl={this.currentUrl}\r\n                        rootArrowEnabled={rootArrowEnabled}\r\n                      />\r\n                    )}\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n  config: store.builder.layoutConfig,\r\n  menuConfig: store.builder.menuConfig,\r\n  ktMenuClasses: builder.selectors.getClasses(store, {\r\n    path: \"header_menu\",\r\n    toString: true\r\n  }),\r\n  rootArrowEnabled: builder.selectors.getConfig(\r\n    store,\r\n    \"header.menu.self.root-arrow\"\r\n  ),\r\n  headerSelfSkin: builder.selectors.getConfig(store, \"header.self.skin\"),\r\n  ulClasses: builder.selectors.getClasses(store, {\r\n    path: \"header_menu_nav\",\r\n    toString: true\r\n  }),\r\n  disabledAsideSelfDisplay:\r\n    objectPath.get(store.builder.layoutConfig, \"aside.self.display\") === false\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(HMenu));\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Progress } from \"reactstrap\";\r\n\r\nclass AnimateLoading extends React.Component {\r\n  animateTimeout;\r\n  stopAnimateTimeout;\r\n  state = {\r\n    width: 0,\r\n    routeChanged: false\r\n  };\r\n\r\n  componentDidUpdate(nextProps) {\r\n    if (this.props.location.pathname !== nextProps.location.pathname) {\r\n      this.animate();\r\n    }\r\n  }\r\n\r\n  animate() {\r\n    this.animateTimeout = setTimeout(() => {\r\n      if (this.state.width <= 100) {\r\n        this.setState({ width: this.state.width + 10 });\r\n        this.animate();\r\n      } else {\r\n        this.stopAnimate();\r\n      }\r\n    }, 30);\r\n  }\r\n  stopAnimate() {\r\n    clearTimeout(this.animateInterval);\r\n    this.stopAnimateTimeout = setTimeout(() => {\r\n      this.setState({ width: 0 });\r\n    }, 300);\r\n  }\r\n  componentWillUnmount() {\r\n    if (this.stopAnimateTimeout) {\r\n      clearTimeout(this.stopAnimateTimeout);\r\n    }\r\n    if (this.animateTimeout) {\r\n      clearTimeout(this.animateTimeout);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"header-progress-bar\"\r\n        style={{ height: \"3px\", width: \"100%\" }}\r\n      >\r\n        {this.state.width > 0 && (\r\n          <Progress value={this.state.width} style={{ height: \"3px\" }} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AnimateLoading);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport objectPath from \"object-path\";\r\nimport Topbar from \"./Topbar\";\r\nimport HMenu from \"./HMenu/HMenu\";\r\nimport AnimateLoading from \"../../../app/partials/layout/AnimateLoading\";\r\nimport KTHeader from \"../../_assets/js/header\";\r\nimport * as builder from \"../../ducks/builder\";\r\n\r\nclass Header extends React.Component {\r\n  headerCommonRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    let options = {};\r\n    if (\r\n      this.headerCommonRef.current.getAttribute(\"data-ktheader-minimize\") ===\r\n      \"1\"\r\n    ) {\r\n      options[\"minimize.desktop.on\"] = \"kt-header--minimize\";\r\n      options[\"offset.desktop\"] = 130;\r\n    }\r\n\r\n    // eslint-disable-next-line no-undef\r\n    new KTHeader(this.headerCommonRef.current, options);\r\n  }\r\n\r\n  render() {\r\n    const { menuHeaderDisplay, headerAttributes, headerClasses } = this.props;\r\n    return (\r\n      <div\r\n        className={`kt-header kt-grid__item ${headerClasses}`}\r\n        id=\"kt_header\"\r\n        ref={this.headerCommonRef}\r\n        {...headerAttributes}\r\n      >\r\n        <AnimateLoading />\r\n        {/* <!-- begin: Header Menu --> */}\r\n        {menuHeaderDisplay && <HMenu />}\r\n        {/* <!-- end: Header Menu --> */}\r\n        {/* <!-- begin:: Header Topbar --> */}\r\n        {/* <!-- empty div to fix topbar to stay on the right when menu-horizontal is hidden --> */}\r\n        {!menuHeaderDisplay && <div />}\r\n        <Topbar propsData={this.props.propsData} />\r\n        {/* <!-- end:: Header Topbar --> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n  headerAttributes: builder.selectors.getAttributes(store, { path: \"header\"}),\r\n  headerClasses: builder.selectors.getClasses(store, {\r\n    path: \"header\",\r\n    toString: true\r\n  }),\r\n  menuHeaderDisplay: objectPath.get(\r\n    store.builder.layoutConfig,\r\n    \"header.menu.self.display\"\r\n  ),\r\n  fluid:\r\n    objectPath.get(store.builder.layoutConfig, \"header.self.width\") === \"fluid\"\r\n});\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"Stockholm-icons / Files / File-plus\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Stockholm-icons-/-Files-/-File-plus\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"polygon\", {\n  id: \"Shape\",\n  points: \"0 0 24 0 24 24 0 24\"\n}), React.createElement(\"path\", {\n  d: \"M5.85714286,2 L13.7364114,2 C14.0910962,2 14.4343066,2.12568431 14.7051108,2.35473959 L19.4686994,6.3839416 C19.8056532,6.66894833 20,7.08787823 20,7.52920201 L20,20.0833333 C20,21.8738751 19.9795521,22 18.1428571,22 L5.85714286,22 C4.02044787,22 4,21.8738751 4,20.0833333 L4,3.91666667 C4,2.12612489 4.02044787,2 5.85714286,2 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\",\n  fillRule: \"nonzero\",\n  opacity: 0.3\n}), React.createElement(\"path\", {\n  d: \"M11,14 L9,14 C8.44771525,14 8,13.5522847 8,13 C8,12.4477153 8.44771525,12 9,12 L11,12 L11,10 C11,9.44771525 11.4477153,9 12,9 C12.5522847,9 13,9.44771525 13,10 L13,12 L15,12 C15.5522847,12 16,12.4477153 16,13 C16,13.5522847 15.5522847,14 15,14 L13,14 L13,16 C13,16.5522847 12.5522847,17 12,17 C11.4477153,17 11,16.5522847 11,16 L11,14 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#000000\"\n}));\n\nvar SvgFilePlus = function SvgFilePlus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFilePlus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/File-plus.7a98d07d.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport { ReactComponent as FilePlusIcon } from \"../../assets/layout-svg-icons/File-plus.svg\";\r\n\r\nconst QuickActionsDropdownToggle = React.forwardRef((props, ref) => {\r\n  return (\r\n    <a\r\n      ref={ref}\r\n      href=\"#\"\r\n      onClick={e => {\r\n        e.preventDefault();\r\n        props.onClick(e);\r\n      }}\r\n      id=\"kt_dashboard_daterangepicker\"\r\n      className=\"btn btn-icon\"\r\n    >\r\n      {\" \"}\r\n      <FilePlusIcon className=\"kt-svg-icon kt-svg-icon--success kt-svg-icon--md\" />\r\n    </a>\r\n  );\r\n});\r\n\r\nexport class QuickActions extends React.Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <OverlayTrigger\r\n          placement=\"left\"\r\n          overlay={<Tooltip id=\"quick-actions-tooltip\">Quick actions</Tooltip>}\r\n        >\r\n          <Dropdown className=\"dropdown-inline\" drop=\"down\" alignRight>\r\n            <Dropdown.Toggle\r\n              as={QuickActionsDropdownToggle}\r\n              id=\"dropdown-toggle-quick-actions-subheader\"\r\n            />\r\n\r\n            <Dropdown.Menu className=\"dropdown-menu-fit dropdown-menu-md dropdown-menu-right\">\r\n              <ul className=\"kt-nav\">\r\n                <li className=\"kt-nav__head\">\r\n                  Add anything or jump to:\r\n                  <i\r\n                    className=\"flaticon2-information\"\r\n                    data-toggle=\"kt-tooltip\"\r\n                    data-placement=\"right\"\r\n                    title=\"\"\r\n                    data-original-title=\"Click to learn more...\"\r\n                  />\r\n                </li>\r\n                <li className=\"kt-nav__separator\" />\r\n                <li className=\"kt-nav__item\">\r\n                  <a href=\"#\" className=\"kt-nav__link\">\r\n                    <i className=\"kt-nav__link-icon flaticon2-drop\" />\r\n                    <span className=\"kt-nav__link-text\">Order</span>\r\n                  </a>\r\n                </li>\r\n                <li className=\"kt-nav__item\">\r\n                  <a href=\"#\" className=\"kt-nav__link\">\r\n                    <i className=\"kt-nav__link-icon flaticon2-calendar-8\" />\r\n                    <span className=\"kt-nav__link-text\">Ticket</span>\r\n                  </a>\r\n                </li>\r\n                <li className=\"kt-nav__item\">\r\n                  <a href=\"#\" className=\"kt-nav__link\">\r\n                    <i className=\"kt-nav__link-icon flaticon2-telegram-logo\" />\r\n                    <span className=\"kt-nav__link-text\">Goal</span>\r\n                  </a>\r\n                </li>\r\n                <li className=\"kt-nav__item\">\r\n                  <a href=\"#\" className=\"kt-nav__link\">\r\n                    <i className=\"kt-nav__link-icon flaticon2-new-email\" />\r\n                    <span className=\"kt-nav__link-text\">Support Case</span>\r\n                    <span className=\"kt-nav__link-badge\">\r\n                      <span className=\"kt-badge kt-badge--brand kt-badge--rounded\">\r\n                        5\r\n                      </span>\r\n                    </span>\r\n                  </a>\r\n                </li>\r\n                <li className=\"kt-nav__separator\" />\r\n                <li className=\"kt-nav__foot\">\r\n                  <a className=\"btn btn-label-brand btn-bold btn-sm\" href=\"#\">\r\n                    Upgrade plan\r\n                  </a>\r\n                  <a\r\n                    className=\"btn btn-clean btn-bold btn-sm kt-hidden\"\r\n                    href=\"#\"\r\n                    data-toggle=\"kt-tooltip\"\r\n                    data-placement=\"right\"\r\n                    title=\"\"\r\n                    data-original-title=\"Click to learn more...\"\r\n                  >\r\n                    Learn more\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </OverlayTrigger>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport objectPath from \"object-path\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { QuickActions } from \"./components/QuickActions\";\r\nimport * as builder from \"../../ducks/builder\";\r\nimport { LayoutContextConsumer } from \"../LayoutContext\";\r\n// import BreadCrumbs from \"./components/BreadCrumbs\";\r\n\r\nclass SubHeader extends React.Component {\r\n  render() {\r\n    const {\r\n      subheaderCssClasses,\r\n      subheaderContainerCssClasses,\r\n      subheaderMobileToggle\r\n    } = this.props;\r\n    const today = new Date();\r\n    const short_months = dt => {\r\n      Date.shortMonths = [\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\"\r\n      ];\r\n      return Date.shortMonths[dt.getMonth()];\r\n    };\r\n\r\n    return (\r\n      <div\r\n        id=\"kt_subheader\"\r\n        className={`kt-subheader ${subheaderCssClasses} kt-grid__item`}\r\n      >\r\n        <div className={`kt-container ${subheaderContainerCssClasses}`}>\r\n          <div className=\"kt-subheader__main\">\r\n            {subheaderMobileToggle && (\r\n              <button\r\n                className=\"kt-subheader__mobile-toggle kt-subheader__mobile-toggle--left\"\r\n                id=\"kt_subheader_mobile_toggle\"\r\n              >\r\n                <span />\r\n              </button>\r\n            )}\r\n\r\n            <LayoutContextConsumer>\r\n              {/*{({ subheader: { title, breadcrumb } }) => (*/}\r\n              {({ subheader: { title } }) => (\r\n                  <>\r\n                  <h3 className=\"kt-subheader__title\">{title}</h3>\r\n                  {/* <span className=\"kt-subheader__separator kt-subheader__separator--v\" /> */}\r\n                  {/*<BreadCrumbs items={breadcrumb} />*/}\r\n                </>\r\n              )}\r\n            </LayoutContextConsumer>\r\n\r\n            <span className=\"kt-subheader__separator kt-subheader__separator--v\" />\r\n            <span className=\"kt-subheader__desc\">#XRS-45670</span>\r\n            <a\r\n              href=\"#\"\r\n              className=\"btn btn-label-warning btn-bold btn-sm btn-icon-h kt-margin-l-10\"\r\n            >\r\n              Add New\r\n            </a>\r\n          </div>\r\n\r\n          <div className=\"kt-subheader__toolbar\">\r\n            <div className=\"kt-subheader__wrapper\">\r\n              <a href=\"#\" className=\"btn kt-subheader__btn-secondary\">\r\n                Today\r\n              </a>\r\n              &nbsp;\r\n              <a href=\"#\" className=\"btn kt-subheader__btn-secondary\">\r\n                Month\r\n              </a>\r\n              &nbsp;\r\n              <a href=\"#\" className=\"btn kt-subheader__btn-secondary\">\r\n                Year\r\n              </a>\r\n              &nbsp;\r\n              <button type=\"button\" className=\"btn kt-subheader__btn-daterange\">\r\n                <span\r\n                  className=\"kt-subheader__btn-daterange-title\"\r\n                  id=\"kt_dashboard_daterangepicker_title\"\r\n                >\r\n                  Today:\r\n                </span>\r\n                &nbsp;\r\n                <span\r\n                  className=\"kt-subheader__btn-daterange-date\"\r\n                  id=\"kt_dashboard_daterangepicker_date\"\r\n                >\r\n                  {short_months(today)} {today.getDate().toString()}\r\n                </span>\r\n                &nbsp;\r\n                <i className=\"flaticon2-calendar-1\"></i>\r\n              </button>\r\n              &nbsp;\r\n              <QuickActions />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n  subheaderCssClasses: builder.selectors.getClasses(store, {\r\n    path: \"subheader\",\r\n    toString: true\r\n  }),\r\n  subheaderContainerCssClasses: builder.selectors.getClasses(store, {\r\n    path: \"subheader_container\",\r\n    toString: true\r\n  }),\r\n  config: store.builder.layoutConfig,\r\n  menuConfig: store.builder.menuConfig,\r\n  subheaderMobileToggle: objectPath.get(\r\n    store.builder.layoutConfig,\r\n    \"subheader.mobile-toggle\"\r\n  )\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(SubHeader));\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport objectPath from \"object-path\";\r\nimport * as builder from \"../../ducks/builder\";\r\nimport KTToggle from \"../../_assets/js/toggle\";\r\nimport { toAbsoluteUrl } from \"../../utils/utils\";\r\n\r\nclass HeaderMobile extends React.Component {\r\n  toggleButtonRef = React.createRef();\r\n  headerMobileCssClasses = \"\";\r\n  layoutConfig = this.props.layoutConfig;\r\n  componentDidMount() {\r\n    new KTToggle(this.toggleButtonRef.current, this.props.toggleOptions);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      asideDisplay,\r\n      headerMobileCssClasses,\r\n      headerMobileAttributes\r\n    } = this.props;\r\n    return (\r\n      <div\r\n        id=\"kt_header_mobile\"\r\n        className={`kt-header-mobile ${headerMobileCssClasses}`}\r\n        {...headerMobileAttributes}\r\n      >\r\n        <div className=\"kt-header-mobile__logo\">\r\n          <a href={process.env.REACT_GUEST_URL}>\r\n            <img style={{height:'50px'}} alt=\"logo\" src={toAbsoluteUrl(\"/media/logos/airbook_userpanel.svg\")} />\r\n          </a>\r\n        </div>\r\n\r\n        <div className=\"kt-header-mobile__toolbar\">\r\n          {asideDisplay && (\r\n            <button\r\n              className=\"kt-header-mobile__toolbar-toggler kt-header-mobile__toolbar-toggler--left\"\r\n              id=\"kt_aside_mobile_toggler\"\r\n            >\r\n              <span />\r\n            </button>\r\n          )}\r\n\r\n          {/*<button\r\n            className=\"kt-header-mobile__toggler\"\r\n            id=\"kt_header_mobile_toggler\"\r\n          >\r\n            <span />\r\n          </button>*/}\r\n\r\n          <button\r\n            ref={this.toggleButtonRef}\r\n            className=\"kt-header-mobile__topbar-toggler\"\r\n            id=\"kt_header_mobile_topbar_toggler\"\r\n          >\r\n            <i className=\"flaticon-more\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n  headerMobileCssClasses: builder.selectors.getClasses(store, {\r\n    path: \"header_mobile\",\r\n    toString: true\r\n  }),\r\n  headerMobileAttributes: builder.selectors.getAttributes(store, {\r\n    path: \"header_mobile\"\r\n  }),\r\n  asideDisplay: objectPath.get(\r\n    store.builder.layoutConfig,\r\n    \"aside.self.display\"\r\n  ),\r\n  toggleOptions: {\r\n    target: \"body\",\r\n    targetState: \"kt-header__topbar--mobile-on\",\r\n    togglerState: \"kt-header-mobile__toolbar-topbar-toggler--active\"\r\n  }\r\n});\r\n\r\nexport default connect(mapStateToProps)(HeaderMobile);\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport * as builder from \"../../ducks/builder\";\r\nimport { toAbsoluteUrl } from \"../../utils/utils\";\r\n\r\nclass Brand extends React.Component {\r\n  componentDidMount() {\r\n    // eslint-disable-next-line no-undef\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`kt-aside__brand kt-grid__item ${this.props.brandClasses}`}\r\n        id=\"kt_aside_brand\"\r\n      >\r\n        <div className=\"kt-aside__brand-logo\">\r\n          <a href={process.env.REACT_APP_GUEST_URL}>\r\n            <img style={{height:'90px'}} alt=\"logo\" src={toAbsoluteUrl(\"/media/logos/airbook_userpanel.svg\")} />\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    brandClasses: builder.selectors.getClasses(store, {\r\n      path: \"brand\",\r\n      toString: true\r\n    })\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Brand);\r\n","import React from \"react\";\r\n\r\nexport default class MenuSection extends React.Component {\r\n  render() {\r\n    const { item } = this.props;\r\n    return (\r\n      <li className=\"kt-menu__section\">\r\n        <h4 className=\"kt-menu__section-text\">{item.section}</h4>\r\n        <i className=\"kt-menu__section-icon flaticon-more-v2\" />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class MenuItemSeparator extends React.Component {\r\n  render() {\r\n    return (\r\n      <li className=\"kt-menu__separator\">\r\n        <span />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { FormattedMessage } from \"react-intl\";\r\n\r\nexport default class MenuItemText extends React.Component {\r\n  render() {\r\n    const { item, parentItem } = this.props;\r\n\r\n    return (\r\n      <>\r\n        {item.icon && <i className={`kt-menu__link-icon ${item.icon}`} />}\r\n\r\n        {parentItem && parentItem.bullet === \"dot\" && (\r\n          <i className=\"kt-menu__link-bullet kt-menu__link-bullet--dot\">\r\n            <span />\r\n          </i>\r\n        )}\r\n\r\n        {parentItem && parentItem.bullet === \"line\" && (\r\n          <i className=\"kt-menu__link-bullet kt-menu__link-bullet--line\">\r\n            <span />\r\n          </i>\r\n        )}\r\n\r\n        <span className=\"kt-menu__link-text\" style={{ whiteSpace: \"nowrap\" }}>\r\n          {!item.translate ? (\r\n            item.title\r\n          ) : (\r\n            <FormattedMessage id={item.translate} defaultMessage={item.title} />\r\n          )}\r\n        </span>\r\n\r\n        {item.badge && (\r\n          <span className=\"kt-menu__link-badge\">\r\n            <span className={`kt-badge ${item.badge.type}`}>\r\n              {item.badge.value}\r\n            </span>\r\n          </span>\r\n        )}\r\n\r\n        {/*{item.submenu && <i className=\"kt-menu__ver-arrow la la-angle-right\" />}*/}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport MenuSection from \"./MenuSection\";\r\nimport MenuItemSeparator from \"./MenuItemSeparator\";\r\nimport MenuItem from \"./MenuItem\";\r\n\r\nexport default class MenuSubmenu extends React.Component {\r\n  render() {\r\n    const { item, currentUrl, layoutConfig } = this.props;\r\n\r\n    return (\r\n      <ul className=\"kt-menu__subnav\">\r\n        {item.submenu.map((child, index) => (\r\n          <React.Fragment key={index}>\r\n            {child.section && (\r\n              <MenuSection\r\n                item={child}\r\n                parentItem={item}\r\n                currentUrl={currentUrl}\r\n              />\r\n            )}\r\n\r\n            {child.separator && (\r\n              <MenuItemSeparator\r\n                item={child}\r\n                parentItem={item}\r\n                currentUrl={currentUrl}\r\n              />\r\n            )}\r\n\r\n            {child.title && (\r\n              <MenuItem\r\n                item={child}\r\n                parentItem={item}\r\n                currentUrl={currentUrl}\r\n                layoutConfig={layoutConfig}\r\n              />\r\n            )}\r\n          </React.Fragment>\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport objectPath from \"object-path\";\r\nimport { Link } from \"react-router-dom\";\r\nimport MenuItemText from \"./MenuItemText\";\r\nimport MenuSubmenu from \"./MenuSubmenu\";\r\nimport clsx from \"clsx\";\r\n\r\nexport default class MenuItem extends React.Component {\r\n  asideLeftLIRef = React.createRef();\r\n  isDropdown =  document.body.classList.contains(\"kt-aside-menu--dropdown\");\r\n\r\n  submenuToggle =\r\n    this.props.item.toggle === \"click\"\r\n      ? \"click\"\r\n      : objectPath.get(this.props.item, \"submenu.type\") === \"tabs\"\r\n      ? \"tabs\"\r\n      : \"hover\";\r\n\r\n  /**\r\n   * Use for fixed left aside menu, to show menu on mouseenter event.\r\n   * @param event Event\r\n   */\r\n  mouseEnter = event => {\r\n    if (!this.isDropdown) {\r\n      return;\r\n    }\r\n\r\n    if (this.props.item.submenu) {\r\n      this.asideLeftLIRef.current.classList.add(\"kt-menu__item--hover\");\r\n      this.asideLeftLIRef.current.setAttribute(\r\n        \"data-ktmenu-submenu-toggle\",\r\n        this.submenuToggle\r\n      );\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Mouse Leave event\r\n   * @param event: MouseEvent\r\n   */\r\n  mouseLeave = event => {\r\n    if (!this.isDropdown) {\r\n      return;\r\n    }\r\n\r\n    if (this.props.item.submenu && this.submenuToggle === \"hover\") {\r\n      this.asideLeftLIRef.current.classList.remove(\"kt-menu__item--hover\");\r\n      this.asideLeftLIRef.current.removeAttribute(\"data-ktmenu-submenu-toggle\");\r\n    }\r\n  };\r\n\r\n  isMenuItemIsActive = item => {\r\n    if (item.submenu) {\r\n      return this.isMenuRootItemIsActive(item);\r\n    }\r\n\r\n    if (!item.page) {\r\n      return false;\r\n    }\r\n\r\n    return this.props.currentUrl.indexOf(item.page) !== -1;\r\n  };\r\n\r\n  isMenuRootItemIsActive = item => {\r\n    for (const subItem of item.submenu) {\r\n      if (this.isMenuItemIsActive(subItem)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { item, currentUrl, parentItem, layoutConfig } = this.props;\r\n    const isActive = this.isMenuItemIsActive(item);\r\n\r\n    return (\r\n      <li\r\n        ref={this.asideLeftLIRef}\r\n        aria-haspopup=\"true\"\r\n        data-placement=\"right\"\r\n        data-ktmenu-submenu-mode={item.mode}\r\n        onMouseEnter={this.mouseEnter}\r\n        onMouseLeave={this.mouseLeave}\r\n        className={clsx(\r\n          \"kt-menu__item\",\r\n          {\r\n            \"kt-menu__item--submenu\": item.submenu,\r\n            \"kt-menu__item--open kt-menu__item--here\": isActive && item.submenu,\r\n            \"kt-menu__item--active kt-menu__item--here\":\r\n              isActive && !item.submenu,\r\n            \"kt-menu__item--icon-only\": item[\"icon-only\"]\r\n          },\r\n          item[\"custom-class\"]\r\n        )}\r\n        data-ktmenu-dropdown-toggle-class={item[\"dropdown-toggle-class\"]}\r\n      >\r\n        {!item.submenu && (\r\n          <Link to={`/${item.page}`} className=\"kt-menu__link kt-menu__toggle\">\r\n            <MenuItemText item={item} parentItem={parentItem} />\r\n          </Link>\r\n        )}\r\n\r\n        {item.submenu && (\r\n          // eslint-disable-next-line jsx-a11y/anchor-is-valid\r\n          <a className=\"kt-menu__link kt-menu__toggle\">\r\n            <MenuItemText item={item} parentItem={parentItem} />\r\n          </a>\r\n        )}\r\n\r\n        {item.submenu && (\r\n          <div className=\"kt-menu__submenu\">\r\n            <span className=\"kt-menu__arrow\" />\r\n\r\n            {item[\"custom-class\"] === \"kt-menu__item--submenu-fullheight\" && (\r\n              <div className=\"kt-menu__wrapper\">\r\n                <MenuSubmenu\r\n                  item={item}\r\n                  parentItem={item}\r\n                  currentUrl={currentUrl}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {item[\"custom-class\"] !== \"kt-menu__item--submenu-fullheight\" && (\r\n              <MenuSubmenu\r\n                item={item}\r\n                parentItem={item}\r\n                currentUrl={currentUrl}\r\n                layoutConfig={layoutConfig}\r\n              />\r\n            )}\r\n          </div>\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport MenuSection from \"./MenuSection\";\r\nimport MenuItemSeparator from \"./MenuItemSeparator\";\r\nimport MenuItem from \"./MenuItem\";\r\n\r\nexport default class MenuList extends React.Component {\r\n  render() {\r\n    const { currentUrl, menuConfig, layoutConfig } = this.props;\r\n\r\n    return menuConfig.aside.items.map((child, index) => {\r\n      return (\r\n          <React.Fragment key={`menuList${index}`}>\r\n            {child.section && <MenuSection item={child} />}\r\n            {child.separator && <MenuItemSeparator item={child} />}\r\n            {child.title && (\r\n                <MenuItem\r\n                    item={child}\r\n                    currentUrl={currentUrl}\r\n                    layoutConfig={layoutConfig}\r\n                />\r\n            )}\r\n          </React.Fragment>\r\n      );\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport objectPath from \"object-path\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport clsx from \"clsx\";\r\nimport { removeCSSClass } from \"../../utils/utils\";\r\nimport * as builder from \"../../ducks/builder\";\r\nimport MenuList from \"./MenuList\";\r\nimport KTMenu from \"../../_assets/js/menu\";\r\nimport KTUtil from \"../../_assets/js/util\";\r\n\r\nclass AsideLeft extends React.Component {\r\n  asideMenuRef = React.createRef();\r\n\r\n  insideTm;\r\n  outsideTm;\r\n\r\n  componentDidMount() {\r\n    this.initMenu(); // By ID\r\n\r\n    const options = this.setupMenuOptions();\r\n    const ktMenu = new KTMenu(this.asideMenuRef.current, options); // eslint-disable-line\r\n  }\r\n\r\n  initMenu() {\r\n    const { config } = this.props;\r\n    if (\r\n      objectPath.get(config, \"aside.menu.dropdown\") !== \"true\" &&\r\n      objectPath.get(config, \"aside.self.fixed\")\r\n    ) {\r\n      this.asideMenuRef.current.setAttribute(\"data-ktmenu-scroll\", \"1\");\r\n    }\r\n\r\n    if (objectPath.get(config, \"aside.menu.dropdown\") === \"true\") {\r\n      this.asideMenuRef.current.setAttribute(\"data-ktmenu-dropdown\", \"1\");\r\n      this.asideMenuRef.current.setAttribute(\r\n        \"data-ktmenu-dropdown-timeout\",\r\n        objectPath.get(config, \"aside.menu.submenu.dropdown.hover-timeout\")\r\n      );\r\n    }\r\n  }\r\n\r\n  setupMenuOptions() {\r\n    let menuOptions = {\r\n      // vertical scroll\r\n      scroll: null,\r\n      // submenu setup\r\n      submenu: {\r\n        desktop: {\r\n          // by default the menu mode set to accordion in desktop mode\r\n          default: \"dropdown\"\r\n        },\r\n        tablet: \"accordion\", // menu set to accordion in tablet mode\r\n        mobile: \"accordion\" // menu set to accordion in mobile mode\r\n      },\r\n      // accordion setup\r\n      accordion: {\r\n        expandAll: false // allow having multiple expanded accordions in the menu\r\n      }\r\n    };\r\n\r\n    // init aside menu\r\n    let menuDesktopMode = \"accordion\";\r\n    const dataKtmenuDropdown = this.asideMenuRef.current.getAttribute(\r\n      \"data-ktmenu-dropdown\"\r\n    );\r\n    if (dataKtmenuDropdown === \"1\") {\r\n      menuDesktopMode = \"dropdown\";\r\n    }\r\n\r\n    if (typeof objectPath.get(menuOptions, \"submenu.desktop\") === \"object\") {\r\n      menuOptions.submenu.desktop.default = menuDesktopMode;\r\n    }\r\n\r\n    return menuOptions;\r\n  }\r\n\r\n  get currentUrl() {\r\n    return this.props.location.pathname.split(/[?#]/)[0];\r\n  }\r\n\r\n  /**\r\n   * Use for fixed left aside menu, to show menu on mouseenter event.\r\n   * @param e Event\r\n   */\r\n  mouseEnter = e => {\r\n    // check if the left aside menu is fixed\r\n    if (document.body.classList.contains(\"kt-aside--fixed\")) {\r\n      if (this.outsideTm) {\r\n        clearTimeout(this.outsideTm);\r\n        this.outsideTm = null;\r\n      }\r\n\r\n      this.insideTm = setTimeout(() => {\r\n        // if the left aside menu is minimized\r\n        if (\r\n          document.body.classList.contains(\"kt-aside--minimize\") &&\r\n          // eslint-disable-next-line no-undef\r\n          KTUtil.isInResponsiveRange(\"desktop\")\r\n        ) {\r\n          removeCSSClass(document.body, \"kt-aside--minimize\");\r\n          document.body.classList.add(\"kt-aside--minimize-hover\");\r\n        }\r\n      }, 50);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Use for fixed left aside menu, to show menu on mouseenter event.\r\n   * @param e Event\r\n   */\r\n  mouseLeave = e => {\r\n    if (document.body.classList.contains(\"kt-aside--fixed\")) {\r\n      if (this.insideTm) {\r\n        clearTimeout(this.insideTm);\r\n        this.insideTm = null;\r\n      }\r\n\r\n      this.outsideTm = setTimeout(() => {\r\n        // if the left aside menu is expand\r\n        /* eslint-disable-next-line  */\r\n        const kUtilIsResponsiveRange = KTUtil.isInResponsiveRange(\"desktop\");\r\n        const hasMinimizeHover = document.body.classList.contains(\r\n          \"kt-aside--minimize-hover\"\r\n        );\r\n        if (\r\n          hasMinimizeHover &&\r\n          // eslint-disable-next-line no-undef\r\n          kUtilIsResponsiveRange\r\n        ) {\r\n          // hide back the left aside menu\r\n          removeCSSClass(document.body, \"kt-aside--minimize-hover\");\r\n          document.body.classList.add(\"kt-aside--minimize\");\r\n        }\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      ulClasses,\r\n      menuConfig,\r\n      layoutConfig,\r\n      asideClassesFromConfig,\r\n      asideMenuAttr,\r\n      location: { pathname }\r\n    } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <div\r\n          id=\"kt_aside_menu\"\r\n          ref={this.asideMenuRef}\r\n          style={{ maxHeight: \"90vh\", position: \"relative\" }}\r\n          onMouseEnter={this.mouseEnter}\r\n          onMouseLeave={this.mouseLeave}\r\n          data-ktmenu-vertical=\"1\"\r\n          className={clsx(\"kt-aside-menu\", asideClassesFromConfig)}\r\n          {...asideMenuAttr}\r\n        >\r\n          {this.props.disableAsideSelfDisplay && (\r\n            <div className=\"kt-header-logo\">\r\n              <Link to=\"\">\r\n                <img alt=\"logo\" src={this.props.headerLogo} />\r\n              </Link>\r\n            </div>\r\n          )}\r\n          <ul className={clsx(\"kt-menu__nav\", ulClasses)}>\r\n            <MenuList\r\n              currentUrl={pathname}\r\n              menuConfig={menuConfig}\r\n              layoutConfig={layoutConfig}\r\n            />\r\n          </ul>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n  menuConfig: store.builder.menuConfig,\r\n  layoutConfig: store.builder.layoutConfig,\r\n  headerLogo: builder.selectors.getLogo(store),\r\n  asideMenuAttr: builder.selectors.getAttributes(store, { path: \"aside_menu\" }),\r\n  disableAsideSelfDisplay:\r\n    builder.selectors.getConfig(store, \"aside.self.display\") === false,\r\n\r\n  ulClasses: builder.selectors.getClasses(store, {\r\n    path: \"aside_menu_nav\",\r\n    toString: true\r\n  }),\r\n\r\n  asideClassesFromConfig: builder.selectors.getClasses(store, {\r\n    path: \"aside_menu\",\r\n    toString: true\r\n  })\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(AsideLeft));\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as builder from \"../../ducks/builder\";\r\nimport Brand from \"../brand/Brand\";\r\nimport Menu from \"./Menu\";\r\nimport KTOffcanvas from \"../../_assets/js/offcanvas\";\r\n\r\nclass AsideLeft extends React.Component {\r\n  asideOffCanvasRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    // eslint-disable-next-line\r\n    const ktoffConvas = new KTOffcanvas(\r\n      this.asideOffCanvasRef.current,\r\n      this.props.menuCanvasOptions\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <button className=\"kt-aside-close\" id=\"kt_aside_close_btn\">\r\n          <i className=\"la la-close\" />\r\n        </button>\r\n        <div\r\n          id=\"kt-aside\"\r\n          ref={this.asideOffCanvasRef}\r\n          className={`kt-aside ${this.props.asideClassesFromConfig} kt-grid__item kt-grid kt-grid--desktop kt-grid--hor-desktop`}\r\n        >\r\n          <Brand />\r\n          <div\r\n            id=\"kt_aside_menu_wrapper\"\r\n            className=\"kt-aside-menu-wrapper kt-grid__item kt-grid__item--fluid\"\r\n          >\r\n            <Menu />\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n  disableAsideSelfDisplay:\r\n    builder.selectors.getConfig(store, \"aside.self.display\") === false,\r\n  asideClassesFromConfig: builder.selectors.getClasses(store, {\r\n    path: \"aside\",\r\n    toString: true\r\n  }),\r\n  menuCanvasOptions: {\r\n    baseClass: \"kt-aside\",\r\n    overlay: true,\r\n    closeBy: \"kt_aside_close_btn\",\r\n    toggleBy: {\r\n      target: \"kt_aside_mobile_toggler\",\r\n      state: \"kt-header-mobile__toolbar-toggler--active\"\r\n    }\r\n  }\r\n});\r\n\r\nexport default connect(mapStateToProps)(AsideLeft);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as builder from \"../../ducks/builder\";\r\n\r\nclass Footer extends React.Component {\r\n  render() {\r\n    const today = new Date().getFullYear();\r\n    return (\r\n      <div\r\n        className={`kt-footer ${this.props.footerClasses} kt-grid__item kt-grid kt-grid--desktop kt-grid--ver-desktop`}\r\n        id=\"kt_footer\"\r\n      >\r\n        <div className={`kt-container ${this.props.footerContainerClasses}`}>\r\n          <div className=\"kt-footer__copyright\">\r\n            {today.toString()}&nbsp;&copy;&nbsp;\r\n            <a\r\n              href=\"http://airbook.aero/\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"\"\r\n            >\r\n              Airbook\r\n            </a>\r\n          </div>\r\n          {/*<div className=\"kt-footer__menu\">\r\n            <a\r\n              href=\"http://keenthemes.com/metronic\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"kt-footer__menu-link kt-link\"\r\n            >\r\n              About\r\n            </a>\r\n            <a\r\n              href=\"http://keenthemes.com/metronic\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"kt-footer__menu-link kt-link\"\r\n            >\r\n              Team\r\n            </a>\r\n            <a\r\n              href=\"http://keenthemes.com/metronic\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"kt-footer__menu-link kt-link\"\r\n            >\r\n              Contact\r\n            </a>\r\n          </div>*/}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n  footerClasses: builder.selectors.getClasses(store, {\r\n    path: \"footer\",\r\n    toString: true\r\n  }),\r\n  footerContainerClasses: builder.selectors.getClasses(store, {\r\n    path: \"footer_container\",\r\n    toString: true\r\n  })\r\n});\r\n\r\nexport default connect(mapStateToProps)(Footer);\r\n","import React from \"react\";\r\nimport KTScrolltop from \"../../../_metronic/_assets/js/scrolltop\";\r\n\r\nexport default class ScrollTop extends React.Component {\r\n  scrollTopCommonRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    const scrollTopOptions = {\r\n      offset: 300,\r\n      speed: 600\r\n    };\r\n    // eslint-disable-next-line no-undef\r\n    new KTScrolltop(this.scrollTopCommonRef.current, scrollTopOptions);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        id=\"kt_scrolltop\"\r\n        className=\"kt-scrolltop\"\r\n        ref={this.scrollTopCommonRef}\r\n      >\r\n        <i className=\"la la-arrow-up\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\n\r\nexport default class StickyToolbar extends React.Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <ul className=\"kt-sticky-toolbar\" style={{ marginTop: \"30px\" }}>\r\n  \r\n          <OverlayTrigger\r\n            placement=\"left\"\r\n            overlay={<Tooltip id=\"layout-tooltip\">Layout Builder</Tooltip>}\r\n          >\r\n            <li\r\n              className=\"kt-sticky-toolbar__item kt-sticky-toolbar__item--brand\"\r\n              data-placement=\"left\"\r\n            >\r\n              <Link to=\"/builder\">\r\n                <i className=\"flaticon2-gear\" />\r\n              </Link>\r\n            </li>\r\n          </OverlayTrigger>\r\n  \r\n          <OverlayTrigger\r\n            placement=\"left\"\r\n            overlay={<Tooltip id=\"documentations-tooltip\">Documentation</Tooltip>}\r\n          >\r\n            <li\r\n              className=\"kt-sticky-toolbar__item kt-sticky-toolbar__item--warning\"\r\n              data-placement=\"left\"\r\n            >\r\n              <a\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                href=\"https://keenthemes.com/metronic/?page=docs\"\r\n              >\r\n                <i className=\"flaticon2-telegram-logo\" />\r\n              </a>\r\n            </li>\r\n          </OverlayTrigger>\r\n        </ul>\r\n      </>\r\n    );\r\n  };\r\n}\r\n","import objectPath from \"object-path\";\r\n\r\nexport default class HtmlClassService {\r\n  // Public properties\r\n  config;\r\n  classes;\r\n  attributes;\r\n\r\n  /**\r\n   * Build html element classes from layout config\r\n   * @param layoutConfig\r\n   */\r\n  setConfig(layoutConfig) {\r\n    this.config = layoutConfig;\r\n\r\n    // scope list of classes\r\n    this.classes = {\r\n      header: [],\r\n      header_container: [],\r\n      header_mobile: [],\r\n      header_menu: [],\r\n      aside: [],\r\n      aside_menu: [],\r\n      subheader: [],\r\n      subheader_container: [],\r\n      content: [],\r\n      content_container: [],\r\n      footer_container: []\r\n    };\r\n\r\n    this.attributes = {\r\n      aside_menu: {},\r\n      header_mobile: {},\r\n      header_menu: {}\r\n    };\r\n\r\n    // init base layout\r\n    this.initLayout();\r\n    this.initLoader();\r\n\r\n    // not yet implemented\r\n    // this.initAsideSecondary();\r\n\r\n    // init header and subheader menu\r\n    this.initHeader();\r\n    this.initSubheader();\r\n\r\n    this.initContent();\r\n    // init aside and aside menu\r\n    this.initAside();\r\n\r\n    // init footer\r\n    this.initFooter();\r\n  }\r\n\r\n  /**\r\n   * Returns Classes\r\n   *\r\n   * @param path: string\r\n   * @param toString boolean\r\n   */\r\n  getClasses(path, toString) {\r\n    if (path) {\r\n      const classes = objectPath.get(this.classes, path) || \"\";\r\n      if (toString && Array.isArray(classes)) {\r\n        return classes.join(\" \");\r\n      }\r\n      return classes.toString();\r\n    }\r\n    return this.classes;\r\n  }\r\n\r\n  getAttributes(path) {\r\n    if (path) {\r\n      const attributes = objectPath.get(this.attributes, path) || [];\r\n      return attributes;\r\n    }\r\n    return [];\r\n  }\r\n\r\n  getLayout() {\r\n    if (objectPath.get(this.config, \"self.layout\") === \"blank\") {\r\n      return \"blank\";\r\n    }\r\n\r\n    return \"default\";\r\n  }\r\n\r\n  /**\r\n   * Init Layout\r\n   */\r\n  initLayout() {\r\n    if (objectPath.has(this.config, \"self.body.background-image\")) {\r\n      document.body.style.backgroundImage =\r\n        'url(\"' +\r\n        objectPath.get(this.config, \"self.body.background-image\") +\r\n        '\")';\r\n    }\r\n\r\n    const _selfBodyClass = objectPath.get(this.config, \"self.body.class\");\r\n    if (_selfBodyClass) {\r\n      const bodyClasses = _selfBodyClass.toString().split(\" \");\r\n      bodyClasses.forEach(cssClass => document.body.classList.add(cssClass));\r\n    }\r\n\r\n    // Offcanvas directions\r\n    document.body.classList.add(\"kt-quick-panel--right\");\r\n    document.body.classList.add(\"kt-demo-panel--right\");\r\n    document.body.classList.add(\"kt-offcanvas-panel--right\");\r\n  }\r\n\r\n  /**\r\n   * Init Loader\r\n   */\r\n  initLoader() {}\r\n\r\n  /**\r\n   * Init Header\r\n   */\r\n  initHeader() {\r\n    // Fixed header\r\n    if (objectPath.get(this.config, \"header.self.fixed.desktop\")) {\r\n      document.body.classList.add(\"kt-header--fixed\");\r\n      objectPath.push(this.classes, \"header\", \"kt-header--fixed\");\r\n    } else {\r\n      document.body.classList.add(\"kt-header--static\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"header.self.fixed.mobile\")) {\r\n      document.body.classList.add(\"kt-header-mobile--fixed\");\r\n      objectPath.push(this.classes, \"header_mobile\", \"kt-header-mobile--fixed\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"header.self.width\") === \"fluid\") {\r\n      objectPath.push(this.classes, \"header_container\", \"kt-container--fluid\");\r\n    }\r\n\r\n    const additionalHeaderCssClass = objectPath.get(\r\n      this.config,\r\n      \"header.menu.self.layout\"\r\n    );\r\n    if (additionalHeaderCssClass) {\r\n      objectPath.push(\r\n        this.classes,\r\n        \"header_menu\",\r\n        \"kt-header-menu--layout-\" + additionalHeaderCssClass\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Subheader\r\n   */\r\n  initSubheader() {\r\n    // Fixed content head\r\n    if (\r\n      objectPath.get(this.config, \"subheader.fixed\") &&\r\n      objectPath.get(this.config, \"header.self.fixed.desktop\")\r\n    ) {\r\n      document.body.classList.add(\"kt-subheader--fixed\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"subheader.display\")) {\r\n      document.body.classList.add(\"kt-subheader--enabled\");\r\n    }\r\n\r\n    if (objectPath.has(this.config, \"subheader.style\")) {\r\n      document.body.classList.add(\r\n        \"kt-subheader--\" + objectPath.get(this.config, \"subheader.style\")\r\n      );\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"subheader.width\") === \"fluid\") {\r\n      objectPath.push(\r\n        this.classes,\r\n        \"subheader_container\",\r\n        \"kt-container--fluid\"\r\n      );\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"subheader.clear\")) {\r\n      objectPath.push(this.classes, \"subheader\", \"kt-subheader--clear\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Content\r\n   */\r\n  initContent() {\r\n    if (objectPath.get(this.config, \"content.fit-top\")) {\r\n      objectPath.push(this.classes, \"content\", \"kt-content--fit-top\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"content.fit-bottom\")) {\r\n      objectPath.push(this.classes, \"content\", \"kt-content--fit-bottom\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"content.width\") === \"fluid\") {\r\n      objectPath.push(this.classes, \"content_container\", \"kt-container--fluid\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Aside\r\n   */\r\n  initAside() {\r\n    if (objectPath.get(this.config, \"aside.self.display\") !== true) {\r\n      return;\r\n    }\r\n\r\n    document.body.classList.add(\"kt-aside--enabled\");\r\n\r\n    // Fixed Aside\r\n    if (objectPath.get(this.config, \"aside.self.fixed\")) {\r\n      document.body.classList.add(\"kt-aside--fixed\");\r\n      objectPath.push(this.classes, \"aside\", \"kt-aside--fixed\");\r\n    } else {\r\n      document.body.classList.add(\"kt-aside--static\");\r\n    }\r\n\r\n    // Menu\r\n    // Dropdown Submenu\r\n    if (objectPath.get(this.config, \"aside.menu.dropdown\") === \"true\") {\r\n      objectPath.push(this.classes, \"aside_menu\", \"kt-aside-menu--dropdown\");\r\n      document.body.classList.add(\"kt-aside-menu--dropdown\");\r\n      this.attributes.aside_menu[\"data-ktmenu-dropdown\"] = \"1\";\r\n      this.attributes.aside_menu[\"data-ktmenu-scroll\"] = \"0\";\r\n    } else {\r\n      this.attributes.aside_menu[\"data-ktmenu-scroll\"] = \"1\";\r\n    }\r\n\r\n    const asideSubmenuDHoverTimeout = objectPath.get(\r\n      this.config,\r\n      \"aside.menu.submenu.dropdown.hover-timeout\"\r\n    );\r\n    if (asideSubmenuDHoverTimeout) {\r\n      this.attributes.aside_menu[\r\n        \"data-ktmenu-dropdown-timeout\"\r\n      ] = asideSubmenuDHoverTimeout;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Init Footer\r\n   */\r\n  initFooter() {\r\n    // Fixed header\r\n    if (objectPath.get(this.config, \"footer.self.fixed\")) {\r\n      document.body.classList.add(\"kt-footer--fixed\");\r\n    }\r\n\r\n    if (objectPath.get(this.config, \"footer.self.width\") === \"fluid\") {\r\n      objectPath.push(this.classes, \"footer_container\", \"kt-container--fluid\");\r\n    }\r\n  }\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport * as builder from \"../ducks/builder\";\r\n\r\nfunction KtContent({ children, contentContainerClasses }) {\r\n  const match = useRouteMatch() || {};\r\n  const animationEndClass = \"kt-grid--animateContent-finished\";\r\n  const [cssClassesState, setCssClassesState] = useState([\r\n    \"kt-grid--animateContent\",\r\n    \"kt-container\",\r\n    contentContainerClasses.split(\" \"),\r\n    \"kt-grid__item kt-grid__item--fluid\",\r\n    animationEndClass\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    // for animation start should toggle 'kt-grid--animateContent-finished' css class\r\n    // TODO: change useMemo\r\n    const fullClasses = [...cssClassesState];\r\n    const startAnimation = fullClasses.filter(el => el !== animationEndClass);\r\n    setCssClassesState(startAnimation);\r\n    const timeOutId = setTimeout(() => {\r\n      setCssClassesState(fullClasses);\r\n    }, 200);\r\n\r\n    return () => {\r\n      clearTimeout(timeOutId);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [match.url]);\r\n\r\n  return <div className={cssClassesState.join(\" \")}>{children}</div>;\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n  contentContainerClasses: builder.selectors.getClasses(store, {\r\n    path: \"content_container\",\r\n    toString: true\r\n  })\r\n});\r\n\r\nexport default connect(mapStateToProps)(KtContent);\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-undef */\r\nimport React from \"react\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport { Nav, Tab } from \"react-bootstrap\";\r\n\r\nconst perfectScrollbarOptions = {\r\n  wheelSpeed: 2,\r\n  wheelPropagation: false\r\n};\r\n\r\nexport default class QuickPanel extends React.Component {\r\n  state = { selectedTab: \"Notifications\" };\r\n  setTab = _tabName => {\r\n    this.setState({ selectedTab: _tabName });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"kt_quick_panel\" className=\"kt-quick-panel\">\r\n        <a\r\n          href=\"#\"\r\n          className=\"kt-quick-panel__close\"\r\n          id=\"kt_quick_panel_close_btn\"\r\n        >\r\n          <i className=\"flaticon2-delete\" />\r\n        </a>\r\n        <Tab.Container defaultActiveKey={this.state.selectedTab}>\r\n          <div className=\"kt-quick-panel__nav\">\r\n            <Nav\r\n              onSelect={this.setTab}\r\n              className=\"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x nav-tabs-line-brand kt-notification-item-padding-x\"\r\n            >\r\n              <Nav.Item className=\"nav-item\">\r\n                <Nav.Link eventKey=\"Notifications\" className=\"nav-link show\">\r\n                  Notifications\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"AuditLogs\" className=\"nav-link show\">\r\n                  Audit Logs\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"Settings\" className=\"nav-link show\">\r\n                  Settings\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            </Nav>\r\n          </div>\r\n          <div className=\"kt-quick-panel__content\">\r\n            <Tab.Content>\r\n              <Tab.Pane eventKey=\"Notifications\">\r\n                <PerfectScrollbar\r\n                  options={perfectScrollbarOptions}\r\n                  style={{\r\n                    maxHeight: \"calc(100vh - 100px)\",\r\n                    position: \"relative\"\r\n                  }}\r\n                >\r\n                  <div className=\"kt-notification\">\r\n                    <a href=\"#\" className=\"kt-notification__item\">\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon2-line-chart kt-font-success\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          New order has been received\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          2 hrs ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification__item\">\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon2-box-1 kt-font-brand\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          New customer is registered\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          3 hrs ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification__item\">\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon2-chart2 kt-font-danger\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          Application has been approved\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          3 hrs ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification__item\">\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon2-image-file kt-font-warning\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          New file has been uploaded\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          5 hrs ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification__item\">\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon2-drop kt-font-info\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          New user feedback received\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          8 hrs ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification__item\">\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon2-pie-chart-2 kt-font-success\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          System reboot has been successfully completed\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          12 hrs ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification__item\">\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon2-favourite kt-font-danger\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          New order has been placed\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          15 hrs ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a\r\n                      href=\"#\"\r\n                      className=\"kt-notification__item kt-notification__item--read\"\r\n                    >\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon2-safe kt-font-primary\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          Company meeting canceled\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          19 hrs ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification__item\">\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon2-psd kt-font-success\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          New report has been received\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          23 hrs ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification__item\">\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon-download-1 kt-font-danger\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          Finance report has been generated\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          25 hrs ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification__item\">\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon-security kt-font-warning\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          New customer comment recieved\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          2 days ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification__item\">\r\n                      <div className=\"kt-notification__item-icon\">\r\n                        <i className=\"flaticon2-pie-chart kt-font-warning\" />\r\n                      </div>\r\n                      <div className=\"kt-notification__item-details\">\r\n                        <div className=\"kt-notification__item-title\">\r\n                          New customer is registered\r\n                        </div>\r\n                        <div className=\"kt-notification__item-time\">\r\n                          3 days ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                  </div>\r\n                </PerfectScrollbar>\r\n              </Tab.Pane>\r\n              <Tab.Pane eventKey=\"AuditLogs\">\r\n                <PerfectScrollbar\r\n                  options={perfectScrollbarOptions}\r\n                  style={{\r\n                    maxHeight: \"calc(100vh - 100px)\",\r\n                    position: \"relative\"\r\n                  }}\r\n                >\r\n                  <div className=\"kt-notification-v2\">\r\n                    <a href=\"#\" className=\"kt-notification-v2__item\">\r\n                      <div className=\"kt-notification-v2__item-icon\">\r\n                        <i className=\"flaticon-bell kt-font-brand\" />\r\n                      </div>\r\n                      <div className=\"kt-notification-v2__itek-wrapper\">\r\n                        <div className=\"kt-notification-v2__item-title\">\r\n                          5 new user generated report\r\n                        </div>\r\n                        <div className=\"kt-notification-v2__item-desc\">\r\n                          Reports based on sales\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification-v2__item\">\r\n                      <div className=\"kt-notification-v2__item-icon\">\r\n                        <i className=\"flaticon2-box kt-font-danger\" />\r\n                      </div>\r\n                      <div className=\"kt-notification-v2__itek-wrapper\">\r\n                        <div className=\"kt-notification-v2__item-title\">\r\n                          2 new items submited\r\n                        </div>\r\n                        <div className=\"kt-notification-v2__item-desc\">\r\n                          by Grog John\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification-v2__item\">\r\n                      <div className=\"kt-notification-v2__item-icon\">\r\n                        <i className=\"flaticon-psd kt-font-brand\" />\r\n                      </div>\r\n                      <div className=\"kt-notification-v2__itek-wrapper\">\r\n                        <div className=\"kt-notification-v2__item-title\">\r\n                          79 PSD files generated\r\n                        </div>\r\n                        <div className=\"kt-notification-v2__item-desc\">\r\n                          Reports based on sales\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification-v2__item\">\r\n                      <div className=\"kt-notification-v2__item-icon\">\r\n                        <i className=\"flaticon2-supermarket kt-font-warning\" />\r\n                      </div>\r\n                      <div className=\"kt-notification-v2__itek-wrapper\">\r\n                        <div className=\"kt-notification-v2__item-title\">\r\n                          $2900 worth products sold\r\n                        </div>\r\n                        <div className=\"kt-notification-v2__item-desc\">\r\n                          Total 234 items\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification-v2__item\">\r\n                      <div className=\"kt-notification-v2__item-icon\">\r\n                        <i className=\"flaticon-paper-plane-1 kt-font-success\" />\r\n                      </div>\r\n                      <div className=\"kt-notification-v2__itek-wrapper\">\r\n                        <div className=\"kt-notification-v2__item-title\">\r\n                          4.5h-avarage response time\r\n                        </div>\r\n                        <div className=\"kt-notification-v2__item-desc\">\r\n                          Fostest is Barry\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification-v2__item\">\r\n                      <div className=\"kt-notification-v2__item-icon\">\r\n                        <i className=\"flaticon2-information kt-font-danger\" />\r\n                      </div>\r\n                      <div className=\"kt-notification-v2__itek-wrapper\">\r\n                        <div className=\"kt-notification-v2__item-title\">\r\n                          Database server is down\r\n                        </div>\r\n                        <div className=\"kt-notification-v2__item-desc\">\r\n                          10 mins ago\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification-v2__item\">\r\n                      <div className=\"kt-notification-v2__item-icon\">\r\n                        <i className=\"flaticon2-mail-1 kt-font-brand\" />\r\n                      </div>\r\n                      <div className=\"kt-notification-v2__itek-wrapper\">\r\n                        <div className=\"kt-notification-v2__item-title\">\r\n                          System report has been generated\r\n                        </div>\r\n                        <div className=\"kt-notification-v2__item-desc\">\r\n                          Fostest is Barry\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                    <a href=\"#\" className=\"kt-notification-v2__item\">\r\n                      <div className=\"kt-notification-v2__item-icon\">\r\n                        <i className=\"flaticon2-hangouts-logo kt-font-warning\" />\r\n                      </div>\r\n                      <div className=\"kt-notification-v2__itek-wrapper\">\r\n                        <div className=\"kt-notification-v2__item-title\">\r\n                          4.5h-avarage response time\r\n                        </div>\r\n                        <div className=\"kt-notification-v2__item-desc\">\r\n                          Fostest is Barry\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                  </div>\r\n                </PerfectScrollbar>\r\n              </Tab.Pane>\r\n              <Tab.Pane eventKey=\"Settings\">\r\n                <PerfectScrollbar\r\n                  options={perfectScrollbarOptions}\r\n                  style={{\r\n                    maxHeight: \"calc(100vh - 100px)\",\r\n                    position: \"relative\"\r\n                  }}\r\n                >\r\n                  <div className=\"kt-quick-panel__content-padding-x\">\r\n                    <form className=\"kt-form\">\r\n                      <div className=\"kt-heading kt-heading--sm kt-heading--space-sm\">\r\n                        Customer Care\r\n                      </div>\r\n                      <div className=\"form-group form-group-xs row\">\r\n                        <label className=\"col-8 col-form-label\">\r\n                          Enable Notifications:\r\n                        </label>\r\n                        <div className=\"col-4 kt-align-right\">\r\n                          <span className=\"kt-switch kt-switch--success kt-switch--sm\">\r\n                            <label>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                name=\"quick_panel_notifications_1\"\r\n                              />\r\n                              <span />\r\n                            </label>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"form-group form-group-xs row\">\r\n                        <label className=\"col-8 col-form-label\">\r\n                          Enable Case Tracking:\r\n                        </label>\r\n                        <div className=\"col-4 kt-align-right\">\r\n                          <span className=\"kt-switch kt-switch--success kt-switch--sm\">\r\n                            <label>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                name=\"quick_panel_notifications_2\"\r\n                              />\r\n                              <span />\r\n                            </label>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"form-group form-group-last form-group-xs row\">\r\n                        <label className=\"col-8 col-form-label\">\r\n                          Support Portal:\r\n                        </label>\r\n                        <div className=\"col-4 kt-align-right\">\r\n                          <span className=\"kt-switch kt-switch--success kt-switch--sm\">\r\n                            <label>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                name=\"quick_panel_notifications_2\"\r\n                              />\r\n                              <span />\r\n                            </label>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"kt-separator kt-separator--space-md kt-separator--border-dashed\" />\r\n                      <div className=\"kt-heading kt-heading--sm kt-heading--space-sm\">\r\n                        Reports\r\n                      </div>\r\n                      <div className=\"form-group form-group-xs row\">\r\n                        <label className=\"col-8 col-form-label\">\r\n                          Generate Reports:\r\n                        </label>\r\n                        <div className=\"col-4 kt-align-right\">\r\n                          <span className=\"kt-switch kt-switch--sm kt-switch--danger\">\r\n                            <label>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                name=\"quick_panel_notifications_3\"\r\n                              />\r\n                              <span />\r\n                            </label>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"form-group form-group-xs row\">\r\n                        <label className=\"col-8 col-form-label\">\r\n                          Enable Report Export:\r\n                        </label>\r\n                        <div className=\"col-4 kt-align-right\">\r\n                          <span className=\"kt-switch kt-switch--sm kt-switch--danger\">\r\n                            <label>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                name=\"quick_panel_notifications_3\"\r\n                              />\r\n                              <span />\r\n                            </label>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"form-group form-group-last form-group-xs row\">\r\n                        <label className=\"col-8 col-form-label\">\r\n                          Allow Data Collection:\r\n                        </label>\r\n                        <div className=\"col-4 kt-align-right\">\r\n                          <span className=\"kt-switch kt-switch--sm kt-switch--danger\">\r\n                            <label>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                name=\"quick_panel_notifications_4\"\r\n                              />\r\n                              <span />\r\n                            </label>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"kt-separator kt-separator--space-md kt-separator--border-dashed\" />\r\n                      <div className=\"kt-heading kt-heading--sm kt-heading--space-sm\">\r\n                        Members\r\n                      </div>\r\n                      <div className=\"form-group form-group-xs row\">\r\n                        <label className=\"col-8 col-form-label\">\r\n                          Enable Member singup:\r\n                        </label>\r\n                        <div className=\"col-4 kt-align-right\">\r\n                          <span className=\"kt-switch kt-switch--sm kt-switch--brand\">\r\n                            <label>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                name=\"quick_panel_notifications_5\"\r\n                              />\r\n                              <span />\r\n                            </label>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"form-group form-group-xs row\">\r\n                        <label className=\"col-8 col-form-label\">\r\n                          Allow User Feedbacks:\r\n                        </label>\r\n                        <div className=\"col-4 kt-align-right\">\r\n                          <span className=\"kt-switch kt-switch--sm kt-switch--brand\">\r\n                            <label>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                name=\"quick_panel_notifications_5\"\r\n                              />\r\n                              <span />\r\n                            </label>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"form-group form-group-last form-group-xs row\">\r\n                        <label className=\"col-8 col-form-label\">\r\n                          Enable Customer Portal:\r\n                        </label>\r\n                        <div className=\"col-4 kt-align-right\">\r\n                          <span className=\"kt-switch kt-switch--sm kt-switch--brand\">\r\n                            <label>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                name=\"quick_panel_notifications_6\"\r\n                              />\r\n                              <span />\r\n                            </label>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </PerfectScrollbar>\r\n              </Tab.Pane>\r\n            </Tab.Content>\r\n          </div>\r\n        </Tab.Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport objectPath from \"object-path\";\r\nimport Header from \"./header/Header\";\r\nimport SubHeader from \"./sub-header/SubHeader\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport HeaderMobile from \"./header/HeaderMobile\";\r\nimport AsideLeft from \"./aside/AsideLeft\";\r\nimport Footer from \"./footer/Footer\";\r\nimport ScrollTop from \"../../app/partials/layout/ScrollTop\";\r\nimport StickyToolbar from \"../../app/partials/layout/StickyToolbar\";\r\nimport HTMLClassService from \"./HTMLClassService\";\r\nimport LayoutConfig from \"./LayoutConfig\";\r\nimport MenuConfig from \"./MenuConfig\";\r\nimport LayoutInitializer from \"./LayoutInitializer\";\r\nimport KtContent from \"./KtContent\";\r\nimport QuickPanel from \"../../app/partials/layout/QuickPanel\";\r\nimport \"./assets/Base.scss\";\r\n\r\nconst htmlClassService = new HTMLClassService();\r\n\r\nfunction Layout({\r\n  propsData, \r\n  children,\r\n  asideDisplay,\r\n  subheaderDisplay,\r\n  selfLayout,\r\n  layoutConfig\r\n}) {\r\n  htmlClassService.setConfig(layoutConfig);\r\n  // scroll to top after location changes\r\n  window.scrollTo(0, 0);\r\n\r\n  const contentCssClasses = htmlClassService.classes.content.join(\" \");\r\n\r\n  return selfLayout !== \"blank\" ? (\r\n    <LayoutInitializer\r\n      styles={[]}\r\n      menuConfig={MenuConfig}\r\n      layoutConfig={LayoutConfig}\r\n      htmlClassService={htmlClassService}\r\n    >\r\n      {/* <!-- begin:: Header Mobile --> */}\r\n      <HeaderMobile />\r\n      {/* <!-- end:: Header Mobile --> */}\r\n\r\n      <div className=\"kt-grid kt-grid--hor kt-grid--root\">\r\n        {/* <!-- begin::Body --> */}\r\n        <div className=\"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-page\">\r\n          {/* <!-- begin:: Aside Left --> */}\r\n          {asideDisplay && (\r\n            <>\r\n              <AsideLeft />\r\n            </>\r\n          )}\r\n          {/* <!-- end:: Aside Left --> */}\r\n          <div\r\n            className=\"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper\"\r\n            id=\"kt_wrapper\"\r\n          >\r\n            {/* <!-- begin:: Header READY --> */}\r\n\r\n            <Header propsData={propsData} />\r\n            {/* <!-- end:: Header --> */}\r\n\r\n            {/* <!-- begin:: Content --> */}\r\n            <div\r\n              id=\"kt_content\"\r\n              className={`kt-content ${contentCssClasses} kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor`}\r\n            >\r\n              {/* <!-- begin:: Content Head --> */}\r\n              {subheaderDisplay && <SubHeader />}\r\n              {/* <!-- end:: Content Head --> */}\r\n\r\n              {/* <!-- begin:: Content Body --> */}\r\n              <KtContent>{children}</KtContent>\r\n              {/*<!-- end:: Content Body -->*/}\r\n            </div>\r\n            {/* <!-- end:: Content --> */}\r\n            <Footer />\r\n          </div>\r\n        </div>\r\n        {/* <!-- end:: Body --> */}\r\n      </div>\r\n      <QuickPanel />\r\n      <ScrollTop />\r\n      <StickyToolbar />\r\n    </LayoutInitializer>\r\n  ) : (\r\n    // BLANK LAYOUT\r\n    <div className=\"kt-grid kt-grid--ver kt-grid--root kt-page\">\r\n      <KtContent>{children}</KtContent>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({ builder: { layoutConfig } }, props) => ({\r\n  propsData : props,\r\n  layoutConfig,\r\n  selfLayout: objectPath.get(layoutConfig, \"self.layout\"),\r\n  asideDisplay: objectPath.get(layoutConfig, \"aside.self.display\"),\r\n  subheaderDisplay: false\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(Layout));\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Formik } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport clsx from \"clsx\";\r\nimport * as auth from \"../../store/ducks/auth.duck\";\r\nimport { login } from \"../../crud/auth.crud\";\r\nimport { USER_URL } from \"../../crud/api\";\r\n\r\nfunction Login(props) {\r\n  const { intl } = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingButtonStyle, setLoadingButtonStyle] = useState({\r\n    paddingRight: \"2.5rem\"\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    // window.location.assign(`${process.env.REACT_APP_GUEST_URL}login`)\r\n  });\r\n\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n    setLoadingButtonStyle({ paddingRight: \"3.5rem\" });\r\n  };\r\n\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n    setLoadingButtonStyle({ paddingRight: \"2.5rem\" });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"kt-login__head\">\r\n        <span className=\"kt-login__signup-label\">\r\n          Don't have an account yet?\r\n        </span>\r\n        &nbsp;&nbsp;\r\n        <Link to={\"/\"+USER_URL+\"/auth/registration\"} className=\"kt-link kt-login__signup-link\">\r\n          Sign Up!\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"kt-login__body\">\r\n        <div className=\"kt-login__form\">\r\n          <div className=\"kt-login__title\">\r\n            <h3>\r\n              {/* https://github.com/formatjs/react-intl/blob/master/docs/Components.md#formattedmessage */}\r\n              <FormattedMessage id=\"AUTH.LOGIN.TITLE\" />\r\n            </h3>\r\n          </div>\r\n\r\n          <Formik\r\n            initialValues={{\r\n              email: \"admin@demo.com\",\r\n              password: \"demo\"\r\n            }}\r\n            validate={values => {\r\n              const errors = {};\r\n\r\n              if (!values.email) {\r\n                // https://github.com/formatjs/react-intl/blob/master/docs/API.md#injection-api\r\n                errors.email = intl.formatMessage({\r\n                  id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\r\n                });\r\n              } else if (\r\n                !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n              ) {\r\n                errors.email = intl.formatMessage({\r\n                  id: \"AUTH.VALIDATION.INVALID_FIELD\"\r\n                });\r\n              }\r\n\r\n              if (!values.password) {\r\n                errors.password = intl.formatMessage({\r\n                  id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\r\n                });\r\n              }\r\n\r\n              return errors;\r\n            }}\r\n            onSubmit={(values, { setStatus, setSubmitting }) => {\r\n              enableLoading();\r\n              setTimeout(() => {\r\n                login(values.email, values.password)\r\n                  .then(({ data: { token } }) => {\r\n                    disableLoading();\r\n                    props.login(token);\r\n                  })\r\n                  .catch(() => {\r\n                    disableLoading();\r\n                    setSubmitting(false);\r\n                    setStatus(\r\n                      intl.formatMessage({\r\n                        id: \"AUTH.VALIDATION.INVALID_LOGIN\"\r\n                      })\r\n                    );\r\n                  });\r\n              }, 1000);\r\n            }}\r\n          >\r\n            {({\r\n              values,\r\n              status,\r\n              errors,\r\n              touched,\r\n              handleChange,\r\n              handleBlur,\r\n              handleSubmit,\r\n              isSubmitting\r\n            }) => (\r\n              <form\r\n                noValidate={true}\r\n                autoComplete=\"off\"\r\n                className=\"kt-form\"\r\n                onSubmit={handleSubmit}\r\n              >\r\n                {status ? (\r\n                  <div role=\"alert\" className=\"alert alert-danger\">\r\n                    <div className=\"alert-text\">{status}</div>\r\n                  </div>\r\n                ) : (\r\n                    <div></div>\r\n                )}\r\n\r\n                <div className=\"form-group\">\r\n                  <TextField\r\n                    type=\"email\"\r\n                    label=\"Email\"\r\n                    margin=\"normal\"\r\n                    className=\"kt-width-full\"\r\n                    name=\"email\"\r\n                    onBlur={handleBlur}\r\n                    onChange={handleChange}\r\n                    value={values.email}\r\n                    helperText={touched.email && errors.email}\r\n                    error={Boolean(touched.email && errors.email)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <TextField\r\n                    type=\"password\"\r\n                    margin=\"normal\"\r\n                    label=\"Password\"\r\n                    className=\"kt-width-full\"\r\n                    name=\"password\"\r\n                    onBlur={handleBlur}\r\n                    onChange={handleChange}\r\n                    value={values.password}\r\n                    helperText={touched.password && errors.password}\r\n                    error={Boolean(touched.password && errors.password)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"kt-login__actions\">\r\n                  <Link\r\n                    to={\"/\"+USER_URL+\"/auth/forgot-password\"}\r\n                    className=\"kt-link kt-login__link-forgot\"\r\n                  >\r\n                    <FormattedMessage id=\"AUTH.GENERAL.FORGOT_BUTTON\" />\r\n                  </Link>\r\n\r\n                  <button\r\n                    id=\"kt_login_signin_submit\"\r\n                    type=\"submit\"\r\n                    disabled={isSubmitting}\r\n                    className={`btn btn-primary btn-elevate kt-login__btn-primary ${clsx(\r\n                      {\r\n                        \"kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light\": loading\r\n                      }\r\n                    )}`}\r\n                    style={loadingButtonStyle}\r\n                  >\r\n                    Sign In\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default injectIntl(\r\n  connect(\r\n    null,\r\n    auth.actions\r\n  )(Login)\r\n);\r\n","import React from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport { Checkbox, FormControlLabel, TextField } from \"@material-ui/core\";\r\nimport * as auth from \"../../store/ducks/auth.duck\";\r\nimport { register } from \"../../crud/auth.crud\";\r\nimport { USER_URL } from \"../../crud/api\";\r\n\r\nfunction Registration(props) {\r\n  const { intl } = props;\r\n\r\n  return (\r\n    <div className=\"kt-login__body\">\r\n      <div className=\"kt-login__form\">\r\n        <div className=\"kt-login__title\">\r\n          <h3>\r\n            <FormattedMessage id=\"AUTH.REGISTER.TITLE\" />\r\n          </h3>\r\n        </div>\r\n\r\n        <Formik\r\n          initialValues={{\r\n            email: \"\",\r\n            fullname: \"\",\r\n            username: \"\",\r\n            password: \"\",\r\n            acceptTerms: true,\r\n            confirmPassword: \"\"\r\n          }}\r\n          validate={values => {\r\n            const errors = {};\r\n\r\n            if (!values.email) {\r\n              errors.email = intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\r\n              });\r\n            } else if (\r\n              !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n            ) {\r\n              errors.email = intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.INVALID_FIELD\"\r\n              });\r\n            }\r\n\r\n            if (!values.fullname) {\r\n              errors.fullname = intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\r\n              });\r\n            }\r\n\r\n            if (!values.username) {\r\n              errors.username = intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\r\n              });\r\n            }\r\n\r\n            if (!values.password) {\r\n              errors.password = intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\r\n              });\r\n            }\r\n\r\n            if (!values.confirmPassword) {\r\n              errors.confirmPassword = intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\r\n              });\r\n            } else if (values.password !== values.confirmPassword) {\r\n              errors.confirmPassword =\r\n                \"Password and Confirm Password didn't match.\";\r\n            }\r\n\r\n            if (!values.acceptTerms) {\r\n              errors.acceptTerms = \"Accept Terms\";\r\n            }\r\n\r\n            return errors;\r\n          }}\r\n          onSubmit={(values, { setStatus, setSubmitting }) => {\r\n            register(\r\n              values.email,\r\n              values.fullname,\r\n              values.username,\r\n              values.password\r\n            )\r\n              .then(({ data: { accessToken } }) => {\r\n                props.register(accessToken);\r\n              })\r\n              .catch(() => {\r\n                setSubmitting(false);\r\n                setStatus(\r\n                  intl.formatMessage({\r\n                    id: \"AUTH.VALIDATION.INVALID_LOGIN\"\r\n                  })\r\n                );\r\n              });\r\n          }}\r\n        >\r\n          {({\r\n            values,\r\n            status,\r\n            errors,\r\n            touched,\r\n            handleChange,\r\n            handleBlur,\r\n            handleSubmit,\r\n            isSubmitting\r\n          }) => (\r\n            <form onSubmit={handleSubmit} noValidate autoComplete=\"off\">\r\n              {status && (\r\n                <div role=\"alert\" className=\"alert alert-danger\">\r\n                  <div className=\"alert-text\">{status}</div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"form-group mb-0\">\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  label=\"Fullname\"\r\n                  className=\"kt-width-full\"\r\n                  name=\"fullname\"\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.fullname}\r\n                  helperText={touched.fullname && errors.fullname}\r\n                  error={Boolean(touched.fullname && errors.fullname)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group mb-0\">\r\n                <TextField\r\n                  label=\"Email\"\r\n                  margin=\"normal\"\r\n                  className=\"kt-width-full\"\r\n                  name=\"email\"\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.email}\r\n                  helperText={touched.email && errors.email}\r\n                  error={Boolean(touched.email && errors.email)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group mb-0\">\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  label=\"Username\"\r\n                  className=\"kt-width-full\"\r\n                  name=\"username\"\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.username}\r\n                  helperText={touched.username && errors.username}\r\n                  error={Boolean(touched.username && errors.username)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group mb-0\">\r\n                <TextField\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  label=\"Password\"\r\n                  className=\"kt-width-full\"\r\n                  name=\"password\"\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.password}\r\n                  helperText={touched.password && errors.password}\r\n                  error={Boolean(touched.password && errors.password)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <TextField\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  label=\"Confirm Password\"\r\n                  className=\"kt-width-full\"\r\n                  name=\"confirmPassword\"\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.confirmPassword}\r\n                  helperText={touched.confirmPassword && errors.confirmPassword}\r\n                  error={Boolean(\r\n                    touched.confirmPassword && errors.confirmPassword\r\n                  )}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group mb-0\">\r\n                <FormControlLabel\r\n                  label={\r\n                    <>\r\n                      I agree the{\" \"}\r\n                      <Link\r\n                        to={\"/\"+USER_URL+\"/terms\"}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                      >\r\n                        Terms & Conditions\r\n                      </Link>\r\n                    </>\r\n                  }\r\n                  control={\r\n                    <Checkbox\r\n                      color=\"primary\"\r\n                      name=\"acceptTerms\"\r\n                      onBlur={handleBlur}\r\n                      onChange={handleChange}\r\n                      checked={values.acceptTerms}\r\n                    />\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className=\"kt-login__actions\">\r\n                <Link\r\n                  to={\"/\"+USER_URL+\"/auth/forgot-password\"}\r\n                  className=\"kt-link kt-login__link-forgot\"\r\n                >\r\n                  <FormattedMessage id=\"AUTH.GENERAL.FORGOT_BUTTON\" />\r\n                </Link>\r\n\r\n                <Link to={\"/\"+USER_URL+\"/auth\"}>\r\n                  <button type=\"button\" className=\"btn btn-secondary btn-elevate kt-login__btn-secondary\">\r\n                    Back\r\n                  </button>\r\n                </Link>\r\n\r\n                <button\r\n                  disabled={isSubmitting || !values.acceptTerms}\r\n                  className=\"btn btn-primary btn-elevate kt-login__btn-primary\"\r\n                >\r\n                  Submit\r\n                </button>\r\n              </div>\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default injectIntl(\r\n  connect(\r\n    null,\r\n    auth.actions\r\n  )(Registration)\r\n);\r\n","import React, { Component } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport * as auth from \"../../store/ducks/auth.duck\";\r\nimport { requestPassword } from \"../../crud/auth.crud\";\r\nimport { USER_URL } from \"../../crud/api\";\r\n\r\nclass ForgotPassword extends Component {\r\n  state = { isRequested: false };\r\n\r\n  render() {\r\n    const { intl } = this.props;\r\n    const { isRequested } = this.state;\r\n\r\n    if (isRequested) {\r\n      return <Redirect to={\"/\"+USER_URL+\"/auth\"} />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"kt-grid__item kt-grid__item--fluid  kt-grid__item--order-tablet-and-mobile-1  kt-login__wrapper\">\r\n          <div className=\"kt-login__body\">\r\n            <div className=\"kt-login__form\">\r\n              <div className=\"kt-login__title\">\r\n                <h3>\r\n                  <FormattedMessage id=\"AUTH.FORGOT.TITLE\" />\r\n                </h3>\r\n              </div>\r\n\r\n              <Formik\r\n                  initialValues={{ email: \"\" }}\r\n                  validate={values => {\r\n                    const errors = {};\r\n\r\n                    if (!values.email) {\r\n                      errors.email = intl.formatMessage({\r\n                        id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\r\n                      });\r\n                    } else if (\r\n                        !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n                    ) {\r\n                      errors.email = intl.formatMessage({\r\n                        id: \"AUTH.VALIDATION.INVALID_FIELD\"\r\n                      });\r\n                    }\r\n\r\n                    return errors;\r\n                  }}\r\n                  onSubmit={(values, { setStatus, setSubmitting }) => {\r\n                    requestPassword(values.email)\r\n                        .then(() => {\r\n                          this.setState({ isRequested: true });\r\n                        })\r\n                        .catch(() => {\r\n                          setSubmitting(false);\r\n                          setStatus(\r\n                              intl.formatMessage(\r\n                                  { id: \"AUTH.VALIDATION.NOT_FOUND\" },\r\n                                  { name: values.email }\r\n                              )\r\n                          );\r\n                        });\r\n                  }}\r\n              >\r\n                {({\r\n                    values,\r\n                    status,\r\n                    errors,\r\n                    touched,\r\n                    handleChange,\r\n                    handleBlur,\r\n                    handleSubmit,\r\n                    isSubmitting\r\n                  }) => (\r\n                    <form onSubmit={handleSubmit} className=\"kt-form\">\r\n                      {status && (\r\n                          <div role=\"alert\" className=\"alert alert-danger\">\r\n                            <div className=\"alert-text\">{status}</div>\r\n                          </div>\r\n                      )}\r\n\r\n                      <div className=\"form-group\">\r\n                        <TextField\r\n                            type=\"email\"\r\n                            label=\"Email\"\r\n                            margin=\"normal\"\r\n                            fullWidth={true}\r\n                            name=\"email\"\r\n                            onBlur={handleBlur}\r\n                            onChange={handleChange}\r\n                            value={values.email}\r\n                            helperText={touched.email && errors.email}\r\n                            error={Boolean(touched.email && errors.email)}\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"kt-login__actions\">\r\n                        <Link to={\"/\"+USER_URL+\"/auth\"}>\r\n                          <button\r\n                              type=\"button\"\r\n                              className=\"btn btn-secondary btn-elevate kt-login__btn-secondary\"\r\n                          >\r\n                            Back\r\n                          </button>\r\n                        </Link>\r\n\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"btn btn-primary btn-elevate kt-login__btn-primary\"\r\n                            disabled={isSubmitting}\r\n                        >\r\n                          Submit\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                )}\r\n              </Formik>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default injectIntl(connect(null, auth.actions)(ForgotPassword));\r\n","import React from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport { Checkbox, FormControlLabel, TextField } from \"@material-ui/core\";\r\nimport * as auth from \"../../store/ducks/auth.duck\";\r\nimport { resetPasword } from \"../../crud/auth.crud\";\r\nimport { USER_URL } from \"../../crud/api\";\r\n\r\nfunction ResetPassword(props) {\r\n  const { intl } = props;\r\n  const [alert_type, setAlertType] = React.useState('alert-danger');\r\n\r\n  const password_link = props.match.params.password_link;\r\n\r\n  return (\r\n    <div className=\"kt-login__body\">\r\n      <div className=\"kt-login__form\">\r\n        <div className=\"kt-login__title\">\r\n          <h3>\r\n            <FormattedMessage id=\"AUTH.RESET_PASS.TITLE\" />\r\n          </h3>\r\n        </div>\r\n\r\n        <Formik\r\n          initialValues={{\r\n            email: \"\",\r\n            password: \"\",\r\n            confirmPassword: \"\"\r\n          }}\r\n          validate={values => {\r\n            const errors = {};\r\n\r\n            if (!values.email) {\r\n              errors.email = intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\r\n              });\r\n            } else if (\r\n              !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n            ) {\r\n              errors.email = intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.INVALID_FIELD\"\r\n              });\r\n            }\r\n\r\n            if (!values.password) {\r\n              errors.password = intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\r\n              });\r\n            }\r\n\r\n            if (!values.confirmPassword) {\r\n              errors.confirmPassword = intl.formatMessage({\r\n                id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\r\n              });\r\n            } else if (values.password !== values.confirmPassword) {\r\n              errors.confirmPassword =\r\n                \"Password and Confirm Password didn't match.\";\r\n            }\r\n\r\n            return errors;\r\n          }}\r\n          onSubmit={(values, { setStatus, setSubmitting }) => {\r\n            resetPasword(\r\n              values.email,\r\n              values.password,\r\n              password_link\r\n            )\r\n              .then(({ data }) => {\r\n                if(data.success) {\r\n\r\n                    setAlertType('alert-success')\r\n                    setStatus(intl.formatMessage(\r\n                        { id: \"AUTH.RESET.SUCCESS\" },\r\n                        { name: values.email }\r\n                      ))\r\n                  props.history.push('/'+USER_URL+'/auth/login');\r\n\r\n                  } else {\r\n                    setAlertType('alert-danger')\r\n                    setStatus(intl.formatMessage(\r\n                        { id: \"AUTH.RESET.ERROR\" },\r\n                        { name: values.email }\r\n                      ))\r\n                  }\r\n              })\r\n              .catch(() => {\r\n                setSubmitting(false);\r\n                setStatus(\r\n                  intl.formatMessage({\r\n                    id: \"AUTH.RESET.ERROR\"\r\n                  })\r\n                );\r\n              });\r\n          }}\r\n        >\r\n          {({\r\n            values,\r\n            status,\r\n            errors,\r\n            touched,\r\n            handleChange,\r\n            handleBlur,\r\n            handleSubmit,\r\n            isSubmitting\r\n          }) => (\r\n            <form onSubmit={handleSubmit} noValidate autoComplete=\"off\">\r\n              {status && (\r\n                <div role=\"alert\" className=\"alert alert-danger\">\r\n                  <div className=\"alert-text\">{status}</div>\r\n                </div>\r\n              )}\r\n\r\n\r\n              <div className=\"form-group mb-0\">\r\n                <TextField\r\n                  label=\"Email\"\r\n                  margin=\"normal\"\r\n                  className=\"kt-width-full\"\r\n                  name=\"email\"\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.email}\r\n                  helperText={touched.email && errors.email}\r\n                  error={Boolean(touched.email && errors.email)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group mb-0\">\r\n                <TextField\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  label=\"Password\"\r\n                  className=\"kt-width-full\"\r\n                  name=\"password\"\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.password}\r\n                  helperText={touched.password && errors.password}\r\n                  error={Boolean(touched.password && errors.password)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <TextField\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  label=\"Confirm Password\"\r\n                  className=\"kt-width-full\"\r\n                  name=\"confirmPassword\"\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.confirmPassword}\r\n                  helperText={touched.confirmPassword && errors.confirmPassword}\r\n                  error={Boolean(\r\n                    touched.confirmPassword && errors.confirmPassword\r\n                  )}\r\n                />\r\n              </div>\r\n\r\n\r\n              <div className=\"kt-login__actions\">\r\n                <Link to={\"/\"+USER_URL+\"/auth\"}>\r\n                  <button type=\"button\" className=\"btn btn-secondary btn-elevate kt-login__btn-secondary\">\r\n                    Back\r\n                  </button>\r\n                </Link>\r\n\r\n                <button\r\n                  disabled={isSubmitting}\r\n                  className=\"btn btn-primary btn-elevate kt-login__btn-primary\"\r\n                >\r\n                  Submit\r\n                </button>\r\n              </div>\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default injectIntl(\r\n  connect(\r\n    null,\r\n    auth.actions\r\n  )(ResetPassword)\r\n);\r\n","/**\r\n * High level router.\r\n *\r\n * Note: It's recommended to compose related routes in internal router\r\n * components (e.g: `src/pages/auth/AuthPage`, `src/pages/home/HomePage`).\r\n */\r\n\r\nimport React from \"react\";\r\nimport { Redirect, Route, Switch, withRouter } from \"react-router-dom\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { useLastLocation } from \"react-router-last-location\";\r\nimport HomePage from \"../pages/home/HomePage\";\r\nimport ErrorsPage from \"../pages/errors/ErrorsPage\";\r\nimport LogoutPage from \"../pages/auth/Logout\";\r\nimport { LayoutContextProvider } from \"../../_metronic\";\r\nimport Layout from \"../../_metronic/layout/Layout\";\r\nimport * as routerHelpers from \"../router/RouterHelpers\";\r\nimport AuthPage from \"../pages/auth/AuthPage\";\r\nimport {USER_URL} from \"../crud/api\";\r\n\r\nexport const Routes = withRouter(({ history }) => {\r\n    const lastLocation = useLastLocation();\r\n    routerHelpers.saveLastLocation(lastLocation);\r\n    const { isAuthorized, menuConfig, userLastLocation, user } = useSelector(\r\n        ({ auth, urls, builder: { menuConfig } }) => ({\r\n            menuConfig,\r\n            isAuthorized: auth.user != null,\r\n            user: auth.user,\r\n            userLastLocation: routerHelpers.getLastLocation()\r\n        }),\r\n        shallowEqual\r\n    );\r\n\r\n  const [extra_data, setExtraData] = React.useState(extra_data ? extra_data:{});\r\n    return (\r\n        /* Create `LayoutContext` from current `history` and `menuConfig`. */\r\n        <LayoutContextProvider history={history} menuConfig={menuConfig}>\r\n            <Switch>\r\n                {!isAuthorized ? (\r\n                    /* Render auth page when user at `/auth` and not authorized. */\r\n                    //  <AuthPage />\r\n                    window.location.assign(`${process.env.REACT_APP_GUEST_URL}login`)\r\n                ) : (\r\n                    /* Otherwise redirect to root page (`/`) */\r\n                    <Redirect from={\"/\"+USER_URL+\"/auth\"} to={userLastLocation} />\r\n                )}\r\n\r\n                <Route path=\"/error\" component={ErrorsPage} />\r\n                <Route path={\"/\"+USER_URL+\"/logout\"} component={LogoutPage} />\r\n\r\n                {!isAuthorized ? (\r\n                    /* Redirect to `/auth` when user is not authorized */\r\n                    // <Redirect to={\"/\"+USER_URL+\"/auth/login\"} />\r\n                    window.location.assign(`${process.env.REACT_APP_GUEST_URL}login`)\r\n                ) : (\r\n                    <Layout>\r\n                        <HomePage extra_data={extra_data} setExtraData={setExtraData} user={user} userLastLocation={userLastLocation} />\r\n                    </Layout>\r\n                )}\r\n            </Switch>\r\n        </LayoutContextProvider>\r\n    );\r\n});\r\n","/**\r\n * Create React App entry point. This and `public/index.html` files can not be\r\n * changed or moved.\r\n */\r\nimport \"react-app-polyfill/ie11\";\r\nimport \"react-app-polyfill/stable\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport axios from \"axios\";\r\nimport { mockAxios, setupAxios } from \"./_metronic\";\r\nimport store, { persistor } from \"./app/store/store\";\r\nimport App from \"./App\";\r\nimport \"./index.scss\"; // Standard version\r\n// import \"./sass/style.react.rtl.css\"; // RTL version\r\nimport \"socicon/css/socicon.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport \"./_metronic/_assets/plugins/line-awesome/css/line-awesome.css\";\r\nimport \"./_metronic/_assets/plugins/flaticon/flaticon.css\";\r\nimport \"./_metronic/_assets/plugins/flaticon2/flaticon.css\";\r\n/**\r\n * Base URL of the website.\r\n *\r\n * @see https://facebook.github.io/create-react-app/docs/using-the-public-folder\r\n */\r\nconst { PUBLIC_URL } = process.env;\r\n\r\n/**\r\n * Creates `axios-mock-adapter` instance for provided `axios` instance, add\r\n * basic Metronic mocks and returns it.\r\n *\r\n * @see https://github.com/ctimmerm/axios-mock-adapter\r\n */\r\n ///* const mock = */ mockAxios(axios);\r\n\r\n/**\r\n * Inject metronic interceptors for axios.\r\n *\r\n * @see https://github.com/axios/axios#interceptors\r\n */\r\nsetupAxios(axios, store);\r\n\r\nReactDOM.render(\r\n  <App\r\n    store={store}\r\n    persistor={persistor}\r\n    basename={PUBLIC_URL}\r\n  />,\r\n  document.getElementById(\"root\")\r\n);\r\n","/**\r\n * Entry application component used to compose providers and render Routes.\r\n * */\r\n\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport { LastLocationProvider } from \"react-router-last-location\";\r\nimport { Routes } from \"./app/router/Routes\";\r\nimport { I18nProvider, LayoutSplashScreen, ThemeProvider } from \"./_metronic\";\r\n\r\nexport default function App({ store, persistor, basename }) {\r\n  return (\r\n    /* Provide Redux store */\r\n    <Provider store={store} loading={<LayoutSplashScreen />}>\r\n      {/* Asynchronously persist redux stores and show `SplashScreen` while it's loading. */}\r\n      <PersistGate persistor={persistor}>\r\n        {/* Add high level `Suspense` in case if was not handled inside the React tree. */}\r\n        <React.Suspense fallback={<LayoutSplashScreen />}>\r\n          {/* Override `basename` (e.g: `homepage` in `package.json`) */}\r\n          <BrowserRouter basename={basename}>\r\n            {/*This library only returns the location that has been active before the recent location change in the current window lifetime.*/}\r\n            <LastLocationProvider>\r\n              {/* Provide Metronic theme overrides. */}\r\n              <ThemeProvider>\r\n                {/* Provide `react-intl` context synchronized with Redux state.  */}\r\n                <I18nProvider>\r\n                  {/* Render routes with provided `Layout`. */}\r\n                  <Routes />\r\n                </I18nProvider>\r\n              </ThemeProvider>\r\n            </LastLocationProvider>\r\n          </BrowserRouter>\r\n        </React.Suspense>\r\n      </PersistGate>\r\n    </Provider>\r\n  );\r\n}\r\n","import React, { forwardRef, useEffect, useState } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { isFragment } from \"react-is\";\r\n\r\nexport const PortletHeaderIcon = forwardRef(({ className }, ref) => (\r\n  <span ref={ref} className={clsx(\"kt-portlet__head-icon\", className)} />\r\n));\r\n\r\nexport const PortletHeaderTitle = forwardRef(({ className, ...props }, ref) => (\r\n  // eslint-disable-next-line jsx-a11y/heading-has-content\r\n  <h3\r\n    {...props}\r\n    ref={ref}\r\n    className={clsx(\"kt-portlet__head-title\", className)}\r\n  />\r\n));\r\n\r\nexport const PortletHeaderToolbar = forwardRef(\r\n  ({ className, ...props }, ref) => (\r\n    <div\r\n      {...props}\r\n      ref={ref}\r\n      className={clsx(\"kt-portlet__head-toolbar\", className)}\r\n    />\r\n  )\r\n);\r\n\r\nexport const PortletHeader = forwardRef(\r\n  (\r\n    { icon, title, toolbar, className, sticky = false, labelRef, ...props },\r\n    ref\r\n  ) => {\r\n    const [top, setTop] = useState(0);\r\n    const [windowHeight, setWindowHeight] = useState(0);\r\n\r\n    useEffect(() => {\r\n      handleResize();\r\n\r\n      function handleResize() {\r\n        setWindowHeight(window.innerWidth);\r\n      }\r\n\r\n      window.addEventListener(\"resize\", handleResize);\r\n\r\n      return () => {\r\n        window.removeEventListener(\"resize\", handleResize);\r\n      };\r\n    });\r\n\r\n    useEffect(() => {\r\n      // Skip if sticky is disabled or on initial render when we don't know about window height.\r\n      if (!sticky || windowHeight === 0) {\r\n        return;\r\n      }\r\n\r\n      const headerElement = document.querySelector(\".kt-header\");\r\n      const subheaderElement = document.querySelector(\".kt-subheader\");\r\n      const headerMobileElement = document.querySelector(\".kt-header-mobile\");\r\n\r\n      let nextMarginTop = 0;\r\n\r\n      // mobile header\r\n      if (window.getComputedStyle(headerElement).height === \"0px\") {\r\n        nextMarginTop = headerMobileElement.offsetHeight;\r\n      } else {\r\n        // desktop header\r\n        if (document.body.classList.contains(\"kt-header--minimize-topbar\")) {\r\n          // hardcoded minimized header height\r\n          nextMarginTop = 60;\r\n        } else {\r\n          // normal fixed header\r\n          if (document.body.classList.contains(\"kt-header--fixed\")) {\r\n            nextMarginTop += headerElement.offsetHeight;\r\n          }\r\n\r\n          if (document.body.classList.contains(\"kt-subheader--fixed\")) {\r\n            nextMarginTop += subheaderElement.offsetHeight;\r\n          }\r\n        }\r\n      }\r\n\r\n      setTop(nextMarginTop);\r\n    }, [sticky, windowHeight]);\r\n\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className=\"kt-portlet__head\"\r\n        style={\r\n          !sticky\r\n            ? undefined\r\n            : { top, position: \"sticky\", backgroundColor: \"#fff\" }\r\n        }\r\n      >\r\n        {title != null && (\r\n          <div\r\n            ref={labelRef}\r\n            className={clsx(\"kt-portlet__head-label\", className)}\r\n          >\r\n            {icon}\r\n\r\n            {/* Wrap string and fragments in PortletHeaderTitle */\r\n            typeof title === \"string\" || isFragment(title) ? (\r\n              <PortletHeaderTitle>{title}</PortletHeaderTitle>\r\n            ) : (\r\n              title\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {toolbar}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport const PortletBody = forwardRef(\r\n  ({ fit, fluid, className, ...props }, ref) => (\r\n    <div\r\n      {...props}\r\n      ref={ref}\r\n      className={clsx(\r\n        \"kt-portlet__body\",\r\n        {\r\n          \"kt-portlet__body--fit\": fit,\r\n          \"kt-portlet__body--fluid\": fluid\r\n        },\r\n        className\r\n      )}\r\n    />\r\n  )\r\n);\r\n\r\nexport const PortletFooter = forwardRef(({ className, ...props }, ref) => (\r\n  <div {...props} ref={ref} className={clsx(\"kt-portlet__foot\", className)} />\r\n));\r\n\r\nexport const Portlet = forwardRef(\r\n  ({ fluidHeight, className, ...props }, ref) => (\r\n    <div\r\n      {...props}\r\n      ref={ref}\r\n      className={clsx(\r\n        \"kt-portlet\",\r\n        { \"kt-portlet--height-fluid\": fluidHeight },\r\n        className\r\n      )}\r\n    />\r\n  )\r\n);\r\n\r\n// Set display names for debugging.\r\nif (process.env.NODE_ENV !== \"production\") {\r\n  Portlet.displayName = \"Portlet\";\r\n\r\n  PortletHeader.displayName = \"PortletHeader\";\r\n  PortletHeaderIcon.displayName = \"PortletHeaderIcon\";\r\n  PortletHeaderTitle.displayName = \"PortletHeaderTitle\";\r\n  PortletHeaderToolbar.displayName = \"PortletHeaderToolbar\";\r\n\r\n  PortletBody.displayName = \"PortletBody\";\r\n  PortletFooter.displayName = \"PortletFooter\";\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-loop-func,no-undef,no-restricted-globals,strict,no-unused-vars,no-cond-assign,eqeqeq,no-throw-literal,no-unreachable,no-useless-escape,no-redeclare,no-useless-concat,no-unused-expressions,no-sequences */\r\nimport KTUtil from \"./util\";\r\n\r\n\"use strict\";\r\nvar KTOffcanvas = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {};\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('offcanvas')) {\r\n                the = KTUtil.data(element).get('offcanvas');\r\n            } else {\r\n                // reset offcanvas\r\n                Plugin.init(options);\r\n\r\n                // build offcanvas\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('offcanvas', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n            the.overlay;\r\n\r\n            the.classBase = the.options.baseClass;\r\n            the.classShown = the.classBase + '--on';\r\n            the.classOverlay = the.classBase + '-overlay';\r\n\r\n            the.state = KTUtil.hasClass(element, the.classShown) ? 'shown' : 'hidden';\r\n        },\r\n\r\n        build: function() {\r\n            // offcanvas toggle\r\n            if (the.options.toggleBy) {\r\n                if (typeof the.options.toggleBy === 'string') {\r\n                    KTUtil.addEvent( the.options.toggleBy, 'click', function(e) {\r\n                        e.preventDefault();\r\n                        Plugin.toggle();\r\n                    });\r\n                } else if (the.options.toggleBy && the.options.toggleBy[0]) {\r\n                    if (the.options.toggleBy[0].target) {\r\n                        for (var i in the.options.toggleBy) {\r\n                            KTUtil.addEvent( the.options.toggleBy[i].target, 'click', function(e) {\r\n                                e.preventDefault();\r\n                                Plugin.toggle();\r\n                            });\r\n                        }\r\n                    } else {\r\n                        for (var i in the.options.toggleBy) {\r\n                            KTUtil.addEvent( the.options.toggleBy[i], 'click', function(e) {\r\n                                e.preventDefault();\r\n                                Plugin.toggle();\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                } else if (the.options.toggleBy && the.options.toggleBy.target) {\r\n                    KTUtil.addEvent( the.options.toggleBy.target, 'click', function(e) {\r\n                        e.preventDefault();\r\n                        Plugin.toggle();\r\n                    });\r\n                }\r\n            }\r\n\r\n            // offcanvas close\r\n            var closeBy = KTUtil.get(the.options.closeBy);\r\n            if (closeBy) {\r\n                KTUtil.addEvent(closeBy, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.hide();\r\n                });\r\n            }\r\n\r\n            // Window resize\r\n            /*\r\n            KTUtil.addResizeHandler(function() {\r\n                if (parseInt(KTUtil.css(element, 'left')) >= 0 || parseInt(KTUtil.css(element, 'right') >= 0) || KTUtil.css(element, 'position') != 'fixed') {\r\n                    KTUtil.css(element, 'opacity', '1');\r\n                }\r\n            });\r\n            */\r\n        },\r\n\r\n        isShown: function(target) {\r\n            return (the.state == 'shown' ? true : false);\r\n        },\r\n\r\n        toggle: function() {;\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            if (the.state == 'shown') {\r\n                Plugin.hide(this);\r\n            } else {\r\n                Plugin.show(this);\r\n            }\r\n        },\r\n\r\n        show: function(target) {\r\n            if (the.state == 'shown') {\r\n                return;\r\n            }\r\n\r\n            Plugin.eventTrigger('beforeShow');\r\n\r\n            Plugin.togglerClass(target, 'show');\r\n\r\n            // Offcanvas panel\r\n            KTUtil.addClass(body, the.classShown);\r\n            KTUtil.addClass(element, the.classShown);\r\n            //KTUtil.css(element, 'opacity', '1');\r\n\r\n            the.state = 'shown';\r\n\r\n            if (the.options.overlay) {\r\n                the.overlay = KTUtil.insertAfter(document.createElement('DIV') , element );\r\n                KTUtil.addClass(the.overlay, the.classOverlay);\r\n                KTUtil.addEvent(the.overlay, 'click', function(e) {\r\n                    e.stopPropagation();\r\n                    e.preventDefault();\r\n                    Plugin.hide(target);\r\n                });\r\n            }\r\n\r\n            Plugin.eventTrigger('afterShow');\r\n        },\r\n\r\n        hide: function(target) {\r\n            if (the.state == 'hidden') {\r\n                return;\r\n            }\r\n\r\n            Plugin.eventTrigger('beforeHide');\r\n\r\n            Plugin.togglerClass(target, 'hide');\r\n\r\n            KTUtil.removeClass(body, the.classShown);\r\n            KTUtil.removeClass(element, the.classShown);\r\n\r\n            the.state = 'hidden';\r\n\r\n            if (the.options.overlay && the.overlay) {\r\n                KTUtil.remove(the.overlay);\r\n            }\r\n\r\n            /*\r\n            KTUtil.transitionEnd(element, function() {\r\n                KTUtil.css(element, 'opacity', '0');\r\n            });\r\n            */\r\n\r\n            Plugin.eventTrigger('afterHide');\r\n        },\r\n\r\n        togglerClass: function(target, mode) {\r\n            // Toggler\r\n            var id = KTUtil.attr(target, 'id');\r\n            var toggleBy;\r\n\r\n            if (the.options.toggleBy && the.options.toggleBy[0] && the.options.toggleBy[0].target) {\r\n                for (var i in the.options.toggleBy) {\r\n                    if (the.options.toggleBy[i].target === id) {\r\n                        toggleBy = the.options.toggleBy[i];\r\n                    }\r\n                }\r\n            } else if (the.options.toggleBy && the.options.toggleBy.target) {\r\n                toggleBy = the.options.toggleBy;\r\n            }\r\n\r\n            if (toggleBy) {\r\n                var el = KTUtil.get(toggleBy.target);\r\n\r\n                if (mode === 'show') {\r\n                    KTUtil.addClass(el, toggleBy.state);\r\n                }\r\n\r\n                if (mode === 'hide') {\r\n                    KTUtil.removeClass(el, toggleBy.state);\r\n                }\r\n            }\r\n        },\r\n\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    the.isShown = function() {\r\n        return Plugin.isShown();\r\n    };\r\n\r\n    the.hide = function() {\r\n        return Plugin.hide();\r\n    };\r\n\r\n    the.show = function() {\r\n        return Plugin.show();\r\n    };\r\n\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTOffcanvas;\r\n}\r\n\r\nexport  default  KTOffcanvas;\r\n","import React, { forwardRef } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nconst Notice = forwardRef(\r\n  (\r\n    { icon, iconRef, textRef, iconWrapperRef, className, children, ...props },\r\n    ref\r\n  ) => {\r\n    return (\r\n      <div\r\n        {...props}\r\n        ref={ref}\r\n        role=\"alert\"\r\n        className={clsx(\"alert alert-light alert-elevate\", className)}\r\n      >\r\n        {icon && (\r\n          <div ref={iconWrapperRef} className=\"alert-icon alert-icon-top\">\r\n            <i ref={iconRef} className={icon} />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"alert-text\" ref={textRef}>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default Notice;\r\n\r\n// Set display name for debugging.\r\nif (process.env.NODE_ENV !== \"production\") {\r\n  Notice.displayName = \"Notice\";\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-loop-func,no-undef,no-restricted-globals,strict,no-unused-vars,no-cond-assign,eqeqeq,no-throw-literal,no-unreachable,no-useless-escape,no-redeclare,no-useless-concat,no-unused-expressions,no-sequences */\r\nimport KTUtil from \"./util\";\r\n\r\n\"use strict\";\r\nvar KTMenu = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        // scrollable area with Perfect Scroll\r\n        scroll: {\r\n            rememberPosition: false\r\n        },\r\n\r\n        // accordion submenu mode\r\n        accordion: {\r\n            slideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n            autoScroll: false, // enable auto scrolling(focus) to the clicked menu item\r\n            autoScrollSpeed: 1200,\r\n            expandAll: true // allow having multiple expanded accordions in the menu\r\n        },\r\n\r\n        // dropdown submenu mode\r\n        dropdown: {\r\n            timeout: 500 // timeout in milliseconds to show and hide the hoverable submenu dropdown\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {KTMenu}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('menu')) {\r\n                the = KTUtil.data(element).get('menu');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // reset menu\r\n                Plugin.reset();\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('menu', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n            the.uid = KTUtil.getUniqueID();\r\n        },\r\n\r\n        update: function(options) {\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            KTUtil.data(element).set('menu', the);\r\n        },\r\n\r\n        reload: function() {\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            // reset submenu props\r\n            Plugin.resetSubmenuProps();\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        build: function() {\r\n            // General accordion submenu toggle\r\n            the.eventHandlers['event_1'] = KTUtil.on( element, '.kt-menu__toggle', 'click', Plugin.handleSubmenuAccordion);\r\n\r\n            // Dropdown mode(hoverable)\r\n            if (Plugin.getSubmenuMode() === 'dropdown' || Plugin.isConditionalSubmenuDropdown()) {\r\n                // dropdown submenu - hover toggle\r\n                the.eventHandlers['event_2'] = KTUtil.on( element, '[data-ktmenu-submenu-toggle=\"hover\"]', 'mouseover', Plugin.handleSubmenuDrodownHoverEnter);\r\n                the.eventHandlers['event_3'] = KTUtil.on( element, '[data-ktmenu-submenu-toggle=\"hover\"]', 'mouseout', Plugin.handleSubmenuDrodownHoverExit);\r\n\r\n                // dropdown submenu - click toggle\r\n                the.eventHandlers['event_4'] = KTUtil.on( element, '[data-ktmenu-submenu-toggle=\"click\"] > .kt-menu__toggle, [data-ktmenu-submenu-toggle=\"click\"] > .kt-menu__link .kt-menu__toggle', 'click', Plugin.handleSubmenuDropdownClick);\r\n                the.eventHandlers['event_5'] = KTUtil.on( element, '[data-ktmenu-submenu-toggle=\"tab\"] > .kt-menu__toggle, [data-ktmenu-submenu-toggle=\"tab\"] > .kt-menu__link .kt-menu__toggle', 'click', Plugin.handleSubmenuDropdownTabClick);\r\n            }\r\n\r\n            // handle link click\r\n            the.eventHandlers['event_6'] = KTUtil.on(element, '.kt-menu__item > .kt-menu__link:not(.kt-menu__toggle):not(.kt-menu__link--toggle-skip)', 'click', Plugin.handleLinkClick);\r\n\r\n            // Init scrollable menu\r\n            if (the.options.scroll && the.options.scroll.height) {\r\n                Plugin.scrollInit();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        reset: function() {\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_1']);\r\n\r\n            // dropdown submenu - hover toggle\r\n            KTUtil.off( element, 'mouseover', the.eventHandlers['event_2']);\r\n            KTUtil.off( element, 'mouseout', the.eventHandlers['event_3']);\r\n\r\n            // dropdown submenu - click toggle\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_4']);\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_5']);\r\n\r\n            // handle link click\r\n            KTUtil.off(element, 'click', the.eventHandlers['event_6']);\r\n        },\r\n\r\n        /**\r\n         * Init scroll menu\r\n         *\r\n        */\r\n        scrollInit: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollDestroy(element);\r\n                KTUtil.scrollInit(element, {mobileNativeScroll: true, windowScroll: false, resetHeightOnDestroy: true, handleWindowResize: true, height: the.options.scroll.height, rememberPosition: the.options.scroll.rememberPosition});\r\n            } else {\r\n                KTUtil.scrollDestroy(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Update scroll menu\r\n        */\r\n        scrollUpdate: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollUpdate(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Scroll top\r\n        */\r\n        scrollTop: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollTop(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        getSubmenuMode: function(el) {\r\n            if ( KTUtil.isInResponsiveRange('desktop') ) {\r\n                if (el && KTUtil.hasAttr(el, 'data-ktmenu-submenu-toggle') && KTUtil.attr(el, 'data-ktmenu-submenu-toggle') == 'hover') {\r\n                    return 'dropdown';\r\n                }\r\n\r\n                if ( KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                    if ( KTUtil.hasClasses(body, the.options.submenu.desktop.state.body) ) {\r\n                        return the.options.submenu.desktop.state.mode;\r\n                    } else {\r\n                        return the.options.submenu.desktop.default;\r\n                    }\r\n                } else if ( KTUtil.isset(the.options.submenu, 'desktop') ) {\r\n                    return the.options.submenu.desktop;\r\n                }\r\n            } else if ( KTUtil.isInResponsiveRange('tablet') && KTUtil.isset(the.options.submenu, 'tablet') ) {\r\n                return the.options.submenu.tablet;\r\n            } else if ( KTUtil.isInResponsiveRange('mobile') && KTUtil.isset(the.options.submenu, 'mobile') ) {\r\n                return the.options.submenu.mobile;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        isConditionalSubmenuDropdown: function() {\r\n            if ( KTUtil.isInResponsiveRange('desktop') && KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n\r\n        /**\r\n         * Reset submenu attributes\r\n         * @returns {KTMenu}\r\n         */\r\n        resetSubmenuProps: function(e) {\r\n            var submenus = KTUtil.findAll(element, '.kt-menu__submenu');\r\n            if ( submenus ) {\r\n                for (var i = 0, len = submenus.length; i < len; i++) {\r\n                    KTUtil.css(submenus[0], 'display', '');\r\n                    KTUtil.css(submenus[0], 'overflow', '');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverEnter: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n\r\n            if ( item.getAttribute('data-hover') == '1' ) {\r\n                item.removeAttribute('data-hover');\r\n                clearTimeout( item.getAttribute('data-timeout') );\r\n                item.removeAttribute('data-timeout');\r\n            }\r\n\r\n            Plugin.showSubmenuDropdown(item);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverExit: function(e) {\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n            var time = the.options.dropdown.timeout;\r\n\r\n            var timeout = setTimeout(function() {\r\n                if ( item.getAttribute('data-hover') == '1' ) {\r\n                    Plugin.hideSubmenuDropdown(item, true);\r\n                }\r\n            }, time);\r\n\r\n            item.setAttribute('data-hover', '1');\r\n            item.setAttribute('data-timeout', timeout);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClick: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this.closest('.kt-menu__item');\r\n\r\n            if ( item.getAttribute('data-ktmenu-submenu-mode') == 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( KTUtil.hasClass(item, 'kt-menu__item--hover') === false ) {\r\n                KTUtil.addClass(item, 'kt-menu__item--open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            } else {\r\n                KTUtil.removeClass(item, 'kt-menu__item--open-dropdown' );\r\n                Plugin.hideSubmenuDropdown(item, true);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles tab click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownTabClick: function(e) {\r\n            if (Plugin.getSubmenuMode(this) === 'accordion') {\r\n                return;\r\n            }\r\n\r\n            var item = this.closest('.kt-menu__item');\r\n\r\n            if (item.getAttribute('data-ktmenu-submenu-mode') == 'accordion') {\r\n                return;\r\n            }\r\n\r\n            if (KTUtil.hasClass(item, 'kt-menu__item--hover') == false) {\r\n                KTUtil.addClass(item, 'kt-menu__item--open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleLinkClick: function(e) {\r\n            var submenu = this.closest('.kt-menu__item.kt-menu__item--submenu'); //\r\n\r\n            var result = Plugin.eventTrigger('linkClick', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( submenu && Plugin.getSubmenuMode(submenu) === 'dropdown' ) {\r\n                Plugin.hideSubmenuDropdowns();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu dropdown close on link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClose: function(e, el) {\r\n            // exit if its not submenu dropdown mode\r\n            if (Plugin.getSubmenuMode(el) === 'accordion') {\r\n                return;\r\n            }\r\n\r\n            var shown = element.querySelectorAll('.kt-menu__item.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs)');\r\n\r\n            // check if currently clicked link's parent item ha\r\n            if (shown.length > 0 && KTUtil.hasClass(el, 'kt-menu__toggle') === false && el.querySelectorAll('.kt-menu__toggle').length === 0) {\r\n                // close opened dropdown menus\r\n                for (var i = 0, len = shown.length; i < len; i++) {\r\n                    Plugin.hideSubmenuDropdown(shown[0], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuAccordion: function(e, el) {\r\n            var query;\r\n            var item = el ? el : this;\r\n\r\n            if ( Plugin.getSubmenuMode(el) === 'dropdown' && (query = item.closest('.kt-menu__item') ) ) {\r\n                if (query.getAttribute('data-ktmenu-submenu-mode') != 'accordion' ) {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            var li = item.closest('.kt-menu__item');\r\n            var submenu = KTUtil.child(li, '.kt-menu__submenu, .kt-menu__inner');\r\n\r\n            if (KTUtil.hasClass(item.closest('.kt-menu__item'), 'kt-menu__item--open-always')) {\r\n                return;\r\n            }\r\n\r\n            if ( li && submenu ) {\r\n                e.preventDefault();\r\n                var speed = the.options.accordion.slideSpeed;\r\n                var hasClosables = false;\r\n\r\n                if ( KTUtil.hasClass(li, 'kt-menu__item--open') === false ) {\r\n                    // hide other accordions\r\n                    if ( the.options.accordion.expandAll === false ) {\r\n                        var subnav = item.closest('.kt-menu__nav, .kt-menu__subnav');\r\n                        var closables = KTUtil.children(subnav, '.kt-menu__item.kt-menu__item--open.kt-menu__item--submenu:not(.kt-menu__item--here):not(.kt-menu__item--open-always)');\r\n\r\n                        if ( subnav && closables ) {\r\n                            for (var i = 0, len = closables.length; i < len; i++) {\r\n                                var el_ = closables[0];\r\n                                var submenu_ = KTUtil.child(el_, '.kt-menu__submenu');\r\n                                if ( submenu_ ) {\r\n                                    KTUtil.slideUp(submenu_, speed, function() {\r\n                                        Plugin.scrollUpdate();\r\n                                        KTUtil.removeClass(el_, 'kt-menu__item--open');\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    KTUtil.slideDown(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.scrollUpdate();\r\n\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.addClass(li, 'kt-menu__item--open');\r\n\r\n                } else {\r\n                    KTUtil.slideUp(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.removeClass(li, 'kt-menu__item--open');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * scroll to item function\r\n         * @returns {KTMenu}\r\n         */\r\n        scrollToItem: function(item) {\r\n            // handle auto scroll for accordion submenus\r\n            if ( KTUtil.isInResponsiveRange('desktop') && the.options.accordion.autoScroll && element.getAttribute('data-ktmenu-scroll') !== '1' ) {\r\n                KTUtil.scrollTo(item, the.options.accordion.autoScrollSpeed);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdown\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdown: function(item, classAlso) {\r\n            // remove submenu activation class\r\n            if ( classAlso ) {\r\n                KTUtil.removeClass(item, 'kt-menu__item--hover');\r\n                KTUtil.removeClass(item, 'kt-menu__item--active-tab');\r\n            }\r\n\r\n            // clear timeout\r\n            item.removeAttribute('data-hover');\r\n\r\n            if ( item.getAttribute('data-ktmenu-dropdown-toggle-class') ) {\r\n                KTUtil.removeClass(body, item.getAttribute('data-ktmenu-dropdown-toggle-class'));\r\n            }\r\n\r\n            var timeout = item.getAttribute('data-timeout');\r\n            item.removeAttribute('data-timeout');\r\n            clearTimeout(timeout);\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdowns\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdowns: function() {\r\n            var items;\r\n            if ( items = element.querySelectorAll('.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs):not([data-ktmenu-submenu-toggle=\"tab\"])') ) {\r\n                for (var j = 0, cnt = items.length; j < cnt; j++) {\r\n                    Plugin.hideSubmenuDropdown(items[j], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        showSubmenuDropdown: function(item) {\r\n            // close active submenus\r\n            var list = element.querySelectorAll('.kt-menu__item--submenu.kt-menu__item--hover, .kt-menu__item--submenu.kt-menu__item--active-tab');\r\n\r\n            if ( list ) {\r\n                for (var i = 0, len = list.length; i < len; i++) {\r\n                    var el = list[i];\r\n                    if ( item !== el && el.contains(item) === false && item.contains(el) === false ) {\r\n                        Plugin.hideSubmenuDropdown(el, true);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add submenu activation class\r\n            KTUtil.addClass(item, 'kt-menu__item--hover');\r\n\r\n            if ( item.getAttribute('data-ktmenu-dropdown-toggle-class') ) {\r\n                KTUtil.addClass(body, item.getAttribute('data-ktmenu-dropdown-toggle-class'));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu slide toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        createSubmenuDropdownClickDropoff: function(el) {\r\n            var query;\r\n            var zIndex = (query = KTUtil.child(el, '.kt-menu__submenu') ? KTUtil.css(query, 'z-index') : 0) - 1;\r\n\r\n            var dropoff = document.createElement('<div class=\"kt-menu__dropoff\" style=\"background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: ' + zIndex + '\"></div>');\r\n\r\n            body.appendChild(dropoff);\r\n\r\n            KTUtil.addEvent(dropoff, 'click', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                KTUtil.remove(this);\r\n                Plugin.hideSubmenuDropdown(el, true);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        pauseDropdownHover: function(time) {\r\n            var date = new Date();\r\n\r\n            the.pauseDropdownHoverTime = date.getTime() + time;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        resumeDropdownHover: function() {\r\n            var date = new Date();\r\n\r\n            return (date.getTime() > the.pauseDropdownHoverTime ? true : false);\r\n        },\r\n\r\n        /**\r\n         * Reset menu's current active item\r\n         * @returns {KTMenu}\r\n         */\r\n        resetActiveItem: function(item) {\r\n            var list;\r\n            var parents;\r\n\r\n            list = element.querySelectorAll('.kt-menu__item--active');\r\n\r\n            for (var i = 0, len = list.length; i < len; i++) {\r\n                var el = list[0];\r\n                KTUtil.removeClass(el, 'kt-menu__item--active');\r\n                KTUtil.hide( KTUtil.child(el, '.kt-menu__submenu') );\r\n                parents = KTUtil.parents(el, '.kt-menu__item--submenu') || [];\r\n\r\n                for (var i_ = 0, len_ = parents.length; i_ < len_; i_++) {\r\n                    var el_ = parents[i];\r\n                    KTUtil.removeClass(el_, 'kt-menu__item--open');\r\n                    KTUtil.hide( KTUtil.child(el_, '.kt-menu__submenu') );\r\n                }\r\n            }\r\n\r\n            // close open submenus\r\n            if ( the.options.accordion.expandAll === false ) {\r\n                if ( list = element.querySelectorAll('.kt-menu__item--open') ) {\r\n                    for (var i = 0, len = list.length; i < len; i++) {\r\n                        KTUtil.removeClass(parents[0], 'kt-menu__item--open');\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sets menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        setActiveItem: function(item) {\r\n            // reset current active item\r\n            Plugin.resetActiveItem();\r\n\r\n            var parents = KTUtil.parents(item, '.kt-menu__item--submenu') || [];\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                KTUtil.addClass(KTUtil.get(parents[i]), 'kt-menu__item--open');\r\n            }\r\n\r\n            KTUtil.addClass(KTUtil.get(item), 'kt-menu__item--active');\r\n        },\r\n\r\n        /**\r\n         * Returns page breadcrumbs for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getBreadcrumbs: function(item) {\r\n            var query;\r\n            var breadcrumbs = [];\r\n            var link = KTUtil.child(item, '.kt-menu__link');\r\n\r\n            breadcrumbs.push({\r\n                text: (query = KTUtil.child(link, '.kt-menu__link-text') ? query.innerHTML : ''),\r\n                title: link.getAttribute('title'),\r\n                href: link.getAttribute('href')\r\n            });\r\n\r\n            var parents = KTUtil.parents(item, '.kt-menu__item--submenu');\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                var submenuLink = KTUtil.child(parents[i], '.kt-menu__link');\r\n\r\n                breadcrumbs.push({\r\n                    text: (query = KTUtil.child(submenuLink, '.kt-menu__link-text') ? query.innerHTML : ''),\r\n                    title: submenuLink.getAttribute('title'),\r\n                    href: submenuLink.getAttribute('href')\r\n                });\r\n            }\r\n\r\n            return  breadcrumbs.reverse();\r\n        },\r\n\r\n        /**\r\n         * Returns page title for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getPageTitle: function(item) {\r\n            var query;\r\n\r\n            return (query = KTUtil.child(item, '.kt-menu__link-text') ? query.innerHTML : '');\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, target, e) {\r\n            for (var i = 0; i < the.events.length; i++ ) {\r\n                var event = the.events[i];\r\n                if ( event.name == name ) {\r\n                    if ( event.one == true ) {\r\n                        if ( event.fired == false ) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, target, e);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, target, e);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        },\r\n\r\n        removeEvent: function(name) {\r\n            if (the.events[name]) {\r\n                delete the.events[name];\r\n            }\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Update scroll\r\n     */\r\n    the.scrollUpdate = function() {\r\n        return Plugin.scrollUpdate();\r\n    };\r\n\r\n    /**\r\n     * Re-init scroll\r\n     */\r\n    the.scrollReInit = function() {\r\n        return Plugin.scrollInit();\r\n    };\r\n\r\n    /**\r\n     * Scroll top\r\n     */\r\n    the.scrollTop = function() {\r\n        return Plugin.scrollTop();\r\n    };\r\n\r\n    /**\r\n     * Set active menu item\r\n     */\r\n    the.setActiveItem = function(item) {\r\n        return Plugin.setActiveItem(item);\r\n    };\r\n\r\n    the.reload = function() {\r\n        return Plugin.reload();\r\n    };\r\n\r\n    the.update = function(options) {\r\n        return Plugin.update(options);\r\n    };\r\n\r\n    /**\r\n     * Set breadcrumb for menu item\r\n     */\r\n    the.getBreadcrumbs = function(item) {\r\n        return Plugin.getBreadcrumbs(item);\r\n    };\r\n\r\n    /**\r\n     * Set page title for menu item\r\n     */\r\n    the.getPageTitle = function(item) {\r\n        return Plugin.getPageTitle(item);\r\n    };\r\n\r\n    /**\r\n     * Get submenu mode\r\n     */\r\n    the.getSubmenuMode = function(el) {\r\n        return Plugin.getSubmenuMode(el);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdown\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdown = function(item) {\r\n        Plugin.hideSubmenuDropdown(item, true);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdowns\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdowns = function() {\r\n        Plugin.hideSubmenuDropdowns();\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.pauseDropdownHover = function(time) {\r\n        Plugin.pauseDropdownHover(time);\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.resumeDropdownHover = function() {\r\n        return Plugin.resumeDropdownHover();\r\n    };\r\n\r\n    /**\r\n     * Register event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    the.off = function(name) {\r\n        return Plugin.removeEvent(name);\r\n    };\r\n\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Handle plugin on window resize\r\n    KTUtil.addResizeHandler(function() {\r\n        if (init) {\r\n            the.reload();\r\n        }\r\n    });\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTMenu;\r\n}\r\n\r\n// Plugin global lazy initialization\r\ndocument.addEventListener(\"click\", function (e) {\r\n    var body = KTUtil.get('body');\r\n    var query;\r\n    if ( query = body.querySelectorAll('.kt-menu__nav .kt-menu__item.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs)[data-ktmenu-submenu-toggle=\"click\"]') ) {\r\n        for (var i = 0, len = query.length; i < len; i++) {\r\n            var element = query[i].closest('.kt-menu__nav').parentNode;\r\n\r\n            if ( element ) {\r\n                var the = KTUtil.data(element).get('menu');\r\n\r\n                if ( !the ) {\r\n                    break;\r\n                }\r\n\r\n                if ( !the || the.getSubmenuMode() !== 'dropdown' ) {\r\n                    break;\r\n                }\r\n\r\n                if ( e.target !== element && element.contains(e.target) === false ) {\r\n                    the.hideDropdowns();\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nexport default  KTMenu;\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-loop-func,no-undef,no-restricted-globals,strict,no-unused-vars,no-cond-assign,eqeqeq,no-throw-literal,no-unreachable,no-useless-escape,no-redeclare,no-useless-concat,no-unused-expressions,no-sequences */\r\n\"use strict\";\r\n/**\r\n * @class KTUtil  base utilize class that privides helper functions\r\n */\r\n\r\n// Polyfills\r\n/**\r\n * Element.matches() polyfill (simple version)\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\r\n */\r\nif (!Element.prototype.matches) {\r\n\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\r\n}\r\n\r\n/**\r\n * Element.closest() polyfill\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\r\n */\r\nif (!Element.prototype.closest) {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\r\n\t}\r\n\tElement.prototype.closest = function (s) {\r\n\t\tvar el = this;\r\n\t\tvar ancestor = this;\r\n\t\tif (!document.documentElement.contains(el)) return null;\r\n\t\tdo {\r\n\t\t\tif (ancestor.matches(s)) return ancestor;\r\n\t\t\tancestor = ancestor.parentElement;\r\n\t\t} while (ancestor !== null);\r\n\t\treturn null;\r\n\t};\r\n}\r\n\r\n/**\r\n * ChildNode.remove() polyfill\r\n * https://gomakethings.com/removing-an-element-from-the-dom-the-es6-way/\r\n * @author Chris Ferdinandi\r\n * @license MIT\r\n */\r\n(function (elem) {\r\n\tfor (var i = 0; i < elem.length; i++) {\r\n\t\tif (!window[elem[i]] || 'remove' in window[elem[i]].prototype) continue;\r\n\t\twindow[elem[i]].prototype.remove = function () {\r\n\t\t\tthis.parentNode.removeChild(this);\r\n\t\t};\r\n\t}\r\n})(['Element', 'CharacterData', 'DocumentType']);\r\n\r\n//\r\n// requestAnimationFrame polyfill by Erik Möller.\r\n//  With fixes from Paul Irish and Tino Zijdel\r\n//\r\n//  http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n//  http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n//\r\n//  MIT license\r\n//\r\n(function() {\r\n    var lastTime = 0;\r\n    var vendors = ['webkit', 'moz'];\r\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame =\r\n            window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n\r\n    if (!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function(callback) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = window.setTimeout(function() {\r\n                callback(currTime + timeToCall);\r\n            }, timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n\r\n    if (!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\n// Source: https://github.com/jserz/js_piece/blob/master/DOM/ParentNode/prepend()/prepend().md\r\n(function(arr) {\r\n    arr.forEach(function(item) {\r\n        if (item.hasOwnProperty('prepend')) {\r\n            return;\r\n        }\r\n        Object.defineProperty(item, 'prepend', {\r\n            configurable: true,\r\n            enumerable: true,\r\n            writable: true,\r\n            value: function prepend() {\r\n                var argArr = Array.prototype.slice.call(arguments),\r\n                    docFrag = document.createDocumentFragment();\r\n\r\n                argArr.forEach(function(argItem) {\r\n                    var isNode = argItem instanceof Node;\r\n                    docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));\r\n                });\r\n\r\n                this.insertBefore(docFrag, this.firstChild);\r\n            }\r\n        });\r\n    });\r\n})([Element.prototype, Document.prototype, DocumentFragment.prototype]);\r\n\r\n// Global variables\r\nwindow.KTUtilElementDataStore = {};\r\nwindow.KTUtilElementDataStoreID = 0;\r\nwindow.KTUtilDelegatedEventHandlers = {};\r\n\r\nvar KTUtil = function() {\r\n    var resizeHandlers = [];\r\n\r\n    /** @type {object} breakpoints The device width breakpoints **/\r\n    var breakpoints = {\r\n        sm: 544, // Small screen / phone\r\n        md: 768, // Medium screen / tablet\r\n        lg: 1024, // Large screen / desktop\r\n        xl: 1200 // Extra large screen / wide desktop\r\n    };\r\n\r\n    /**\r\n     * Handle window resize event with some\r\n     * delay to attach event handlers upon resize complete\r\n     */\r\n    var _windowResizeHandler = function() {\r\n        var _runResizeHandlers = function() {\r\n            // reinitialize other subscribed elements\r\n            for (var i = 0; i < resizeHandlers.length; i++) {\r\n                var each = resizeHandlers[i];\r\n                each.call();\r\n            }\r\n        };\r\n\r\n        var timeout = false; // holder for timeout id\r\n        var delay = 250; // delay after event is \"complete\" to run callback\r\n\r\n        window.addEventListener('resize', function() {\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(function() {\r\n                _runResizeHandlers();\r\n            }, delay); // wait 50ms until window resize finishes.\r\n        });\r\n    };\r\n\r\n    return {\r\n        /**\r\n         * Class main initializer.\r\n         * @param {object} options.\r\n         * @returns null\r\n         */\r\n        //main function to initiate the theme\r\n        init: function(options) {\r\n            if (options && options.breakpoints) {\r\n                breakpoints = options.breakpoints;\r\n            }\r\n\r\n            _windowResizeHandler();\r\n        },\r\n\r\n        /**\r\n         * Adds window resize event handler.\r\n         * @param {function} callback function.\r\n         */\r\n        addResizeHandler: function(callback) {\r\n            resizeHandlers.push(callback);\r\n        },\r\n\r\n        /**\r\n         * Removes window resize event handler.\r\n         * @param {function} callback function.\r\n         */\r\n        removeResizeHandler: function(callback) {\r\n            for (var i = 0; i < resizeHandlers.length; i++) {\r\n                if (callback === resizeHandlers[i]) {\r\n                    delete resizeHandlers[i];\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Trigger window resize handlers.\r\n         */\r\n        runResizeHandlers: function() {\r\n            _runResizeHandlers();\r\n        },\r\n\r\n        resize: function() {\r\n            if (typeof(Event) === 'function') {\r\n                // modern browsers\r\n                window.dispatchEvent(new Event('resize'));\r\n            } else {\r\n                // for IE and other old browsers\r\n                // causes deprecation warning on modern browsers\r\n                var evt = window.document.createEvent('UIEvents');\r\n                evt.initUIEvent('resize', true, false, window, 0);\r\n                window.dispatchEvent(evt);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get GET parameter value from URL.\r\n         * @param {string} paramName Parameter name.\r\n         * @returns {string}\r\n         */\r\n        getURLParam: function(paramName) {\r\n            var searchString = window.location.search.substring(1),\r\n                i, val, params = searchString.split(\"&\");\r\n\r\n            for (i = 0; i < params.length; i++) {\r\n                val = params[i].split(\"=\");\r\n                if (val[0] == paramName) {\r\n                    return unescape(val[1]);\r\n                }\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * Checks whether current device is mobile touch.\r\n         * @returns {boolean}\r\n         */\r\n        isMobileDevice: function() {\r\n            return (this.getViewPort().width < this.getBreakpoint('lg') ? true : false);\r\n        },\r\n\r\n        /**\r\n         * Checks whether current device is desktop.\r\n         * @returns {boolean}\r\n         */\r\n        isDesktopDevice: function() {\r\n            return KTUtil.isMobileDevice() ? false : true;\r\n        },\r\n\r\n        /**\r\n         * Gets browser window viewport size. Ref:\r\n         * http://andylangton.co.uk/articles/javascript/get-viewport-size-javascript/\r\n         * @returns {object}\r\n         */\r\n        getViewPort: function() {\r\n            var e = window,\r\n                a = 'inner';\r\n            if (!('innerWidth' in window)) {\r\n                a = 'client';\r\n                e = document.documentElement || document.body;\r\n            }\r\n\r\n            return {\r\n                width: e[a + 'Width'],\r\n                height: e[a + 'Height']\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Checks whether given device mode is currently activated.\r\n         * @param {string} mode Responsive mode name(e.g: desktop,\r\n         *     desktop-and-tablet, tablet, tablet-and-mobile, mobile)\r\n         * @returns {boolean}\r\n         */\r\n        isInResponsiveRange: function(mode) {\r\n            var breakpoint = this.getViewPort().width;\r\n\r\n            if (mode == 'general') {\r\n                return true;\r\n            } else if (mode == 'desktop' && breakpoint >= (this.getBreakpoint('lg') + 1)) {\r\n                return true;\r\n            } else if (mode == 'tablet' && (breakpoint >= (this.getBreakpoint('md') + 1) && breakpoint < this.getBreakpoint('lg'))) {\r\n                return true;\r\n            } else if (mode == 'mobile' && breakpoint <= this.getBreakpoint('md')) {\r\n                return true;\r\n            } else if (mode == 'desktop-and-tablet' && breakpoint >= (this.getBreakpoint('md') + 1)) {\r\n                return true;\r\n            } else if (mode == 'tablet-and-mobile' && breakpoint <= this.getBreakpoint('lg')) {\r\n                return true;\r\n            } else if (mode == 'minimal-desktop-and-below' && breakpoint <= this.getBreakpoint('xl')) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Generates unique ID for give prefix.\r\n         * @param {string} prefix Prefix for generated ID\r\n         * @returns {boolean}\r\n         */\r\n        getUniqueID: function(prefix) {\r\n            return prefix + Math.floor(Math.random() * (new Date()).getTime());\r\n        },\r\n\r\n        /**\r\n         * Gets window width for give breakpoint mode.\r\n         * @param {string} mode Responsive mode name(e.g: xl, lg, md, sm)\r\n         * @returns {number}\r\n         */\r\n        getBreakpoint: function(mode) {\r\n            return breakpoints[mode];\r\n        },\r\n\r\n        /**\r\n         * Checks whether object has property matchs given key path.\r\n         * @param {object} obj Object contains values paired with given key path\r\n         * @param {string} keys Keys path seperated with dots\r\n         * @returns {object}\r\n         */\r\n        isset: function(obj, keys) {\r\n            var stone;\r\n\r\n            keys = keys || '';\r\n\r\n            if (keys.indexOf('[') !== -1) {\r\n                throw new Error('Unsupported object path notation.');\r\n            }\r\n\r\n            keys = keys.split('.');\r\n\r\n            do {\r\n                if (obj === undefined) {\r\n                    return false;\r\n                }\r\n\r\n                stone = keys.shift();\r\n\r\n                if (!obj.hasOwnProperty(stone)) {\r\n                    return false;\r\n                }\r\n\r\n                obj = obj[stone];\r\n\r\n            } while (keys.length);\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Gets highest z-index of the given element parents\r\n         * @param {object} el jQuery element object\r\n         * @returns {number}\r\n         */\r\n        getHighestZindex: function(el) {\r\n            var elem = KTUtil.get(el),\r\n                position, value;\r\n\r\n            while (elem && elem !== document) {\r\n                // Ignore z-index if position is set to a value where z-index is ignored by the browser\r\n                // This makes behavior of this function consistent across browsers\r\n                // WebKit always returns auto if the element is positioned\r\n                position = KTUtil.css(elem, 'position');\r\n\r\n                if (position === \"absolute\" || position === \"relative\" || position === \"fixed\") {\r\n                    // IE returns 0 when zIndex is not specified\r\n                    // other browsers return a string\r\n                    // we ignore the case of nested elements with an explicit value of 0\r\n                    // <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\r\n                    value = parseInt(KTUtil.css(elem, 'z-index'));\r\n\r\n                    if (!isNaN(value) && value !== 0) {\r\n                        return value;\r\n                    }\r\n                }\r\n\r\n                elem = elem.parentNode;\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * Checks whether the element has any parent with fixed positionfreg\r\n         * @param {object} el jQuery element object\r\n         * @returns {boolean}\r\n         */\r\n        hasFixedPositionedParent: function(el) {\r\n            var position;\r\n\r\n            while (el && el !== document) {\r\n                position = KTUtil.css(el, 'position');\r\n\r\n                if (position === \"fixed\") {\r\n                    return true;\r\n                }\r\n\r\n                el = el.parentNode;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Simulates delay\r\n         */\r\n        sleep: function(milliseconds) {\r\n            var start = new Date().getTime();\r\n            for (var i = 0; i < 1e7; i++) {\r\n                if ((new Date().getTime() - start) > milliseconds) {\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Gets randomly generated integer value within given min and max range\r\n         * @param {number} min Range start value\r\n         * @param {number} max Range end value\r\n         * @returns {number}\r\n         */\r\n        getRandomInt: function(min, max) {\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n        },\r\n\r\n        /**\r\n         * Checks whether Angular library is included\r\n         * @returns {boolean}\r\n         */\r\n        isAngularVersion: function() {\r\n            return window.Zone !== undefined ? true : false;\r\n        },\r\n\r\n        // jQuery Workarounds\r\n\r\n        // Deep extend:  $.extend(true, {}, objA, objB);\r\n        deepExtend: function(out) {\r\n            out = out || {};\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                var obj = arguments[i];\r\n\r\n                if (!obj)\r\n                    continue;\r\n\r\n                for (var key in obj) {\r\n                    if (obj.hasOwnProperty(key)) {\r\n                        if (typeof obj[key] === 'object')\r\n                            out[key] = KTUtil.deepExtend(out[key], obj[key]);\r\n                        else\r\n                            out[key] = obj[key];\r\n                    }\r\n                }\r\n            }\r\n\r\n            return out;\r\n        },\r\n\r\n        // extend:  $.extend({}, objA, objB);\r\n        extend: function(out) {\r\n            out = out || {};\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                if (!arguments[i])\r\n                    continue;\r\n\r\n                for (var key in arguments[i]) {\r\n                    if (arguments[i].hasOwnProperty(key))\r\n                        out[key] = arguments[i][key];\r\n                }\r\n            }\r\n\r\n            return out;\r\n        },\r\n\r\n        get: function(query) {\r\n            var el;\r\n\r\n            if (query === document) {\r\n                return document;\r\n            }\r\n\r\n            if (!!(query && query.nodeType === 1)) {\r\n                return query;\r\n            }\r\n\r\n            if (el = document.getElementById(query)) {\r\n                return el;\r\n            } else if (el = document.getElementsByTagName(query), el.length > 0) {\r\n                return el[0];\r\n            } else if (el = document.getElementsByClassName(query), el.length > 0) {\r\n                return el[0];\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n\r\n        getByID: function(query) {\r\n            if (!!(query && query.nodeType === 1)) {\r\n                return query;\r\n            }\r\n\r\n            return document.getElementById(query);\r\n        },\r\n\r\n        getByTag: function(query) {\r\n            var el;\r\n\r\n            if (el = document.getElementsByTagName(query)) {\r\n                return el[0];\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n\r\n        getByClass: function(query) {\r\n            var el;\r\n\r\n            if (el = document.getElementsByClassName(query)) {\r\n                return el[0];\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Checks whether the element has given classes\r\n         * @param {object} el jQuery element object\r\n         * @param {string} Classes string\r\n         * @returns {boolean}\r\n         */\r\n        hasClasses: function(el, classes) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            var classesArr = classes.split(\" \");\r\n\r\n            for (var i = 0; i < classesArr.length; i++) {\r\n                if (KTUtil.hasClass(el, KTUtil.trim(classesArr[i])) == false) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        hasClass: function(el, className) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            return el.classList ? el.classList.contains(className) : new RegExp('\\\\b' + className + '\\\\b').test(el.className);\r\n        },\r\n\r\n        addClass: function(el, className) {\r\n            if (!el || typeof className === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            var classNames = className.split(' ');\r\n\r\n            if (el.classList) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    if (classNames[i] && classNames[i].length > 0) {\r\n                        el.classList.add(KTUtil.trim(classNames[i]));\r\n                    }\r\n                }\r\n            } else if (!KTUtil.hasClass(el, className)) {\r\n                for (var x = 0; x < classNames.length; x++) {\r\n                    el.className += ' ' + KTUtil.trim(classNames[x]);\r\n                }\r\n            }\r\n        },\r\n\r\n        removeClass: function(el, className) {\r\n          if (!el || typeof className === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            var classNames = className.split(' ');\r\n\r\n            if (el.classList) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    el.classList.remove(KTUtil.trim(classNames[i]));\r\n                }\r\n            } else if (KTUtil.hasClass(el, className)) {\r\n                for (var x = 0; x < classNames.length; x++) {\r\n                    el.className = el.className.replace(new RegExp('\\\\b' + KTUtil.trim(classNames[x]) + '\\\\b', 'g'), '');\r\n                }\r\n            }\r\n        },\r\n\r\n        triggerCustomEvent: function(el, eventName, data) {\r\n            var event;\r\n            if (window.CustomEvent) {\r\n                event = new CustomEvent(eventName, {\r\n                    detail: data\r\n                });\r\n            } else {\r\n                event = document.createEvent('CustomEvent');\r\n                event.initCustomEvent(eventName, true, true, data);\r\n            }\r\n\r\n            el.dispatchEvent(event);\r\n        },\r\n\r\n        triggerEvent: function(node, eventName) {\r\n            // Make sure we use the ownerDocument from the provided node to avoid cross-window problems\r\n            var doc;\r\n            if (node.ownerDocument) {\r\n                doc = node.ownerDocument;\r\n            } else if (node.nodeType == 9) {\r\n                // the node may be the document itself, nodeType 9 = DOCUMENT_NODE\r\n                doc = node;\r\n            } else {\r\n                throw new Error(\"Invalid node passed to fireEvent: \" + node.id);\r\n            }\r\n\r\n            if (node.dispatchEvent) {\r\n                // Gecko-style approach (now the standard) takes more work\r\n                var eventClass = \"\";\r\n\r\n                // Different events have different event classes.\r\n                // If this switch statement can't map an eventName to an eventClass,\r\n                // the event firing is going to fail.\r\n                switch (eventName) {\r\n                case \"click\": // Dispatching of 'click' appears to not work correctly in Safari. Use 'mousedown' or 'mouseup' instead.\r\n                case \"mouseenter\":\r\n                case \"mouseleave\":\r\n                case \"mousedown\":\r\n                case \"mouseup\":\r\n                    eventClass = \"MouseEvents\";\r\n                    break;\r\n\r\n                case \"focus\":\r\n                case \"change\":\r\n                case \"blur\":\r\n                case \"select\":\r\n                    eventClass = \"HTMLEvents\";\r\n                    break;\r\n\r\n                default:\r\n                    throw \"fireEvent: Couldn't find an event class for event '\" + eventName + \"'.\";\r\n                    break;\r\n                }\r\n                var event = doc.createEvent(eventClass);\r\n\r\n                var bubbles = eventName == \"change\" ? false : true;\r\n                event.initEvent(eventName, bubbles, true); // All events created as bubbling and cancelable.\r\n\r\n                event.synthetic = true; // allow detection of synthetic events\r\n                // The second parameter says go ahead with the default action\r\n                node.dispatchEvent(event, true);\r\n            } else if (node.fireEvent) {\r\n                // IE-old school style\r\n                var event = doc.createEventObject();\r\n                event.synthetic = true; // allow detection of synthetic events\r\n                node.fireEvent(\"on\" + eventName, event);\r\n            }\r\n        },\r\n\r\n        index: function( elm ){\r\n            elm = KTUtil.get(elm);\r\n            var c = elm.parentNode.children, i = 0;\r\n            for(; i < c.length; i++ )\r\n                if( c[i] == elm ) return i;\r\n        },\r\n\r\n        trim: function(string) {\r\n            return string.trim();\r\n        },\r\n\r\n        eventTriggered: function(e) {\r\n            if (e.currentTarget.dataset.triggered) {\r\n                return true;\r\n            } else {\r\n                e.currentTarget.dataset.triggered = true;\r\n\r\n                return false;\r\n            }\r\n        },\r\n\r\n        remove: function(el) {\r\n            if (el && el.parentNode) {\r\n                el.parentNode.removeChild(el);\r\n            }\r\n        },\r\n\r\n        find: function(parent, query) {\r\n            parent = KTUtil.get(parent);\r\n            if (parent) {\r\n                return parent.querySelector(query);\r\n            }\r\n        },\r\n\r\n        findAll: function(parent, query) {\r\n            parent = KTUtil.get(parent);\r\n            if (parent) {\r\n                return parent.querySelectorAll(query);\r\n            }\r\n        },\r\n\r\n        insertAfter: function(el, referenceNode) {\r\n            return referenceNode.parentNode.insertBefore(el, referenceNode.nextSibling);\r\n        },\r\n\r\n        parents: function(elem, selector) {\r\n            // Element.matches() polyfill\r\n            if (!Element.prototype.matches) {\r\n                Element.prototype.matches =\r\n                    Element.prototype.matchesSelector ||\r\n                    Element.prototype.mozMatchesSelector ||\r\n                    Element.prototype.msMatchesSelector ||\r\n                    Element.prototype.oMatchesSelector ||\r\n                    Element.prototype.webkitMatchesSelector ||\r\n                    function(s) {\r\n                        var matches = (this.document || this.ownerDocument).querySelectorAll(s),\r\n                            i = matches.length;\r\n                        while (--i >= 0 && matches.item(i) !== this) {}\r\n                        return i > -1;\r\n                    };\r\n            }\r\n\r\n            // Set up a parent array\r\n            var parents = [];\r\n\r\n            // Push each parent element to the array\r\n            for ( ; elem && elem !== document; elem = elem.parentNode ) {\r\n                if (selector) {\r\n                    if (elem.matches(selector)) {\r\n                        parents.push(elem);\r\n                    }\r\n                    continue;\r\n                }\r\n                parents.push(elem);\r\n            }\r\n\r\n            // Return our parent array\r\n            return parents;\r\n        },\r\n\r\n        children: function(el, selector, log) {\r\n            if (!el || !el.childNodes) {\r\n                return;\r\n            }\r\n\r\n            var result = [],\r\n                i = 0,\r\n                l = el.childNodes.length;\r\n\r\n            for (var i; i < l; ++i) {\r\n                if (el.childNodes[i].nodeType == 1 && KTUtil.matches(el.childNodes[i], selector, log)) {\r\n                    result.push(el.childNodes[i]);\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        child: function(el, selector, log) {\r\n            var children = KTUtil.children(el, selector, log);\r\n\r\n            return children ? children[0] : null;\r\n        },\r\n\r\n        matches: function(el, selector, log) {\r\n            var p = Element.prototype;\r\n            var f = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || function(s) {\r\n                return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\r\n            };\r\n\r\n            if (el && el.tagName) {\r\n                return f.call(el, selector);\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        data: function(element) {\r\n            element = KTUtil.get(element);\r\n\r\n            return {\r\n                set: function(name, data) {\r\n                    if (element === undefined) {\r\n                        return;\r\n                    }\r\n\r\n                    if (element.customDataTag === undefined) {\r\n                        window.KTUtilElementDataStoreID++;\r\n                        element.customDataTag = window.KTUtilElementDataStoreID;\r\n                    }\r\n\r\n                    if (window.KTUtilElementDataStore[element.customDataTag] === undefined) {\r\n                        window.KTUtilElementDataStore[element.customDataTag] = {};\r\n                    }\r\n\r\n                    window.KTUtilElementDataStore[element.customDataTag][name] = data;\r\n                },\r\n\r\n                get: function(name) {\r\n                    if (element === undefined) {\r\n                        return;\r\n                    }\r\n\r\n                    if (element.customDataTag === undefined) {\r\n                        return null;\r\n                    }\r\n\r\n                    return this.has(name) ? window.KTUtilElementDataStore[element.customDataTag][name] : null;\r\n                },\r\n\r\n                has: function(name) {\r\n                    if (element === undefined) {\r\n                        return false;\r\n                    }\r\n\r\n                    if (element.customDataTag === undefined) {\r\n                        return false;\r\n                    }\r\n\r\n                    return (window.KTUtilElementDataStore[element.customDataTag] && window.KTUtilElementDataStore[element.customDataTag][name]) ? true : false;\r\n                },\r\n\r\n                remove: function(name) {\r\n                    if (element && this.has(name)) {\r\n                        delete window.KTUtilElementDataStore[element.customDataTag][name];\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n        outerWidth: function(el, margin) {\r\n            var width;\r\n\r\n            if (margin === true) {\r\n                width = parseFloat(el.offsetWidth);\r\n                width += parseFloat(KTUtil.css(el, 'margin-left')) + parseFloat(KTUtil.css(el, 'margin-right'));\r\n\r\n                return parseFloat(width);\r\n            } else {\r\n                width = parseFloat(el.offsetWidth);\r\n\r\n                return width;\r\n            }\r\n        },\r\n\r\n        offset: function(elem) {\r\n            var rect, win;\r\n            elem = KTUtil.get(elem);\r\n\r\n            if ( !elem ) {\r\n                return;\r\n            }\r\n\r\n            // Return zeros for disconnected and hidden (display: none) elements (gh-2310)\r\n            // Support: IE <=11 only\r\n            // Running getBoundingClientRect on a\r\n            // disconnected node in IE throws an error\r\n\r\n            if ( !elem.getClientRects().length ) {\r\n                return { top: 0, left: 0 };\r\n            }\r\n\r\n            // Get document-relative position by adding viewport scroll to viewport-relative gBCR\r\n            rect = elem.getBoundingClientRect();\r\n            win = elem.ownerDocument.defaultView;\r\n\r\n            return {\r\n                top: rect.top + win.pageYOffset,\r\n                left: rect.left + win.pageXOffset\r\n            };\r\n        },\r\n\r\n        height: function(el) {\r\n            return KTUtil.css(el, 'height');\r\n        },\r\n\r\n        visible: function(el) {\r\n            return !(el.offsetWidth === 0 && el.offsetHeight === 0);\r\n        },\r\n\r\n        attr: function(el, name, value) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                el.setAttribute(name, value);\r\n            } else {\r\n                return el.getAttribute(name);\r\n            }\r\n        },\r\n\r\n        hasAttr: function(el, name) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            return el.getAttribute(name) ? true : false;\r\n        },\r\n\r\n        removeAttr: function(el, name) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            el.removeAttribute(name);\r\n        },\r\n\r\n        animate: function(from, to, duration, update, easing, done) {\r\n            /**\r\n             * TinyAnimate.easings\r\n             *  Adapted from jQuery Easing\r\n             */\r\n            var easings = {};\r\n            var easing;\r\n\r\n            easings.linear = function(t, b, c, d) {\r\n                return c * t / d + b;\r\n            };\r\n\r\n            easing = easings.linear;\r\n\r\n            // Early bail out if called incorrectly\r\n            if (typeof from !== 'number' ||\r\n                typeof to !== 'number' ||\r\n                typeof duration !== 'number' ||\r\n                typeof update !== 'function') {\r\n                return;\r\n            }\r\n\r\n            // Create mock done() function if necessary\r\n            if (typeof done !== 'function') {\r\n                done = function() {};\r\n            }\r\n\r\n            // Pick implementation (requestAnimationFrame | setTimeout)\r\n            var rAF = window.requestAnimationFrame || function(callback) {\r\n                window.setTimeout(callback, 1000 / 50);\r\n            };\r\n\r\n            // Animation loop\r\n            var canceled = false;\r\n            var change = to - from;\r\n\r\n            function loop(timestamp) {\r\n                var time = (timestamp || +new Date()) - start;\r\n\r\n                if (time >= 0) {\r\n                    update(easing(time, from, change, duration));\r\n                }\r\n                if (time >= 0 && time >= duration) {\r\n                    update(to);\r\n                    done();\r\n                } else {\r\n                    rAF(loop);\r\n                }\r\n            }\r\n\r\n            update(from);\r\n\r\n            // Start animation loop\r\n            var start = window.performance && window.performance.now ? window.performance.now() : +new Date();\r\n\r\n            rAF(loop);\r\n        },\r\n\r\n        actualCss: function(el, prop, cache) {\r\n            el = KTUtil.get(el);\r\n            var css = '';\r\n\r\n            if (el instanceof HTMLElement === false) {\r\n                return;\r\n            }\r\n\r\n            if (!el.getAttribute('kt-hidden-' + prop) || cache === false) {\r\n                var value;\r\n\r\n                // the element is hidden so:\r\n                // making the el block so we can meassure its height but still be hidden\r\n                css = el.style.cssText;\r\n                el.style.cssText = 'position: absolute; visibility: hidden; display: block;';\r\n\r\n                if (prop == 'width') {\r\n                    value = el.offsetWidth;\r\n                } else if (prop == 'height') {\r\n                    value = el.offsetHeight;\r\n                }\r\n\r\n                el.style.cssText = css;\r\n\r\n                // store it in cache\r\n                el.setAttribute('kt-hidden-' + prop, value);\r\n\r\n                return parseFloat(value);\r\n            } else {\r\n                // store it in cache\r\n                return parseFloat(el.getAttribute('kt-hidden-' + prop));\r\n            }\r\n        },\r\n\r\n        actualHeight: function(el, cache) {\r\n            return KTUtil.actualCss(el, 'height', cache);\r\n        },\r\n\r\n        actualWidth: function(el, cache) {\r\n            return KTUtil.actualCss(el, 'width', cache);\r\n        },\r\n\r\n        getScroll: function(element, method) {\r\n            // The passed in `method` value should be 'Top' or 'Left'\r\n            method = 'scroll' + method;\r\n            return (element == window || element == document) ? (\r\n                self[(method == 'scrollTop') ? 'pageYOffset' : 'pageXOffset'] ||\r\n                (browserSupportsBoxModel && document.documentElement[method]) ||\r\n                document.body[method]\r\n            ) : element[method];\r\n        },\r\n\r\n        css: function(el, styleProp, value) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                el.style[styleProp] = value;\r\n            } else {\r\n                var defaultView = (el.ownerDocument || document).defaultView;\r\n                // W3C standard way:\r\n                if (defaultView && defaultView.getComputedStyle) {\r\n                    // sanitize property name to css notation\r\n                    // (hyphen separated words eg. font-Size)\r\n                    styleProp = styleProp.replace(/([A-Z])/g, \"-$1\").toLowerCase();\r\n                    return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n                } else if (el.currentStyle) { // IE\r\n                    // sanitize property name to camelCase\r\n                    styleProp = styleProp.replace(/\\-(\\w)/g, function(str, letter) {\r\n                        return letter.toUpperCase();\r\n                    });\r\n                    value = el.currentStyle[styleProp];\r\n                    // convert other units to pixels on IE\r\n                    if (/^\\d+(em|pt|%|ex)?$/i.test(value)) {\r\n                        return (function(value) {\r\n                            var oldLeft = el.style.left,\r\n                                oldRsLeft = el.runtimeStyle.left;\r\n                            el.runtimeStyle.left = el.currentStyle.left;\r\n                            el.style.left = value || 0;\r\n                            value = el.style.pixelLeft + \"px\";\r\n                            el.style.left = oldLeft;\r\n                            el.runtimeStyle.left = oldRsLeft;\r\n                            return value;\r\n                        })(value);\r\n                    }\r\n                    return value;\r\n                }\r\n            }\r\n        },\r\n\r\n        slide: function(el, dir, speed, callback, recalcMaxHeight) {\r\n            if (!el || (dir == 'up' && KTUtil.visible(el) === false) || (dir == 'down' && KTUtil.visible(el) === true)) {\r\n                return;\r\n            }\r\n\r\n            speed = (speed ? speed : 600);\r\n            var calcHeight = KTUtil.actualHeight(el);\r\n            var calcPaddingTop = false;\r\n            var calcPaddingBottom = false;\r\n\r\n            if (KTUtil.css(el, 'padding-top') && KTUtil.data(el).has('slide-padding-top') !== true) {\r\n                KTUtil.data(el).set('slide-padding-top', KTUtil.css(el, 'padding-top'));\r\n            }\r\n\r\n            if (KTUtil.css(el, 'padding-bottom') && KTUtil.data(el).has('slide-padding-bottom') !== true) {\r\n                KTUtil.data(el).set('slide-padding-bottom', KTUtil.css(el, 'padding-bottom'));\r\n            }\r\n\r\n            if (KTUtil.data(el).has('slide-padding-top')) {\r\n                calcPaddingTop = parseInt(KTUtil.data(el).get('slide-padding-top'));\r\n            }\r\n\r\n            if (KTUtil.data(el).has('slide-padding-bottom')) {\r\n                calcPaddingBottom = parseInt(KTUtil.data(el).get('slide-padding-bottom'));\r\n            }\r\n\r\n            if (dir == 'up') { // up\r\n                el.style.cssText = 'display: block; overflow: hidden;';\r\n\r\n                if (calcPaddingTop) {\r\n                    KTUtil.animate(0, calcPaddingTop, speed, function(value) {\r\n                        el.style.paddingTop = (calcPaddingTop - value) + 'px';\r\n                    }, 'linear');\r\n                }\r\n\r\n                if (calcPaddingBottom) {\r\n                    KTUtil.animate(0, calcPaddingBottom, speed, function(value) {\r\n                        el.style.paddingBottom = (calcPaddingBottom - value) + 'px';\r\n                    }, 'linear');\r\n                }\r\n\r\n                KTUtil.animate(0, calcHeight, speed, function(value) {\r\n                    el.style.height = (calcHeight - value) + 'px';\r\n                }, 'linear', function() {\r\n                    callback();\r\n                    el.style.height = '';\r\n                    el.style.display = 'none';\r\n                });\r\n\r\n\r\n            } else if (dir == 'down') { // down\r\n                el.style.cssText = 'display: block; overflow: hidden;';\r\n\r\n                if (calcPaddingTop) {\r\n                    KTUtil.animate(0, calcPaddingTop, speed, function(value) {\r\n                        el.style.paddingTop = value + 'px';\r\n                    }, 'linear', function() {\r\n                        el.style.paddingTop = '';\r\n                    });\r\n                }\r\n\r\n                if (calcPaddingBottom) {\r\n                    KTUtil.animate(0, calcPaddingBottom, speed, function(value) {\r\n                        el.style.paddingBottom = value + 'px';\r\n                    }, 'linear', function() {\r\n                        el.style.paddingBottom = '';\r\n                    });\r\n                }\r\n\r\n                KTUtil.animate(0, calcHeight, speed, function(value) {\r\n                    el.style.height = value + 'px';\r\n                }, 'linear', function() {\r\n                    callback();\r\n                    el.style.height = '';\r\n                    el.style.display = '';\r\n                    el.style.overflow = '';\r\n                });\r\n            }\r\n        },\r\n\r\n        slideUp: function(el, speed, callback) {\r\n            KTUtil.slide(el, 'up', speed, callback);\r\n        },\r\n\r\n        slideDown: function(el, speed, callback) {\r\n            KTUtil.slide(el, 'down', speed, callback);\r\n        },\r\n\r\n        show: function(el, display) {\r\n            if (typeof el !== 'undefined') {\r\n                el.style.display = (display ? display : 'block');\r\n            }\r\n        },\r\n\r\n        hide: function(el) {\r\n            if (typeof el !== 'undefined') {\r\n                el.style.display = 'none';\r\n            }\r\n        },\r\n\r\n        addEvent: function(el, type, handler, one) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (typeof el !== 'undefined' && el !== null) {\r\n                el.addEventListener(type, handler);\r\n            }\r\n        },\r\n\r\n        removeEvent: function(el, type, handler) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (el !== null) {\r\n                el.removeEventListener(type, handler);\r\n            }\r\n        },\r\n\r\n        on: function(element, selector, event, handler) {\r\n            if (!selector) {\r\n                return;\r\n            }\r\n\r\n            var eventId = KTUtil.getUniqueID('event');\r\n\r\n            window.KTUtilDelegatedEventHandlers[eventId] = function(e) {\r\n                var targets = element.querySelectorAll(selector);\r\n                var target = e.target;\r\n\r\n                while (target && target !== element) {\r\n                    for (var i = 0, j = targets.length; i < j; i++) {\r\n                        if (target === targets[i]) {\r\n                            handler.call(target, e);\r\n                        }\r\n                    }\r\n\r\n                    target = target.parentNode;\r\n                }\r\n            }\r\n\r\n            KTUtil.addEvent(element, event, window.KTUtilDelegatedEventHandlers[eventId]);\r\n\r\n            return eventId;\r\n        },\r\n\r\n        off: function(element, event, eventId) {\r\n            if (!element || !window.KTUtilDelegatedEventHandlers[eventId]) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.removeEvent(element, event, window.KTUtilDelegatedEventHandlers[eventId]);\r\n\r\n            delete window.KTUtilDelegatedEventHandlers[eventId];\r\n        },\r\n\r\n        one: function onetime(el, type, callback) {\r\n            el = KTUtil.get(el);\r\n\r\n            el.addEventListener(type, function callee(e) {\r\n                // remove event\r\n                if (e.target && e.target.removeEventListener) {\r\n                    e.target.removeEventListener(e.type, callee);\r\n                }\r\n\r\n                // call handler\r\n                return callback(e);\r\n            });\r\n        },\r\n\r\n        hash: function(str) {\r\n            var hash = 0,\r\n                i, chr;\r\n\r\n            if (str.length === 0) return hash;\r\n            for (i = 0; i < str.length; i++) {\r\n                chr = str.charCodeAt(i);\r\n                hash = ((hash << 5) - hash) + chr;\r\n                hash |= 0; // Convert to 32bit integer\r\n            }\r\n\r\n            return hash;\r\n        },\r\n\r\n        animateClass: function(el, animationName, callback) {\r\n            var animation;\r\n            var animations = {\r\n                animation: 'animationend',\r\n                OAnimation: 'oAnimationEnd',\r\n                MozAnimation: 'mozAnimationEnd',\r\n                WebkitAnimation: 'webkitAnimationEnd',\r\n                msAnimation: 'msAnimationEnd',\r\n            };\r\n\r\n            for (var t in animations) {\r\n                if (el.style[t] !== undefined) {\r\n                    animation = animations[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.addClass(el, 'animated ' + animationName);\r\n\r\n            KTUtil.one(el, animation, function() {\r\n                KTUtil.removeClass(el, 'animated ' + animationName);\r\n            });\r\n\r\n            if (callback) {\r\n                KTUtil.one(el, animation, callback);\r\n            }\r\n        },\r\n\r\n        transitionEnd: function(el, callback) {\r\n            var transition;\r\n            var transitions = {\r\n                transition: 'transitionend',\r\n                OTransition: 'oTransitionEnd',\r\n                MozTransition: 'mozTransitionEnd',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                msTransition: 'msTransitionEnd'\r\n            };\r\n\r\n            for (var t in transitions) {\r\n                if (el.style[t] !== undefined) {\r\n                    transition = transitions[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.one(el, transition, callback);\r\n        },\r\n\r\n        animationEnd: function(el, callback) {\r\n            var animation;\r\n            var animations = {\r\n                animation: 'animationend',\r\n                OAnimation: 'oAnimationEnd',\r\n                MozAnimation: 'mozAnimationEnd',\r\n                WebkitAnimation: 'webkitAnimationEnd',\r\n                msAnimation: 'msAnimationEnd'\r\n            };\r\n\r\n            for (var t in animations) {\r\n                if (el.style[t] !== undefined) {\r\n                    animation = animations[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.one(el, animation, callback);\r\n        },\r\n\r\n        animateDelay: function(el, value) {\r\n            var vendors = ['webkit-', 'moz-', 'ms-', 'o-', ''];\r\n            for (var i = 0; i < vendors.length; i++) {\r\n                KTUtil.css(el, vendors[i] + 'animation-delay', value);\r\n            }\r\n        },\r\n\r\n        animateDuration: function(el, value) {\r\n            var vendors = ['webkit-', 'moz-', 'ms-', 'o-', ''];\r\n            for (var i = 0; i < vendors.length; i++) {\r\n                KTUtil.css(el, vendors[i] + 'animation-duration', value);\r\n            }\r\n        },\r\n\r\n        scrollTo: function(target, offset, duration) {\r\n            var duration = duration ? duration : 500;\r\n            var target = KTUtil.get(target);\r\n            var targetPos = target ? KTUtil.offset(target).top : 0;\r\n            var scrollPos = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\r\n            var from, to;\r\n\r\n            if (offset) {\r\n                scrollPos += offset;\r\n            }\r\n\r\n            from = scrollPos;\r\n            to = targetPos;\r\n\r\n            KTUtil.animate(from, to, duration, function(value) {\r\n                document.documentElement.scrollTop = value;\r\n                document.body.parentNode.scrollTop = value;\r\n                document.body.scrollTop = value;\r\n            }); //, easing, done\r\n        },\r\n\r\n        scrollTop: function(offset, duration) {\r\n            KTUtil.scrollTo(null, offset, duration);\r\n        },\r\n\r\n        isArray: function(obj) {\r\n            return obj && Array.isArray(obj);\r\n        },\r\n\r\n        ready: function(callback) {\r\n            if (document.attachEvent ? document.readyState === \"complete\" : document.readyState !== \"loading\") {\r\n                callback();\r\n            } else {\r\n                document.addEventListener('DOMContentLoaded', callback);\r\n            }\r\n        },\r\n\r\n        isEmpty: function(obj) {\r\n            for (var prop in obj) {\r\n                if (obj.hasOwnProperty(prop)) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        numberString: function(nStr) {\r\n            nStr += '';\r\n            var x = nStr.split('.');\r\n            var x1 = x[0];\r\n            var x2 = x.length > 1 ? '.' + x[1] : '';\r\n            var rgx = /(\\d+)(\\d{3})/;\r\n            while (rgx.test(x1)) {\r\n                x1 = x1.replace(rgx, '$1' + ',' + '$2');\r\n            }\r\n            return x1 + x2;\r\n        },\r\n\r\n        detectIE: function() {\r\n            var ua = window.navigator.userAgent;\r\n\r\n            // Test values; Uncomment to check result …\r\n\r\n            // IE 10\r\n            // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\r\n\r\n            // IE 11\r\n            // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\r\n\r\n            // Edge 12 (Spartan)\r\n            // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\r\n\r\n            // Edge 13\r\n            // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\r\n\r\n            var msie = ua.indexOf('MSIE ');\r\n            if (msie > 0) {\r\n                // IE 10 or older => return version number\r\n                return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n            }\r\n\r\n            var trident = ua.indexOf('Trident/');\r\n            if (trident > 0) {\r\n                // IE 11 => return version number\r\n                var rv = ua.indexOf('rv:');\r\n                return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n            }\r\n\r\n            var edge = ua.indexOf('Edge/');\r\n            if (edge > 0) {\r\n                // Edge (IE 12+) => return version number\r\n                return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\r\n            }\r\n\r\n            // other browser\r\n            return false;\r\n        },\r\n\r\n        isRTL: function() {\r\n            return (KTUtil.attr(KTUtil.get('html'), 'direction') == 'rtl');\r\n        },\r\n\r\n        //\r\n\r\n        // Scroller\r\n        scrollInit: function(element, options) {\r\n            if(!element) return;\r\n            // Define init function\r\n            function init() {\r\n                var ps;\r\n                var height;\r\n\r\n                if (options.height instanceof Function) {\r\n                    height = parseInt(options.height.call());\r\n                } else {\r\n                    height = parseInt(options.height);\r\n                }\r\n\r\n                // Destroy scroll on table and mobile modes\r\n                if ((options.mobileNativeScroll || options.disableForMobile) && KTUtil.isInResponsiveRange('tablet-and-mobile')) {\r\n                    ps = KTUtil.data(element).get('ps');\r\n                    if (ps) {\r\n                        if (options.resetHeightOnDestroy) {\r\n                            KTUtil.css(element, 'height', 'auto');\r\n                        } else {\r\n                            KTUtil.css(element, 'overflow', 'auto');\r\n                            if (height > 0) {\r\n                                KTUtil.css(element, 'height', height + 'px');\r\n                            }\r\n                        }\r\n\r\n                        ps.destroy();\r\n                        ps = KTUtil.data(element).remove('ps');\r\n                    } else if (height > 0){\r\n                        KTUtil.css(element, 'overflow', 'auto');\r\n                        KTUtil.css(element, 'height', height + 'px');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                if (height > 0) {\r\n                    KTUtil.css(element, 'height', height + 'px');\r\n                }\r\n\r\n                if (options.desktopNativeScroll) {\r\n                    KTUtil.css(element, 'overflow', 'auto');\r\n                    return;\r\n                }\r\n\r\n                // Init scroll\r\n                KTUtil.css(element, 'overflow', 'hidden');\r\n\r\n                ps = KTUtil.data(element).get('ps');\r\n                if (ps) {\r\n                    ps.update();\r\n                } else {\r\n                    KTUtil.addClass(element, 'kt-scroll');\r\n                    ps = new PerfectScrollbar(element, {\r\n                        wheelSpeed: 0.5,\r\n                        swipeEasing: true,\r\n                        wheelPropagation: (options.windowScroll === false ? false : true),\r\n                        minScrollbarLength: 40,\r\n                        maxScrollbarLength: 300,\r\n                        suppressScrollX: KTUtil.attr(element, 'data-scroll-x') != 'true' ? true : false\r\n                    });\r\n\r\n                    KTUtil.data(element).set('ps', ps);\r\n                }\r\n\r\n                // Remember scroll position in cookie\r\n                var uid = KTUtil.attr(element, 'id');\r\n\r\n                if (options.rememberPosition === true && Cookies && uid) {\r\n                    if (Cookies.get(uid)) {\r\n                        var pos = parseInt(Cookies.get(uid));\r\n\r\n                        if (pos > 0) {\r\n                            element.scrollTop = pos;\r\n                        }\r\n                    }\r\n\r\n                    element.addEventListener('ps-scroll-y', function() {\r\n                        Cookies.set(uid, element.scrollTop);\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Init\r\n            init();\r\n\r\n            // Handle window resize\r\n            if (options.handleWindowResize) {\r\n                KTUtil.addResizeHandler(function() {\r\n                    init();\r\n                });\r\n            }\r\n        },\r\n\r\n        scrollUpdate: function(element) {\r\n            var ps = KTUtil.data(element).get('ps');\r\n            if (ps) {\r\n                ps.update();\r\n            }\r\n        },\r\n\r\n        scrollUpdateAll: function(parent) {\r\n            var scrollers = KTUtil.findAll(parent, '.ps');\r\n            for (var i = 0, len = scrollers.length; i < len; i++) {\r\n                KTUtil.scrollUpdate(scrollers[i]);\r\n            }\r\n        },\r\n\r\n        scrollDestroy: function(element) {\r\n            var ps = KTUtil.data(element).get('ps');\r\n            if (ps) {\r\n                ps.destroy();\r\n                ps = KTUtil.data(element).remove('ps');\r\n            }\r\n        },\r\n\r\n        setHTML: function(el, html) {\r\n            if (KTUtil.get(el)) {\r\n                KTUtil.get(el).innerHTML = html;\r\n            }\r\n        },\r\n\r\n        getHTML: function(el) {\r\n            if (KTUtil.get(el)) {\r\n                return KTUtil.get(el).innerHTML;\r\n            }\r\n        },\r\n\r\n        getDocumentHeight: function() {\r\n            var body = document.body;\r\n            var html = document.documentElement;\r\n\r\n            return Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight );\r\n        },\r\n\r\n        getScrollTop: function() {\r\n            return  (document.scrollingElement || document.documentElement).scrollTop;\r\n        }\r\n    }\r\n}();\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTUtil;\r\n}\r\n\r\n// Initialize KTUtil class on document ready\r\nKTUtil.ready(function() {\r\n    KTUtil.init();\r\n});\r\n\r\n// CSS3 Transitions only after page load(.kt-page-loading class added to body tag and remove with JS on page load)\r\nwindow.onload = function() {\r\n    KTUtil.removeClass(KTUtil.get('body'), 'kt-page--loading');\r\n}\r\n\r\nexport default KTUtil;\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-loop-func,no-undef,no-restricted-globals,strict,no-unused-vars,no-cond-assign,eqeqeq,no-throw-literal,no-unreachable,no-useless-escape,no-redeclare,no-useless-concat,no-unused-expressions,no-sequences */\r\nimport KTUtil from \"./util\";\r\n\r\n\"use strict\";\r\nvar KTHeader = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (element === undefined) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        classic: false,\r\n        offset: {\r\n            mobile: 150,\r\n            desktop: 200\r\n        },\r\n        minimize: {\r\n            mobile: false,\r\n            desktop: false\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {KTHeader}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('header')) {\r\n                the = KTUtil.data(element).get('header');\r\n            } else {\r\n                // reset header\r\n                Plugin.init(options);\r\n\r\n                // build header\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('header', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subheader click toggle\r\n         * @returns {KTHeader}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n        },\r\n\r\n        /**\r\n         * Reset header\r\n         * @returns {KTHeader}\r\n         */\r\n        build: function() {\r\n            var lastScrollTop = 0;\r\n            var eventTriggerState = true;\r\n            var viewportHeight = KTUtil.getViewPort().height;\r\n            var documentHeight = KTUtil.getDocumentHeight();\r\n\r\n            if (the.options.minimize.mobile === false && the.options.minimize.desktop === false) {\r\n                return;\r\n            }\r\n\r\n            window.addEventListener('scroll', function() {\r\n                var offset = 0, on, off, st;\r\n\r\n                if (KTUtil.isInResponsiveRange('desktop')) {\r\n                    offset = the.options.offset.desktop;\r\n                    on = the.options.minimize.desktop.on;\r\n                    off = the.options.minimize.desktop.off;\r\n                } else if (KTUtil.isInResponsiveRange('tablet-and-mobile')) {\r\n                    offset = the.options.offset.mobile;\r\n                    on = the.options.minimize.mobile.on;\r\n                    off = the.options.minimize.mobile.off;\r\n                }\r\n\r\n                st = KTUtil.getScrollTop();\r\n\r\n                if (\r\n                    (KTUtil.isInResponsiveRange('tablet-and-mobile') && the.options.classic && the.options.classic.mobile) ||\r\n                    (KTUtil.isInResponsiveRange('desktop') && the.options.classic && the.options.classic.desktop)\r\n                ) {\r\n                    if (st > offset) { // down scroll mode\r\n                        KTUtil.addClass(body, on);\r\n                        KTUtil.removeClass(body, off);\r\n\r\n                        if (eventTriggerState) {\r\n                            Plugin.eventTrigger('minimizeOn', the);\r\n                            eventTriggerState = false;\r\n                        }\r\n                    } else { // back scroll mode\r\n                        KTUtil.addClass(body, off);\r\n                        KTUtil.removeClass(body, on);\r\n\r\n                        if (eventTriggerState == false) {\r\n                            Plugin.eventTrigger('minimizeOff', the);\r\n                            eventTriggerState = true;\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (st > offset && lastScrollTop < st) { // down scroll mode\r\n                        KTUtil.addClass(body, on);\r\n                        KTUtil.removeClass(body, off);\r\n\r\n                        if (eventTriggerState) {\r\n                            Plugin.eventTrigger('minimizeOn', the);\r\n                            eventTriggerState = false;\r\n                        }\r\n                    } else { // back scroll mode\r\n                        KTUtil.addClass(body, off);\r\n                        KTUtil.removeClass(body, on);\r\n\r\n                        if (eventTriggerState == false) {\r\n                            Plugin.eventTrigger('minimizeOff', the);\r\n                            eventTriggerState = true;\r\n                        }\r\n                    }\r\n\r\n                    lastScrollTop = st;\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Register event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTHeader;\r\n}\r\n\r\nexport default KTHeader;\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-loop-func,no-undef,no-restricted-globals,strict,no-unused-vars,no-cond-assign,eqeqeq,no-throw-literal,no-unreachable,no-useless-escape,no-redeclare,no-useless-concat,no-unused-expressions,no-sequences */\r\nimport KTUtil from \"./util\";\r\n\r\n\"use strict\";\r\n\r\n// plugin setup\r\nvar KTToggle = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');  \r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        togglerState: '',\r\n        targetState: ''\r\n    };    \r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('toggle')) {\r\n                the = KTUtil.data(element).get('toggle');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('toggle', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subtoggle click toggle\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            the.target = KTUtil.get(the.options.target);\r\n            the.targetState = the.options.targetState;\r\n            the.togglerState = the.options.togglerState;\r\n\r\n            the.state = KTUtil.hasClasses(the.target, the.targetState) ? 'on' : 'off';\r\n        },\r\n\r\n        /**\r\n         * Setup toggle\r\n         */\r\n        build: function() {\r\n            KTUtil.addEvent(element, 'mouseup', Plugin.toggle);\r\n        },\r\n        \r\n        /**\r\n         * Handles offcanvas click toggle\r\n         */\r\n        toggle: function(e) {\r\n            Plugin.eventTrigger('beforeToggle');\r\n\r\n            if (the.state == 'off') {\r\n                Plugin.toggleOn();\r\n            } else {\r\n                Plugin.toggleOff();\r\n            }\r\n\r\n            Plugin.eventTrigger('afterToggle');\r\n\r\n            e.preventDefault();\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles toggle click toggle\r\n         */\r\n        toggleOn: function() {\r\n            Plugin.eventTrigger('beforeOn');\r\n\r\n            KTUtil.addClass(the.target, the.targetState);\r\n\r\n            if (the.togglerState) {\r\n                KTUtil.addClass(element, the.togglerState);\r\n            }\r\n\r\n            the.state = 'on';\r\n\r\n            Plugin.eventTrigger('afterOn');\r\n\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles toggle click toggle\r\n         */\r\n        toggleOff: function() {\r\n            Plugin.eventTrigger('beforeOff');\r\n\r\n            KTUtil.removeClass(the.target, the.targetState);\r\n\r\n            if (the.togglerState) {\r\n                KTUtil.removeClass(element, the.togglerState);\r\n            }\r\n\r\n            the.state = 'off';\r\n\r\n            Plugin.eventTrigger('afterOff');\r\n\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;                            \r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options \r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Get toggle state \r\n     */\r\n    the.getState = function() {\r\n        return the.state;\r\n    };\r\n\r\n    /**\r\n     * Toggle \r\n     */\r\n    the.toggle = function() {\r\n        return Plugin.toggle();\r\n    };\r\n\r\n    /**\r\n     * Toggle on \r\n     */\r\n    the.toggleOn = function() {\r\n        return Plugin.toggleOn();\r\n    };\r\n\r\n    /**\r\n     * Toggle off \r\n     */\r\n    the.toggleOff = function() {\r\n        return Plugin.toggleOff();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     * @returns {KTToggle}\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     * @returns {KTToggle}\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTToggle;\r\n}\r\n\r\nexport default KTToggle;\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,no-loop-func,no-undef,no-restricted-globals,strict,no-unused-vars,no-cond-assign,eqeqeq,no-throw-literal,no-unreachable,no-useless-escape,no-redeclare,no-useless-concat,no-unused-expressions,no-sequences */\r\nimport KTUtil from \"./util\";\r\n\r\n\"use strict\";\r\nvar KTScrolltop = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        offset: 300,\r\n        speed: 600,\r\n        toggleClass: 'kt-scrolltop--on'\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {mscrolltop}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('scrolltop')) {\r\n                the = KTUtil.data(element).get('scrolltop');\r\n            } else {\r\n                // reset scrolltop\r\n                Plugin.init(options);\r\n\r\n                // build scrolltop\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('scrolltop', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subscrolltop click toggle\r\n         * @returns {mscrolltop}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n        },\r\n\r\n        build: function() {\r\n            // handle window scroll\r\n            if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {\r\n                window.addEventListener('touchend', function() {\r\n                    Plugin.handle();\r\n                });\r\n\r\n                window.addEventListener('touchcancel', function() {\r\n                    Plugin.handle();\r\n                });\r\n\r\n                window.addEventListener('touchleave', function() {\r\n                    Plugin.handle();\r\n                });\r\n            } else {\r\n                window.addEventListener('scroll', function() { \r\n                    Plugin.handle();\r\n                });\r\n            }\r\n\r\n            // handle button click \r\n            KTUtil.addEvent(element, 'click', Plugin.scroll);\r\n        },\r\n\r\n        /**\r\n         * Handles scrolltop click scrollTop\r\n         */\r\n        handle: function() {\r\n            var pos = window.pageYOffset; // current vertical position\r\n            if (pos > the.options.offset) {\r\n                KTUtil.addClass(body, the.options.toggleClass);\r\n            } else {\r\n                KTUtil.removeClass(body, the.options.toggleClass);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles scrolltop click scrollTop\r\n         */\r\n        scroll: function(e) {\r\n            e.preventDefault();\r\n\r\n            KTUtil.scrollTop(0, the.options.speed);\r\n        },\r\n\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                       return event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options \r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Get subscrolltop mode\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Set scrolltop content\r\n     * @returns {mscrolltop}\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTScrolltop;\r\n}\r\n\r\nexport default  KTScrolltop;\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { dedent } from \"dentist\";\r\nimport copy from \"clipboard-copy\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\n// https://github.com/conorhastings/react-syntax-highlighter#prism\r\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\r\n// See https://github.com/PrismJS/prism-themes\r\nimport { coy as highlightStyle } from \"react-syntax-highlighter/dist/esm/styles/prism\";\r\nimport {\r\n  Portlet,\r\n  PortletBody,\r\n  PortletHeader,\r\n  PortletHeaderToolbar\r\n} from \"./Portlet\";\r\n\r\nexport function CodeBlock({ code, language, disableCopy }) {\r\n  const [isCopySucceed, setIsCopySucceed] = useState(false);\r\n  const children = useMemo(() => dedent(code), [code]);\r\n\r\n  return (\r\n    <div className=\"kt-portlet__code\">\r\n      {!disableCopy && (\r\n        <Tooltip\r\n          title=\"Copied\"\r\n          placement=\"left\"\r\n          open={isCopySucceed}\r\n          onClose={() => {\r\n            setIsCopySucceed(false);\r\n          }}\r\n        >\r\n          <a\r\n            href=\"#\"\r\n            className=\"kt-portlet__code-copy\"\r\n            onClick={() =>\r\n              copy(code).then(() => {\r\n                setIsCopySucceed(true);\r\n              })\r\n            }\r\n          >\r\n            <i className=\"la la-copy\" />\r\n          </a>\r\n        </Tooltip>\r\n      )}\r\n\r\n      <SyntaxHighlighter language={language} style={highlightStyle}>\r\n        {children}\r\n      </SyntaxHighlighter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function CodeExample({ jsCode, children, beforeCodeTitle }) {\r\n  const [isCodeVisible, setIsCodeVisible] = useState(false);\r\n\r\n  return (\r\n    <Portlet>\r\n      <PortletHeader\r\n        title={beforeCodeTitle}\r\n        toolbar={\r\n          jsCode && (\r\n            <PortletHeaderToolbar>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setIsCodeVisible(wasVisible => !wasVisible)}\r\n                className=\"btn btn-clean btn-sm btn-icon btn-icon-md ng-star-inserted\"\r\n              >\r\n                <i className=\"la la-code\" />\r\n              </button>\r\n            </PortletHeaderToolbar>\r\n          )\r\n        }\r\n      />\r\n\r\n      <PortletBody>\r\n        {jsCode && isCodeVisible && (\r\n          <CodeBlock language=\"javascript\" code={jsCode} />\r\n        )}\r\n\r\n        {children && <div className=\"kt-portlet__preview\">{children}</div>}\r\n      </PortletBody>\r\n    </Portlet>\r\n  );\r\n}\r\n"],"sourceRoot":""}